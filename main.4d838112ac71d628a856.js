(self.webpackChunkfront_end_battle=self.webpackChunkfront_end_battle||[]).push([[179],{8255:ln=>{function ut(P){return Promise.resolve().then(()=>{var y=new Error("Cannot find module '"+P+"'");throw y.code="MODULE_NOT_FOUND",y})}ut.keys=()=>[],ut.resolve=ut,ut.id=8255,ln.exports=ut},7238:(ln,ut,P)=>{"use strict";P.d(ut,{l3:()=>D,_j:()=>y,LC:()=>_,ZN:()=>ze,jt:()=>_e,vP:()=>me,SB:()=>ae,oB:()=>ie,eR:()=>se,X$:()=>C,ZE:()=>Ut,k1:()=>Qt});class y{}class _{}const D="*";function C(gt,Ge){return{type:7,name:gt,definitions:Ge,options:{}}}function _e(gt,Ge=null){return{type:4,styles:Ge,timings:gt}}function me(gt,Ge=null){return{type:2,steps:gt,options:Ge}}function ie(gt){return{type:6,styles:gt,offset:null}}function ae(gt,Ge,at){return{type:0,name:gt,styles:Ge,options:at}}function se(gt,Ge,at=null){return{type:1,expr:gt,animation:Ge,options:at}}function Se(gt){Promise.resolve(null).then(gt)}class ze{constructor(Ge=0,at=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Ge+at}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Ge=>Ge()),this._onDoneFns=[])}onStart(Ge){this._onStartFns.push(Ge)}onDone(Ge){this._onDoneFns.push(Ge)}onDestroy(Ge){this._onDestroyFns.push(Ge)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Se(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Ge=>Ge()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Ge=>Ge()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(Ge){this._position=this.totalTime?Ge*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Ge){const at="start"==Ge?this._onStartFns:this._onDoneFns;at.forEach(nt=>nt()),at.length=0}}class Ut{constructor(Ge){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Ge;let at=0,nt=0,et=0;const Ze=this.players.length;0==Ze?Se(()=>this._onFinish()):this.players.forEach(ve=>{ve.onDone(()=>{++at==Ze&&this._onFinish()}),ve.onDestroy(()=>{++nt==Ze&&this._onDestroy()}),ve.onStart(()=>{++et==Ze&&this._onStart()})}),this.totalTime=this.players.reduce((ve,De)=>Math.max(ve,De.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Ge=>Ge()),this._onDoneFns=[])}init(){this.players.forEach(Ge=>Ge.init())}onStart(Ge){this._onStartFns.push(Ge)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Ge=>Ge()),this._onStartFns=[])}onDone(Ge){this._onDoneFns.push(Ge)}onDestroy(Ge){this._onDestroyFns.push(Ge)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Ge=>Ge.play())}pause(){this.players.forEach(Ge=>Ge.pause())}restart(){this.players.forEach(Ge=>Ge.restart())}finish(){this._onFinish(),this.players.forEach(Ge=>Ge.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Ge=>Ge.destroy()),this._onDestroyFns.forEach(Ge=>Ge()),this._onDestroyFns=[])}reset(){this.players.forEach(Ge=>Ge.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Ge){const at=Ge*this.totalTime;this.players.forEach(nt=>{const et=nt.totalTime?Math.min(1,at/nt.totalTime):1;nt.setPosition(et)})}getPosition(){const Ge=this.players.reduce((at,nt)=>null===at||nt.totalTime>at.totalTime?nt:at,null);return null!=Ge?Ge.getPosition():0}beforeDestroy(){this.players.forEach(Ge=>{Ge.beforeDestroy&&Ge.beforeDestroy()})}triggerCallback(Ge){const at="start"==Ge?this._onStartFns:this._onDoneFns;at.forEach(nt=>nt()),at.length=0}}const Qt="!"},9238:(ln,ut,P)=>{"use strict";P.d(ut,{Em:()=>pn,tE:()=>wt,qV:()=>Rn,qm:()=>Pe,Kd:()=>We,X6:()=>N,yG:()=>B});var y=P(8583),_=P(7716),D=P(9765),C=P(5319),_e=P(6215),ee=P(5917),me=P(6461),ie=P(3342),ae=P(4395),G=P(5435),se=P(8002),oe=P(5257),fe=P(3653),Ce=P(7519),Re=P(6782),Ne=P(9490),Se=P(521);P(8553);class pn extends class{constructor(qe){this._items=qe,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new D.xQ,this._typeaheadSubscription=C.w.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=Ve=>Ve.disabled,this._pressedLetters=[],this.tabOut=new D.xQ,this.change=new D.xQ,qe instanceof _.n_E&&qe.changes.subscribe(Ve=>{if(this._activeItem){const Wt=Ve.toArray().indexOf(this._activeItem);Wt>-1&&Wt!==this._activeItemIndex&&(this._activeItemIndex=Wt)}})}skipPredicate(qe){return this._skipPredicateFn=qe,this}withWrap(qe=!0){return this._wrap=qe,this}withVerticalOrientation(qe=!0){return this._vertical=qe,this}withHorizontalOrientation(qe){return this._horizontal=qe,this}withAllowedModifierKeys(qe){return this._allowedModifierKeys=qe,this}withTypeAhead(qe=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,ie.b)(Ve=>this._pressedLetters.push(Ve)),(0,ae.b)(qe),(0,G.h)(()=>this._pressedLetters.length>0),(0,se.U)(()=>this._pressedLetters.join(""))).subscribe(Ve=>{const Ct=this._getItemsArray();for(let Wt=1;Wt<Ct.length+1;Wt++){const Cn=(this._activeItemIndex+Wt)%Ct.length,$n=Ct[Cn];if(!this._skipPredicateFn($n)&&0===$n.getLabel().toUpperCase().trim().indexOf(Ve)){this.setActiveItem(Cn);break}}this._pressedLetters=[]}),this}withHomeAndEnd(qe=!0){return this._homeAndEnd=qe,this}setActiveItem(qe){const Ve=this._activeItem;this.updateActiveItem(qe),this._activeItem!==Ve&&this.change.next(this._activeItemIndex)}onKeydown(qe){const Ve=qe.keyCode,Wt=["altKey","ctrlKey","metaKey","shiftKey"].every(Cn=>!qe[Cn]||this._allowedModifierKeys.indexOf(Cn)>-1);switch(Ve){case me.Mf:return void this.tabOut.next();case me.JH:if(this._vertical&&Wt){this.setNextItemActive();break}return;case me.LH:if(this._vertical&&Wt){this.setPreviousItemActive();break}return;case me.SV:if(this._horizontal&&Wt){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case me.oh:if(this._horizontal&&Wt){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case me.Sd:if(this._homeAndEnd&&Wt){this.setFirstItemActive();break}return;case me.uR:if(this._homeAndEnd&&Wt){this.setLastItemActive();break}return;default:return void((Wt||(0,me.Vb)(qe,"shiftKey"))&&(qe.key&&1===qe.key.length?this._letterKeyStream.next(qe.key.toLocaleUpperCase()):(Ve>=me.A&&Ve<=me.Z||Ve>=me.xE&&Ve<=me.aO)&&this._letterKeyStream.next(String.fromCharCode(Ve))))}this._pressedLetters=[],qe.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(qe){const Ve=this._getItemsArray(),Ct="number"==typeof qe?qe:Ve.indexOf(qe),Wt=Ve[Ct];this._activeItem=null==Wt?null:Wt,this._activeItemIndex=Ct}_setActiveItemByDelta(qe){this._wrap?this._setActiveInWrapMode(qe):this._setActiveInDefaultMode(qe)}_setActiveInWrapMode(qe){const Ve=this._getItemsArray();for(let Ct=1;Ct<=Ve.length;Ct++){const Wt=(this._activeItemIndex+qe*Ct+Ve.length)%Ve.length;if(!this._skipPredicateFn(Ve[Wt]))return void this.setActiveItem(Wt)}}_setActiveInDefaultMode(qe){this._setActiveItemByIndex(this._activeItemIndex+qe,qe)}_setActiveItemByIndex(qe,Ve){const Ct=this._getItemsArray();if(Ct[qe]){for(;this._skipPredicateFn(Ct[qe]);)if(!Ct[qe+=Ve])return;this.setActiveItem(qe)}}_getItemsArray(){return this._items instanceof _.n_E?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(qe){return this._origin=qe,this}setActiveItem(qe){super.setActiveItem(qe),this.activeItem&&this.activeItem.focus(this._origin)}}let wn=(()=>{class Ke{constructor(Ve){this._platform=Ve}isDisabled(Ve){return Ve.hasAttribute("disabled")}isVisible(Ve){return function(Ke){return!!(Ke.offsetWidth||Ke.offsetHeight||"function"==typeof Ke.getClientRects&&Ke.getClientRects().length)}(Ve)&&"visible"===getComputedStyle(Ve).visibility}isTabbable(Ve){if(!this._platform.isBrowser)return!1;const Ct=function(Ke){try{return Ke.frameElement}catch(qe){return null}}(function(Ke){return Ke.ownerDocument&&Ke.ownerDocument.defaultView||window}(Ve));if(Ct&&(-1===Pt(Ct)||!this.isVisible(Ct)))return!1;let Wt=Ve.nodeName.toLowerCase(),Cn=Pt(Ve);return Ve.hasAttribute("contenteditable")?-1!==Cn:!("iframe"===Wt||"object"===Wt||this._platform.WEBKIT&&this._platform.IOS&&!function(Ke){let qe=Ke.nodeName.toLowerCase(),Ve="input"===qe&&Ke.type;return"text"===Ve||"password"===Ve||"select"===qe||"textarea"===qe}(Ve))&&("audio"===Wt?!!Ve.hasAttribute("controls")&&-1!==Cn:"video"===Wt?-1!==Cn&&(null!==Cn||this._platform.FIREFOX||Ve.hasAttribute("controls")):Ve.tabIndex>=0)}isFocusable(Ve,Ct){return function(Ke){return!function(Ke){return function(Ke){return"input"==Ke.nodeName.toLowerCase()}(Ke)&&"hidden"==Ke.type}(Ke)&&(function(Ke){let qe=Ke.nodeName.toLowerCase();return"input"===qe||"select"===qe||"button"===qe||"textarea"===qe}(Ke)||function(Ke){return function(Ke){return"a"==Ke.nodeName.toLowerCase()}(Ke)&&Ke.hasAttribute("href")}(Ke)||Ke.hasAttribute("contenteditable")||qt(Ke))}(Ve)&&!this.isDisabled(Ve)&&((null==Ct?void 0:Ct.ignoreVisibility)||this.isVisible(Ve))}}return Ke.\u0275fac=function(Ve){return new(Ve||Ke)(_.LFG(Se.t4))},Ke.\u0275prov=_.Yz7({factory:function(){return new Ke(_.LFG(Se.t4))},token:Ke,providedIn:"root"}),Ke})();function qt(Ke){if(!Ke.hasAttribute("tabindex")||void 0===Ke.tabIndex)return!1;let qe=Ke.getAttribute("tabindex");return"-32768"!=qe&&!(!qe||isNaN(parseInt(qe,10)))}function Pt(Ke){if(!qt(Ke))return null;const qe=parseInt(Ke.getAttribute("tabindex")||"",10);return isNaN(qe)?-1:qe}class Jn{constructor(qe,Ve,Ct,Wt,Cn=!1){this._element=qe,this._checker=Ve,this._ngZone=Ct,this._document=Wt,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,Cn||this.attachAnchors()}get enabled(){return this._enabled}set enabled(qe){this._enabled=qe,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(qe,this._startAnchor),this._toggleAnchorTabIndex(qe,this._endAnchor))}destroy(){const qe=this._startAnchor,Ve=this._endAnchor;qe&&(qe.removeEventListener("focus",this.startAnchorListener),qe.parentNode&&qe.parentNode.removeChild(qe)),Ve&&(Ve.removeEventListener("focus",this.endAnchorListener),Ve.parentNode&&Ve.parentNode.removeChild(Ve)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(qe){return new Promise(Ve=>{this._executeOnStable(()=>Ve(this.focusInitialElement(qe)))})}focusFirstTabbableElementWhenReady(qe){return new Promise(Ve=>{this._executeOnStable(()=>Ve(this.focusFirstTabbableElement(qe)))})}focusLastTabbableElementWhenReady(qe){return new Promise(Ve=>{this._executeOnStable(()=>Ve(this.focusLastTabbableElement(qe)))})}_getRegionBoundary(qe){let Ve=this._element.querySelectorAll(`[cdk-focus-region-${qe}], [cdkFocusRegion${qe}], [cdk-focus-${qe}]`);for(let Ct=0;Ct<Ve.length;Ct++)Ve[Ct].hasAttribute(`cdk-focus-${qe}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${qe}', use 'cdkFocusRegion${qe}' instead. The deprecated attribute will be removed in 8.0.0.`,Ve[Ct]):Ve[Ct].hasAttribute(`cdk-focus-region-${qe}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${qe}', use 'cdkFocusRegion${qe}' instead. The deprecated attribute will be removed in 8.0.0.`,Ve[Ct]);return"start"==qe?Ve.length?Ve[0]:this._getFirstTabbableElement(this._element):Ve.length?Ve[Ve.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(qe){const Ve=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(Ve){if(Ve.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",Ve),!this._checker.isFocusable(Ve)){const Ct=this._getFirstTabbableElement(Ve);return null==Ct||Ct.focus(qe),!!Ct}return Ve.focus(qe),!0}return this.focusFirstTabbableElement(qe)}focusFirstTabbableElement(qe){const Ve=this._getRegionBoundary("start");return Ve&&Ve.focus(qe),!!Ve}focusLastTabbableElement(qe){const Ve=this._getRegionBoundary("end");return Ve&&Ve.focus(qe),!!Ve}hasAttached(){return this._hasAttached}_getFirstTabbableElement(qe){if(this._checker.isFocusable(qe)&&this._checker.isTabbable(qe))return qe;let Ve=qe.children||qe.childNodes;for(let Ct=0;Ct<Ve.length;Ct++){let Wt=Ve[Ct].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(Ve[Ct]):null;if(Wt)return Wt}return null}_getLastTabbableElement(qe){if(this._checker.isFocusable(qe)&&this._checker.isTabbable(qe))return qe;let Ve=qe.children||qe.childNodes;for(let Ct=Ve.length-1;Ct>=0;Ct--){let Wt=Ve[Ct].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(Ve[Ct]):null;if(Wt)return Wt}return null}_createAnchor(){const qe=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,qe),qe.classList.add("cdk-visually-hidden"),qe.classList.add("cdk-focus-trap-anchor"),qe.setAttribute("aria-hidden","true"),qe}_toggleAnchorTabIndex(qe,Ve){qe?Ve.setAttribute("tabindex","0"):Ve.removeAttribute("tabindex")}toggleAnchors(qe){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(qe,this._startAnchor),this._toggleAnchorTabIndex(qe,this._endAnchor))}_executeOnStable(qe){this._ngZone.isStable?qe():this._ngZone.onStable.pipe((0,oe.q)(1)).subscribe(qe)}}let Rn=(()=>{class Ke{constructor(Ve,Ct,Wt){this._checker=Ve,this._ngZone=Ct,this._document=Wt}create(Ve,Ct=!1){return new Jn(Ve,this._checker,this._ngZone,this._document,Ct)}}return Ke.\u0275fac=function(Ve){return new(Ve||Ke)(_.LFG(wn),_.LFG(_.R0b),_.LFG(y.K0))},Ke.\u0275prov=_.Yz7({factory:function(){return new Ke(_.LFG(wn),_.LFG(_.R0b),_.LFG(y.K0))},token:Ke,providedIn:"root"}),Ke})();function N(Ke){return 0===Ke.offsetX&&0===Ke.offsetY}function B(Ke){const qe=Ke.touches&&Ke.touches[0]||Ke.changedTouches&&Ke.changedTouches[0];return!(!qe||-1!==qe.identifier||null!=qe.radiusX&&1!==qe.radiusX||null!=qe.radiusY&&1!==qe.radiusY)}"undefined"!=typeof Element&&Element;const ne=new _.OlP("cdk-input-modality-detector-options"),we={ignoreKeys:[me.zL,me.jx,me.b2,me.MW,me.JU]},mt=(0,Se.i$)({passive:!0,capture:!0});let mn=(()=>{class Ke{constructor(Ve,Ct,Wt,Cn){this._platform=Ve,this._mostRecentTarget=null,this._modality=new _e.X(null),this._lastTouchMs=0,this._onKeydown=$n=>{var _r,Lr;(null===(Lr=null===(_r=this._options)||void 0===_r?void 0:_r.ignoreKeys)||void 0===Lr?void 0:Lr.some(hr=>hr===$n.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=(0,Se.sA)($n))},this._onMousedown=$n=>{Date.now()-this._lastTouchMs<650||(this._modality.next(N($n)?"keyboard":"mouse"),this._mostRecentTarget=(0,Se.sA)($n))},this._onTouchstart=$n=>{B($n)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,Se.sA)($n))},this._options=Object.assign(Object.assign({},we),Cn),this.modalityDetected=this._modality.pipe((0,fe.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,Ce.x)()),Ve.isBrowser&&Ct.runOutsideAngular(()=>{Wt.addEventListener("keydown",this._onKeydown,mt),Wt.addEventListener("mousedown",this._onMousedown,mt),Wt.addEventListener("touchstart",this._onTouchstart,mt)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){!this._platform.isBrowser||(document.removeEventListener("keydown",this._onKeydown,mt),document.removeEventListener("mousedown",this._onMousedown,mt),document.removeEventListener("touchstart",this._onTouchstart,mt))}}return Ke.\u0275fac=function(Ve){return new(Ve||Ke)(_.LFG(Se.t4),_.LFG(_.R0b),_.LFG(y.K0),_.LFG(ne,8))},Ke.\u0275prov=_.Yz7({factory:function(){return new Ke(_.LFG(Se.t4),_.LFG(_.R0b),_.LFG(y.K0),_.LFG(ne,8))},token:Ke,providedIn:"root"}),Ke})();const Nn=new _.OlP("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),Qe=new _.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let We=(()=>{class Ke{constructor(Ve,Ct,Wt,Cn){this._ngZone=Ct,this._defaultOptions=Cn,this._document=Wt,this._liveElement=Ve||this._createLiveElement()}announce(Ve,...Ct){const Wt=this._defaultOptions;let Cn,$n;return 1===Ct.length&&"number"==typeof Ct[0]?$n=Ct[0]:[Cn,$n]=Ct,this.clear(),clearTimeout(this._previousTimeout),Cn||(Cn=Wt&&Wt.politeness?Wt.politeness:"polite"),null==$n&&Wt&&($n=Wt.duration),this._liveElement.setAttribute("aria-live",Cn),this._ngZone.runOutsideAngular(()=>new Promise(_r=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=Ve,_r(),"number"==typeof $n&&(this._previousTimeout=setTimeout(()=>this.clear(),$n))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}_createLiveElement(){const Ve="cdk-live-announcer-element",Ct=this._document.getElementsByClassName(Ve),Wt=this._document.createElement("div");for(let Cn=0;Cn<Ct.length;Cn++)Ct[Cn].parentNode.removeChild(Ct[Cn]);return Wt.classList.add(Ve),Wt.classList.add("cdk-visually-hidden"),Wt.setAttribute("aria-atomic","true"),Wt.setAttribute("aria-live","polite"),this._document.body.appendChild(Wt),Wt}}return Ke.\u0275fac=function(Ve){return new(Ve||Ke)(_.LFG(Nn,8),_.LFG(_.R0b),_.LFG(y.K0),_.LFG(Qe,8))},Ke.\u0275prov=_.Yz7({factory:function(){return new Ke(_.LFG(Nn,8),_.LFG(_.R0b),_.LFG(y.K0),_.LFG(Qe,8))},token:Ke,providedIn:"root"}),Ke})();const It=new _.OlP("cdk-focus-monitor-default-options"),Te=(0,Se.i$)({passive:!0,capture:!0});let wt=(()=>{class Ke{constructor(Ve,Ct,Wt,Cn,$n){this._ngZone=Ve,this._platform=Ct,this._inputModalityDetector=Wt,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new D.xQ,this._rootNodeFocusAndBlurListener=_r=>{const Lr=(0,Se.sA)(_r),hr="focus"===_r.type?this._onFocus:this._onBlur;for(let Hr=Lr;Hr;Hr=Hr.parentElement)hr.call(this,_r,Hr)},this._document=Cn,this._detectionMode=(null==$n?void 0:$n.detectionMode)||0}monitor(Ve,Ct=!1){const Wt=(0,Ne.fI)(Ve);if(!this._platform.isBrowser||1!==Wt.nodeType)return(0,ee.of)(null);const Cn=(0,Se.kV)(Wt)||this._getDocument(),$n=this._elementInfo.get(Wt);if($n)return Ct&&($n.checkChildren=!0),$n.subject;const _r={checkChildren:Ct,subject:new D.xQ,rootNode:Cn};return this._elementInfo.set(Wt,_r),this._registerGlobalListeners(_r),_r.subject}stopMonitoring(Ve){const Ct=(0,Ne.fI)(Ve),Wt=this._elementInfo.get(Ct);Wt&&(Wt.subject.complete(),this._setClasses(Ct),this._elementInfo.delete(Ct),this._removeGlobalListeners(Wt))}focusVia(Ve,Ct,Wt){const Cn=(0,Ne.fI)(Ve);Cn===this._getDocument().activeElement?this._getClosestElementsInfo(Cn).forEach(([_r,Lr])=>this._originChanged(_r,Ct,Lr)):(this._setOrigin(Ct),"function"==typeof Cn.focus&&Cn.focus(Wt))}ngOnDestroy(){this._elementInfo.forEach((Ve,Ct)=>this.stopMonitoring(Ct))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(Ve,Ct,Wt){Wt?Ve.classList.add(Ct):Ve.classList.remove(Ct)}_getFocusOrigin(Ve){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(Ve)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(Ve){return 1===this._detectionMode||!!(null==Ve?void 0:Ve.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(Ve,Ct){this._toggleClass(Ve,"cdk-focused",!!Ct),this._toggleClass(Ve,"cdk-touch-focused","touch"===Ct),this._toggleClass(Ve,"cdk-keyboard-focused","keyboard"===Ct),this._toggleClass(Ve,"cdk-mouse-focused","mouse"===Ct),this._toggleClass(Ve,"cdk-program-focused","program"===Ct)}_setOrigin(Ve,Ct=!1){this._ngZone.runOutsideAngular(()=>{this._origin=Ve,this._originFromTouchInteraction="touch"===Ve&&Ct,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(Ve,Ct){const Wt=this._elementInfo.get(Ct),Cn=(0,Se.sA)(Ve);!Wt||!Wt.checkChildren&&Ct!==Cn||this._originChanged(Ct,this._getFocusOrigin(Cn),Wt)}_onBlur(Ve,Ct){const Wt=this._elementInfo.get(Ct);!Wt||Wt.checkChildren&&Ve.relatedTarget instanceof Node&&Ct.contains(Ve.relatedTarget)||(this._setClasses(Ct),this._emitOrigin(Wt.subject,null))}_emitOrigin(Ve,Ct){this._ngZone.run(()=>Ve.next(Ct))}_registerGlobalListeners(Ve){if(!this._platform.isBrowser)return;const Ct=Ve.rootNode,Wt=this._rootNodeFocusListenerCount.get(Ct)||0;Wt||this._ngZone.runOutsideAngular(()=>{Ct.addEventListener("focus",this._rootNodeFocusAndBlurListener,Te),Ct.addEventListener("blur",this._rootNodeFocusAndBlurListener,Te)}),this._rootNodeFocusListenerCount.set(Ct,Wt+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,Re.R)(this._stopInputModalityDetector)).subscribe(Cn=>{this._setOrigin(Cn,!0)}))}_removeGlobalListeners(Ve){const Ct=Ve.rootNode;if(this._rootNodeFocusListenerCount.has(Ct)){const Wt=this._rootNodeFocusListenerCount.get(Ct);Wt>1?this._rootNodeFocusListenerCount.set(Ct,Wt-1):(Ct.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Te),Ct.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Te),this._rootNodeFocusListenerCount.delete(Ct))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(Ve,Ct,Wt){this._setClasses(Ve,Ct),this._emitOrigin(Wt.subject,Ct),this._lastFocusOrigin=Ct}_getClosestElementsInfo(Ve){const Ct=[];return this._elementInfo.forEach((Wt,Cn)=>{(Cn===Ve||Wt.checkChildren&&Cn.contains(Ve))&&Ct.push([Cn,Wt])}),Ct}}return Ke.\u0275fac=function(Ve){return new(Ve||Ke)(_.LFG(_.R0b),_.LFG(Se.t4),_.LFG(mn),_.LFG(y.K0,8),_.LFG(It,8))},Ke.\u0275prov=_.Yz7({factory:function(){return new Ke(_.LFG(_.R0b),_.LFG(Se.t4),_.LFG(mn),_.LFG(y.K0,8),_.LFG(It,8))},token:Ke,providedIn:"root"}),Ke})();const zt="cdk-high-contrast-black-on-white",je="cdk-high-contrast-white-on-black",Xe="cdk-high-contrast-active";let Pe=(()=>{class Ke{constructor(Ve,Ct){this._platform=Ve,this._document=Ct}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const Ve=this._document.createElement("div");Ve.style.backgroundColor="rgb(1,2,3)",Ve.style.position="absolute",this._document.body.appendChild(Ve);const Ct=this._document.defaultView||window,Wt=Ct&&Ct.getComputedStyle?Ct.getComputedStyle(Ve):null,Cn=(Wt&&Wt.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(Ve),Cn){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const Ve=this._document.body.classList;Ve.remove(Xe),Ve.remove(zt),Ve.remove(je),this._hasCheckedHighContrastMode=!0;const Ct=this.getHighContrastMode();1===Ct?(Ve.add(Xe),Ve.add(zt)):2===Ct&&(Ve.add(Xe),Ve.add(je))}}}return Ke.\u0275fac=function(Ve){return new(Ve||Ke)(_.LFG(Se.t4),_.LFG(y.K0))},Ke.\u0275prov=_.Yz7({factory:function(){return new Ke(_.LFG(Se.t4),_.LFG(y.K0))},token:Ke,providedIn:"root"}),Ke})()},946:(ln,ut,P)=>{"use strict";P.d(ut,{vT:()=>me,Is:()=>_e});var y=P(7716),_=P(8583);const D=new y.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,y.f3M)(_.K0)}});let _e=(()=>{class ie{constructor(G){if(this.value="ltr",this.change=new y.vpe,G){const oe=G.documentElement?G.documentElement.dir:null,fe=(G.body?G.body.dir:null)||oe;this.value="ltr"===fe||"rtl"===fe?fe:"ltr"}}ngOnDestroy(){this.change.complete()}}return ie.\u0275fac=function(G){return new(G||ie)(y.LFG(D,8))},ie.\u0275prov=y.Yz7({factory:function(){return new ie(y.LFG(D,8))},token:ie,providedIn:"root"}),ie})(),me=(()=>{class ie{}return ie.\u0275fac=function(G){return new(G||ie)},ie.\u0275mod=y.oAB({type:ie}),ie.\u0275inj=y.cJS({}),ie})()},6461:(ln,ut,P)=>{"use strict";P.d(ut,{A:()=>Xt,zL:()=>ie,jx:()=>me,JH:()=>Qt,uR:()=>Re,K5:()=>_e,hY:()=>se,Sd:()=>Ne,oh:()=>Se,b2:()=>On,MW:()=>Ye,aO:()=>pn,SV:()=>Ut,JU:()=>ee,L_:()=>oe,Mf:()=>D,LH:()=>ze,Z:()=>we,xE:()=>et,Vb:()=>Sn});const D=9,_e=13,ee=16,me=17,ie=18,se=27,oe=32,Re=35,Ne=36,Se=37,ze=38,Ut=39,Qt=40,et=48,pn=57,Xt=65,we=90,Ye=91,On=224;function Sn(or,...wr){return wr.length?wr.some(li=>or[li]):or.altKey||or.shiftKey||or.ctrlKey||or.metaKey}},8553:(ln,ut,P)=>{"use strict";P.d(ut,{wD:()=>ie,yq:()=>me,Q8:()=>ae});var y=P(9490),_=P(7716),D=P(8891),C=P(9765),_e=P(4395);let ee=(()=>{class G{create(oe){return"undefined"==typeof MutationObserver?null:new MutationObserver(oe)}}return G.\u0275fac=function(oe){return new(oe||G)},G.\u0275prov=_.Yz7({factory:function(){return new G},token:G,providedIn:"root"}),G})(),me=(()=>{class G{constructor(oe){this._mutationObserverFactory=oe,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((oe,fe)=>this._cleanupObserver(fe))}observe(oe){const fe=(0,y.fI)(oe);return new D.y(Ce=>{const Ne=this._observeElement(fe).subscribe(Ce);return()=>{Ne.unsubscribe(),this._unobserveElement(fe)}})}_observeElement(oe){if(this._observedElements.has(oe))this._observedElements.get(oe).count++;else{const fe=new C.xQ,Ce=this._mutationObserverFactory.create(Re=>fe.next(Re));Ce&&Ce.observe(oe,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(oe,{observer:Ce,stream:fe,count:1})}return this._observedElements.get(oe).stream}_unobserveElement(oe){this._observedElements.has(oe)&&(this._observedElements.get(oe).count--,this._observedElements.get(oe).count||this._cleanupObserver(oe))}_cleanupObserver(oe){if(this._observedElements.has(oe)){const{observer:fe,stream:Ce}=this._observedElements.get(oe);fe&&fe.disconnect(),Ce.complete(),this._observedElements.delete(oe)}}}return G.\u0275fac=function(oe){return new(oe||G)(_.LFG(ee))},G.\u0275prov=_.Yz7({factory:function(){return new G(_.LFG(ee))},token:G,providedIn:"root"}),G})(),ie=(()=>{class G{constructor(oe,fe,Ce){this._contentObserver=oe,this._elementRef=fe,this._ngZone=Ce,this.event=new _.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(oe){this._disabled=(0,y.Ig)(oe),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(oe){this._debounce=(0,y.su)(oe),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const oe=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?oe.pipe((0,_e.b)(this.debounce)):oe).subscribe(this.event)})}_unsubscribe(){var oe;null===(oe=this._currentSubscription)||void 0===oe||oe.unsubscribe()}}return G.\u0275fac=function(oe){return new(oe||G)(_.Y36(me),_.Y36(_.SBq),_.Y36(_.R0b))},G.\u0275dir=_.lG2({type:G,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),G})(),ae=(()=>{class G{}return G.\u0275fac=function(oe){return new(oe||G)},G.\u0275mod=_.oAB({type:G}),G.\u0275inj=_.cJS({providers:[ee]}),G})()},625:(ln,ut,P)=>{"use strict";P.d(ut,{aV:()=>Un,X_:()=>ve,Xj:()=>jt,U8:()=>Ae});var y=P(5572),_=P(7716),D=P(521),C=P(946),_e=P(8583),ee=P(9490),me=P(7636),ie=P(9765),ae=P(5319),G=P(6682);P(7393);var Re=P(5257),Ne=P(6782);P(6461);const ze=(0,D.Mq)();class Ut{constructor(N,B){this._viewportRuler=N,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=B}attach(){}enable(){if(this._canBeEnabled()){const N=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=N.style.left||"",this._previousHTMLStyles.top=N.style.top||"",N.style.left=(0,ee.HM)(-this._previousScrollPosition.left),N.style.top=(0,ee.HM)(-this._previousScrollPosition.top),N.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const N=this._document.documentElement,ne=N.style,we=this._document.body.style,Ye=ne.scrollBehavior||"",mt=we.scrollBehavior||"";this._isEnabled=!1,ne.left=this._previousHTMLStyles.left,ne.top=this._previousHTMLStyles.top,N.classList.remove("cdk-global-scrollblock"),ze&&(ne.scrollBehavior=we.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),ze&&(ne.scrollBehavior=Ye,we.scrollBehavior=mt)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const B=this._document.body,ne=this._viewportRuler.getViewportSize();return B.scrollHeight>ne.height||B.scrollWidth>ne.width}}class gt{constructor(N,B,ne,we){this._scrollDispatcher=N,this._ngZone=B,this._viewportRuler=ne,this._config=we,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(N){this._overlayRef=N}enable(){if(this._scrollSubscription)return;const N=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=N.subscribe(()=>{const B=this._viewportRuler.getViewportScrollPosition().top;Math.abs(B-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=N.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Ge{enable(){}disable(){}attach(){}}function at(H,N){return N.some(B=>H.bottom<B.top||H.top>B.bottom||H.right<B.left||H.left>B.right)}function nt(H,N){return N.some(B=>H.top<B.top||H.bottom>B.bottom||H.left<B.left||H.right>B.right)}class et{constructor(N,B,ne,we){this._scrollDispatcher=N,this._viewportRuler=B,this._ngZone=ne,this._config=we,this._scrollSubscription=null}attach(N){this._overlayRef=N}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const B=this._overlayRef.overlayElement.getBoundingClientRect(),{width:ne,height:we}=this._viewportRuler.getViewportSize();at(B,[{width:ne,height:we,bottom:we,right:ne,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Ze=(()=>{class H{constructor(B,ne,we,Ye){this._scrollDispatcher=B,this._viewportRuler=ne,this._ngZone=we,this.noop=()=>new Ge,this.close=mt=>new gt(this._scrollDispatcher,this._ngZone,this._viewportRuler,mt),this.block=()=>new Ut(this._viewportRuler,this._document),this.reposition=mt=>new et(this._scrollDispatcher,this._viewportRuler,this._ngZone,mt),this._document=Ye}}return H.\u0275fac=function(B){return new(B||H)(_.LFG(y.mF),_.LFG(y.rL),_.LFG(_.R0b),_.LFG(_e.K0))},H.\u0275prov=_.Yz7({factory:function(){return new H(_.LFG(y.mF),_.LFG(y.rL),_.LFG(_.R0b),_.LFG(_e.K0))},token:H,providedIn:"root"}),H})();class ve{constructor(N){if(this.scrollStrategy=new Ge,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,N){const B=Object.keys(N);for(const ne of B)void 0!==N[ne]&&(this[ne]=N[ne])}}}class De{constructor(N,B,ne,we,Ye){this.offsetX=ne,this.offsetY=we,this.panelClass=Ye,this.originX=N.originX,this.originY=N.originY,this.overlayX=B.overlayX,this.overlayY=B.overlayY}}class pt{constructor(N,B){this.connectionPair=N,this.scrollableViewProperties=B}}let gn=(()=>{class H{constructor(B){this._attachedOverlays=[],this._document=B}ngOnDestroy(){this.detach()}add(B){this.remove(B),this._attachedOverlays.push(B)}remove(B){const ne=this._attachedOverlays.indexOf(B);ne>-1&&this._attachedOverlays.splice(ne,1),0===this._attachedOverlays.length&&this.detach()}}return H.\u0275fac=function(B){return new(B||H)(_.LFG(_e.K0))},H.\u0275prov=_.Yz7({factory:function(){return new H(_.LFG(_e.K0))},token:H,providedIn:"root"}),H})(),pn=(()=>{class H extends gn{constructor(B){super(B),this._keydownListener=ne=>{const we=this._attachedOverlays;for(let Ye=we.length-1;Ye>-1;Ye--)if(we[Ye]._keydownEvents.observers.length>0){we[Ye]._keydownEvents.next(ne);break}}}add(B){super.add(B),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return H.\u0275fac=function(B){return new(B||H)(_.LFG(_e.K0))},H.\u0275prov=_.Yz7({factory:function(){return new H(_.LFG(_e.K0))},token:H,providedIn:"root"}),H})(),Mn=(()=>{class H extends gn{constructor(B,ne){super(B),this._platform=ne,this._cursorStyleIsSet=!1,this._clickListener=we=>{const Ye=(0,D.sA)(we),mt=this._attachedOverlays.slice();for(let mn=mt.length-1;mn>-1;mn--){const Nn=mt[mn];if(!(Nn._outsidePointerEvents.observers.length<1)&&Nn.hasAttached()){if(Nn.overlayElement.contains(Ye))break;Nn._outsidePointerEvents.next(we)}}}}add(B){if(super.add(B),!this._isAttached){const ne=this._document.body;ne.addEventListener("click",this._clickListener,!0),ne.addEventListener("auxclick",this._clickListener,!0),ne.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=ne.style.cursor,ne.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const B=this._document.body;B.removeEventListener("click",this._clickListener,!0),B.removeEventListener("auxclick",this._clickListener,!0),B.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(B.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return H.\u0275fac=function(B){return new(B||H)(_.LFG(_e.K0),_.LFG(D.t4))},H.\u0275prov=_.Yz7({factory:function(){return new H(_.LFG(_e.K0),_.LFG(D.t4))},token:H,providedIn:"root"}),H})();const wn="undefined"!=typeof window?window:{},cn=void 0!==wn.__karma__&&!!wn.__karma__||void 0!==wn.jasmine&&!!wn.jasmine||void 0!==wn.jest&&!!wn.jest||void 0!==wn.Mocha&&!!wn.Mocha;let jt=(()=>{class H{constructor(B,ne){this._platform=ne,this._document=B}ngOnDestroy(){const B=this._containerElement;B&&B.parentNode&&B.parentNode.removeChild(B)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const B="cdk-overlay-container";if(this._platform.isBrowser||cn){const we=this._document.querySelectorAll(`.${B}[platform="server"], .${B}[platform="test"]`);for(let Ye=0;Ye<we.length;Ye++)we[Ye].parentNode.removeChild(we[Ye])}const ne=this._document.createElement("div");ne.classList.add(B),cn?ne.setAttribute("platform","test"):this._platform.isBrowser||ne.setAttribute("platform","server"),this._document.body.appendChild(ne),this._containerElement=ne}}return H.\u0275fac=function(B){return new(B||H)(_.LFG(_e.K0),_.LFG(D.t4))},H.\u0275prov=_.Yz7({factory:function(){return new H(_.LFG(_e.K0),_.LFG(D.t4))},token:H,providedIn:"root"}),H})();class Xt{constructor(N,B,ne,we,Ye,mt,mn,Nn,yn){this._portalOutlet=N,this._host=B,this._pane=ne,this._config=we,this._ngZone=Ye,this._keyboardDispatcher=mt,this._document=mn,this._location=Nn,this._outsideClickDispatcher=yn,this._backdropElement=null,this._backdropClick=new ie.xQ,this._attachments=new ie.xQ,this._detachments=new ie.xQ,this._locationChanges=ae.w.EMPTY,this._backdropClickHandler=Qe=>this._backdropClick.next(Qe),this._keydownEvents=new ie.xQ,this._outsidePointerEvents=new ie.xQ,we.scrollStrategy&&(this._scrollStrategy=we.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=we.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(N){let B=this._portalOutlet.attach(N);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,Re.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),B}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const N=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),N}dispose(){const N=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,N&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(N){N!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=N,this.hasAttached()&&(N.attach(this),this.updatePosition()))}updateSize(N){this._config=Object.assign(Object.assign({},this._config),N),this._updateElementSize()}setDirection(N){this._config=Object.assign(Object.assign({},this._config),{direction:N}),this._updateElementDirection()}addPanelClass(N){this._pane&&this._toggleClasses(this._pane,N,!0)}removePanelClass(N){this._pane&&this._toggleClasses(this._pane,N,!1)}getDirection(){const N=this._config.direction;return N?"string"==typeof N?N:N.value:"ltr"}updateScrollStrategy(N){N!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=N,this.hasAttached()&&(N.attach(this),N.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const N=this._pane.style;N.width=(0,ee.HM)(this._config.width),N.height=(0,ee.HM)(this._config.height),N.minWidth=(0,ee.HM)(this._config.minWidth),N.minHeight=(0,ee.HM)(this._config.minHeight),N.maxWidth=(0,ee.HM)(this._config.maxWidth),N.maxHeight=(0,ee.HM)(this._config.maxHeight)}_togglePointerEvents(N){this._pane.style.pointerEvents=N?"":"none"}_attachBackdrop(){const N="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(N)})}):this._backdropElement.classList.add(N)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let N=this._backdropElement;if(!N)return;let B,ne=()=>{N&&(N.removeEventListener("click",this._backdropClickHandler),N.removeEventListener("transitionend",ne),N.parentNode&&N.parentNode.removeChild(N)),this._backdropElement==N&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(N,this._config.backdropClass,!1),clearTimeout(B)};N.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{N.addEventListener("transitionend",ne)}),N.style.pointerEvents="none",B=this._ngZone.runOutsideAngular(()=>setTimeout(ne,500))}_toggleClasses(N,B,ne){const we=N.classList;(0,ee.Eq)(B).forEach(Ye=>{Ye&&(ne?we.add(Ye):we.remove(Ye))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const N=this._ngZone.onStable.pipe((0,Ne.R)((0,G.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),N.unsubscribe())})})}_disposeScrollStrategy(){const N=this._scrollStrategy;N&&(N.disable(),N.detach&&N.detach())}}const _t="cdk-overlay-connected-position-bounding-box",At=/([A-Za-z%]+)$/;class Gt{constructor(N,B,ne,we,Ye){this._viewportRuler=B,this._document=ne,this._platform=we,this._overlayContainer=Ye,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new ie.xQ,this._resizeSubscription=ae.w.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(N)}get positions(){return this._preferredPositions}attach(N){this._validatePositions(),N.hostElement.classList.add(_t),this._overlayRef=N,this._boundingBox=N.hostElement,this._pane=N.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const N=this._originRect,B=this._overlayRect,ne=this._viewportRect,we=[];let Ye;for(let mt of this._preferredPositions){let mn=this._getOriginPoint(N,mt),Nn=this._getOverlayPoint(mn,B,mt),yn=this._getOverlayFit(Nn,B,ne,mt);if(yn.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(mt,mn);this._canFitWithFlexibleDimensions(yn,Nn,ne)?we.push({position:mt,origin:mn,overlayRect:B,boundingBoxRect:this._calculateBoundingBoxRect(mn,mt)}):(!Ye||Ye.overlayFit.visibleArea<yn.visibleArea)&&(Ye={overlayFit:yn,overlayPoint:Nn,originPoint:mn,position:mt,overlayRect:B})}if(we.length){let mt=null,mn=-1;for(const Nn of we){const yn=Nn.boundingBoxRect.width*Nn.boundingBoxRect.height*(Nn.position.weight||1);yn>mn&&(mn=yn,mt=Nn)}return this._isPushed=!1,void this._applyPosition(mt.position,mt.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(Ye.position,Ye.originPoint);this._applyPosition(Ye.position,Ye.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Nt(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(_t),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const N=this._lastPosition||this._preferredPositions[0],B=this._getOriginPoint(this._originRect,N);this._applyPosition(N,B)}}withScrollableContainers(N){return this._scrollables=N,this}withPositions(N){return this._preferredPositions=N,-1===N.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(N){return this._viewportMargin=N,this}withFlexibleDimensions(N=!0){return this._hasFlexibleDimensions=N,this}withGrowAfterOpen(N=!0){return this._growAfterOpen=N,this}withPush(N=!0){return this._canPush=N,this}withLockedPosition(N=!0){return this._positionLocked=N,this}setOrigin(N){return this._origin=N,this}withDefaultOffsetX(N){return this._offsetX=N,this}withDefaultOffsetY(N){return this._offsetY=N,this}withTransformOriginOn(N){return this._transformOriginSelector=N,this}_getOriginPoint(N,B){let ne,we;if("center"==B.originX)ne=N.left+N.width/2;else{const Ye=this._isRtl()?N.right:N.left,mt=this._isRtl()?N.left:N.right;ne="start"==B.originX?Ye:mt}return we="center"==B.originY?N.top+N.height/2:"top"==B.originY?N.top:N.bottom,{x:ne,y:we}}_getOverlayPoint(N,B,ne){let we,Ye;return we="center"==ne.overlayX?-B.width/2:"start"===ne.overlayX?this._isRtl()?-B.width:0:this._isRtl()?0:-B.width,Ye="center"==ne.overlayY?-B.height/2:"top"==ne.overlayY?0:-B.height,{x:N.x+we,y:N.y+Ye}}_getOverlayFit(N,B,ne,we){const Ye=Pt(B);let{x:mt,y:mn}=N,Nn=this._getOffset(we,"x"),yn=this._getOffset(we,"y");Nn&&(mt+=Nn),yn&&(mn+=yn);let dt=0-mn,It=mn+Ye.height-ne.height,Te=this._subtractOverflows(Ye.width,0-mt,mt+Ye.width-ne.width),wt=this._subtractOverflows(Ye.height,dt,It),Ot=Te*wt;return{visibleArea:Ot,isCompletelyWithinViewport:Ye.width*Ye.height===Ot,fitsInViewportVertically:wt===Ye.height,fitsInViewportHorizontally:Te==Ye.width}}_canFitWithFlexibleDimensions(N,B,ne){if(this._hasFlexibleDimensions){const we=ne.bottom-B.y,Ye=ne.right-B.x,mt=qt(this._overlayRef.getConfig().minHeight),mn=qt(this._overlayRef.getConfig().minWidth),yn=N.fitsInViewportHorizontally||null!=mn&&mn<=Ye;return(N.fitsInViewportVertically||null!=mt&&mt<=we)&&yn}return!1}_pushOverlayOnScreen(N,B,ne){if(this._previousPushAmount&&this._positionLocked)return{x:N.x+this._previousPushAmount.x,y:N.y+this._previousPushAmount.y};const we=Pt(B),Ye=this._viewportRect,mt=Math.max(N.x+we.width-Ye.width,0),mn=Math.max(N.y+we.height-Ye.height,0),Nn=Math.max(Ye.top-ne.top-N.y,0),yn=Math.max(Ye.left-ne.left-N.x,0);let Qe=0,We=0;return Qe=we.width<=Ye.width?yn||-mt:N.x<this._viewportMargin?Ye.left-ne.left-N.x:0,We=we.height<=Ye.height?Nn||-mn:N.y<this._viewportMargin?Ye.top-ne.top-N.y:0,this._previousPushAmount={x:Qe,y:We},{x:N.x+Qe,y:N.y+We}}_applyPosition(N,B){if(this._setTransformOrigin(N),this._setOverlayElementStyles(B,N),this._setBoundingBoxStyles(B,N),N.panelClass&&this._addPanelClasses(N.panelClass),this._lastPosition=N,this._positionChanges.observers.length){const ne=this._getScrollVisibility(),we=new pt(N,ne);this._positionChanges.next(we)}this._isInitialRender=!1}_setTransformOrigin(N){if(!this._transformOriginSelector)return;const B=this._boundingBox.querySelectorAll(this._transformOriginSelector);let ne,we=N.overlayY;ne="center"===N.overlayX?"center":this._isRtl()?"start"===N.overlayX?"right":"left":"start"===N.overlayX?"left":"right";for(let Ye=0;Ye<B.length;Ye++)B[Ye].style.transformOrigin=`${ne} ${we}`}_calculateBoundingBoxRect(N,B){const ne=this._viewportRect,we=this._isRtl();let Ye,mt,mn,Qe,We,dt;if("top"===B.overlayY)mt=N.y,Ye=ne.height-mt+this._viewportMargin;else if("bottom"===B.overlayY)mn=ne.height-N.y+2*this._viewportMargin,Ye=ne.height-mn+this._viewportMargin;else{const It=Math.min(ne.bottom-N.y+ne.top,N.y),Te=this._lastBoundingBoxSize.height;Ye=2*It,mt=N.y-It,Ye>Te&&!this._isInitialRender&&!this._growAfterOpen&&(mt=N.y-Te/2)}if("end"===B.overlayX&&!we||"start"===B.overlayX&&we)dt=ne.width-N.x+this._viewportMargin,Qe=N.x-this._viewportMargin;else if("start"===B.overlayX&&!we||"end"===B.overlayX&&we)We=N.x,Qe=ne.right-N.x;else{const It=Math.min(ne.right-N.x+ne.left,N.x),Te=this._lastBoundingBoxSize.width;Qe=2*It,We=N.x-It,Qe>Te&&!this._isInitialRender&&!this._growAfterOpen&&(We=N.x-Te/2)}return{top:mt,left:We,bottom:mn,right:dt,width:Qe,height:Ye}}_setBoundingBoxStyles(N,B){const ne=this._calculateBoundingBoxRect(N,B);!this._isInitialRender&&!this._growAfterOpen&&(ne.height=Math.min(ne.height,this._lastBoundingBoxSize.height),ne.width=Math.min(ne.width,this._lastBoundingBoxSize.width));const we={};if(this._hasExactPosition())we.top=we.left="0",we.bottom=we.right=we.maxHeight=we.maxWidth="",we.width=we.height="100%";else{const Ye=this._overlayRef.getConfig().maxHeight,mt=this._overlayRef.getConfig().maxWidth;we.height=(0,ee.HM)(ne.height),we.top=(0,ee.HM)(ne.top),we.bottom=(0,ee.HM)(ne.bottom),we.width=(0,ee.HM)(ne.width),we.left=(0,ee.HM)(ne.left),we.right=(0,ee.HM)(ne.right),we.alignItems="center"===B.overlayX?"center":"end"===B.overlayX?"flex-end":"flex-start",we.justifyContent="center"===B.overlayY?"center":"bottom"===B.overlayY?"flex-end":"flex-start",Ye&&(we.maxHeight=(0,ee.HM)(Ye)),mt&&(we.maxWidth=(0,ee.HM)(mt))}this._lastBoundingBoxSize=ne,Nt(this._boundingBox.style,we)}_resetBoundingBoxStyles(){Nt(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Nt(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(N,B){const ne={},we=this._hasExactPosition(),Ye=this._hasFlexibleDimensions,mt=this._overlayRef.getConfig();if(we){const Qe=this._viewportRuler.getViewportScrollPosition();Nt(ne,this._getExactOverlayY(B,N,Qe)),Nt(ne,this._getExactOverlayX(B,N,Qe))}else ne.position="static";let mn="",Nn=this._getOffset(B,"x"),yn=this._getOffset(B,"y");Nn&&(mn+=`translateX(${Nn}px) `),yn&&(mn+=`translateY(${yn}px)`),ne.transform=mn.trim(),mt.maxHeight&&(we?ne.maxHeight=(0,ee.HM)(mt.maxHeight):Ye&&(ne.maxHeight="")),mt.maxWidth&&(we?ne.maxWidth=(0,ee.HM)(mt.maxWidth):Ye&&(ne.maxWidth="")),Nt(this._pane.style,ne)}_getExactOverlayY(N,B,ne){let we={top:"",bottom:""},Ye=this._getOverlayPoint(B,this._overlayRect,N);this._isPushed&&(Ye=this._pushOverlayOnScreen(Ye,this._overlayRect,ne));let mt=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return Ye.y-=mt,"bottom"===N.overlayY?we.bottom=this._document.documentElement.clientHeight-(Ye.y+this._overlayRect.height)+"px":we.top=(0,ee.HM)(Ye.y),we}_getExactOverlayX(N,B,ne){let mt,we={left:"",right:""},Ye=this._getOverlayPoint(B,this._overlayRect,N);return this._isPushed&&(Ye=this._pushOverlayOnScreen(Ye,this._overlayRect,ne)),mt=this._isRtl()?"end"===N.overlayX?"left":"right":"end"===N.overlayX?"right":"left","right"===mt?we.right=this._document.documentElement.clientWidth-(Ye.x+this._overlayRect.width)+"px":we.left=(0,ee.HM)(Ye.x),we}_getScrollVisibility(){const N=this._getOriginRect(),B=this._pane.getBoundingClientRect(),ne=this._scrollables.map(we=>we.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:nt(N,ne),isOriginOutsideView:at(N,ne),isOverlayClipped:nt(B,ne),isOverlayOutsideView:at(B,ne)}}_subtractOverflows(N,...B){return B.reduce((ne,we)=>ne-Math.max(we,0),N)}_getNarrowedViewportRect(){const N=this._document.documentElement.clientWidth,B=this._document.documentElement.clientHeight,ne=this._viewportRuler.getViewportScrollPosition();return{top:ne.top+this._viewportMargin,left:ne.left+this._viewportMargin,right:ne.left+N-this._viewportMargin,bottom:ne.top+B-this._viewportMargin,width:N-2*this._viewportMargin,height:B-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(N,B){return"x"===B?null==N.offsetX?this._offsetX:N.offsetX:null==N.offsetY?this._offsetY:N.offsetY}_validatePositions(){}_addPanelClasses(N){this._pane&&(0,ee.Eq)(N).forEach(B=>{""!==B&&-1===this._appliedPanelClasses.indexOf(B)&&(this._appliedPanelClasses.push(B),this._pane.classList.add(B))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(N=>{this._pane.classList.remove(N)}),this._appliedPanelClasses=[])}_getOriginRect(){const N=this._origin;if(N instanceof _.SBq)return N.nativeElement.getBoundingClientRect();if(N instanceof Element)return N.getBoundingClientRect();const B=N.width||0,ne=N.height||0;return{top:N.y,bottom:N.y+ne,left:N.x,right:N.x+B,height:ne,width:B}}}function Nt(H,N){for(let B in N)N.hasOwnProperty(B)&&(H[B]=N[B]);return H}function qt(H){if("number"!=typeof H&&null!=H){const[N,B]=H.split(At);return B&&"px"!==B?null:parseFloat(N)}return H||null}function Pt(H){return{top:Math.floor(H.top),right:Math.floor(H.right),bottom:Math.floor(H.bottom),left:Math.floor(H.left),width:Math.floor(H.width),height:Math.floor(H.height)}}class sn{constructor(N,B,ne,we,Ye,mt,mn){this._preferredPositions=[],this._positionStrategy=new Gt(ne,we,Ye,mt,mn).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(N,B),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(N){this._overlayRef=N,this._positionStrategy.attach(N),this._direction&&(N.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(N){this._positionStrategy.withScrollableContainers(N)}withFallbackPosition(N,B,ne,we){const Ye=new De(N,B,ne,we);return this._preferredPositions.push(Ye),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(N){return this._overlayRef?this._overlayRef.setDirection(N):this._direction=N,this}withOffsetX(N){return this._positionStrategy.withDefaultOffsetX(N),this}withOffsetY(N){return this._positionStrategy.withDefaultOffsetY(N),this}withLockedPosition(N){return this._positionStrategy.withLockedPosition(N),this}withPositions(N){return this._preferredPositions=N.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(N){return this._positionStrategy.setOrigin(N),this}}const Zt="cdk-global-overlay-wrapper";class bn{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(N){const B=N.getConfig();this._overlayRef=N,this._width&&!B.width&&N.updateSize({width:this._width}),this._height&&!B.height&&N.updateSize({height:this._height}),N.hostElement.classList.add(Zt),this._isDisposed=!1}top(N=""){return this._bottomOffset="",this._topOffset=N,this._alignItems="flex-start",this}left(N=""){return this._rightOffset="",this._leftOffset=N,this._justifyContent="flex-start",this}bottom(N=""){return this._topOffset="",this._bottomOffset=N,this._alignItems="flex-end",this}right(N=""){return this._leftOffset="",this._rightOffset=N,this._justifyContent="flex-end",this}width(N=""){return this._overlayRef?this._overlayRef.updateSize({width:N}):this._width=N,this}height(N=""){return this._overlayRef?this._overlayRef.updateSize({height:N}):this._height=N,this}centerHorizontally(N=""){return this.left(N),this._justifyContent="center",this}centerVertically(N=""){return this.top(N),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const N=this._overlayRef.overlayElement.style,B=this._overlayRef.hostElement.style,ne=this._overlayRef.getConfig(),{width:we,height:Ye,maxWidth:mt,maxHeight:mn}=ne,Nn=!("100%"!==we&&"100vw"!==we||mt&&"100%"!==mt&&"100vw"!==mt),yn=!("100%"!==Ye&&"100vh"!==Ye||mn&&"100%"!==mn&&"100vh"!==mn);N.position=this._cssPosition,N.marginLeft=Nn?"0":this._leftOffset,N.marginTop=yn?"0":this._topOffset,N.marginBottom=this._bottomOffset,N.marginRight=this._rightOffset,Nn?B.justifyContent="flex-start":"center"===this._justifyContent?B.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?B.justifyContent="flex-end":"flex-end"===this._justifyContent&&(B.justifyContent="flex-start"):B.justifyContent=this._justifyContent,B.alignItems=yn?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const N=this._overlayRef.overlayElement.style,B=this._overlayRef.hostElement,ne=B.style;B.classList.remove(Zt),ne.justifyContent=ne.alignItems=N.marginTop=N.marginBottom=N.marginLeft=N.marginRight=N.position="",this._overlayRef=null,this._isDisposed=!0}}let Jn=(()=>{class H{constructor(B,ne,we,Ye){this._viewportRuler=B,this._document=ne,this._platform=we,this._overlayContainer=Ye}global(){return new bn}connectedTo(B,ne,we){return new sn(ne,we,B,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(B){return new Gt(B,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return H.\u0275fac=function(B){return new(B||H)(_.LFG(y.rL),_.LFG(_e.K0),_.LFG(D.t4),_.LFG(jt))},H.\u0275prov=_.Yz7({factory:function(){return new H(_.LFG(y.rL),_.LFG(_e.K0),_.LFG(D.t4),_.LFG(jt))},token:H,providedIn:"root"}),H})(),Rn=0,Un=(()=>{class H{constructor(B,ne,we,Ye,mt,mn,Nn,yn,Qe,We,dt){this.scrollStrategies=B,this._overlayContainer=ne,this._componentFactoryResolver=we,this._positionBuilder=Ye,this._keyboardDispatcher=mt,this._injector=mn,this._ngZone=Nn,this._document=yn,this._directionality=Qe,this._location=We,this._outsideClickDispatcher=dt}create(B){const ne=this._createHostElement(),we=this._createPaneElement(ne),Ye=this._createPortalOutlet(we),mt=new ve(B);return mt.direction=mt.direction||this._directionality.value,new Xt(Ye,ne,we,mt,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(B){const ne=this._document.createElement("div");return ne.id="cdk-overlay-"+Rn++,ne.classList.add("cdk-overlay-pane"),B.appendChild(ne),ne}_createHostElement(){const B=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(B),B}_createPortalOutlet(B){return this._appRef||(this._appRef=this._injector.get(_.z2F)),new me.u0(B,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return H.\u0275fac=function(B){return new(B||H)(_.LFG(Ze),_.LFG(jt),_.LFG(_._Vd),_.LFG(Jn),_.LFG(pn),_.LFG(_.zs3),_.LFG(_.R0b),_.LFG(_e.K0),_.LFG(C.Is),_.LFG(_e.Ye),_.LFG(Mn))},H.\u0275prov=_.Yz7({token:H,factory:H.\u0275fac}),H})();const tn={provide:new _.OlP("cdk-connected-overlay-scroll-strategy"),deps:[Un],useFactory:function(H){return()=>H.scrollStrategies.reposition()}};let Ae=(()=>{class H{}return H.\u0275fac=function(B){return new(B||H)},H.\u0275mod=_.oAB({type:H}),H.\u0275inj=_.cJS({providers:[Un,tn],imports:[[C.vT,me.eL,y.Cl],y.Cl]}),H})()},521:(ln,ut,P)=>{"use strict";P.d(ut,{t4:()=>C,ud:()=>_e,sA:()=>Qt,ht:()=>Ut,kV:()=>ze,_i:()=>Re,qK:()=>ie,i$:()=>se,Mq:()=>Ce});var y=P(7716),_=P(8583);let D;try{D="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(gt){D=!1}let ee,C=(()=>{class gt{constructor(at){this._platformId=at,this.isBrowser=this._platformId?(0,_.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!D)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return gt.\u0275fac=function(at){return new(at||gt)(y.LFG(y.Lbi))},gt.\u0275prov=y.Yz7({factory:function(){return new gt(y.LFG(y.Lbi))},token:gt,providedIn:"root"}),gt})(),_e=(()=>{class gt{}return gt.\u0275fac=function(at){return new(at||gt)},gt.\u0275mod=y.oAB({type:gt}),gt.\u0275inj=y.cJS({}),gt})();const me=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function ie(){if(ee)return ee;if("object"!=typeof document||!document)return ee=new Set(me),ee;let gt=document.createElement("input");return ee=new Set(me.filter(Ge=>(gt.setAttribute("type",Ge),gt.type===Ge))),ee}let ae,oe,fe,Ne;function se(gt){return function(){if(null==ae&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>ae=!0}))}finally{ae=ae||!1}return ae}()?gt:!!gt.capture}function Ce(){if(null==fe){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return fe=!1,fe;if("scrollBehavior"in document.documentElement.style)fe=!0;else{const gt=Element.prototype.scrollTo;fe=!!gt&&!/\{\s*\[native code\]\s*\}/.test(gt.toString())}}return fe}function Re(){if("object"!=typeof document||!document)return 0;if(null==oe){const gt=document.createElement("div"),Ge=gt.style;gt.dir="rtl",Ge.width="1px",Ge.overflow="auto",Ge.visibility="hidden",Ge.pointerEvents="none",Ge.position="absolute";const at=document.createElement("div"),nt=at.style;nt.width="2px",nt.height="1px",gt.appendChild(at),document.body.appendChild(gt),oe=0,0===gt.scrollLeft&&(gt.scrollLeft=1,oe=0===gt.scrollLeft?1:2),gt.parentNode.removeChild(gt)}return oe}function ze(gt){if(function(){if(null==Ne){const gt="undefined"!=typeof document?document.head:null;Ne=!(!gt||!gt.createShadowRoot&&!gt.attachShadow)}return Ne}()){const Ge=gt.getRootNode?gt.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&Ge instanceof ShadowRoot)return Ge}return null}function Ut(){let gt="undefined"!=typeof document&&document?document.activeElement:null;for(;gt&&gt.shadowRoot;){const Ge=gt.shadowRoot.activeElement;if(Ge===gt)break;gt=Ge}return gt}function Qt(gt){return gt.composedPath?gt.composedPath()[0]:gt.target}},7636:(ln,ut,P)=>{"use strict";P.d(ut,{en:()=>fe,Pl:()=>Ut,C5:()=>G,u0:()=>Re,eL:()=>gt,UE:()=>se});var y=P(7716),_=P(8583);class ae{attach(nt){return this._attachedHost=nt,nt.attach(this)}detach(){let nt=this._attachedHost;null!=nt&&(this._attachedHost=null,nt.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(nt){this._attachedHost=nt}}class G extends ae{constructor(nt,et,Ze,ve){super(),this.component=nt,this.viewContainerRef=et,this.injector=Ze,this.componentFactoryResolver=ve}}class se extends ae{constructor(nt,et,Ze){super(),this.templateRef=nt,this.viewContainerRef=et,this.context=Ze}get origin(){return this.templateRef.elementRef}attach(nt,et=this.context){return this.context=et,super.attach(nt)}detach(){return this.context=void 0,super.detach()}}class oe extends ae{constructor(nt){super(),this.element=nt instanceof y.SBq?nt.nativeElement:nt}}class fe{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(nt){return nt instanceof G?(this._attachedPortal=nt,this.attachComponentPortal(nt)):nt instanceof se?(this._attachedPortal=nt,this.attachTemplatePortal(nt)):this.attachDomPortal&&nt instanceof oe?(this._attachedPortal=nt,this.attachDomPortal(nt)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(nt){this._disposeFn=nt}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Re extends fe{constructor(nt,et,Ze,ve,De){super(),this.outletElement=nt,this._componentFactoryResolver=et,this._appRef=Ze,this._defaultInjector=ve,this.attachDomPortal=ce=>{const pt=ce.element,Rt=this._document.createComment("dom-portal");pt.parentNode.insertBefore(Rt,pt),this.outletElement.appendChild(pt),this._attachedPortal=ce,super.setDisposeFn(()=>{Rt.parentNode&&Rt.parentNode.replaceChild(pt,Rt)})},this._document=De}attachComponentPortal(nt){const Ze=(nt.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(nt.component);let ve;return nt.viewContainerRef?(ve=nt.viewContainerRef.createComponent(Ze,nt.viewContainerRef.length,nt.injector||nt.viewContainerRef.injector),this.setDisposeFn(()=>ve.destroy())):(ve=Ze.create(nt.injector||this._defaultInjector),this._appRef.attachView(ve.hostView),this.setDisposeFn(()=>{this._appRef.detachView(ve.hostView),ve.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(ve)),this._attachedPortal=nt,ve}attachTemplatePortal(nt){let et=nt.viewContainerRef,Ze=et.createEmbeddedView(nt.templateRef,nt.context);return Ze.rootNodes.forEach(ve=>this.outletElement.appendChild(ve)),Ze.detectChanges(),this.setDisposeFn(()=>{let ve=et.indexOf(Ze);-1!==ve&&et.remove(ve)}),this._attachedPortal=nt,Ze}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(nt){return nt.hostView.rootNodes[0]}}let Ut=(()=>{class at extends fe{constructor(et,Ze,ve){super(),this._componentFactoryResolver=et,this._viewContainerRef=Ze,this._isInitialized=!1,this.attached=new y.vpe,this.attachDomPortal=De=>{const ce=De.element,pt=this._document.createComment("dom-portal");De.setAttachedHost(this),ce.parentNode.insertBefore(pt,ce),this._getRootNode().appendChild(ce),this._attachedPortal=De,super.setDisposeFn(()=>{pt.parentNode&&pt.parentNode.replaceChild(ce,pt)})},this._document=ve}get portal(){return this._attachedPortal}set portal(et){this.hasAttached()&&!et&&!this._isInitialized||(this.hasAttached()&&super.detach(),et&&super.attach(et),this._attachedPortal=et)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(et){et.setAttachedHost(this);const Ze=null!=et.viewContainerRef?et.viewContainerRef:this._viewContainerRef,De=(et.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(et.component),ce=Ze.createComponent(De,Ze.length,et.injector||Ze.injector);return Ze!==this._viewContainerRef&&this._getRootNode().appendChild(ce.hostView.rootNodes[0]),super.setDisposeFn(()=>ce.destroy()),this._attachedPortal=et,this._attachedRef=ce,this.attached.emit(ce),ce}attachTemplatePortal(et){et.setAttachedHost(this);const Ze=this._viewContainerRef.createEmbeddedView(et.templateRef,et.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=et,this._attachedRef=Ze,this.attached.emit(Ze),Ze}_getRootNode(){const et=this._viewContainerRef.element.nativeElement;return et.nodeType===et.ELEMENT_NODE?et:et.parentNode}}return at.\u0275fac=function(et){return new(et||at)(y.Y36(y._Vd),y.Y36(y.s_b),y.Y36(_.K0))},at.\u0275dir=y.lG2({type:at,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[y.qOj]}),at})(),gt=(()=>{class at{}return at.\u0275fac=function(et){return new(et||at)},at.\u0275mod=y.oAB({type:at}),at.\u0275inj=y.cJS({}),at})()},5572:(ln,ut,P)=>{"use strict";P.d(ut,{ZD:()=>jn,mF:()=>sn,Cl:()=>Pn,rL:()=>Jn});var y=P(9490),_=P(7716),D=P(6465),_e=P(6102);new class extends _e.v{flush(Ae){this.active=!0,this.scheduled=void 0;const{actions:Z}=this;let H,N=-1,B=Z.length;Ae=Ae||Z.shift();do{if(H=Ae.execute(Ae.state,Ae.delay))break}while(++N<B&&(Ae=Z.shift()));if(this.active=!1,H){for(;++N<B&&(Ae=Z.shift());)Ae.unsubscribe();throw H}}}(class extends D.o{constructor(Ae,Z){super(Ae,Z),this.scheduler=Ae,this.work=Z}requestAsyncId(Ae,Z,H=0){return null!==H&&H>0?super.requestAsyncId(Ae,Z,H):(Ae.actions.push(this),Ae.scheduled||(Ae.scheduled=requestAnimationFrame(()=>Ae.flush(null))))}recycleAsyncId(Ae,Z,H=0){if(null!==H&&H>0||null===H&&this.delay>0)return super.recycleAsyncId(Ae,Z,H);0===Ae.actions.length&&(cancelAnimationFrame(Z),Ae.scheduled=void 0)}});var ae=P(8891),se=P(9765),oe=P(5917),fe=P(2759);P(4581);P(5319),P(7393),P(7519);var gt=P(628),Ge=P(5435),ve=(P(6782),P(9761),P(3190),P(2066),P(521)),De=P(8583),ce=P(946);let sn=(()=>{class tn{constructor(Z,H,N){this._ngZone=Z,this._platform=H,this._scrolled=new se.xQ,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=N}register(Z){this.scrollContainers.has(Z)||this.scrollContainers.set(Z,Z.elementScrolled().subscribe(()=>this._scrolled.next(Z)))}deregister(Z){const H=this.scrollContainers.get(Z);H&&(H.unsubscribe(),this.scrollContainers.delete(Z))}scrolled(Z=20){return this._platform.isBrowser?new ae.y(H=>{this._globalSubscription||this._addGlobalListener();const N=Z>0?this._scrolled.pipe((0,gt.e)(Z)).subscribe(H):this._scrolled.subscribe(H);return this._scrolledCount++,()=>{N.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,oe.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((Z,H)=>this.deregister(H)),this._scrolled.complete()}ancestorScrolled(Z,H){const N=this.getAncestorScrollContainers(Z);return this.scrolled(H).pipe((0,Ge.h)(B=>!B||N.indexOf(B)>-1))}getAncestorScrollContainers(Z){const H=[];return this.scrollContainers.forEach((N,B)=>{this._scrollableContainsElement(B,Z)&&H.push(B)}),H}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(Z,H){let N=(0,y.fI)(H),B=Z.getElementRef().nativeElement;do{if(N==B)return!0}while(N=N.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const Z=this._getWindow();return(0,fe.R)(Z.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return tn.\u0275fac=function(Z){return new(Z||tn)(_.LFG(_.R0b),_.LFG(ve.t4),_.LFG(De.K0,8))},tn.\u0275prov=_.Yz7({factory:function(){return new tn(_.LFG(_.R0b),_.LFG(ve.t4),_.LFG(De.K0,8))},token:tn,providedIn:"root"}),tn})(),Jn=(()=>{class tn{constructor(Z,H,N){this._platform=Z,this._change=new se.xQ,this._changeListener=B=>{this._change.next(B)},this._document=N,H.runOutsideAngular(()=>{if(Z.isBrowser){const B=this._getWindow();B.addEventListener("resize",this._changeListener),B.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const Z=this._getWindow();Z.removeEventListener("resize",this._changeListener),Z.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const Z={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),Z}getViewportRect(){const Z=this.getViewportScrollPosition(),{width:H,height:N}=this.getViewportSize();return{top:Z.top,left:Z.left,bottom:Z.top+N,right:Z.left+H,height:N,width:H}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const Z=this._document,H=this._getWindow(),N=Z.documentElement,B=N.getBoundingClientRect();return{top:-B.top||Z.body.scrollTop||H.scrollY||N.scrollTop||0,left:-B.left||Z.body.scrollLeft||H.scrollX||N.scrollLeft||0}}change(Z=20){return Z>0?this._change.pipe((0,gt.e)(Z)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const Z=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:Z.innerWidth,height:Z.innerHeight}:{width:0,height:0}}}return tn.\u0275fac=function(Z){return new(Z||tn)(_.LFG(ve.t4),_.LFG(_.R0b),_.LFG(De.K0,8))},tn.\u0275prov=_.Yz7({factory:function(){return new tn(_.LFG(ve.t4),_.LFG(_.R0b),_.LFG(De.K0,8))},token:tn,providedIn:"root"}),tn})(),jn=(()=>{class tn{}return tn.\u0275fac=function(Z){return new(Z||tn)},tn.\u0275mod=_.oAB({type:tn}),tn.\u0275inj=_.cJS({}),tn})(),Pn=(()=>{class tn{}return tn.\u0275fac=function(Z){return new(Z||tn)},tn.\u0275mod=_.oAB({type:tn}),tn.\u0275inj=_.cJS({imports:[[ce.vT,ve.ud,jn],ce.vT,jn]}),tn})()},9490:(ln,ut,P)=>{"use strict";P.d(ut,{Eq:()=>_e,Ig:()=>_,HM:()=>ee,fI:()=>me,su:()=>D});var y=P(7716);function _(ae){return null!=ae&&"false"!=`${ae}`}function D(ae,G=0){return function(ae){return!isNaN(parseFloat(ae))&&!isNaN(Number(ae))}(ae)?Number(ae):G}function _e(ae){return Array.isArray(ae)?ae:[ae]}function ee(ae){return null==ae?"":"string"==typeof ae?ae:`${ae}px`}function me(ae){return ae instanceof y.SBq?ae.nativeElement:ae}},8583:(ln,ut,P)=>{"use strict";P.d(ut,{mr:()=>Ut,Ov:()=>Ds,ez:()=>Fn,K0:()=>me,Do:()=>gt,V_:()=>G,Ye:()=>Ge,S$:()=>Se,mk:()=>nr,sg:()=>Le,O5:()=>Sn,RF:()=>si,n9:()=>gr,b0:()=>Qt,lw:()=>ie,EM:()=>Bt,JF:()=>Qs,NF:()=>qi,PM:()=>J,w_:()=>ee,bD:()=>Xn,q:()=>D,Mx:()=>nn,HT:()=>_e});var y=P(7716);let _=null;function D(){return _}function _e($){_||(_=$)}class ee{}const me=new y.OlP("DocumentToken");let ie=(()=>{class ${historyGo(K){throw new Error("Not implemented")}}return $.\u0275fac=function(K){return new(K||$)},$.\u0275prov=(0,y.Yz7)({factory:ae,token:$,providedIn:"platform"}),$})();function ae(){return(0,y.LFG)(se)}const G=new y.OlP("Location Initialized");let se=(()=>{class $ extends ie{constructor(K){super(),this._doc=K,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return D().getBaseHref(this._doc)}onPopState(K){const Oe=D().getGlobalEventTarget(this._doc,"window");return Oe.addEventListener("popstate",K,!1),()=>Oe.removeEventListener("popstate",K)}onHashChange(K){const Oe=D().getGlobalEventTarget(this._doc,"window");return Oe.addEventListener("hashchange",K,!1),()=>Oe.removeEventListener("hashchange",K)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(K){this.location.pathname=K}pushState(K,Oe,ft){oe()?this._history.pushState(K,Oe,ft):this.location.hash=ft}replaceState(K,Oe,ft){oe()?this._history.replaceState(K,Oe,ft):this.location.hash=ft}forward(){this._history.forward()}back(){this._history.back()}historyGo(K=0){this._history.go(K)}getState(){return this._history.state}}return $.\u0275fac=function(K){return new(K||$)(y.LFG(me))},$.\u0275prov=(0,y.Yz7)({factory:fe,token:$,providedIn:"platform"}),$})();function oe(){return!!window.history.pushState}function fe(){return new se((0,y.LFG)(me))}function Ce($,ye){if(0==$.length)return ye;if(0==ye.length)return $;let K=0;return $.endsWith("/")&&K++,ye.startsWith("/")&&K++,2==K?$+ye.substring(1):1==K?$+ye:$+"/"+ye}function Re($){const ye=$.match(/#|\?|$/),K=ye&&ye.index||$.length;return $.slice(0,K-("/"===$[K-1]?1:0))+$.slice(K)}function Ne($){return $&&"?"!==$[0]?"?"+$:$}let Se=(()=>{class ${historyGo(K){throw new Error("Not implemented")}}return $.\u0275fac=function(K){return new(K||$)},$.\u0275prov=(0,y.Yz7)({factory:ze,token:$,providedIn:"root"}),$})();function ze($){const ye=(0,y.LFG)(me).location;return new Qt((0,y.LFG)(ie),ye&&ye.origin||"")}const Ut=new y.OlP("appBaseHref");let Qt=(()=>{class $ extends Se{constructor(K,Oe){if(super(),this._platformLocation=K,this._removeListenerFns=[],null==Oe&&(Oe=this._platformLocation.getBaseHrefFromDOM()),null==Oe)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=Oe}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(K){this._removeListenerFns.push(this._platformLocation.onPopState(K),this._platformLocation.onHashChange(K))}getBaseHref(){return this._baseHref}prepareExternalUrl(K){return Ce(this._baseHref,K)}path(K=!1){const Oe=this._platformLocation.pathname+Ne(this._platformLocation.search),ft=this._platformLocation.hash;return ft&&K?`${Oe}${ft}`:Oe}pushState(K,Oe,ft,on){const un=this.prepareExternalUrl(ft+Ne(on));this._platformLocation.pushState(K,Oe,un)}replaceState(K,Oe,ft,on){const un=this.prepareExternalUrl(ft+Ne(on));this._platformLocation.replaceState(K,Oe,un)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(K=0){var Oe,ft;null===(ft=(Oe=this._platformLocation).historyGo)||void 0===ft||ft.call(Oe,K)}}return $.\u0275fac=function(K){return new(K||$)(y.LFG(ie),y.LFG(Ut,8))},$.\u0275prov=y.Yz7({token:$,factory:$.\u0275fac}),$})(),gt=(()=>{class $ extends Se{constructor(K,Oe){super(),this._platformLocation=K,this._baseHref="",this._removeListenerFns=[],null!=Oe&&(this._baseHref=Oe)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(K){this._removeListenerFns.push(this._platformLocation.onPopState(K),this._platformLocation.onHashChange(K))}getBaseHref(){return this._baseHref}path(K=!1){let Oe=this._platformLocation.hash;return null==Oe&&(Oe="#"),Oe.length>0?Oe.substring(1):Oe}prepareExternalUrl(K){const Oe=Ce(this._baseHref,K);return Oe.length>0?"#"+Oe:Oe}pushState(K,Oe,ft,on){let un=this.prepareExternalUrl(ft+Ne(on));0==un.length&&(un=this._platformLocation.pathname),this._platformLocation.pushState(K,Oe,un)}replaceState(K,Oe,ft,on){let un=this.prepareExternalUrl(ft+Ne(on));0==un.length&&(un=this._platformLocation.pathname),this._platformLocation.replaceState(K,Oe,un)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(K=0){var Oe,ft;null===(ft=(Oe=this._platformLocation).historyGo)||void 0===ft||ft.call(Oe,K)}}return $.\u0275fac=function(K){return new(K||$)(y.LFG(ie),y.LFG(Ut,8))},$.\u0275prov=y.Yz7({token:$,factory:$.\u0275fac}),$})(),Ge=(()=>{class ${constructor(K,Oe){this._subject=new y.vpe,this._urlChangeListeners=[],this._platformStrategy=K;const ft=this._platformStrategy.getBaseHref();this._platformLocation=Oe,this._baseHref=Re(et(ft)),this._platformStrategy.onPopState(on=>{this._subject.emit({url:this.path(!0),pop:!0,state:on.state,type:on.type})})}path(K=!1){return this.normalize(this._platformStrategy.path(K))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(K,Oe=""){return this.path()==this.normalize(K+Ne(Oe))}normalize(K){return $.stripTrailingSlash(function($,ye){return $&&ye.startsWith($)?ye.substring($.length):ye}(this._baseHref,et(K)))}prepareExternalUrl(K){return K&&"/"!==K[0]&&(K="/"+K),this._platformStrategy.prepareExternalUrl(K)}go(K,Oe="",ft=null){this._platformStrategy.pushState(ft,"",K,Oe),this._notifyUrlChangeListeners(this.prepareExternalUrl(K+Ne(Oe)),ft)}replaceState(K,Oe="",ft=null){this._platformStrategy.replaceState(ft,"",K,Oe),this._notifyUrlChangeListeners(this.prepareExternalUrl(K+Ne(Oe)),ft)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(K=0){var Oe,ft;null===(ft=(Oe=this._platformStrategy).historyGo)||void 0===ft||ft.call(Oe,K)}onUrlChange(K){this._urlChangeListeners.push(K),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Oe=>{this._notifyUrlChangeListeners(Oe.url,Oe.state)}))}_notifyUrlChangeListeners(K="",Oe){this._urlChangeListeners.forEach(ft=>ft(K,Oe))}subscribe(K,Oe,ft){return this._subject.subscribe({next:K,error:Oe,complete:ft})}}return $.\u0275fac=function(K){return new(K||$)(y.LFG(Se),y.LFG(ie))},$.normalizeQueryParams=Ne,$.joinWithSlash=Ce,$.stripTrailingSlash=Re,$.\u0275prov=(0,y.Yz7)({factory:at,token:$,providedIn:"root"}),$})();function at(){return new Ge((0,y.LFG)(Se),(0,y.LFG)(ie))}function et($){return $.replace(/\/index.html$/,"")}var De=(()=>((De=De||{})[De.Zero=0]="Zero",De[De.One=1]="One",De[De.Two=2]="Two",De[De.Few=3]="Few",De[De.Many=4]="Many",De[De.Other=5]="Other",De))();const Rn=y.kL8;class kt{}let Je=(()=>{class $ extends kt{constructor(K){super(),this.locale=K}getPluralCategory(K,Oe){switch(Rn(Oe||this.locale)(K)){case De.Zero:return"zero";case De.One:return"one";case De.Two:return"two";case De.Few:return"few";case De.Many:return"many";default:return"other"}}}return $.\u0275fac=function(K){return new(K||$)(y.LFG(y.soG))},$.\u0275prov=y.Yz7({token:$,factory:$.\u0275fac}),$})();function nn($,ye){ye=encodeURIComponent(ye);for(const K of $.split(";")){const Oe=K.indexOf("="),[ft,on]=-1==Oe?[K,""]:[K.slice(0,Oe),K.slice(Oe+1)];if(ft.trim()===ye)return decodeURIComponent(on)}return null}let nr=(()=>{class ${constructor(K,Oe,ft,on){this._iterableDiffers=K,this._keyValueDiffers=Oe,this._ngEl=ft,this._renderer=on,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(K){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof K?K.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(K){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof K?K.split(/\s+/):K,this._rawClass&&((0,y.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const K=this._iterableDiffer.diff(this._rawClass);K&&this._applyIterableChanges(K)}else if(this._keyValueDiffer){const K=this._keyValueDiffer.diff(this._rawClass);K&&this._applyKeyValueChanges(K)}}_applyKeyValueChanges(K){K.forEachAddedItem(Oe=>this._toggleClass(Oe.key,Oe.currentValue)),K.forEachChangedItem(Oe=>this._toggleClass(Oe.key,Oe.currentValue)),K.forEachRemovedItem(Oe=>{Oe.previousValue&&this._toggleClass(Oe.key,!1)})}_applyIterableChanges(K){K.forEachAddedItem(Oe=>{if("string"!=typeof Oe.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,y.AaK)(Oe.item)}`);this._toggleClass(Oe.item,!0)}),K.forEachRemovedItem(Oe=>this._toggleClass(Oe.item,!1))}_applyClasses(K){K&&(Array.isArray(K)||K instanceof Set?K.forEach(Oe=>this._toggleClass(Oe,!0)):Object.keys(K).forEach(Oe=>this._toggleClass(Oe,!!K[Oe])))}_removeClasses(K){K&&(Array.isArray(K)||K instanceof Set?K.forEach(Oe=>this._toggleClass(Oe,!1)):Object.keys(K).forEach(Oe=>this._toggleClass(Oe,!1)))}_toggleClass(K,Oe){(K=K.trim())&&K.split(/\s+/g).forEach(ft=>{Oe?this._renderer.addClass(this._ngEl.nativeElement,ft):this._renderer.removeClass(this._ngEl.nativeElement,ft)})}}return $.\u0275fac=function(K){return new(K||$)(y.Y36(y.ZZ4),y.Y36(y.aQg),y.Y36(y.SBq),y.Y36(y.Qsj))},$.\u0275dir=y.lG2({type:$,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),$})();class St{constructor(ye,K,Oe,ft){this.$implicit=ye,this.ngForOf=K,this.index=Oe,this.count=ft}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Le=(()=>{class ${constructor(K,Oe,ft){this._viewContainer=K,this._template=Oe,this._differs=ft,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(K){this._ngForOf=K,this._ngForOfDirty=!0}set ngForTrackBy(K){this._trackByFn=K}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(K){K&&(this._template=K)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const K=this._ngForOf;if(!this._differ&&K)try{this._differ=this._differs.find(K).create(this.ngForTrackBy)}catch(Oe){throw new Error(`Cannot find a differ supporting object '${K}' of type '${function($){return $.name||typeof $}(K)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const K=this._differ.diff(this._ngForOf);K&&this._applyChanges(K)}}_applyChanges(K){const Oe=[];K.forEachOperation((ft,on,un)=>{if(null==ft.previousIndex){const tr=this._viewContainer.createEmbeddedView(this._template,new St(null,this._ngForOf,-1,-1),null===un?void 0:un),Nr=new Mt(ft,tr);Oe.push(Nr)}else if(null==un)this._viewContainer.remove(null===on?void 0:on);else if(null!==on){const tr=this._viewContainer.get(on);this._viewContainer.move(tr,un);const Nr=new Mt(ft,tr);Oe.push(Nr)}});for(let ft=0;ft<Oe.length;ft++)this._perViewChange(Oe[ft].view,Oe[ft].record);for(let ft=0,on=this._viewContainer.length;ft<on;ft++){const un=this._viewContainer.get(ft);un.context.index=ft,un.context.count=on,un.context.ngForOf=this._ngForOf}K.forEachIdentityChange(ft=>{this._viewContainer.get(ft.currentIndex).context.$implicit=ft.item})}_perViewChange(K,Oe){K.context.$implicit=Oe.item}static ngTemplateContextGuard(K,Oe){return!0}}return $.\u0275fac=function(K){return new(K||$)(y.Y36(y.s_b),y.Y36(y.Rgc),y.Y36(y.ZZ4))},$.\u0275dir=y.lG2({type:$,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),$})();class Mt{constructor(ye,K){this.record=ye,this.view=K}}let Sn=(()=>{class ${constructor(K,Oe){this._viewContainer=K,this._context=new or,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Oe}set ngIf(K){this._context.$implicit=this._context.ngIf=K,this._updateView()}set ngIfThen(K){wr("ngIfThen",K),this._thenTemplateRef=K,this._thenViewRef=null,this._updateView()}set ngIfElse(K){wr("ngIfElse",K),this._elseTemplateRef=K,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(K,Oe){return!0}}return $.\u0275fac=function(K){return new(K||$)(y.Y36(y.s_b),y.Y36(y.Rgc))},$.\u0275dir=y.lG2({type:$,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),$})();class or{constructor(){this.$implicit=null,this.ngIf=null}}function wr($,ye){if(ye&&!ye.createEmbeddedView)throw new Error(`${$} must be a TemplateRef, but received '${(0,y.AaK)(ye)}'.`)}class li{constructor(ye,K){this._viewContainerRef=ye,this._templateRef=K,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(ye){ye&&!this._created?this.create():!ye&&this._created&&this.destroy()}}let si=(()=>{class ${constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(K){this._ngSwitch=K,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(K){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(K)}_matchCase(K){const Oe=K==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||Oe,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),Oe}_updateDefaultCases(K){if(this._defaultViews&&K!==this._defaultUsed){this._defaultUsed=K;for(let Oe=0;Oe<this._defaultViews.length;Oe++)this._defaultViews[Oe].enforceState(K)}}}return $.\u0275fac=function(K){return new(K||$)},$.\u0275dir=y.lG2({type:$,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),$})(),gr=(()=>{class ${constructor(K,Oe,ft){this.ngSwitch=ft,ft._addCase(),this._view=new li(K,Oe)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return $.\u0275fac=function(K){return new(K||$)(y.Y36(y.s_b),y.Y36(y.Rgc),y.Y36(si,9))},$.\u0275dir=y.lG2({type:$,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),$})();class Vs{createSubscription(ye,K){return ye.subscribe({next:K,error:Oe=>{throw Oe}})}dispose(ye){ye.unsubscribe()}onDestroy(ye){ye.unsubscribe()}}class lo{createSubscription(ye,K){return ye.then(K,Oe=>{throw Oe})}dispose(ye){}onDestroy(ye){}}const Ys=new lo,Wo=new Vs;let Ds=(()=>{class ${constructor(K){this._ref=K,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(K){return this._obj?K!==this._obj?(this._dispose(),this.transform(K)):this._latestValue:(K&&this._subscribe(K),this._latestValue)}_subscribe(K){this._obj=K,this._strategy=this._selectStrategy(K),this._subscription=this._strategy.createSubscription(K,Oe=>this._updateLatestValue(K,Oe))}_selectStrategy(K){if((0,y.QGY)(K))return Ys;if((0,y.F4k)(K))return Wo;throw function($,ye){return Error(`InvalidPipeArgument: '${ye}' for pipe '${(0,y.AaK)($)}'`)}($,K)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(K,Oe){K===this._obj&&(this._latestValue=Oe,this._ref.markForCheck())}}return $.\u0275fac=function(K){return new(K||$)(y.Y36(y.sBO,16))},$.\u0275pipe=y.Yjl({name:"async",type:$,pure:!1}),$})(),Fn=(()=>{class ${}return $.\u0275fac=function(K){return new(K||$)},$.\u0275mod=y.oAB({type:$}),$.\u0275inj=y.cJS({providers:[{provide:kt,useClass:Je}]}),$})();const Xn="browser";function qi($){return $===Xn}function J($){return"server"===$}let Bt=(()=>{class ${}return $.\u0275prov=(0,y.Yz7)({token:$,providedIn:"root",factory:()=>new Wn((0,y.LFG)(me),window)}),$})();class Wn{constructor(ye,K){this.document=ye,this.window=K,this.offset=()=>[0,0]}setOffset(ye){this.offset=Array.isArray(ye)?()=>ye:ye}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(ye){this.supportsScrolling()&&this.window.scrollTo(ye[0],ye[1])}scrollToAnchor(ye){if(!this.supportsScrolling())return;const K=function($,ye){const K=$.getElementById(ye)||$.getElementsByName(ye)[0];if(K)return K;if("function"==typeof $.createTreeWalker&&$.body&&($.body.createShadowRoot||$.body.attachShadow)){const Oe=$.createTreeWalker($.body,NodeFilter.SHOW_ELEMENT);let ft=Oe.currentNode;for(;ft;){const on=ft.shadowRoot;if(on){const un=on.getElementById(ye)||on.querySelector(`[name="${ye}"]`);if(un)return un}ft=Oe.nextNode()}}return null}(this.document,ye);K&&(this.scrollToElement(K),this.attemptFocus(K))}setHistoryScrollRestoration(ye){if(this.supportScrollRestoration()){const K=this.window.history;K&&K.scrollRestoration&&(K.scrollRestoration=ye)}}scrollToElement(ye){const K=ye.getBoundingClientRect(),Oe=K.left+this.window.pageXOffset,ft=K.top+this.window.pageYOffset,on=this.offset();this.window.scrollTo(Oe-on[0],ft-on[1])}attemptFocus(ye){return ye.focus(),this.document.activeElement===ye}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const ye=$r(this.window.history)||$r(Object.getPrototypeOf(this.window.history));return!(!ye||!ye.writable&&!ye.set)}catch(ye){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(ye){return!1}}}function $r($){return Object.getOwnPropertyDescriptor($,"scrollRestoration")}class Qs{}},1841:(ln,ut,P)=>{"use strict";P.d(ut,{TP:()=>pn,eN:()=>Tt,JF:()=>jn});var y=P(8583),_=P(7716),D=P(5917),C=P(8891),_e=P(4612),ee=P(5435),me=P(8002);class ie{}class ae{}class G{constructor(Z){this.normalizedNames=new Map,this.lazyUpdate=null,Z?this.lazyInit="string"==typeof Z?()=>{this.headers=new Map,Z.split("\n").forEach(H=>{const N=H.indexOf(":");if(N>0){const B=H.slice(0,N),ne=B.toLowerCase(),we=H.slice(N+1).trim();this.maybeSetNormalizedName(B,ne),this.headers.has(ne)?this.headers.get(ne).push(we):this.headers.set(ne,[we])}})}:()=>{this.headers=new Map,Object.keys(Z).forEach(H=>{let N=Z[H];const B=H.toLowerCase();"string"==typeof N&&(N=[N]),N.length>0&&(this.headers.set(B,N),this.maybeSetNormalizedName(H,B))})}:this.headers=new Map}has(Z){return this.init(),this.headers.has(Z.toLowerCase())}get(Z){this.init();const H=this.headers.get(Z.toLowerCase());return H&&H.length>0?H[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Z){return this.init(),this.headers.get(Z.toLowerCase())||null}append(Z,H){return this.clone({name:Z,value:H,op:"a"})}set(Z,H){return this.clone({name:Z,value:H,op:"s"})}delete(Z,H){return this.clone({name:Z,value:H,op:"d"})}maybeSetNormalizedName(Z,H){this.normalizedNames.has(H)||this.normalizedNames.set(H,Z)}init(){this.lazyInit&&(this.lazyInit instanceof G?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Z=>this.applyUpdate(Z)),this.lazyUpdate=null))}copyFrom(Z){Z.init(),Array.from(Z.headers.keys()).forEach(H=>{this.headers.set(H,Z.headers.get(H)),this.normalizedNames.set(H,Z.normalizedNames.get(H))})}clone(Z){const H=new G;return H.lazyInit=this.lazyInit&&this.lazyInit instanceof G?this.lazyInit:this,H.lazyUpdate=(this.lazyUpdate||[]).concat([Z]),H}applyUpdate(Z){const H=Z.name.toLowerCase();switch(Z.op){case"a":case"s":let N=Z.value;if("string"==typeof N&&(N=[N]),0===N.length)return;this.maybeSetNormalizedName(Z.name,H);const B=("a"===Z.op?this.headers.get(H):void 0)||[];B.push(...N),this.headers.set(H,B);break;case"d":const ne=Z.value;if(ne){let we=this.headers.get(H);if(!we)return;we=we.filter(Ye=>-1===ne.indexOf(Ye)),0===we.length?(this.headers.delete(H),this.normalizedNames.delete(H)):this.headers.set(H,we)}else this.headers.delete(H),this.normalizedNames.delete(H)}}forEach(Z){this.init(),Array.from(this.normalizedNames.keys()).forEach(H=>Z(this.normalizedNames.get(H),this.headers.get(H)))}}class se{encodeKey(Z){return Re(Z)}encodeValue(Z){return Re(Z)}decodeKey(Z){return decodeURIComponent(Z)}decodeValue(Z){return decodeURIComponent(Z)}}const fe=/%(\d[a-f0-9])/gi,Ce={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function Re(Ae){return encodeURIComponent(Ae).replace(fe,(Z,H)=>{var N;return null!==(N=Ce[H])&&void 0!==N?N:Z})}function Ne(Ae){return`${Ae}`}class Se{constructor(Z={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Z.encoder||new se,Z.fromString){if(Z.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(Ae,Z){const H=new Map;return Ae.length>0&&Ae.replace(/^\?/,"").split("&").forEach(B=>{const ne=B.indexOf("="),[we,Ye]=-1==ne?[Z.decodeKey(B),""]:[Z.decodeKey(B.slice(0,ne)),Z.decodeValue(B.slice(ne+1))],mt=H.get(we)||[];mt.push(Ye),H.set(we,mt)}),H}(Z.fromString,this.encoder)}else Z.fromObject?(this.map=new Map,Object.keys(Z.fromObject).forEach(H=>{const N=Z.fromObject[H];this.map.set(H,Array.isArray(N)?N:[N])})):this.map=null}has(Z){return this.init(),this.map.has(Z)}get(Z){this.init();const H=this.map.get(Z);return H?H[0]:null}getAll(Z){return this.init(),this.map.get(Z)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Z,H){return this.clone({param:Z,value:H,op:"a"})}appendAll(Z){const H=[];return Object.keys(Z).forEach(N=>{const B=Z[N];Array.isArray(B)?B.forEach(ne=>{H.push({param:N,value:ne,op:"a"})}):H.push({param:N,value:B,op:"a"})}),this.clone(H)}set(Z,H){return this.clone({param:Z,value:H,op:"s"})}delete(Z,H){return this.clone({param:Z,value:H,op:"d"})}toString(){return this.init(),this.keys().map(Z=>{const H=this.encoder.encodeKey(Z);return this.map.get(Z).map(N=>H+"="+this.encoder.encodeValue(N)).join("&")}).filter(Z=>""!==Z).join("&")}clone(Z){const H=new Se({encoder:this.encoder});return H.cloneFrom=this.cloneFrom||this,H.updates=(this.updates||[]).concat(Z),H}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Z=>this.map.set(Z,this.cloneFrom.map.get(Z))),this.updates.forEach(Z=>{switch(Z.op){case"a":case"s":const H=("a"===Z.op?this.map.get(Z.param):void 0)||[];H.push(Ne(Z.value)),this.map.set(Z.param,H);break;case"d":if(void 0===Z.value){this.map.delete(Z.param);break}{let N=this.map.get(Z.param)||[];const B=N.indexOf(Ne(Z.value));-1!==B&&N.splice(B,1),N.length>0?this.map.set(Z.param,N):this.map.delete(Z.param)}}}),this.cloneFrom=this.updates=null)}}class Ut{constructor(){this.map=new Map}set(Z,H){return this.map.set(Z,H),this}get(Z){return this.map.has(Z)||this.map.set(Z,Z.defaultValue()),this.map.get(Z)}delete(Z){return this.map.delete(Z),this}keys(){return this.map.keys()}}function gt(Ae){return"undefined"!=typeof ArrayBuffer&&Ae instanceof ArrayBuffer}function Ge(Ae){return"undefined"!=typeof Blob&&Ae instanceof Blob}function at(Ae){return"undefined"!=typeof FormData&&Ae instanceof FormData}class et{constructor(Z,H,N,B){let ne;if(this.url=H,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Z.toUpperCase(),function(Ae){switch(Ae){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||B?(this.body=void 0!==N?N:null,ne=B):ne=N,ne&&(this.reportProgress=!!ne.reportProgress,this.withCredentials=!!ne.withCredentials,ne.responseType&&(this.responseType=ne.responseType),ne.headers&&(this.headers=ne.headers),ne.context&&(this.context=ne.context),ne.params&&(this.params=ne.params)),this.headers||(this.headers=new G),this.context||(this.context=new Ut),this.params){const we=this.params.toString();if(0===we.length)this.urlWithParams=H;else{const Ye=H.indexOf("?");this.urlWithParams=H+(-1===Ye?"?":Ye<H.length-1?"&":"")+we}}else this.params=new Se,this.urlWithParams=H}serializeBody(){return null===this.body?null:gt(this.body)||Ge(this.body)||at(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof Se?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||at(this.body)?null:Ge(this.body)?this.body.type||null:gt(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Se?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Z={}){var H;const N=Z.method||this.method,B=Z.url||this.url,ne=Z.responseType||this.responseType,we=void 0!==Z.body?Z.body:this.body,Ye=void 0!==Z.withCredentials?Z.withCredentials:this.withCredentials,mt=void 0!==Z.reportProgress?Z.reportProgress:this.reportProgress;let mn=Z.headers||this.headers,Nn=Z.params||this.params;const yn=null!==(H=Z.context)&&void 0!==H?H:this.context;return void 0!==Z.setHeaders&&(mn=Object.keys(Z.setHeaders).reduce((Qe,We)=>Qe.set(We,Z.setHeaders[We]),mn)),Z.setParams&&(Nn=Object.keys(Z.setParams).reduce((Qe,We)=>Qe.set(We,Z.setParams[We]),Nn)),new et(N,B,we,{params:Nn,headers:mn,context:yn,reportProgress:mt,responseType:ne,withCredentials:Ye})}}var Ze=(()=>((Ze=Ze||{})[Ze.Sent=0]="Sent",Ze[Ze.UploadProgress=1]="UploadProgress",Ze[Ze.ResponseHeader=2]="ResponseHeader",Ze[Ze.DownloadProgress=3]="DownloadProgress",Ze[Ze.Response=4]="Response",Ze[Ze.User=5]="User",Ze))();class ve{constructor(Z,H=200,N="OK"){this.headers=Z.headers||new G,this.status=void 0!==Z.status?Z.status:H,this.statusText=Z.statusText||N,this.url=Z.url||null,this.ok=this.status>=200&&this.status<300}}class De extends ve{constructor(Z={}){super(Z),this.type=Ze.ResponseHeader}clone(Z={}){return new De({headers:Z.headers||this.headers,status:void 0!==Z.status?Z.status:this.status,statusText:Z.statusText||this.statusText,url:Z.url||this.url||void 0})}}class ce extends ve{constructor(Z={}){super(Z),this.type=Ze.Response,this.body=void 0!==Z.body?Z.body:null}clone(Z={}){return new ce({body:void 0!==Z.body?Z.body:this.body,headers:Z.headers||this.headers,status:void 0!==Z.status?Z.status:this.status,statusText:Z.statusText||this.statusText,url:Z.url||this.url||void 0})}}class pt extends ve{constructor(Z){super(Z,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Z.url||"(unknown url)"}`:`Http failure response for ${Z.url||"(unknown url)"}: ${Z.status} ${Z.statusText}`,this.error=Z.error||null}}function Rt(Ae,Z){return{body:Z,headers:Ae.headers,context:Ae.context,observe:Ae.observe,params:Ae.params,reportProgress:Ae.reportProgress,responseType:Ae.responseType,withCredentials:Ae.withCredentials}}let Tt=(()=>{class Ae{constructor(H){this.handler=H}request(H,N,B={}){let ne;if(H instanceof et)ne=H;else{let mt,mn;mt=B.headers instanceof G?B.headers:new G(B.headers),B.params&&(mn=B.params instanceof Se?B.params:new Se({fromObject:B.params})),ne=new et(H,N,void 0!==B.body?B.body:null,{headers:mt,context:B.context,params:mn,reportProgress:B.reportProgress,responseType:B.responseType||"json",withCredentials:B.withCredentials})}const we=(0,D.of)(ne).pipe((0,_e.b)(mt=>this.handler.handle(mt)));if(H instanceof et||"events"===B.observe)return we;const Ye=we.pipe((0,ee.h)(mt=>mt instanceof ce));switch(B.observe||"body"){case"body":switch(ne.responseType){case"arraybuffer":return Ye.pipe((0,me.U)(mt=>{if(null!==mt.body&&!(mt.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return mt.body}));case"blob":return Ye.pipe((0,me.U)(mt=>{if(null!==mt.body&&!(mt.body instanceof Blob))throw new Error("Response is not a Blob.");return mt.body}));case"text":return Ye.pipe((0,me.U)(mt=>{if(null!==mt.body&&"string"!=typeof mt.body)throw new Error("Response is not a string.");return mt.body}));case"json":default:return Ye.pipe((0,me.U)(mt=>mt.body))}case"response":return Ye;default:throw new Error(`Unreachable: unhandled observe type ${B.observe}}`)}}delete(H,N={}){return this.request("DELETE",H,N)}get(H,N={}){return this.request("GET",H,N)}head(H,N={}){return this.request("HEAD",H,N)}jsonp(H,N){return this.request("JSONP",H,{params:(new Se).append(N,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(H,N={}){return this.request("OPTIONS",H,N)}patch(H,N,B={}){return this.request("PATCH",H,Rt(B,N))}post(H,N,B={}){return this.request("POST",H,Rt(B,N))}put(H,N,B={}){return this.request("PUT",H,Rt(B,N))}}return Ae.\u0275fac=function(H){return new(H||Ae)(_.LFG(ie))},Ae.\u0275prov=_.Yz7({token:Ae,factory:Ae.\u0275fac}),Ae})();class gn{constructor(Z,H){this.next=Z,this.interceptor=H}handle(Z){return this.interceptor.intercept(Z,this.next)}}const pn=new _.OlP("HTTP_INTERCEPTORS");let Mn=(()=>{class Ae{intercept(H,N){return N.handle(H)}}return Ae.\u0275fac=function(H){return new(H||Ae)},Ae.\u0275prov=_.Yz7({token:Ae,factory:Ae.\u0275fac}),Ae})();const Nt=/^\)\]\}',?\n/;let Pt=(()=>{class Ae{constructor(H){this.xhrFactory=H}handle(H){if("JSONP"===H.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new C.y(N=>{const B=this.xhrFactory.build();if(B.open(H.method,H.urlWithParams),H.withCredentials&&(B.withCredentials=!0),H.headers.forEach((We,dt)=>B.setRequestHeader(We,dt.join(","))),H.headers.has("Accept")||B.setRequestHeader("Accept","application/json, text/plain, */*"),!H.headers.has("Content-Type")){const We=H.detectContentTypeHeader();null!==We&&B.setRequestHeader("Content-Type",We)}if(H.responseType){const We=H.responseType.toLowerCase();B.responseType="json"!==We?We:"text"}const ne=H.serializeBody();let we=null;const Ye=()=>{if(null!==we)return we;const We=1223===B.status?204:B.status,dt=B.statusText||"OK",It=new G(B.getAllResponseHeaders()),Te=function(Ae){return"responseURL"in Ae&&Ae.responseURL?Ae.responseURL:/^X-Request-URL:/m.test(Ae.getAllResponseHeaders())?Ae.getResponseHeader("X-Request-URL"):null}(B)||H.url;return we=new De({headers:It,status:We,statusText:dt,url:Te}),we},mt=()=>{let{headers:We,status:dt,statusText:It,url:Te}=Ye(),wt=null;204!==dt&&(wt=void 0===B.response?B.responseText:B.response),0===dt&&(dt=wt?200:0);let Ot=dt>=200&&dt<300;if("json"===H.responseType&&"string"==typeof wt){const zt=wt;wt=wt.replace(Nt,"");try{wt=""!==wt?JSON.parse(wt):null}catch(je){wt=zt,Ot&&(Ot=!1,wt={error:je,text:wt})}}Ot?(N.next(new ce({body:wt,headers:We,status:dt,statusText:It,url:Te||void 0})),N.complete()):N.error(new pt({error:wt,headers:We,status:dt,statusText:It,url:Te||void 0}))},mn=We=>{const{url:dt}=Ye(),It=new pt({error:We,status:B.status||0,statusText:B.statusText||"Unknown Error",url:dt||void 0});N.error(It)};let Nn=!1;const yn=We=>{Nn||(N.next(Ye()),Nn=!0);let dt={type:Ze.DownloadProgress,loaded:We.loaded};We.lengthComputable&&(dt.total=We.total),"text"===H.responseType&&!!B.responseText&&(dt.partialText=B.responseText),N.next(dt)},Qe=We=>{let dt={type:Ze.UploadProgress,loaded:We.loaded};We.lengthComputable&&(dt.total=We.total),N.next(dt)};return B.addEventListener("load",mt),B.addEventListener("error",mn),B.addEventListener("timeout",mn),B.addEventListener("abort",mn),H.reportProgress&&(B.addEventListener("progress",yn),null!==ne&&B.upload&&B.upload.addEventListener("progress",Qe)),B.send(ne),N.next({type:Ze.Sent}),()=>{B.removeEventListener("error",mn),B.removeEventListener("abort",mn),B.removeEventListener("load",mt),B.removeEventListener("timeout",mn),H.reportProgress&&(B.removeEventListener("progress",yn),null!==ne&&B.upload&&B.upload.removeEventListener("progress",Qe)),B.readyState!==B.DONE&&B.abort()}})}}return Ae.\u0275fac=function(H){return new(H||Ae)(_.LFG(y.JF))},Ae.\u0275prov=_.Yz7({token:Ae,factory:Ae.\u0275fac}),Ae})();const sn=new _.OlP("XSRF_COOKIE_NAME"),Zt=new _.OlP("XSRF_HEADER_NAME");class bn{}let Jn=(()=>{class Ae{constructor(H,N,B){this.doc=H,this.platform=N,this.cookieName=B,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const H=this.doc.cookie||"";return H!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,y.Mx)(H,this.cookieName),this.lastCookieString=H),this.lastToken}}return Ae.\u0275fac=function(H){return new(H||Ae)(_.LFG(y.K0),_.LFG(_.Lbi),_.LFG(sn))},Ae.\u0275prov=_.Yz7({token:Ae,factory:Ae.\u0275fac}),Ae})(),Rn=(()=>{class Ae{constructor(H,N){this.tokenService=H,this.headerName=N}intercept(H,N){const B=H.url.toLowerCase();if("GET"===H.method||"HEAD"===H.method||B.startsWith("http://")||B.startsWith("https://"))return N.handle(H);const ne=this.tokenService.getToken();return null!==ne&&!H.headers.has(this.headerName)&&(H=H.clone({headers:H.headers.set(this.headerName,ne)})),N.handle(H)}}return Ae.\u0275fac=function(H){return new(H||Ae)(_.LFG(bn),_.LFG(Zt))},Ae.\u0275prov=_.Yz7({token:Ae,factory:Ae.\u0275fac}),Ae})(),Un=(()=>{class Ae{constructor(H,N){this.backend=H,this.injector=N,this.chain=null}handle(H){if(null===this.chain){const N=this.injector.get(pn,[]);this.chain=N.reduceRight((B,ne)=>new gn(B,ne),this.backend)}return this.chain.handle(H)}}return Ae.\u0275fac=function(H){return new(H||Ae)(_.LFG(ae),_.LFG(_.zs3))},Ae.\u0275prov=_.Yz7({token:Ae,factory:Ae.\u0275fac}),Ae})(),Dn=(()=>{class Ae{static disable(){return{ngModule:Ae,providers:[{provide:Rn,useClass:Mn}]}}static withOptions(H={}){return{ngModule:Ae,providers:[H.cookieName?{provide:sn,useValue:H.cookieName}:[],H.headerName?{provide:Zt,useValue:H.headerName}:[]]}}}return Ae.\u0275fac=function(H){return new(H||Ae)},Ae.\u0275mod=_.oAB({type:Ae}),Ae.\u0275inj=_.cJS({providers:[Rn,{provide:pn,useExisting:Rn,multi:!0},{provide:bn,useClass:Jn},{provide:sn,useValue:"XSRF-TOKEN"},{provide:Zt,useValue:"X-XSRF-TOKEN"}]}),Ae})(),jn=(()=>{class Ae{}return Ae.\u0275fac=function(H){return new(H||Ae)},Ae.\u0275mod=_.oAB({type:Ae}),Ae.\u0275inj=_.cJS({providers:[Tt,{provide:ie,useClass:Un},Pt,{provide:ae,useExisting:Pt}],imports:[[Dn.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),Ae})()},7716:(ln,ut,P)=>{"use strict";P.d(ut,{deG:()=>Ia,tb:()=>mT,AFp:()=>fT,ip1:()=>dw,CZH:()=>m_,hGG:()=>XS,z2F:()=>Jv,sBO:()=>g,Sil:()=>Zv,_Vd:()=>Pf,EJc:()=>vT,SBq:()=>eh,qLn:()=>hu,vpe:()=>Nd,gxx:()=>Bu,tBr:()=>ss,XFs:()=>Dn,OlP:()=>yo,zs3:()=>eo,ZZ4:()=>Lv,aQg:()=>u_,soG:()=>eb,YKP:()=>Xr,v3s:()=>PS,h0i:()=>ii,PXZ:()=>DS,R0b:()=>Tc,FiY:()=>as,Lbi:()=>gT,g9A:()=>pT,n_E:()=>qv,Qsj:()=>PE,FYo:()=>a_,JOm:()=>Fs,Tiy:()=>Fv,q3G:()=>jr,tp0:()=>Ps,EAV:()=>FS,Rgc:()=>Jt,dDg:()=>wT,DyG:()=>sh,q4F:()=>jp,GfV:()=>U0,s_b:()=>kd,ifc:()=>we,eFA:()=>ST,G48:()=>yS,Gpc:()=>se,f3M:()=>is,X6Q:()=>yw,_c5:()=>KS,VLi:()=>vS,c2e:()=>_T,zSh:()=>jo,wAp:()=>Ur,vHH:()=>Re,EiD:()=>ks,mCW:()=>fa,qzn:()=>Pu,JVY:()=>zd,pB0:()=>Yd,eBb:()=>cs,L6k:()=>Kd,LAX:()=>$d,cg1:()=>wv,Tjo:()=>WS,kL8:()=>Cv,yhl:()=>xu,dqk:()=>yn,sIi:()=>Wl,CqO:()=>iv,QGY:()=>rv,F4k:()=>Sy,RDi:()=>Gi,AaK:()=>ie,z3N:()=>el,qOj:()=>Rg,TTD:()=>Fn,_Bn:()=>Jg,xp6:()=>um,uIk:()=>dn,ekj:()=>Gm,Suo:()=>zC,Xpm:()=>Ke,lG2:()=>Lr,Yz7:()=>Gt,cJS:()=>qt,oAB:()=>Cn,Yjl:()=>hr,Y36:()=>kg,_UZ:()=>Iy,BQk:()=>nv,ynx:()=>tv,qZA:()=>Um,TgZ:()=>ev,EpF:()=>Dy,n5z:()=>mr,Ikx:()=>Ev,LFG:()=>Mi,$8M:()=>ua,NdJ:()=>ov,CRH:()=>KC,O4$:()=>ir,oxw:()=>Eo,ALo:()=>VC,lcZ:()=>UC,Hsn:()=>Fg,F$t:()=>My,Q6J:()=>Ng,DdM:()=>PC,VKq:()=>xC,iGM:()=>GC,MAs:()=>j_,CHM:()=>La,LSH:()=>bo,kYT:()=>$n,Udp:()=>Bg,WFA:()=>sv,d8E:()=>Hg,YNc:()=>dy,_uU:()=>qy,Oqu:()=>gv,hij:()=>zm,Gf:()=>WC});var y=P(9765),_=P(5319),D=P(8891),C=P(6682),_e=P(8819);function ee(n){for(let r in n)if(n[r]===ee)return r;throw Error("Could not find renamed property on target object.")}function me(n,r){for(const s in r)r.hasOwnProperty(s)&&!n.hasOwnProperty(s)&&(n[s]=r[s])}function ie(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(ie).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function ae(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const G=ee({__forward_ref__:ee});function se(n){return n.__forward_ref__=se,n.toString=function(){return ie(this())},n}function oe(n){return fe(n)?n():n}function fe(n){return"function"==typeof n&&n.hasOwnProperty(G)&&n.__forward_ref__===se}class Re extends Error{constructor(r,s){super(function(n,r){return`${n?`NG0${n}: `:""}${r}`}(r,s)),this.code=r}}function ze(n){return"string"==typeof n?n:null==n?"":String(n)}function Ut(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():ze(n)}function at(n,r){const s=r?` in ${r}`:"";throw new Re("201",`No provider for ${Ut(n)} found${s}`)}function cn(n,r){null==n&&function(n,r,s,u){throw new Error(`ASSERTION ERROR: ${n}`+(null==u?"":` [Expected=> ${s} ${u} ${r} <=Actual]`))}(r,n,null,"!=")}function Gt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function qt(n){return{providers:n.providers||[],imports:n.imports||[]}}function Pt(n){return sn(n,Rn)||sn(n,pr)}function sn(n,r){return n.hasOwnProperty(r)?n[r]:null}function Jn(n){return n&&(n.hasOwnProperty(Un)||n.hasOwnProperty(ur))?n[Un]:null}const Rn=ee({\u0275prov:ee}),Un=ee({\u0275inj:ee}),pr=ee({ngInjectableDef:ee}),ur=ee({ngInjectorDef:ee});var Dn=(()=>((Dn=Dn||{})[Dn.Default=0]="Default",Dn[Dn.Host=1]="Host",Dn[Dn.Self=2]="Self",Dn[Dn.SkipSelf=4]="SkipSelf",Dn[Dn.Optional=8]="Optional",Dn))();let jn;function tn(n){const r=jn;return jn=n,r}function Ae(n,r,s){const u=Pt(n);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:s&Dn.Optional?null:void 0!==r?r:void at(ie(n),"Injector")}function H(n){return{toString:n}.toString()}var N=(()=>((N=N||{})[N.OnPush=0]="OnPush",N[N.Default=1]="Default",N))(),we=(()=>((we=we||{})[we.Emulated=0]="Emulated",we[we.None=2]="None",we[we.ShadowDom=3]="ShadowDom",we))();const Ye="undefined"!=typeof globalThis&&globalThis,mt="undefined"!=typeof window&&window,mn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Nn="undefined"!=typeof global&&global,yn=Ye||Nn||mt||mn,dt={},It=[],Te=ee({\u0275cmp:ee}),wt=ee({\u0275dir:ee}),Ot=ee({\u0275pipe:ee}),zt=ee({\u0275mod:ee}),je=ee({\u0275loc:ee}),Xe=ee({\u0275fac:ee}),Pe=ee({__NG_ELEMENT_ID__:ee});let bt=0;function Ke(n){return H(()=>{const s={},u={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:s,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===N.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||It,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||we.Emulated,id:"c",styles:n.styles||It,_:null,setInput:null,schemas:n.schemas||null,tView:null},f=n.directives,m=n.features,E=n.pipes;return u.id+=bt++,u.inputs=_r(n.inputs,s),u.outputs=_r(n.outputs),m&&m.forEach(T=>T(u)),u.directiveDefs=f?()=>("function"==typeof f?f():f).map(Ve):null,u.pipeDefs=E?()=>("function"==typeof E?E():E).map(Ct):null,u})}function Ve(n){return Hr(n)||function(n){return n[wt]||null}(n)}function Ct(n){return function(n){return n[Ot]||null}(n)}const Wt={};function Cn(n){return H(()=>{const r={type:n.type,bootstrap:n.bootstrap||It,declarations:n.declarations||It,imports:n.imports||It,exports:n.exports||It,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(Wt[n.id]=n.type),r})}function $n(n,r){return H(()=>{const s=ei(n,!0);s.declarations=r.declarations||It,s.imports=r.imports||It,s.exports=r.exports||It})}function _r(n,r){if(null==n)return dt;const s={};for(const u in n)if(n.hasOwnProperty(u)){let f=n[u],m=f;Array.isArray(f)&&(m=f[1],f=f[0]),s[f]=u,r&&(r[f]=m)}return s}const Lr=Ke;function hr(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function Hr(n){return n[Te]||null}function ei(n,r){const s=n[zt]||null;if(!s&&!0===r)throw new Error(`Type ${ie(n)} does not have '\u0275mod' property.`);return s}function bi(n){return Array.isArray(n)&&"object"==typeof n[1]}function Si(n){return Array.isArray(n)&&!0===n[1]}function Go(n){return 0!=(8&n.flags)}function Ai(n){return 2==(2&n.flags)}function So(n){return 1==(1&n.flags)}function to(n){return null!==n.template}function uo(n){return 0!=(512&n[2])}function _n(n,r){return n.hasOwnProperty(Xe)?n[Xe]:null}class Qn{constructor(r,s,u){this.previousValue=r,this.currentValue=s,this.firstChange=u}isFirstChange(){return this.firstChange}}function Fn(){return Xn}function Xn(n){return n.type.prototype.ngOnChanges&&(n.setInput=Zr),sr}function sr(){const n=qi(this),r=null==n?void 0:n.current;if(r){const s=n.previous;if(s===dt)n.previous=r;else for(let u in r)s[u]=r[u];n.current=null,this.ngOnChanges(r)}}function Zr(n,r,s,u){const f=qi(n)||function(n,r){return n[hi]=r}(n,{previous:dt,current:null}),m=f.current||(f.current={}),E=f.previous,T=this.declaredInputs[s],x=E[T];m[T]=new Qn(x&&x.currentValue,r,E===dt),n[u]=r}Fn.ngInherit=!0;const hi="__ngSimpleChanges__";function qi(n){return n[hi]||null}const Bt="http://www.w3.org/2000/svg";let $r;function Gi(n){$r=n}function $(n){return!!n.listen}const K={createRenderer:(n,r)=>void 0!==$r?$r:"undefined"!=typeof document?document:void 0};function ft(n){for(;Array.isArray(n);)n=n[0];return n}function tr(n,r){return ft(r[n])}function Nr(n,r){return ft(r[n.index])}function di(n,r){return n.data[r]}function Br(n,r){return n[r]}function Ei(n,r){const s=r[n];return bi(s)?s:s[0]}function ti(n){return 4==(4&n[2])}function ro(n){return 128==(128&n[2])}function mo(n,r){return null==r?null:n[r]}function Li(n){n[18]=0}function Ro(n,r){n[5]+=r;let s=n,u=n[3];for(;null!==u&&(1===r&&1===s[5]||-1===r&&0===s[5]);)u[5]+=r,s=u,u=u[3]}const Cr={lFrame:Ti(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function tu(){return Cr.bindingsEnabled}function Tn(){return Cr.lFrame.lView}function Wr(){return Cr.lFrame.tView}function La(n){return Cr.lFrame.contextLView=n,n[8]}function Yr(){let n=Zs();for(;null!==n&&64===n.type;)n=n.parent;return n}function Zs(){return Cr.lFrame.currentTNode}function As(n,r){const s=Cr.lFrame;s.currentTNode=n,s.isParent=r}function ge(){return Cr.lFrame.isParent}function I(){Cr.lFrame.isParent=!1}function pe(){return Cr.isInCheckNoChangesMode}function ke(n){Cr.isInCheckNoChangesMode=n}function it(){const n=Cr.lFrame;let r=n.bindingRootIndex;return-1===r&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}function an(){return Cr.lFrame.bindingIndex++}function Jr(n,r){const s=Cr.lFrame;s.bindingIndex=s.bindingRootIndex=n,ar(r)}function ar(n){Cr.lFrame.currentDirectiveIndex=n}function qr(n){const r=Cr.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}function Oi(){return Cr.lFrame.currentQueryIndex}function Bi(n){Cr.lFrame.currentQueryIndex=n}function Ko(n){const r=n[1];return 2===r.type?r.declTNode:1===r.type?n[6]:null}function co(n,r,s){if(s&Dn.SkipSelf){let f=r,m=n;for(;!(f=f.parent,null!==f||s&Dn.Host||(f=Ko(m),null===f||(m=m[15],10&f.type))););if(null===f)return!1;r=f,n=m}const u=Cr.lFrame=_o();return u.currentTNode=r,u.lView=n,!0}function Ms(n){const r=_o(),s=n[1];Cr.lFrame=r,r.currentTNode=s.firstChild,r.lView=n,r.tView=s,r.contextLView=n,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function _o(){const n=Cr.lFrame,r=null===n?null:n.child;return null===r?Ti(n):r}function Ti(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function Rs(){const n=Cr.lFrame;return Cr.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Qi=Rs;function To(){const n=Rs();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function mi(){return Cr.lFrame.selectedIndex}function Jo(n){Cr.lFrame.selectedIndex=n}function Wi(){const n=Cr.lFrame;return di(n.tView,n.selectedIndex)}function ir(){Cr.lFrame.currentNamespace=Bt}function wi(n,r){for(let s=r.directiveStart,u=r.directiveEnd;s<u;s++){const m=n.data[s].type.prototype,{ngAfterContentInit:E,ngAfterContentChecked:T,ngAfterViewInit:x,ngAfterViewChecked:z,ngOnDestroy:le}=m;E&&(n.contentHooks||(n.contentHooks=[])).push(-s,E),T&&((n.contentHooks||(n.contentHooks=[])).push(s,T),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(s,T)),x&&(n.viewHooks||(n.viewHooks=[])).push(-s,x),z&&((n.viewHooks||(n.viewHooks=[])).push(s,z),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(s,z)),null!=le&&(n.destroyHooks||(n.destroyHooks=[])).push(s,le)}}function Xo(n,r,s){Oo(n,r,3,s)}function Fi(n,r,s,u){(3&n[2])===s&&Oo(n,r,s,u)}function aa(n,r){let s=n[2];(3&s)===r&&(s&=2047,s+=1,n[2]=s)}function Oo(n,r,s,u){const m=null!=u?u:-1,E=r.length-1;let T=0;for(let x=void 0!==u?65535&n[18]:0;x<E;x++)if("number"==typeof r[x+1]){if(T=r[x],null!=u&&T>=u)break}else r[x]<0&&(n[18]+=65536),(T<m||-1==m)&&(ps(n,s,r,x),n[18]=(4294901760&n[18])+x+2),x++}function ps(n,r,s,u){const f=s[u]<0,m=s[u+1],T=n[f?-s[u]:s[u]];if(f){if(n[2]>>11<n[18]>>16&&(3&n[2])===r){n[2]+=2048;try{m.call(T)}finally{}}}else try{m.call(T)}finally{}}class es{constructor(r,s,u){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=u}}function zu(n,r,s){const u=$(n);let f=0;for(;f<s.length;){const m=s[f];if("number"==typeof m){if(0!==m)break;f++;const E=s[f++],T=s[f++],x=s[f++];u?n.setAttribute(r,T,x,E):r.setAttributeNS(E,T,x)}else{const E=m,T=s[++f];ho(E)?u&&n.setProperty(r,E,T):u?n.setAttribute(r,E,T):r.setAttribute(E,T),f++}}return f}function zn(n){return 3===n||4===n||6===n}function ho(n){return 64===n.charCodeAt(0)}function Ba(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let s=-1;for(let u=0;u<r.length;u++){const f=r[u];"number"==typeof f?s=f:0===s||Va(n,s,f,null,-1===s||2===s?r[++u]:null)}}return n}function Va(n,r,s,u,f){let m=0,E=n.length;if(-1===r)E=-1;else for(;m<n.length;){const T=n[m++];if("number"==typeof T){if(T===r){E=-1;break}if(T>r){E=m-1;break}}}for(;m<n.length;){const T=n[m];if("number"==typeof T)break;if(T===s){if(null===u)return void(null!==f&&(n[m+1]=f));if(u===n[m+1])return void(n[m+2]=f)}m++,null!==u&&m++,null!==f&&m++}-1!==E&&(n.splice(E,0,r),m=E+1),n.splice(m++,0,s),null!==u&&n.splice(m++,0,u),null!==f&&n.splice(m++,0,f)}function fr(n){return-1!==n}function yr(n){return 32767&n}function Pi(n,r){let s=function(n){return n>>16}(n),u=r;for(;s>0;)u=u[15],s--;return u}let _l=!0;function Pr(n){const r=_l;return _l=n,r}let F=0;function O(n,r){const s=ue(n,r);if(-1!==s)return s;const u=r[1];u.firstCreatePass&&(n.injectorIndex=r.length,q(u.data,n),q(r,null),q(u.blueprint,null));const f=Ee(n,r),m=n.injectorIndex;if(fr(f)){const E=yr(f),T=Pi(f,r),x=T[1].data;for(let z=0;z<8;z++)r[m+z]=T[E+z]|x[E+z]}return r[m+8]=f,m}function q(n,r){n.push(0,0,0,0,0,0,0,0,r)}function ue(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function Ee(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let s=0,u=null,f=r;for(;null!==f;){const m=f[1],E=m.type;if(u=2===E?m.declTNode:1===E?f[6]:null,null===u)return-1;if(s++,f=f[15],-1!==u.injectorIndex)return u.injectorIndex|s<<16}return-1}function st(n,r,s){!function(n,r,s){let u;"string"==typeof s?u=s.charCodeAt(0)||0:s.hasOwnProperty(Pe)&&(u=s[Pe]),null==u&&(u=s[Pe]=F++);const f=255&u;r.data[n+(f>>5)]|=1<<f}(n,r,s)}function hn(n,r,s){if(s&Dn.Optional)return n;at(r,"NodeInjector")}function Gn(n,r,s,u){if(s&Dn.Optional&&void 0===u&&(u=null),0==(s&(Dn.Self|Dn.Host))){const f=n[9],m=tn(void 0);try{return f?f.get(r,u,s&Dn.Optional):Ae(r,u,s&Dn.Optional)}finally{tn(m)}}return hn(u,r,s)}function Dr(n,r,s,u=Dn.Default,f){if(null!==n){const m=function(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(Pe)?n[Pe]:void 0;return"number"==typeof r?r>=0?255&r:zr:r}(s);if("function"==typeof m){if(!co(r,n,u))return u&Dn.Host?hn(f,s,u):Gn(r,s,u,f);try{const E=m(u);if(null!=E||u&Dn.Optional)return E;at(s)}finally{Qi()}}else if("number"==typeof m){let E=null,T=ue(n,r),x=-1,z=u&Dn.Host?r[16][6]:null;for((-1===T||u&Dn.SkipSelf)&&(x=-1===T?Ee(n,r):r[T+8],-1!==x&&oo(u,!1)?(E=r[1],T=yr(x),r=Pi(x,r)):T=-1);-1!==T;){const le=r[1];if(er(m,T,le.data)){const xe=ni(T,r,s,E,u,z);if(xe!==Vr)return xe}x=r[T+8],-1!==x&&oo(u,r[1].data[T+8]===z)&&er(m,T,r)?(E=le,T=yr(x),r=Pi(x,r)):T=-1}}}return Gn(r,s,u,f)}const Vr={};function zr(){return new Io(Yr(),Tn())}function ni(n,r,s,u,f,m){const E=r[1],T=E.data[n+8],le=ts(T,E,s,null==u?Ai(T)&&_l:u!=E&&0!=(3&T.type),f&Dn.Host&&m===T);return null!==le?ns(r,E,le,T):Vr}function ts(n,r,s,u,f){const m=n.providerIndexes,E=r.data,T=1048575&m,x=n.directiveStart,le=m>>20,He=f?T+le:n.directiveEnd;for(let yt=u?T:T+le;yt<He;yt++){const xt=E[yt];if(yt<x&&s===xt||yt>=x&&xt.type===s)return yt}if(f){const yt=E[x];if(yt&&to(yt)&&yt.type===s)return x}return null}function ns(n,r,s,u){let f=n[s];const m=r.data;if(function(n){return n instanceof es}(f)){const E=f;E.resolving&&function(n,r){throw new Re("200",`Circular dependency in DI detected for ${n}`)}(Ut(m[s]));const T=Pr(E.canSeeViewProviders);E.resolving=!0;const x=E.injectImpl?tn(E.injectImpl):null;co(n,u,Dn.Default);try{f=n[s]=E.factory(void 0,m,n,u),r.firstCreatePass&&s>=u.directiveStart&&function(n,r,s){const{ngOnChanges:u,ngOnInit:f,ngDoCheck:m}=r.type.prototype;if(u){const E=Xn(r);(s.preOrderHooks||(s.preOrderHooks=[])).push(n,E),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,E)}f&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-n,f),m&&((s.preOrderHooks||(s.preOrderHooks=[])).push(n,m),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,m))}(s,m[s],r)}finally{null!==x&&tn(x),Pr(T),E.resolving=!1,Qi()}}return f}function er(n,r,s){return!!(s[r+(n>>5)]&1<<n)}function oo(n,r){return!(n&Dn.Self||n&Dn.Host&&r)}class Io{constructor(r,s){this._tNode=r,this._lView=s}get(r,s){return Dr(this._tNode,this._lView,r,void 0,s)}}function mr(n){return H(()=>{const r=n.prototype.constructor,s=r[Xe]||Ku(r),u=Object.prototype;let f=Object.getPrototypeOf(n.prototype).constructor;for(;f&&f!==u;){const m=f[Xe]||Ku(f);if(m&&m!==s)return m;f=Object.getPrototypeOf(f)}return m=>new m})}function Ku(n){return fe(n)?()=>{const r=Ku(oe(n));return r&&r()}:_n(n)}function ua(n){return function(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const s=n.attrs;if(s){const u=s.length;let f=0;for(;f<u;){const m=s[f];if(zn(m))break;if(0===m)f+=2;else if("number"==typeof m)for(f++;f<u&&"string"==typeof s[f];)f++;else{if(m===r)return s[f+1];f+=2}}}return null}(Yr(),n)}const Ca="__parameters__";function Ta(n,r,s){return H(()=>{const u=function(n){return function(...s){if(n){const u=n(...s);for(const f in u)this[f]=u[f]}}}(r);function f(...m){if(this instanceof f)return u.apply(this,m),this;const E=new f(...m);return T.annotation=E,T;function T(x,z,le){const xe=x.hasOwnProperty(Ca)?x[Ca]:Object.defineProperty(x,Ca,{value:[]})[Ca];for(;xe.length<=le;)xe.push(null);return(xe[le]=xe[le]||[]).push(E),x}}return s&&(f.prototype=Object.create(s.prototype)),f.prototype.ngMetadataName=n,f.annotationCls=f,f})}class yo{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=Gt({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Ia=new yo("AnalyzeForEntryComponents"),sh=Function;function vs(n,r){void 0===r&&(r=n);for(let s=0;s<n.length;s++){let u=n[s];Array.isArray(u)?(r===n&&(r=n.slice(0,s)),vs(u,r)):r!==n&&r.push(u)}return r}function xo(n,r){n.forEach(s=>Array.isArray(s)?xo(s,r):r(s))}function qu(n,r,s){r>=n.length?n.push(s):n.splice(r,0,s)}function Cu(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function Tu(n,r){const s=[];for(let u=0;u<n;u++)s.push(r);return s}function Js(n,r,s){let u=ja(n,r);return u>=0?n[1|u]=s:(u=~u,function(n,r,s,u){let f=n.length;if(f==r)n.push(s,u);else if(1===f)n.push(u,n[0]),n[0]=s;else{for(f--,n.push(n[f-1],n[f]);f>r;)n[f]=n[f-2],f--;n[r]=s,n[r+1]=u}}(n,u,r,s)),u}function la(n,r){const s=ja(n,r);if(s>=0)return n[1|s]}function ja(n,r){return function(n,r,s){let u=0,f=n.length>>s;for(;f!==u;){const m=u+(f-u>>1),E=n[m<<s];if(r===E)return m<<s;E>r?f=m:u=m+1}return~(f<<s)}(n,r,1)}const Qu={},lh="__NG_DI_FLAG__",Xs="ngTempTokenPath",Cl=/\n/gm,ch="__source",Zu=ee({provide:String,useValue:ee});let Us;function Ga(n){const r=Us;return Us=n,r}function Au(n,r=Dn.Default){if(void 0===Us)throw new Error("inject() must be called from an injection context");return null===Us?Ae(n,void 0,r):Us.get(n,r&Dn.Optional?null:void 0,r)}function Mi(n,r=Dn.Default){return(jn||Au)(oe(n),r)}const is=Mi;function Ru(n){const r=[];for(let s=0;s<n.length;s++){const u=oe(n[s]);if(Array.isArray(u)){if(0===u.length)throw new Error("Arguments array must have arguments.");let f,m=Dn.Default;for(let E=0;E<u.length;E++){const T=u[E],x=Qh(T);"number"==typeof x?-1===x?f=T.token:m|=x:f=T}r.push(Mi(f,m))}else r.push(Mi(u))}return r}function os(n,r){return n[lh]=r,n.prototype[lh]=r,n}function Qh(n){return n[lh]}function Zh(n,r,s,u){const f=n[Xs];throw r[ch]&&f.unshift(r[ch]),n.message=function(n,r,s,u=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let f=ie(r);if(Array.isArray(r))f=r.map(ie).join(" -> ");else if("object"==typeof r){let m=[];for(let E in r)if(r.hasOwnProperty(E)){let T=r[E];m.push(E+":"+("string"==typeof T?JSON.stringify(T):ie(T)))}f=`{${m.join(", ")}}`}return`${s}${u?"("+u+")":""}[${f}]: ${n.replace(Cl,"\n  ")}`}("\n"+n.message,f,s,u),n.ngTokenPath=f,n[Xs]=null,n}const ss=os(Ta("Inject",n=>({token:n})),-1),as=os(Ta("Optional"),8),Ps=os(Ta("SkipSelf"),4);let ls;function bs(n){var r;return(null===(r=function(){if(void 0===ls&&(ls=null,yn.trustedTypes))try{ls=yn.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return ls}())||void 0===r?void 0:r.createHTML(n))||n}class Ka{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Gd extends Ka{getTypeName(){return"HTML"}}class hh extends Ka{getTypeName(){return"Style"}}class Wd extends Ka{getTypeName(){return"Script"}}class Mc extends Ka{getTypeName(){return"URL"}}class Rc extends Ka{getTypeName(){return"ResourceURL"}}function el(n){return n instanceof Ka?n.changingThisBreaksApplicationSecurity:n}function Pu(n,r){const s=xu(n);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===r}function xu(n){return n instanceof Ka&&n.getTypeName()||null}function zd(n){return new Gd(n)}function Kd(n){return new hh(n)}function cs(n){return new Wd(n)}function $d(n){return new Mc(n)}function Yd(n){return new Rc(n)}class ea{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const s=(new window.DOMParser).parseFromString(bs(r),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(r):(s.removeChild(s.firstChild),s)}catch(s){return null}}}class Oc{constructor(r){if(this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const s=this.inertDocument.createElement("html");this.inertDocument.appendChild(s);const u=this.inertDocument.createElement("body");s.appendChild(u)}}getInertBodyElement(r){const s=this.inertDocument.createElement("template");if("content"in s)return s.innerHTML=bs(r),s;const u=this.inertDocument.createElement("body");return u.innerHTML=bs(r),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(r){const s=r.attributes;for(let f=s.length-1;0<f;f--){const E=s.item(f).name;("xmlns:ns1"===E||0===E.indexOf("ns1:"))&&r.removeAttribute(E)}let u=r.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const Ml=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,tl=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function fa(n){return(n=String(n)).match(Ml)||n.match(tl)?n:"unsafe:"+n}function xs(n){const r={};for(const s of n.split(","))r[s]=!0;return r}function Ma(...n){const r={};for(const s of n)for(const u in s)s.hasOwnProperty(u)&&(r[u]=!0);return r}const td=xs("area,br,col,hr,img,wbr"),Rl=xs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),qd=xs("rp,rt"),tc=Ma(td,Ma(Rl,xs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ma(qd,xs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ma(qd,Rl)),au=xs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),uu=xs("srcset"),Ol=Ma(au,uu,xs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),xs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),dh=xs("script,style,template");class $a{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let s=r.firstChild,u=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?u=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,u&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let f=this.checkClobberedElement(s,s.nextSibling);if(f){s=f;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(r){const s=r.nodeName.toLowerCase();if(!tc.hasOwnProperty(s))return this.sanitizedSomething=!0,!dh.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const u=r.attributes;for(let f=0;f<u.length;f++){const m=u.item(f),E=m.name,T=E.toLowerCase();if(!Ol.hasOwnProperty(T)){this.sanitizedSomething=!0;continue}let x=m.value;au[T]&&(x=fa(x)),uu[T]&&(n=x,x=(n=String(n)).split(",").map(r=>fa(r.trim())).join(", ")),this.buf.push(" ",E,'="',pa(x),'"')}var n;return this.buf.push(">"),!0}endElement(r){const s=r.nodeName.toLowerCase();tc.hasOwnProperty(s)&&!td.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(r){this.buf.push(pa(r))}checkClobberedElement(r,s){if(s&&(r.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return s}}const ku=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,rl=/([^\#-~ |!])/g;function pa(n){return n.replace(/&/g,"&amp;").replace(ku,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(rl,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Es;function ks(n,r){let s=null;try{Es=Es||function(n){const r=new Oc(n);return function(){try{return!!(new window.DOMParser).parseFromString(bs(""),"text/html")}catch(n){return!1}}()?new ea(r):r}(n);let u=r?String(r):"";s=Es.getInertBodyElement(u);let f=5,m=u;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,u=m,m=s.innerHTML,s=Es.getInertBodyElement(u)}while(u!==m);return bs((new $a).sanitizeChildren(hs(s)||s))}finally{if(s){const u=hs(s)||s;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function hs(n){return"content"in n&&function(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var jr=(()=>((jr=jr||{})[jr.NONE=0]="NONE",jr[jr.HTML=1]="HTML",jr[jr.STYLE=2]="STYLE",jr[jr.SCRIPT=3]="SCRIPT",jr[jr.URL=4]="URL",jr[jr.RESOURCE_URL=5]="RESOURCE_URL",jr))();function bo(n){const r=function(){const n=Tn();return n&&n[12]}();return r?r.sanitize(jr.URL,n)||"":Pu(n,"URL")?el(n):fa(ze(n))}const Vn="__ngContext__";function ws(n,r){n[Vn]=r}function nd(n){const r=function(n){return n[Vn]||null}(n);return r?Array.isArray(r)?r:r.lView:null}function sl(n){return n.ngOriginalError}function kc(n,...r){n.error(...r)}class hu{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r),u=this._findContext(r),f=(n=r)&&n.ngErrorLogger||kc;var n;f(this._console,"ERROR",r),s&&f(this._console,"ORIGINAL ERROR",s),u&&f(this._console,"ERROR CONTEXT",u)}_findContext(r){return r?r.ngDebugContext||this._findContext(sl(r)):null}_findOriginalError(r){let s=r&&sl(r);for(;s&&sl(s);)s=sl(s);return s||null}}const yh=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(yn))();function pu(n){return n instanceof Function?n():n}var Fs=(()=>((Fs=Fs||{})[Fs.Important=1]="Important",Fs[Fs.DashCase=2]="DashCase",Fs))();function kl(n,r){return undefined(n,r)}function Fl(n){const r=n[3];return Si(r)?r[3]:r}function Ll(n){return Wf(n[13])}function ad(n){return Wf(n[4])}function Wf(n){for(;null!==n&&!Si(n);)n=n[4];return n}function sc(n,r,s,u,f){if(null!=u){let m,E=!1;Si(u)?m=u:bi(u)&&(E=!0,u=u[0]);const T=ft(u);0===n&&null!==s?null==f?Me(r,s,T):X(r,s,T,f||null,!0):1===n&&null!==s?X(r,s,T,f||null,!0):2===n?function(n,r,s){const u=ht(n,r);u&&function(n,r,s,u){$(n)?n.removeChild(r,s,u):r.removeChild(s)}(n,u,r,s)}(r,T,E):3===n&&r.destroyNode(T),null!=m&&function(n,r,s,u,f){const m=s[7];m!==ft(s)&&sc(r,n,u,m,f);for(let T=10;T<s.length;T++){const x=s[T];Vc(x[1],x,n,r,u,m)}}(r,n,m,s,f)}}function ud(n,r,s){return $(n)?n.createElement(r,s):null===s?n.createElement(r):n.createElementNS(s,r)}function uf(n,r){const s=n[9],u=s.indexOf(r),f=r[3];1024&r[2]&&(r[2]&=-1025,Ro(f,-1)),s.splice(u,1)}function lf(n,r){if(n.length<=10)return;const s=10+r,u=n[s];if(u){const f=u[17];null!==f&&f!==n&&uf(f,u),r>0&&(n[s-1][4]=u[4]);const m=Cu(n,10+r);!function(n,r){Vc(n,r,r[11],2,null,null),r[0]=null,r[6]=null}(u[1],u);const E=m[19];null!==E&&E.detachView(m[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function d(n,r){if(!(256&r[2])){const s=r[11];$(s)&&s.destroyNode&&Vc(n,r,s,3,null,null),function(n){let r=n[13];if(!r)return h(n[1],n);for(;r;){let s=null;if(bi(r))s=r[13];else{const u=r[10];u&&(s=u)}if(!s){for(;r&&!r[4]&&r!==n;)bi(r)&&h(r[1],r),r=r[3];null===r&&(r=n),bi(r)&&h(r[1],r),s=r&&r[4]}r=s}}(r)}}function h(n,r){if(!(256&r[2])){r[2]&=-129,r[2]|=256,function(n,r){let s;if(null!=n&&null!=(s=n.destroyHooks))for(let u=0;u<s.length;u+=2){const f=r[s[u]];if(!(f instanceof es)){const m=s[u+1];if(Array.isArray(m))for(let E=0;E<m.length;E+=2){const T=f[m[E]],x=m[E+1];try{x.call(T)}finally{}}else try{m.call(f)}finally{}}}}(n,r),function(n,r){const s=n.cleanup,u=r[7];let f=-1;if(null!==s)for(let m=0;m<s.length-1;m+=2)if("string"==typeof s[m]){const E=s[m+1],T="function"==typeof E?E(r):ft(r[E]),x=u[f=s[m+2]],z=s[m+3];"boolean"==typeof z?T.removeEventListener(s[m],x,z):z>=0?u[f=z]():u[f=-z].unsubscribe(),m+=2}else{const E=u[f=s[m+1]];s[m].call(E)}if(null!==u){for(let m=f+1;m<u.length;m++)u[m]();r[7]=null}}(n,r),1===r[1].type&&$(r[11])&&r[11].destroy();const s=r[17];if(null!==s&&Si(r[3])){s!==r[3]&&uf(s,r);const u=r[19];null!==u&&u.detachView(n)}}}function M(n,r,s){return function(n,r,s){let u=r;for(;null!==u&&40&u.type;)u=(r=u).parent;if(null===u)return s[0];if(2&u.flags){const f=n.data[u.directiveStart].encapsulation;if(f===we.None||f===we.Emulated)return null}return Nr(u,s)}(n,r.parent,s)}function X(n,r,s,u,f){$(n)?n.insertBefore(r,s,u,f):r.insertBefore(s,u,f)}function Me(n,r,s){$(n)?n.appendChild(r,s):r.appendChild(s)}function Be(n,r,s,u,f){null!==u?X(n,r,s,u,f):Me(n,r,s)}function ht(n,r){return $(n)?n.parentNode(r):r.parentNode}function fn(n,r,s){return qn(n,r,s)}let qn=function(n,r,s){return 40&n.type?Nr(n,s):null};function Qr(n,r,s,u){const f=M(n,u,r),m=r[11],T=fn(u.parent||r[6],u,r);if(null!=f)if(Array.isArray(s))for(let x=0;x<s.length;x++)Be(m,f,s[x],T,!1);else Be(m,f,s,T,!1)}function Do(n,r){if(null!==r){const s=r.type;if(3&s)return Nr(r,n);if(4&s)return Lc(-1,n[r.index]);if(8&s){const u=r.child;if(null!==u)return Do(n,u);{const f=n[r.index];return Si(f)?Lc(-1,f):ft(f)}}if(32&s)return kl(r,n)()||ft(n[r.index]);{const u=Xi(n,r);return null!==u?Array.isArray(u)?u[0]:Do(Fl(n[16]),u):Do(n,r.next)}}return null}function Xi(n,r){return null!==r?n[16][6].projection[r.projection]:null}function Lc(n,r){const s=10+n+1;if(s<r.length){const u=r[s],f=u[1].firstChild;if(null!==f)return Do(u,f)}return r[7]}function Bc(n,r,s,u,f,m,E){for(;null!=s;){const T=u[s.index],x=s.type;if(E&&0===r&&(T&&ws(ft(T),u),s.flags|=4),64!=(64&s.flags))if(8&x)Bc(n,r,s.child,u,f,m,!1),sc(r,n,f,T,m);else if(32&x){const z=kl(s,u);let le;for(;le=z();)sc(r,n,f,le,m);sc(r,n,f,T,m)}else 16&x?Kf(n,r,u,s,f,m):sc(r,n,f,T,m);s=E?s.projectionNext:s.next}}function Vc(n,r,s,u,f,m){Bc(s,u,n.firstChild,r,f,m,!1)}function Kf(n,r,s,u,f,m){const E=s[16],x=E[6].projection[u.projection];if(Array.isArray(x))for(let z=0;z<x.length;z++)sc(r,n,f,x[z],m);else Bc(n,r,x,E[3],f,m,!0)}function Xp(n,r,s){$(n)?n.setAttribute(r,"style",s):r.style.cssText=s}function cf(n,r,s){$(n)?""===s?n.removeAttribute(r,"class"):n.setAttribute(r,"class",s):r.className=s}function cd(n,r,s){let u=n.length;for(;;){const f=n.indexOf(r,s);if(-1===f)return f;if(0===f||n.charCodeAt(f-1)<=32){const m=r.length;if(f+m===u||n.charCodeAt(f+m)<=32)return f}s=f+1}}const hd="ng-template";function dd(n,r,s){let u=0;for(;u<n.length;){let f=n[u++];if(s&&"class"===f){if(f=n[u],-1!==cd(f.toLowerCase(),r,0))return!0}else if(1===f){for(;u<n.length&&"string"==typeof(f=n[u++]);)if(f.toLowerCase()===r)return!0;return!1}}return!1}function fd(n){return 4===n.type&&n.value!==hd}function Uc(n,r,s){return r===(4!==n.type||s?n.value:hd)}function Yf(n,r,s){let u=4;const f=n.attrs||[],m=function(n){for(let r=0;r<n.length;r++)if(zn(n[r]))return r;return n.length}(f);let E=!1;for(let T=0;T<r.length;T++){const x=r[T];if("number"!=typeof x){if(!E)if(4&u){if(u=2|1&u,""!==x&&!Uc(n,x,s)||""===x&&1===r.length){if(gu(u))return!1;E=!0}}else{const z=8&u?x:r[++T];if(8&u&&null!==n.attrs){if(!dd(n.attrs,z,s)){if(gu(u))return!1;E=!0}continue}const xe=w_(8&u?"class":x,f,fd(n),s);if(-1===xe){if(gu(u))return!1;E=!0;continue}if(""!==z){let He;He=xe>m?"":f[xe+1].toLowerCase();const yt=8&u?He:null;if(yt&&-1!==cd(yt,z,0)||2&u&&z!==He){if(gu(u))return!1;E=!0}}}}else{if(!E&&!gu(u)&&!gu(x))return!1;if(E&&gu(x))continue;E=!1,u=x|1&u}}return gu(u)||E}function gu(n){return 0==(1&n)}function w_(n,r,s,u){if(null===r)return-1;let f=0;if(u||!s){let m=!1;for(;f<r.length;){const E=r[f];if(E===n)return f;if(3===E||6===E)m=!0;else{if(1===E||2===E){let T=r[++f];for(;"string"==typeof T;)T=r[++f];continue}if(4===E)break;if(0===E){f+=4;continue}}f+=m?1:2}return-1}return function(n,r){let s=n.indexOf(4);if(s>-1)for(s++;s<n.length;){const u=n[s];if("number"==typeof u)return-1;if(u===r)return s;s++}return-1}(r,n)}function qf(n,r,s=!1){for(let u=0;u<r.length;u++)if(Yf(n,r[u],s))return!0;return!1}function eg(n,r){e:for(let s=0;s<r.length;s++){const u=r[s];if(n.length===u.length){for(let f=0;f<n.length;f++)if(n[f]!==u[f])continue e;return!0}}return!1}function df(n,r){return n?":not("+r.trim()+")":r}function Ch(n){let r=n[0],s=1,u=2,f="",m=!1;for(;s<n.length;){let E=n[s];if("string"==typeof E)if(2&u){const T=n[++s];f+="["+E+(T.length>0?'="'+T+'"':"")+"]"}else 8&u?f+="."+E:4&u&&(f+=" "+E);else""!==f&&!gu(E)&&(r+=df(m,f),f=""),u=E,m=m||!gu(u);s++}return""!==f&&(r+=df(m,f)),r}const ri={};function um(n){Zf(Wr(),Tn(),mi()+n,pe())}function Zf(n,r,s,u){if(!u)if(3==(3&r[2])){const m=n.preOrderCheckHooks;null!==m&&Xo(r,m,s)}else{const m=n.preOrderHooks;null!==m&&Fi(r,m,0,s)}Jo(s)}function Jf(n,r){return n<<17|r<<2}function ul(n){return n>>17&32767}function ll(n){return 2|n}function mu(n){return(131068&n)>>2}function md(n,r){return-131069&n|r<<2}function ac(n){return 1|n}function wd(n,r){const s=n.contentQueries;if(null!==s)for(let u=0;u<s.length;u+=2){const f=s[u],m=s[u+1];if(-1!==m){const E=n.data[m];Bi(f),E.contentQueries(2,r[m],m)}}}function Ih(n,r,s,u,f,m,E,T,x,z){const le=r.blueprint.slice();return le[0]=f,le[2]=140|u,Li(le),le[3]=le[15]=n,le[8]=s,le[10]=E||n&&n[10],le[11]=T||n&&n[11],le[12]=x||n&&n[12]||null,le[9]=z||n&&n[9]||null,le[6]=m,le[16]=2==r.type?n[16]:le,le}function cc(n,r,s,u,f){let m=n.data[r];if(null===m)m=function(n,r,s,u,f){const m=Zs(),E=ge(),x=n.data[r]=function(n,r,s,u,f,m){return{type:s,index:u,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,E?m:m&&m.parent,s,r,u,f);return null===n.firstChild&&(n.firstChild=x),null!==m&&(E?null==m.child&&null!==x.parent&&(m.child=x):null===m.next&&(m.next=x)),x}(n,r,s,u,f),Cr.lFrame.inI18n&&(m.flags|=64);else if(64&m.type){m.type=s,m.value=u,m.attrs=f;const E=function(){const n=Cr.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}();m.injectorIndex=null===E?-1:E.injectorIndex}return As(m,!0),m}function Dh(n,r,s,u){if(0===s)return-1;const f=r.length;for(let m=0;m<s;m++)r.push(u),n.blueprint.push(u),n.data.push(null);return f}function Sh(n,r,s){Ms(r);try{const u=n.viewQuery;null!==u&&zc(1,u,s);const f=n.template;null!==f&&Mh(n,r,f,1,s),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&wd(n,r),n.staticViewQueries&&zc(2,n.viewQuery,s);const m=n.components;null!==m&&function(n,r){for(let s=0;s<r.length;s++)Tm(n,r[s])}(r,m)}catch(u){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),u}finally{r[2]&=-5,To()}}function Ah(n,r,s,u){const f=r[2];if(256==(256&f))return;Ms(r);const m=pe();try{Li(r),function(n){Cr.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==s&&Mh(n,r,s,2,u);const E=3==(3&f);if(!m)if(E){const z=n.preOrderCheckHooks;null!==z&&Xo(r,z,null)}else{const z=n.preOrderHooks;null!==z&&Fi(r,z,0,null),aa(r,0)}if(function(n){for(let r=Ll(n);null!==r;r=ad(r)){if(!r[2])continue;const s=r[9];for(let u=0;u<s.length;u++){const f=s[u],m=f[3];0==(1024&f[2])&&Ro(m,1),f[2]|=1024}}}(r),function(n){for(let r=Ll(n);null!==r;r=ad(r))for(let s=10;s<r.length;s++){const u=r[s],f=u[1];ro(u)&&Ah(f,u,f.template,u[8])}}(r),null!==n.contentQueries&&wd(n,r),!m)if(E){const z=n.contentCheckHooks;null!==z&&Xo(r,z)}else{const z=n.contentHooks;null!==z&&Fi(r,z,1),aa(r,1)}!function(n,r){const s=n.hostBindingOpCodes;if(null!==s)try{for(let u=0;u<s.length;u++){const f=s[u];if(f<0)Jo(~f);else{const m=f,E=s[++u],T=s[++u];Jr(E,m),T(2,r[m])}}}finally{Jo(-1)}}(n,r);const T=n.components;null!==T&&function(n,r){for(let s=0;s<r.length;s++)bp(n,r[s])}(r,T);const x=n.viewQuery;if(null!==x&&zc(2,x,u),!m)if(E){const z=n.viewCheckHooks;null!==z&&Xo(r,z)}else{const z=n.viewHooks;null!==z&&Fi(r,z,2),aa(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),m||(r[2]&=-73),1024&r[2]&&(r[2]&=-1025,Ro(r[3],-1))}finally{To()}}function mf(n,r,s,u){const f=r[10],m=!pe(),E=ti(r);try{m&&!E&&f.begin&&f.begin(),E&&Sh(n,r,u),Ah(n,r,s,u)}finally{m&&!E&&f.end&&f.end()}}function Mh(n,r,s,u,f){const m=mi(),E=2&u;try{Jo(-1),E&&r.length>20&&Zf(n,r,20,pe()),s(u,f)}finally{Jo(m)}}function Gc(n,r,s){if(Go(r)){const f=r.directiveEnd;for(let m=r.directiveStart;m<f;m++){const E=n.data[m];E.contentQueries&&E.contentQueries(1,s[m],m)}}}function Rh(n,r,s){!tu()||(function(n,r,s,u){const f=s.directiveStart,m=s.directiveEnd;n.firstCreatePass||O(s,r),ws(u,r);const E=s.initialInputs;for(let T=f;T<m;T++){const x=n.data[T],z=to(x);z&&Cm(r,s,x);const le=ns(r,n,T,s);ws(le,r),null!==E&&pg(0,T-f,le,x,0,E),z&&(Ei(s.index,r)[8]=le)}}(n,r,s,Nr(s,r)),128==(128&s.flags)&&function(n,r,s){const u=s.directiveStart,f=s.directiveEnd,E=s.index,T=Cr.lFrame.currentDirectiveIndex;try{Jo(E);for(let x=u;x<f;x++){const z=n.data[x],le=r[x];ar(x),(null!==z.hostBindings||0!==z.hostVars||null!==z.hostAttrs)&&mp(z,le)}}finally{Jo(-1),ar(T)}}(n,r,s))}function _f(n,r,s=Nr){const u=r.localNames;if(null!==u){let f=r.index+1;for(let m=0;m<u.length;m+=2){const E=u[m+1],T=-1===E?s(r,n):n[E];n[f++]=T}}}function _m(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=Oh(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):r}function Oh(n,r,s,u,f,m,E,T,x,z){const le=20+u,xe=le+f,He=function(n,r){const s=[];for(let u=0;u<r;u++)s.push(u<n?null:ri);return s}(le,xe),yt="function"==typeof z?z():z;return He[1]={type:n,blueprint:He,template:s,queries:null,viewQuery:T,declTNode:r,data:He.slice().fill(null,le),bindingStartIndex:le,expandoStartIndex:xe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof E?E():E,firstChild:null,schemas:x,consts:yt,incompleteFirstPass:!1}}function ug(n,r,s,u){const f=Vl(r);null===s?f.push(u):(f.push(s),n.firstCreatePass&&fc(n).push(u,f.length-1))}function lp(n,r,s){for(let u in n)if(n.hasOwnProperty(u)){const f=n[u];(s=null===s?{}:s).hasOwnProperty(u)?s[u].push(r,f):s[u]=[r,f]}return s}function Qa(n,r,s,u,f,m,E,T){const x=Nr(r,s);let le,z=r.inputs;!T&&null!=z&&(le=z[u])?(pc(n,s,le,u,f),Ai(r)&&function(n,r){const s=Ei(r,n);16&s[2]||(s[2]|=64)}(s,r.index)):3&r.type&&(u=function(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(u),f=null!=E?E(f,r.value||"",u):f,$(m)?m.setProperty(x,u,f):ho(u)||(x.setProperty?x.setProperty(u,f):x[u]=f))}function dp(n,r,s,u){let f=!1;if(tu()){const m=function(n,r,s){const u=n.directiveRegistry;let f=null;if(u)for(let m=0;m<u.length;m++){const E=u[m];qf(s,E.selectors,!1)&&(f||(f=[]),st(O(s,r),n,E.type),to(E)?(_p(n,s),f.unshift(E)):f.push(E))}return f}(n,r,s),E=null===u?null:{"":-1};if(null!==m){f=!0,vf(s,n.data.length,m.length);for(let le=0;le<m.length;le++){const xe=m[le];xe.providersResolver&&xe.providersResolver(xe)}let T=!1,x=!1,z=Dh(n,r,m.length,null);for(let le=0;le<m.length;le++){const xe=m[le];s.mergedAttrs=Ba(s.mergedAttrs,xe.hostAttrs),yf(n,s,r,z,xe),fg(z,xe,E),null!==xe.contentQueries&&(s.flags|=8),(null!==xe.hostBindings||null!==xe.hostAttrs||0!==xe.hostVars)&&(s.flags|=128);const He=xe.type.prototype;!T&&(He.ngOnChanges||He.ngOnInit||He.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(s.index),T=!0),!x&&(He.ngOnChanges||He.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(s.index),x=!0),z++}!function(n,r){const u=r.directiveEnd,f=n.data,m=r.attrs,E=[];let T=null,x=null;for(let z=r.directiveStart;z<u;z++){const le=f[z],xe=le.inputs,He=null===m||fd(r)?null:Gs(xe,m);E.push(He),T=lp(xe,z,T),x=lp(le.outputs,z,x)}null!==T&&(T.hasOwnProperty("class")&&(r.flags|=16),T.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=E,r.inputs=T,r.outputs=x}(n,s)}E&&function(n,r,s){if(r){const u=n.localNames=[];for(let f=0;f<r.length;f+=2){const m=s[r[f+1]];if(null==m)throw new Re("301",`Export of name '${r[f+1]}' not found!`);u.push(r[f],m)}}}(s,u,E)}return s.mergedAttrs=Ba(s.mergedAttrs,s.attrs),f}function hc(n,r,s,u,f,m){const E=m.hostBindings;if(E){let T=n.hostBindingOpCodes;null===T&&(T=n.hostBindingOpCodes=[]);const x=~r.index;(function(n){let r=n.length;for(;r>0;){const s=n[--r];if("number"==typeof s&&s<0)return s}return 0})(T)!=x&&T.push(x),T.push(u,f,E)}}function mp(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function _p(n,r){r.flags|=2,(n.components||(n.components=[])).push(r.index)}function fg(n,r,s){if(s){if(r.exportAs)for(let u=0;u<r.exportAs.length;u++)s[r.exportAs[u]]=n;to(r)&&(s[""]=n)}}function vf(n,r,s){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+s,n.providerIndexes=r}function yf(n,r,s,u,f){n.data[u]=f;const m=f.factory||(f.factory=_n(f.type)),E=new es(m,to(f),null);n.blueprint[u]=E,s[u]=E,hc(n,r,0,u,Dh(n,s,f.hostVars,ri),f)}function Cm(n,r,s){const u=Nr(r,n),f=_m(s),m=n[10],E=Td(n,Ih(n,f,null,s.onPush?64:16,u,r,m,m.createRenderer(u,s),null,null));n[r.index]=E}function Pa(n,r,s,u,f,m){const E=Nr(n,r);!function(n,r,s,u,f,m,E){if(null==m)$(n)?n.removeAttribute(r,f,s):r.removeAttribute(f);else{const T=null==E?ze(m):E(m,u||"",f);$(n)?n.setAttribute(r,f,T,s):s?r.setAttributeNS(s,f,T):r.setAttribute(f,T)}}(r[11],E,m,n.value,s,u,f)}function pg(n,r,s,u,f,m){const E=m[r];if(null!==E){const T=u.setInput;for(let x=0;x<E.length;){const z=E[x++],le=E[x++],xe=E[x++];null!==T?u.setInput(s,xe,z,le):s[le]=xe}}}function Gs(n,r){let s=null,u=0;for(;u<r.length;){const f=r[u];if(0!==f)if(5!==f){if("number"==typeof f)break;n.hasOwnProperty(f)&&(null===s&&(s=[]),s.push(f,n[f],r[u+1])),u+=2}else u+=2;else u+=4}return s}function bf(n,r,s,u){return new Array(n,!0,!1,r,null,0,u,s,null,null)}function bp(n,r){const s=Ei(r,n);if(ro(s)){const u=s[1];80&s[2]?Ah(u,s,u.template,s[8]):s[5]>0&&Cd(s)}}function Cd(n){for(let u=Ll(n);null!==u;u=ad(u))for(let f=10;f<u.length;f++){const m=u[f];if(1024&m[2]){const E=m[1];Ah(E,m,E.template,m[8])}else m[5]>0&&Cd(m)}const s=n[1].components;if(null!==s)for(let u=0;u<s.length;u++){const f=Ei(s[u],n);ro(f)&&f[5]>0&&Cd(f)}}function Tm(n,r){const s=Ei(r,n),u=s[1];(function(n,r){for(let s=r.length;s<n.blueprint.length;s++)r.push(n.blueprint[s])})(u,s),Sh(u,s,s[8])}function Td(n,r){return n[13]?n[14][4]=r:n[13]=r,n[14]=r,r}function Ef(n){for(;n;){n[2]|=64;const r=Fl(n);if(uo(n)&&!r)return n;n=r}return null}function dc(n,r,s){const u=r[10];u.begin&&u.begin();try{Ah(n,r,n.template,s)}catch(f){throw Vo(r,f),f}finally{u.end&&u.end()}}function Ep(n){!function(n){for(let r=0;r<n.components.length;r++){const s=n.components[r],u=nd(s),f=u[1];mf(f,u,f.template,s)}}(n[8])}function zc(n,r,s){Bi(0),r(n,s)}const vg=(()=>Promise.resolve(null))();function Vl(n){return n[7]||(n[7]=[])}function fc(n){return n.cleanup||(n.cleanup=[])}function Ao(n,r,s){return(null===n||to(n))&&(s=function(n){for(;Array.isArray(n);){if("object"==typeof n[1])return n;n=n[0]}return null}(s[r.index])),s[11]}function Vo(n,r){const s=n[9],u=s?s.get(hu,null):null;u&&u.handleError(r)}function pc(n,r,s,u,f){for(let m=0;m<s.length;){const E=s[m++],T=s[m++],x=r[E],z=n.data[E];null!==z.setInput?z.setInput(x,f,u,T):x[T]=f}}function Ul(n,r,s){const u=tr(r,n);!function(n,r,s){$(n)?n.setValue(r,s):r.textContent=s}(n[11],u,s)}function jl(n,r,s){let u=s?n.styles:null,f=s?n.classes:null,m=0;if(null!==r)for(let E=0;E<r.length;E++){const T=r[E];"number"==typeof T?m=T:1==m?f=ae(f,T):2==m&&(u=ae(u,T+": "+r[++E]+";"))}s?n.styles=u:n.stylesWithoutHost=u,s?n.classes=f:n.classesWithoutHost=f}const Bu=new yo("INJECTOR",-1);class bg{get(r,s=Qu){if(s===Qu){const u=new Error(`NullInjectorError: No provider for ${ie(r)}!`);throw u.name="NullInjectorError",u}return s}}const jo=new yo("Set Injector scope."),Fo={},Ls={};let Cp;function Eg(){return void 0===Cp&&(Cp=new bg),Cp}function _u(n,r=null,s=null,u){return new Kc(n,s,r||Eg(),u)}class Kc{constructor(r,s,u,f=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const m=[];s&&xo(s,T=>this.processProvider(T,r,s)),xo([r],T=>this.processInjectorType(T,[],m)),this.records.set(Bu,mc(void 0,this));const E=this.records.get(jo);this.scope=null!=E?E.value:null,this.source=f||("object"==typeof r?null:ie(r))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(r=>r.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(r,s=Qu,u=Dn.Default){this.assertNotDestroyed();const f=Ga(this),m=tn(void 0);try{if(!(u&Dn.SkipSelf)){let T=this.records.get(r);if(void 0===T){const x=("function"==typeof(n=r)||"object"==typeof n&&n instanceof yo)&&Pt(r);T=x&&this.injectableDefInScope(x)?mc(gc(r),Fo):null,this.records.set(r,T)}if(null!=T)return this.hydrate(r,T)}return(u&Dn.Self?Eg():this.parent).get(r,s=u&Dn.Optional&&s===Qu?null:s)}catch(E){if("NullInjectorError"===E.name){if((E[Xs]=E[Xs]||[]).unshift(ie(r)),f)throw E;return Zh(E,r,"R3InjectorError",this.source)}throw E}finally{tn(m),Ga(f)}var n}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(r=>this.get(r))}toString(){const r=[];return this.records.forEach((u,f)=>r.push(ie(f))),`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(r,s,u){if(!(r=oe(r)))return!1;let f=Jn(r);const m=null==f&&r.ngModule||void 0,E=void 0===m?r:m,T=-1!==u.indexOf(E);if(void 0!==m&&(f=Jn(m)),null==f)return!1;if(null!=f.imports&&!T){let le;u.push(E);try{xo(f.imports,xe=>{this.processInjectorType(xe,s,u)&&(void 0===le&&(le=[]),le.push(xe))})}finally{}if(void 0!==le)for(let xe=0;xe<le.length;xe++){const{ngModule:He,providers:yt}=le[xe];xo(yt,xt=>this.processProvider(xt,He,yt||It))}}this.injectorDefTypes.add(E);const x=_n(E)||(()=>new E);this.records.set(E,mc(x,Fo));const z=f.providers;if(null!=z&&!T){const le=r;xo(z,xe=>this.processProvider(xe,le,z))}return void 0!==m&&void 0!==r.providers}processProvider(r,s,u){let f=vu(r=oe(r))?r:oe(r&&r.provide);const m=Vu(n=r)?mc(void 0,n.useValue):mc(Sm(n),Fo);var n;if(vu(r)||!0!==r.multi)this.records.get(f);else{let E=this.records.get(f);E||(E=mc(void 0,Fo,!0),E.factory=()=>Ru(E.multi),this.records.set(f,E)),f=r,E.multi.push(r)}this.records.set(f,m)}hydrate(r,s){return s.value===Fo&&(s.value=Ls,s.value=s.factory()),"object"==typeof s.value&&s.value&&null!==(n=s.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(s.value),s.value;var n}injectableDefInScope(r){if(!r.providedIn)return!1;const s=oe(r.providedIn);return"string"==typeof s?"any"===s||s===this.scope:this.injectorDefTypes.has(s)}}function gc(n){const r=Pt(n),s=null!==r?r.factory:_n(n);if(null!==s)return s;if(n instanceof yo)throw new Error(`Token ${ie(n)} is missing a \u0275prov definition.`);if(n instanceof Function)return function(n){const r=n.length;if(r>0){const u=Tu(r,"?");throw new Error(`Can't resolve all parameters for ${ie(n)}: (${u.join(", ")}).`)}const s=function(n){const r=n&&(n[Rn]||n[pr]);if(r){const s=function(n){if(n.hasOwnProperty("name"))return n.name;const r=(""+n).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),r}return null}(n);return null!==s?()=>s.factory(n):()=>new n}(n);throw new Error("unreachable")}function Sm(n,r,s){let u;if(vu(n)){const f=oe(n);return _n(f)||gc(f)}if(Vu(n))u=()=>oe(n.useValue);else if(function(n){return!(!n||!n.useFactory)}(n))u=()=>n.useFactory(...Ru(n.deps||[]));else if(function(n){return!(!n||!n.useExisting)}(n))u=()=>Mi(oe(n.useExisting));else{const f=oe(n&&(n.useClass||n.provide));if(!function(n){return!!n.deps}(n))return _n(f)||gc(f);u=()=>new f(...Ru(n.deps))}return u}function mc(n,r,s=!1){return{factory:n,value:r,multi:s?[]:void 0}}function Vu(n){return null!==n&&"object"==typeof n&&Zu in n}function vu(n){return"function"==typeof n}const Pm=function(n,r,s){return function(n,r=null,s=null,u){const f=_u(n,r,s,u);return f._resolveInjectorDefTypes(),f}({name:s},r,n,s)};class eo{static create(r,s){return Array.isArray(r)?Pm(r,s,""):Pm(r.providers,r.parent,r.name||"")}}function ds(n,r){wi(nd(n)[1],Yr())}function Rg(n){let r=function(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),s=!0;const u=[n];for(;r;){let f;if(to(n))f=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new Error("Directives cannot inherit Components");f=r.\u0275dir}if(f){if(s){u.push(f);const E=n;E.inputs=Ad(n.inputs),E.declaredInputs=Ad(n.declaredInputs),E.outputs=Ad(n.outputs);const T=f.hostBindings;T&&Nh(n,T);const x=f.viewQuery,z=f.contentQueries;if(x&&Yc(n,x),z&&Pg(n,z),me(n.inputs,f.inputs),me(n.declaredInputs,f.declaredInputs),me(n.outputs,f.outputs),to(f)&&f.data.animation){const le=n.data;le.animation=(le.animation||[]).concat(f.data.animation)}}const m=f.features;if(m)for(let E=0;E<m.length;E++){const T=m[E];T&&T.ngInherit&&T(n),T===Rg&&(s=!1)}}r=Object.getPrototypeOf(r)}!function(n){let r=0,s=null;for(let u=n.length-1;u>=0;u--){const f=n[u];f.hostVars=r+=f.hostVars,f.hostAttrs=Ba(f.hostAttrs,s=Ba(s,f.hostAttrs))}}(u)}function Ad(n){return n===dt?{}:n===It?[]:n}function Yc(n,r){const s=n.viewQuery;n.viewQuery=s?(u,f)=>{r(u,f),s(u,f)}:r}function Pg(n,r){const s=n.contentQueries;n.contentQueries=s?(u,f,m)=>{r(u,f,m),s(u,f,m)}:r}function Nh(n,r){const s=n.hostBindings;n.hostBindings=s?(u,f)=>{r(u,f),s(u,f)}:r}eo.THROW_IF_NOT_FOUND=Qu,eo.NULL=new bg,eo.\u0275prov=Gt({token:eo,providedIn:"any",factory:()=>Mi(Bu)}),eo.__NG_ELEMENT_ID__=-1;let Lo=null;function po(){if(!Lo){const n=yn.Symbol;if(n&&n.iterator)Lo=n.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<r.length;++s){const u=r[s];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(Lo=u)}}}return Lo}class xi{constructor(r){this.wrapped=r}static wrap(r){return new xi(r)}static unwrap(r){return xi.isWrapped(r)?r.wrapped:r}static isWrapped(r){return r instanceof xi}}function Wl(n){return!!l(n)&&(Array.isArray(n)||!(n instanceof Map)&&po()in n)}function l(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function v(n,r,s){return n[r]=s}function V(n,r,s){return!Object.is(n[r],s)&&(n[r]=s,!0)}function dn(n,r,s,u){const f=Tn();return V(f,an(),r)&&(Wr(),Pa(Wi(),f,n,r,s,u)),dn}function dy(n,r,s,u,f,m,E,T){const x=Tn(),z=Wr(),le=n+20,xe=z.firstCreatePass?function(n,r,s,u,f,m,E,T,x){const z=r.consts,le=cc(r,n,4,E||null,mo(z,T));dp(r,s,le,mo(z,x)),wi(r,le);const xe=le.tViews=Oh(2,le,u,f,m,r.directiveRegistry,r.pipeRegistry,null,r.schemas,z);return null!==r.queries&&(r.queries.template(r,le),xe.queries=r.queries.embeddedTView(le)),le}(le,z,x,r,s,u,f,m,E):z.data[le];As(xe,!1);const He=x[11].createComment("");Qr(z,x,He,xe),ws(He,x),Td(x,x[le]=bf(He,x,He,xe)),So(xe)&&Rh(z,x,xe),null!=E&&_f(x,xe,T)}function j_(n){return Br(Cr.lFrame.contextLView,20+n)}function kg(n,r=Dn.Default){const s=Tn();return null===s?Mi(n,r):Dr(Yr(),s,oe(n),r)}function Ng(n,r,s){const u=Tn();return V(u,an(),r)&&Qa(Wr(),Wi(),u,n,r,u[11],s,!1),Ng}function X_(n,r,s,u,f){const E=f?"class":"style";pc(n,s,r.inputs[E],E,u)}function ev(n,r,s,u){const f=Tn(),m=Wr(),E=20+n,T=f[11],x=f[E]=ud(T,r,Cr.lFrame.currentNamespace),z=m.firstCreatePass?function(n,r,s,u,f,m,E){const T=r.consts,z=cc(r,n,2,f,mo(T,m));return dp(r,s,z,mo(T,E)),null!==z.attrs&&jl(z,z.attrs,!1),null!==z.mergedAttrs&&jl(z,z.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,z),z}(E,m,f,0,r,s,u):m.data[E];As(z,!0);const le=z.mergedAttrs;null!==le&&zu(T,x,le);const xe=z.classes;null!==xe&&cf(T,x,xe);const He=z.styles;null!==He&&Xp(T,x,He),64!=(64&z.flags)&&Qr(m,f,x,z),0===Cr.lFrame.elementDepthCount&&ws(x,f),Cr.lFrame.elementDepthCount++,So(z)&&(Rh(m,f,z),Gc(m,z,f)),null!==u&&_f(f,z)}function Um(){let n=Yr();ge()?I():(n=n.parent,As(n,!1));const r=n;Cr.lFrame.elementDepthCount--;const s=Wr();s.firstCreatePass&&(wi(s,n),Go(n)&&s.queries.elementEnd(n)),null!=r.classesWithoutHost&&function(n){return 0!=(16&n.flags)}(r)&&X_(s,r,Tn(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function(n){return 0!=(32&n.flags)}(r)&&X_(s,r,Tn(),r.stylesWithoutHost,!1)}function Iy(n,r,s,u){ev(n,r,s,u),Um()}function tv(n,r,s){const u=Tn(),f=Wr(),m=n+20,E=f.firstCreatePass?function(n,r,s,u,f){const m=r.consts,E=mo(m,u),T=cc(r,n,8,"ng-container",E);return null!==E&&jl(T,E,!0),dp(r,s,T,mo(m,f)),null!==r.queries&&r.queries.elementStart(r,T),T}(m,f,u,r,s):f.data[m];As(E,!0);const T=u[m]=u[11].createComment("");Qr(f,u,T,E),ws(T,u),So(E)&&(Rh(f,u,E),Gc(f,E,u)),null!=s&&_f(u,E)}function nv(){let n=Yr();const r=Wr();ge()?I():(n=n.parent,As(n,!1)),r.firstCreatePass&&(wi(r,n),Go(n)&&r.queries.elementEnd(n))}function Dy(){return Tn()}function rv(n){return!!n&&"function"==typeof n.then}function Sy(n){return!!n&&"function"==typeof n.subscribe}const iv=Sy;function ov(n,r,s,u){const f=Tn(),m=Wr(),E=Yr();return Ay(m,f,f[11],E,n,r,!!s,u),ov}function sv(n,r){const s=Yr(),u=Tn(),f=Wr();return Ay(f,u,Ao(qr(f.data),s,u),s,n,r,!1),sv}function Ay(n,r,s,u,f,m,E,T){const x=So(u),le=n.firstCreatePass&&fc(n),xe=r[8],He=Vl(r);let yt=!0;if(3&u.type||T){const Kt=Nr(u,r),Hn=T?T(Kt):Kt,En=He.length,Mr=T?oi=>T(ft(oi[u.index])):u.index;if($(s)){let oi=null;if(!T&&x&&(oi=function(n,r,s,u){const f=n.cleanup;if(null!=f)for(let m=0;m<f.length-1;m+=2){const E=f[m];if(E===s&&f[m+1]===u){const T=r[7],x=f[m+2];return T.length>x?T[x]:null}"string"==typeof E&&(m+=2)}return null}(n,r,f,u.index)),null!==oi)(oi.__ngLastListenerFn__||oi).__ngNextListenerFn__=m,oi.__ngLastListenerFn__=m,yt=!1;else{m=uv(u,r,xe,m,!1);const Ui=s.listen(Hn,f,m);He.push(m,Ui),le&&le.push(f,Mr,En,En+1)}}else m=uv(u,r,xe,m,!0),Hn.addEventListener(f,m,E),He.push(m),le&&le.push(f,Mr,En,E)}else m=uv(u,r,xe,m,!1);const xt=u.outputs;let rn;if(yt&&null!==xt&&(rn=xt[f])){const Kt=rn.length;if(Kt)for(let Hn=0;Hn<Kt;Hn+=2){const Fa=r[rn[Hn]][rn[Hn+1]].subscribe(m),rh=He.length;He.push(m,Fa),le&&le.push(f,u.index,rh,-(rh+1))}}}function zs(n,r,s,u){try{return!1!==s(u)}catch(f){return Vo(n,f),!1}}function uv(n,r,s,u,f){return function m(E){if(E===Function)return u;const T=2&n.flags?Ei(n.index,r):r;0==(32&r[2])&&Ef(T);let x=zs(r,0,u,E),z=m.__ngNextListenerFn__;for(;z;)x=zs(r,0,z,E)&&x,z=z.__ngNextListenerFn__;return f&&!1===x&&(E.preventDefault(),E.returnValue=!1),x}}function Eo(n=1){return function(n){return(Cr.lFrame.contextLView=function(n,r){for(;n>0;)r=r[15],n--;return r}(n,Cr.lFrame.contextLView))[8]}(n)}function Db(n,r){let s=null;const u=function(n){const r=n.attrs;if(null!=r){const s=r.indexOf(5);if(0==(1&s))return r[s+1]}return null}(n);for(let f=0;f<r.length;f++){const m=r[f];if("*"!==m){if(null===u?qf(n,m,!0):eg(u,m))return f}else s=f}return s}function My(n){const r=Tn()[16][6];if(!r.projection){const u=r.projection=Tu(n?n.length:1,null),f=u.slice();let m=r.child;for(;null!==m;){const E=n?Db(m,n):0;null!==E&&(f[E]?f[E].projectionNext=m:u[E]=m,f[E]=m),m=m.next}}}function Fg(n,r=0,s){const u=Tn(),f=Wr(),m=cc(f,20+n,16,null,s||null);null===m.projection&&(m.projection=r),I(),64!=(64&m.flags)&&function(n,r,s){Kf(r[11],0,r,s,M(n,s,r),fn(s.parent||r[6],s,r))}(f,u,m)}function Ly(n,r,s,u,f){const m=n[s+1],E=null===r;let T=u?ul(m):mu(m),x=!1;for(;0!==T&&(!1===x||E);){const le=n[T+1];By(n[T],r)&&(x=!0,n[T+1]=u?ac(le):ll(le)),T=u?ul(le):mu(le)}x&&(n[s+1]=u?ll(m):ac(m))}function By(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&ja(n,r)>=0}function Bg(n,r,s){return zl(n,r,s,!1),Bg}function Gm(n,r){return zl(n,r,null,!0),Gm}function zl(n,r,s,u){const f=Tn(),m=Wr(),E=function(n){const r=Cr.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,s}(2);m.firstUpdatePass&&function(n,r,s,u){const f=n.data;if(null===f[s+1]){const m=f[mi()],E=function(n,r){return r>=n.expandoStartIndex}(n,s);(function(n,r){return 0!=(n.flags&(r?16:32))})(m,u)&&null===r&&!E&&(r=!1),r=function(n,r,s,u){const f=qr(n);let m=u?r.residualClasses:r.residualStyles;if(null===f)0===(u?r.classBindings:r.styleBindings)&&(s=Ug(s=Wm(null,n,r,s,u),r.attrs,u),m=null);else{const E=r.directiveStylingLast;if(-1===E||n[E]!==f)if(s=Wm(f,n,r,s,u),null===m){let x=function(n,r,s){const u=s?r.classBindings:r.styleBindings;if(0!==mu(u))return n[ul(u)]}(n,r,u);void 0!==x&&Array.isArray(x)&&(x=Wm(null,n,r,x[1],u),x=Ug(x,r.attrs,u),function(n,r,s,u){n[ul(s?r.classBindings:r.styleBindings)]=u}(n,r,u,x))}else m=function(n,r,s){let u;const f=r.directiveEnd;for(let m=1+r.directiveStylingLast;m<f;m++)u=Ug(u,n[m].hostAttrs,s);return Ug(u,r.attrs,s)}(n,r,u)}return void 0!==m&&(u?r.residualClasses=m:r.residualStyles=m),s}(f,m,r,u),function(n,r,s,u,f,m){let E=m?r.classBindings:r.styleBindings,T=ul(E),x=mu(E);n[u]=s;let le,z=!1;if(Array.isArray(s)){const xe=s;le=xe[1],(null===le||ja(xe,le)>0)&&(z=!0)}else le=s;if(f)if(0!==x){const He=ul(n[T+1]);n[u+1]=Jf(He,T),0!==He&&(n[He+1]=md(n[He+1],u)),n[T+1]=function(n,r){return 131071&n|r<<17}(n[T+1],u)}else n[u+1]=Jf(T,0),0!==T&&(n[T+1]=md(n[T+1],u)),T=u;else n[u+1]=Jf(x,0),0===T?T=u:n[x+1]=md(n[x+1],u),x=u;z&&(n[u+1]=ll(n[u+1])),Ly(n,le,u,!0),Ly(n,le,u,!1),function(n,r,s,u,f){const m=f?n.residualClasses:n.residualStyles;null!=m&&"string"==typeof r&&ja(m,r)>=0&&(s[u+1]=ac(s[u+1]))}(r,le,n,u,m),E=Jf(T,x),m?r.classBindings=E:r.styleBindings=E}(f,m,r,s,E,u)}}(m,n,E,u),r!==ri&&V(f,E,r)&&function(n,r,s,u,f,m,E,T){if(!(3&r.type))return;const x=n.data,z=x[T+1];jg(function(n){return 1==(1&n)}(z)?$y(x,r,s,f,mu(z),E):void 0)||(jg(m)||function(n){return 2==(2&n)}(z)&&(m=$y(x,null,s,f,T,E)),function(n,r,s,u,f){const m=$(n);if(r)f?m?n.addClass(s,u):s.classList.add(u):m?n.removeClass(s,u):s.classList.remove(u);else{let E=-1===u.indexOf("-")?void 0:Fs.DashCase;if(null==f)m?n.removeStyle(s,u,E):s.style.removeProperty(u);else{const T="string"==typeof f&&f.endsWith("!important");T&&(f=f.slice(0,-10),E|=Fs.Important),m?n.setStyle(s,u,f,E):s.style.setProperty(u,f,T?"important":"")}}}(u,E,tr(mi(),s),f,m))}(m,m.data[mi()],f,f[11],n,f[E+1]=function(n,r){return null==n||("string"==typeof r?n+=r:"object"==typeof n&&(n=ie(el(n)))),n}(r,s),u,E)}function Wm(n,r,s,u,f){let m=null;const E=s.directiveEnd;let T=s.directiveStylingLast;for(-1===T?T=s.directiveStart:T++;T<E&&(m=r[T],u=Ug(u,m.hostAttrs,f),m!==n);)T++;return null!==n&&(s.directiveStylingLast=T),u}function Ug(n,r,s){const u=s?1:2;let f=-1;if(null!==r)for(let m=0;m<r.length;m++){const E=r[m];"number"==typeof E?f=E:f===u&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Js(n,E,!!s||r[++m]))}return void 0===n?null:n}function $y(n,r,s,u,f,m){const E=null===r;let T;for(;f>0;){const x=n[f],z=Array.isArray(x),le=z?x[1]:x,xe=null===le;let He=s[f+1];He===ri&&(He=xe?It:void 0);let yt=xe?la(He,u):le===u?He:void 0;if(z&&!jg(yt)&&(yt=la(x,u)),jg(yt)&&(T=yt,E))return T;const xt=n[f+1];f=E?ul(xt):mu(xt)}if(null!==r){let x=m?r.residualClasses:r.residualStyles;null!=x&&(T=la(x,u))}return T}function jg(n){return void 0!==n}function qy(n,r=""){const s=Tn(),u=Wr(),f=n+20,m=u.firstCreatePass?cc(u,f,1,r,null):u.data[f],E=s[f]=function(n,r){return $(n)?n.createText(r):n.createTextNode(r)}(s[11],r);Qr(u,s,E,m),As(m,!1)}function gv(n){return zm("",n,""),gv}function zm(n,r,s){const u=Tn(),f=function(n,r,s,u){return V(n,an(),s)?r+ze(s)+u:ri}(u,n,r,s);return f!==ri&&Ul(u,mi(),f),zm}function Ev(n,r,s){const u=Tn();return V(u,an(),r)&&Qa(Wr(),Wi(),u,n,r,u[11],s,!0),Ev}function Hg(n,r,s){const u=Tn();if(V(u,an(),r)){const m=Wr(),E=Wi();Qa(m,E,u,n,r,Ao(qr(m.data),E,u),s,!0)}return Hg}const Rf=void 0;var Gb=["en",[["a","p"],["AM","PM"],Rf],[["AM","PM"],Rf,Rf],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Rf,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Rf,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Rf,"{1} 'at' {0}",Rf],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(n){const r=Math.floor(Math.abs(n)),s=n.toString().replace(/^[^.]*\.?/,"").length;return 1===r&&0===s?1:5}];let Bp={};function wv(n){const r=function(n){return n.toLowerCase().replace(/_/g,"-")}(n);let s=f0(r);if(s)return s;const u=r.split("-")[0];if(s=f0(u),s)return s;if("en"===u)return Gb;throw new Error(`Missing locale data for the locale "${n}".`)}function Cv(n){return wv(n)[Ur.PluralCase]}function f0(n){return n in Bp||(Bp[n]=yn.ng&&yn.ng.common&&yn.ng.common.locales&&yn.ng.common.locales[n]),Bp[n]}var Ur=(()=>((Ur=Ur||{})[Ur.LocaleId=0]="LocaleId",Ur[Ur.DayPeriodsFormat=1]="DayPeriodsFormat",Ur[Ur.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ur[Ur.DaysFormat=3]="DaysFormat",Ur[Ur.DaysStandalone=4]="DaysStandalone",Ur[Ur.MonthsFormat=5]="MonthsFormat",Ur[Ur.MonthsStandalone=6]="MonthsStandalone",Ur[Ur.Eras=7]="Eras",Ur[Ur.FirstDayOfWeek=8]="FirstDayOfWeek",Ur[Ur.WeekendRange=9]="WeekendRange",Ur[Ur.DateFormat=10]="DateFormat",Ur[Ur.TimeFormat=11]="TimeFormat",Ur[Ur.DateTimeFormat=12]="DateTimeFormat",Ur[Ur.NumberSymbols=13]="NumberSymbols",Ur[Ur.NumberFormats=14]="NumberFormats",Ur[Ur.CurrencyCode=15]="CurrencyCode",Ur[Ur.CurrencySymbol=16]="CurrencySymbol",Ur[Ur.CurrencyName=17]="CurrencyName",Ur[Ur.Currencies=18]="Currencies",Ur[Ur.Directionality=19]="Directionality",Ur[Ur.PluralCase=20]="PluralCase",Ur[Ur.ExtraData=21]="ExtraData",Ur))();const qm="en-US";let p0=qm;function Jm(n){cn(n,"Expected localeId to be defined"),"string"==typeof n&&(p0=n.toLowerCase().replace(/_/g,"-"))}function Pv(n,r,s,u,f){if(n=oe(n),Array.isArray(n))for(let m=0;m<n.length;m++)Pv(n[m],r,s,u,f);else{const m=Wr(),E=Tn();let T=vu(n)?n:oe(n.provide),x=Sm(n);const z=Yr(),le=1048575&z.providerIndexes,xe=z.directiveStart,He=z.providerIndexes>>20;if(vu(n)||!n.multi){const yt=new es(x,f,kg),xt=i_(T,r,f?le:le+He,xe);-1===xt?(st(O(z,E),m,T),fl(m,n,r.length),r.push(T),z.directiveStart++,z.directiveEnd++,f&&(z.providerIndexes+=1048576),s.push(yt),E.push(yt)):(s[xt]=yt,E[xt]=yt)}else{const yt=i_(T,r,le+He,xe),xt=i_(T,r,le,le+He),rn=yt>=0&&s[yt],Kt=xt>=0&&s[xt];if(f&&!Kt||!f&&!rn){st(O(z,E),m,T);const Hn=function(n,r,s,u,f){const m=new es(n,s,kg);return m.multi=[],m.index=r,m.componentProviders=0,qg(m,f,u&&!s),m}(f?xv:Qg,s.length,f,u,x);!f&&Kt&&(s[xt].providerFactory=Hn),fl(m,n,r.length,0),r.push(T),z.directiveStart++,z.directiveEnd++,f&&(z.providerIndexes+=1048576),s.push(Hn),E.push(Hn)}else fl(m,n,yt>-1?yt:xt,qg(s[f?xt:yt],x,!f&&u));!f&&u&&Kt&&s[xt].componentProviders++}}}function fl(n,r,s,u){const f=vu(r);if(f||function(n){return!!n.useClass}(r)){const E=(r.useClass||r).prototype.ngOnDestroy;if(E){const T=n.destroyHooks||(n.destroyHooks=[]);if(!f&&r.multi){const x=T.indexOf(s);-1===x?T.push(s,[u,E]):T[x+1].push(u,E)}else T.push(s,E)}}}function qg(n,r,s){return s&&n.componentProviders++,n.multi.push(r)-1}function i_(n,r,s,u){for(let f=s;f<u;f++)if(r[f]===n)return f;return-1}function Qg(n,r,s,u){return o_(this.multi,[])}function xv(n,r,s,u){const f=this.multi;let m;if(this.providerFactory){const E=this.providerFactory.componentProviders,T=ns(s,s[1],this.providerFactory.index,u);m=T.slice(0,E),o_(f,m);for(let x=E;x<T.length;x++)m.push(T[x])}else m=[],o_(f,m);return m}function o_(n,r){for(let s=0;s<n.length;s++)r.push((0,n[s])());return r}function Jg(n,r=[]){return s=>{s.providersResolver=(u,f)=>function(n,r,s){const u=Wr();if(u.firstCreatePass){const f=to(n);Pv(s,u.data,u.blueprint,f,!0),Pv(r,u.data,u.blueprint,f,!1)}}(u,f?f(n):n,r)}}class DE{}const L0="ngComponent";class SE{resolveComponentFactory(r){throw function(n){const r=Error(`No component factory found for ${ie(n)}. Did you add it to @NgModule.entryComponents?`);return r[L0]=n,r}(r)}}class Pf{}function s_(...n){}function $s(n,r){return new eh(Nr(n,r))}Pf.NULL=new SE;const OE=function(){return $s(Yr(),Tn())};let eh=(()=>{class n{constructor(s){this.nativeElement=s}}return n.__NG_ELEMENT_ID__=OE,n})();function B0(n){return n instanceof eh?n.nativeElement:n}class a_{}let PE=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>Nv(),n})();const Nv=function(){const n=Tn(),s=Ei(Yr().index,n);return function(n){return n[11]}(bi(s)?s:n)};let Fv=(()=>{class n{}return n.\u0275prov=Gt({token:n,providedIn:"root",factory:()=>null}),n})();class U0{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const jp=new U0("12.2.2");class xd{constructor(){}supports(r){return Wl(r)}create(r){return new FE(r)}}const NE=(n,r)=>r;class FE{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||NE}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,u=this._removalsHead,f=0,m=null;for(;s||u;){const E=!u||s&&s.currentIndex<H0(u,f,m)?s:u,T=H0(E,f,m),x=E.currentIndex;if(E===u)f--,u=u._nextRemoved;else if(s=s._next,null==E.previousIndex)f++;else{m||(m=[]);const z=T-f,le=x-f;if(z!=le){for(let He=0;He<z;He++){const yt=He<m.length?m[He]:m[He]=0,xt=yt+He;le<=xt&&xt<z&&(m[He]=yt+1)}m[E.previousIndex]=le-z}}T!==x&&r(E,T,x)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!Wl(r))throw new Error(`Error trying to diff '${ie(r)}'. Only arrays and iterables are allowed`);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let f,m,E,s=this._itHead,u=!1;if(Array.isArray(r)){this.length=r.length;for(let T=0;T<this.length;T++)m=r[T],E=this._trackByFn(T,m),null!==s&&Object.is(s.trackById,E)?(u&&(s=this._verifyReinsertion(s,m,E,T)),Object.is(s.item,m)||this._addIdentityChange(s,m)):(s=this._mismatch(s,m,E,T),u=!0),s=s._next}else f=0,function(n,r){if(Array.isArray(n))for(let s=0;s<n.length;s++)r(n[s]);else{const s=n[po()]();let u;for(;!(u=s.next()).done;)r(u.value)}}(r,T=>{E=this._trackByFn(f,T),null!==s&&Object.is(s.trackById,E)?(u&&(s=this._verifyReinsertion(s,T,E,f)),Object.is(s.item,T)||this._addIdentityChange(s,T)):(s=this._mismatch(s,T,E,f),u=!0),s=s._next,f++}),this.length=f;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,u,f){let m;return null===r?m=this._itTail:(m=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,m,f)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(u,f))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,m,f)):r=this._addAfter(new LE(s,u),m,f),r}_verifyReinsertion(r,s,u,f){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==m?r=this._reinsertAfter(m,r._prev,f):r.currentIndex!=f&&(r.currentIndex=f,this._addToMoves(r,f)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const f=r._prevRemoved,m=r._nextRemoved;return null===f?this._removalsHead=m:f._nextRemoved=m,null===m?this._removalsTail=f:m._prevRemoved=f,this._insertAfter(r,s,u),this._addToMoves(r,u),r}_moveAfter(r,s,u){return this._unlink(r),this._insertAfter(r,s,u),this._addToMoves(r,u),r}_addAfter(r,s,u){return this._insertAfter(r,s,u),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,u){const f=null===s?this._itHead:s._next;return r._next=f,r._prev=s,null===f?this._itTail=r:f._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new j0),this._linkedRecords.put(r),r.currentIndex=u,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,u=r._next;return null===s?this._itHead=u:s._next=u,null===u?this._itTail=s:u._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new j0),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class LE{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class BE{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===s||s<=u.currentIndex)&&Object.is(u.trackById,r))return u;return null}remove(r){const s=r._prevDup,u=r._nextDup;return null===s?this._head=u:s._nextDup=u,null===u?this._tail=s:u._prevDup=s,null===this._head}}class j0{constructor(){this.map=new Map}put(r){const s=r.trackById;let u=this.map.get(s);u||(u=new BE,this.map.set(s,u)),u.add(r)}get(r,s){const f=this.map.get(r);return f?f.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function H0(n,r,s){const u=n.previousIndex;if(null===u)return u;let f=0;return s&&u<s.length&&(f=s[u]),u+r+f}class G0{constructor(){}supports(r){return r instanceof Map||l(r)}create(){return new W0}}class W0{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||l(r)))throw new Error(`Error trying to diff '${ie(r)}'. Only maps and objects are allowed`)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(u,f)=>{if(s&&s.key===f)this._maybeAddToChanges(s,u),this._appendAfter=s,s=s._next;else{const m=this._getOrCreateRecordForKey(f,u);s=this._insertBeforeOrAppend(s,m)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let u=s;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const u=r._prev;return s._next=r,s._prev=u,r._prev=s,u&&(u._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const f=this._records.get(r);this._maybeAddToChanges(f,s);const m=f._prev,E=f._next;return m&&(m._next=E),E&&(E._prev=m),f._next=null,f._prev=null,f}const u=new VE(r);return this._records.set(r,u),u.currentValue=s,this._addToAdditions(u),u}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(u=>s(r[u],u))}}class VE{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function z0(){return new Lv([new xd])}let Lv=(()=>{class n{constructor(s){this.factories=s}static create(s,u){if(null!=u){const f=u.factories.slice();s=s.concat(f)}return new n(s)}static extend(s){return{provide:n,useFactory:u=>n.create(s,u||z0()),deps:[[n,new Ps,new as]]}}find(s){const u=this.factories.find(f=>f.supports(s));if(null!=u)return u;throw new Error(`Cannot find a differ supporting object '${s}' of type '${function(n){return n.name||typeof n}(s)}'`)}}return n.\u0275prov=Gt({token:n,providedIn:"root",factory:z0}),n})();function Bv(){return new u_([new G0])}let u_=(()=>{class n{constructor(s){this.factories=s}static create(s,u){if(u){const f=u.factories.slice();s=s.concat(f)}return new n(s)}static extend(s){return{provide:n,useFactory:u=>n.create(s,u||Bv()),deps:[[n,new Ps,new as]]}}find(s){const u=this.factories.find(f=>f.supports(s));if(u)return u;throw new Error(`Cannot find a differ supporting object '${s}'`)}}return n.\u0275prov=Gt({token:n,providedIn:"root",factory:Bv}),n})();function l_(n,r,s,u,f=!1){for(;null!==s;){const m=r[s.index];if(null!==m&&u.push(ft(m)),Si(m))for(let T=10;T<m.length;T++){const x=m[T],z=x[1].firstChild;null!==z&&l_(x[1],x,z,u)}const E=s.type;if(8&E)l_(n,r,s.child,u);else if(32&E){const T=kl(s,r);let x;for(;x=T();)u.push(x)}else if(16&E){const T=Xi(r,s);if(Array.isArray(T))u.push(...T);else{const x=Fl(r[16]);l_(x[1],x,T,u,!0)}}s=f?s.projectionNext:s.next}return u}class t{constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,s=r[1];return l_(s,r,s.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(Si(r)){const s=r[8],u=s?s.indexOf(this):-1;u>-1&&(lf(r,u),Cu(s,u))}this._attachedToViewContainer=!1}d(this._lView[1],this._lView)}onDestroy(r){ug(this._lView[1],this._lView,null,r)}markForCheck(){Ef(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){dc(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(n,r,s){ke(!0);try{dc(n,r,s)}finally{ke(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var r;this._appRef=null,Vc(this._lView[1],r=this._lView,r[11],2,null,null)}attachToAppRef(r){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=r}}class e extends t{constructor(r){super(r),this._view=r}detectChanges(){Ep(this._view)}checkNoChanges(){!function(n){ke(!0);try{Ep(n)}finally{ke(!1)}}(this._view)}get context(){return null}}const c=function(n){return function(n,r,s){if(Ai(n)&&!s){const u=Ei(n.index,r);return new t(u,u)}return 47&n.type?new t(r[16],r):null}(Yr(),Tn(),16==(16&n))};let g=(()=>{class n{}return n.__NG_ELEMENT_ID__=c,n})();const L=[new G0],de=new Lv([new xd]),Ue=new u_(L),Ft=function(){return Tr(Yr(),Tn())};let Jt=(()=>{class n{}return n.__NG_ELEMENT_ID__=Ft,n})();const kn=Jt,Kn=class extends kn{constructor(r,s,u){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=u}createEmbeddedView(r){const s=this._declarationTContainer.tViews,u=Ih(this._declarationLView,s,r,16,null,s.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[19];return null!==m&&(u[19]=m.createEmbeddedView(s)),Sh(s,u,r),new t(u)}};function Tr(n,r){return 4&n.type?new Kn(r,n,$s(n,r)):null}class ii{}class Xr{}const Hp=function(){return aC(Yr(),Tn())};let kd=(()=>{class n{}return n.__NG_ELEMENT_ID__=Hp,n})();const $0=kd,oC=class extends $0{constructor(r,s,u){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=u}get element(){return $s(this._hostTNode,this._hostLView)}get injector(){return new Io(this._hostTNode,this._hostLView)}get parentInjector(){const r=Ee(this._hostTNode,this._hostLView);if(fr(r)){const s=Pi(r,this._hostLView),u=yr(r);return new Io(s[1].data[u+8],s)}return new Io(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=sC(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,s,u){const f=r.createEmbeddedView(s||{});return this.insert(f,u),f}createComponent(r,s,u,f,m){const E=u||this.parentInjector;if(!m&&null==r.ngModule&&E){const x=E.get(ii,null);x&&(m=x)}const T=r.create(E,f,void 0,m);return this.insert(T.hostView,s),T}insert(r,s){const u=r._lView,f=u[1];if(Si(u[3])){const le=this.indexOf(r);if(-1!==le)this.detach(le);else{const xe=u[3],He=new oC(xe,xe[6],xe[3]);He.detach(He.indexOf(r))}}const m=this._adjustIndex(s),E=this._lContainer;!function(n,r,s,u){const f=10+u,m=s.length;u>0&&(s[f-1][4]=r),u<m-10?(r[4]=s[f],qu(s,10+u,r)):(s.push(r),r[4]=null),r[3]=s;const E=r[17];null!==E&&s!==E&&function(n,r){const s=n[9];r[16]!==r[3][3][16]&&(n[2]=!0),null===s?n[9]=[r]:s.push(r)}(E,r);const T=r[19];null!==T&&T.insertView(n),r[2]|=128}(f,u,E,m);const T=Lc(m,E),x=u[11],z=ht(x,E[7]);return null!==z&&function(n,r,s,u,f,m){u[0]=f,u[6]=r,Vc(n,u,s,1,f,m)}(f,E[6],x,u,z,T),r.attachToViewContainerRef(),qu(jE(E),m,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=sC(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),u=lf(this._lContainer,s);u&&(Cu(jE(this._lContainer),s),d(u[1],u))}detach(r){const s=this._adjustIndex(r,-1),u=lf(this._lContainer,s);return u&&null!=Cu(jE(this._lContainer),s)?new t(u):null}_adjustIndex(r,s=0){return null==r?this.length+s:r}};function sC(n){return n[8]}function jE(n){return n[8]||(n[8]=[])}function aC(n,r){let s;const u=r[n.index];if(Si(u))s=u;else{let f;if(8&n.type)f=ft(u);else{const m=r[11];f=m.createComment("");const E=Nr(n,r);X(m,ht(m,E),f,function(n,r){return $(n)?n.nextSibling(r):r.nextSibling}(m,E),!1)}r[n.index]=s=bf(u,r,f,n),Td(r,s)}return new oC(s,n,r)}const f_={};class SC extends Pf{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=Hr(r);return new MC(s,this.ngModule)}}function AC(n){const r=[];for(let s in n)n.hasOwnProperty(s)&&r.push({propName:n[s],templateName:s});return r}const XI=new yo("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>yh});class MC extends DE{constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=r.selectors.map(Ch).join(","),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return AC(this.componentDef.inputs)}get outputs(){return AC(this.componentDef.outputs)}create(r,s,u,f){const m=(f=f||this.ngModule)?function(n,r){return{get:(s,u,f)=>{const m=n.get(s,f_,f);return m!==f_||u===f_?m:r.get(s,u,f)}}}(r,f.injector):r,E=m.get(a_,K),T=m.get(Fv,null),x=E.createRenderer(null,this.componentDef),z=this.componentDef.selectors[0][0]||"div",le=u?function(n,r,s){if($(n))return n.selectRootElement(r,s===we.ShadowDom);let u="string"==typeof r?n.querySelector(r):r;return u.textContent="",u}(x,u,this.componentDef.encapsulation):ud(E.createRenderer(null,this.componentDef),z,function(n){const r=n.toLowerCase();return"svg"===r?Bt:"math"===r?"http://www.w3.org/1998/MathML/":null}(z)),xe=this.componentDef.onPush?576:528,He=function(n,r){return{components:[],scheduler:n||yh,clean:vg,playerHandler:r||null,flags:0}}(),yt=Oh(0,null,null,1,0,null,null,null,null,null),xt=Ih(null,yt,He,xe,null,null,E,x,T,m);let rn,Kt;Ms(xt);try{const Hn=function(n,r,s,u,f,m){const E=s[1];s[20]=n;const x=cc(E,20,2,"#host",null),z=x.mergedAttrs=r.hostAttrs;null!==z&&(jl(x,z,!0),null!==n&&(zu(f,n,z),null!==x.classes&&cf(f,n,x.classes),null!==x.styles&&Xp(f,n,x.styles)));const le=u.createRenderer(n,r),xe=Ih(s,_m(r),null,r.onPush?64:16,s[20],x,u,le,m||null,null);return E.firstCreatePass&&(st(O(x,s),E,r.type),_p(E,x),vf(x,s.length,1)),Td(s,xe),s[20]=xe}(le,this.componentDef,xt,E,x);if(le)if(u)zu(x,le,["ng-version",jp.full]);else{const{attrs:En,classes:Mr}=function(n){const r=[],s=[];let u=1,f=2;for(;u<n.length;){let m=n[u];if("string"==typeof m)2===f?""!==m&&r.push(m,n[++u]):8===f&&s.push(m);else{if(!gu(f))break;f=m}u++}return{attrs:r,classes:s}}(this.componentDef.selectors[0]);En&&zu(x,le,En),Mr&&Mr.length>0&&cf(x,le,Mr.join(" "))}if(Kt=di(yt,20),void 0!==s){const En=Kt.projection=[];for(let Mr=0;Mr<this.ngContentSelectors.length;Mr++){const oi=s[Mr];En.push(null!=oi?Array.from(oi):null)}}rn=function(n,r,s,u,f){const m=s[1],E=function(n,r,s){const u=Yr();n.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),yf(n,u,r,Dh(n,r,1,null),s));const f=ns(r,n,u.directiveStart,u);ws(f,r);const m=Nr(u,r);return m&&ws(m,r),f}(m,s,r);if(u.components.push(E),n[8]=E,f&&f.forEach(x=>x(E,r)),r.contentQueries){const x=Yr();r.contentQueries(1,E,x.directiveStart)}const T=Yr();return!m.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(Jo(T.index),hc(s[1],T,0,T.directiveStart,T.directiveEnd,r),mp(r,E)),E}(Hn,this.componentDef,xt,He,[ds]),Sh(yt,xt,null)}finally{To()}return new nD(this.componentType,rn,$s(Kt,xt),xt,Kt)}}class nD extends class{}{constructor(r,s,u,f,m){super(),this.location=u,this._rootLView=f,this._tNode=m,this.instance=s,this.hostView=this.changeDetectorRef=new e(f),this.componentType=r}get injector(){return new Io(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}const p_=new Map;class oD extends ii{constructor(r,s){super(),this._parent=s,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new SC(this);const u=ei(r),f=r[je]||null;f&&Jm(f),this._bootstrapComponents=pu(u.bootstrap),this._r3Injector=_u(r,s,[{provide:ii,useValue:this},{provide:Pf,useValue:this.componentFactoryResolver}],ie(r)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(r)}get(r,s=eo.THROW_IF_NOT_FOUND,u=Dn.Default){return r===eo||r===ii||r===Bu?this:this._r3Injector.get(r,s,u)}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class ew extends Xr{constructor(r){super(),this.moduleType=r,null!==ei(r)&&function(n){const r=new Set;!function s(u){const f=ei(u,!0),m=f.id;null!==m&&(function(n,r,s){if(r&&r!==s)throw new Error(`Duplicate module registered for ${n} - ${ie(r)} vs ${ie(r.name)}`)}(m,p_.get(m),u),p_.set(m,u));const E=pu(f.imports);for(const T of E)r.has(T)||(r.add(T),s(T))}(n)}(r)}create(r){return new oD(this.moduleType,r)}}function PC(n,r,s){const u=it()+n,f=Tn();return f[u]===ri?v(f,u,s?r.call(s):r()):function(n,r){return n[r]}(f,u)}function xC(n,r,s,u){return kC(Tn(),it(),n,r,s,u)}function kC(n,r,s,u,f,m){const E=r+s;return V(n,E,f)?v(n,E+1,m?u.call(m,f):u(f)):function(n,r){const s=n[r];return s===ri?void 0:s}(n,E+1)}function VC(n,r){const s=Wr();let u;const f=n+20;s.firstCreatePass?(u=function(n,r){if(r)for(let s=r.length-1;s>=0;s--){const u=r[s];if(n===u.name)return u}throw new Re("302",`The pipe '${n}' could not be found!`)}(r,s.pipeRegistry),s.data[f]=u,u.onDestroy&&(s.destroyHooks||(s.destroyHooks=[])).push(f,u.onDestroy)):u=s.data[f];const m=u.factory||(u.factory=_n(u.type)),E=tn(kg);try{const T=Pr(!1),x=m();return Pr(T),function(n,r,s,u){s>=n.data.length&&(n.data[s]=null,n.blueprint[s]=null),r[s]=u}(s,Tn(),f,x),x}finally{tn(E)}}function UC(n,r,s){const u=n+20,f=Tn(),m=Br(f,u);return function(n,r){xi.isWrapped(r)&&(r=xi.unwrap(r),n[Cr.lFrame.bindingIndex]=ri);return r}(f,function(n,r){return n[1].data[r].pure}(f,u)?kC(f,it(),r,m.transform,s,m):m.transform(s))}function tw(n){return r=>{setTimeout(n,void 0,r)}}const Nd=class extends y.xQ{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,u){var f,m,E;let T=r,x=s||(()=>null),z=u;if(r&&"object"==typeof r){const xe=r;T=null===(f=xe.next)||void 0===f?void 0:f.bind(xe),x=null===(m=xe.error)||void 0===m?void 0:m.bind(xe),z=null===(E=xe.complete)||void 0===E?void 0:E.bind(xe)}this.__isAsync&&(x=tw(x),T&&(T=tw(T)),z&&(z=tw(z)));const le=super.subscribe({next:T,error:x,complete:z});return r instanceof _.w&&r.add(le),le}};function bD(){return this._results[po()]()}class qv{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=po(),u=qv.prototype;u[s]||(u[s]=bD)}get changes(){return this._changes||(this._changes=new Nd)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const u=this;u.dirty=!1;const f=vs(r);(this._changesDetected=!function(n,r,s){if(n.length!==r.length)return!1;for(let u=0;u<n.length;u++){let f=n[u],m=r[u];if(s&&(f=s(f),m=s(m)),m!==f)return!1}return!0}(u._results,f,s))&&(u._results=f,u.length=f.length,u.last=f[this.length-1],u.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class nw{constructor(r){this.queryList=r,this.matches=null}clone(){return new nw(this.queryList)}setDirty(){this.queryList.setDirty()}}class rw{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const u=null!==r.contentQueries?r.contentQueries[0]:s.length,f=[];for(let m=0;m<u;m++){const E=s.getByIndex(m);f.push(this.queries[E.indexInDeclarationView].clone())}return new rw(f)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==qC(r,s).matches&&this.queries[s].setDirty()}}class jC{constructor(r,s,u=null){this.predicate=r,this.flags=s,this.read=u}}class iw{constructor(r=[]){this.queries=r}elementStart(r,s){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let u=0;u<this.length;u++){const f=null!==s?s.length:0,m=this.getByIndex(u).embeddedTView(r,f);m&&(m.indexInDeclarationView=u,null!==s?s.push(m):s=[m])}return null!==s?new iw(s):null}template(r,s){for(let u=0;u<this.queries.length;u++)this.queries[u].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class ow{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new ow(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let u=r.parent;for(;null!==u&&8&u.type&&u.index!==s;)u=u.parent;return s===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const u=this.metadata.predicate;if(Array.isArray(u))for(let f=0;f<u.length;f++){const m=u[f];this.matchTNodeWithReadOption(r,s,CD(s,m)),this.matchTNodeWithReadOption(r,s,ts(s,r,m,!1,!1))}else u===Jt?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,ts(s,r,u,!1,!1))}matchTNodeWithReadOption(r,s,u){if(null!==u){const f=this.metadata.read;if(null!==f)if(f===eh||f===kd||f===Jt&&4&s.type)this.addMatch(s.index,-2);else{const m=ts(s,r,f,!1,!1);null!==m&&this.addMatch(s.index,m)}else this.addMatch(s.index,u)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function CD(n,r){const s=n.localNames;if(null!==s)for(let u=0;u<s.length;u+=2)if(s[u]===r)return s[u+1];return null}function ID(n,r,s,u){return-1===s?function(n,r){return 11&n.type?$s(n,r):4&n.type?Tr(n,r):null}(r,n):-2===s?function(n,r,s){return s===eh?$s(r,n):s===Jt?Tr(r,n):s===kd?aC(r,n):void 0}(n,r,u):ns(n,n[1],s,r)}function HC(n,r,s,u){const f=r[19].queries[u];if(null===f.matches){const m=n.data,E=s.matches,T=[];for(let x=0;x<E.length;x+=2){const z=E[x];T.push(z<0?null:ID(r,m[z],E[x+1],s.metadata.read))}f.matches=T}return f.matches}function sw(n,r,s,u){const f=n.queries.getByIndex(s),m=f.matches;if(null!==m){const E=HC(n,r,f,s);for(let T=0;T<m.length;T+=2){const x=m[T];if(x>0)u.push(E[T/2]);else{const z=m[T+1],le=r[-x];for(let xe=10;xe<le.length;xe++){const He=le[xe];He[17]===He[3]&&sw(He[1],He,z,u)}if(null!==le[9]){const xe=le[9];for(let He=0;He<xe.length;He++){const yt=xe[He];sw(yt[1],yt,z,u)}}}}}return u}function GC(n){const r=Tn(),s=Wr(),u=Oi();Bi(u+1);const f=qC(s,u);if(n.dirty&&ti(r)===(2==(2&f.metadata.flags))){if(null===f.matches)n.reset([]);else{const m=f.crossesNgTemplate?sw(s,r,u,[]):HC(s,r,f,u);n.reset(m,B0),n.notifyOnChanges()}return!0}return!1}function WC(n,r,s){const u=Wr();u.firstCreatePass&&(YC(u,new jC(n,r,s),-1),2==(2&r)&&(u.staticViewQueries=!0)),$C(u,Tn(),r)}function zC(n,r,s,u){const f=Wr();if(f.firstCreatePass){const m=Yr();YC(f,new jC(r,s,u),m.index),function(n,r){const s=n.contentQueries||(n.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(n.queries.length-1,r)}(f,n),2==(2&s)&&(f.staticContentQueries=!0)}$C(f,Tn(),s)}function KC(){return n=Tn(),r=Oi(),n[19].queries[r].queryList;var n,r}function $C(n,r,s){const u=new qv(4==(4&s));ug(n,r,u,u.destroy),null===r[19]&&(r[19]=new rw),r[19].queries.push(new nw(u))}function YC(n,r,s){null===n.queries&&(n.queries=new iw),n.queries.track(new ow(r,s))}function qC(n,r){return n.queries.getByIndex(r)}const dw=new yo("Application Initializer");let m_=(()=>{class n{constructor(s){this.appInits=s,this.resolve=s_,this.reject=s_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,f)=>{this.resolve=u,this.reject=f})}runInitializers(){if(this.initialized)return;const s=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const m=this.appInits[f]();if(rv(m))s.push(m);else if(iv(m)){const E=new Promise((T,x)=>{m.subscribe({complete:T,error:x})});s.push(E)}}Promise.all(s).then(()=>{u()}).catch(f=>{this.reject(f)}),0===s.length&&u(),this.initialized=!0}}return n.\u0275fac=function(s){return new(s||n)(Mi(dw,8))},n.\u0275prov=Gt({token:n,factory:n.\u0275fac}),n})();const fT=new yo("AppId"),nS={provide:fT,useFactory:function(){return`${fw()}${fw()}${fw()}`},deps:[]};function fw(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const pT=new yo("Platform Initializer"),gT=new yo("Platform ID"),mT=new yo("appBootstrapListener");let _T=(()=>{class n{log(s){console.log(s)}warn(s){console.warn(s)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Gt({token:n,factory:n.\u0275fac}),n})();const eb=new yo("LocaleId"),vT=new yo("DefaultCurrencyCode");class iS{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}const pw=function(n){return new ew(n)},oS=pw,sS=function(n){return Promise.resolve(pw(n))},yT=function(n){const r=pw(n),u=pu(ei(n).declarations).reduce((f,m)=>{const E=Hr(m);return E&&f.push(new MC(E)),f},[]);return new iS(r,u)},aS=yT,uS=function(n){return Promise.resolve(yT(n))};let Zv=(()=>{class n{constructor(){this.compileModuleSync=oS,this.compileModuleAsync=sS,this.compileModuleAndAllComponentsSync=aS,this.compileModuleAndAllComponentsAsync=uS}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Gt({token:n,factory:n.\u0275fac}),n})();const hS=(()=>Promise.resolve(0))();function gw(n){"undefined"==typeof Zone?hS.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Tc{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Nd(!1),this.onMicrotaskEmpty=new Nd(!1),this.onStable=new Nd(!1),this.onError=new Nd(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!u&&s,f.shouldCoalesceRunChangeDetection=u,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function(){let n=yn.requestAnimationFrame,r=yn.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&r){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const u=r[Zone.__symbol__("OriginalDelegate")];u&&(r=u)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function(n){const r=()=>{!function(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(yn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,_w(n),n.isCheckStableRunning=!0,mw(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),_w(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,u,f,m,E,T)=>{try{return bT(n),s.invokeTask(f,m,E,T)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||n.shouldCoalesceRunChangeDetection)&&r(),ET(n)}},onInvoke:(s,u,f,m,E,T,x)=>{try{return bT(n),s.invoke(f,m,E,T,x)}finally{n.shouldCoalesceRunChangeDetection&&r(),ET(n)}},onHasTask:(s,u,f,m)=>{s.hasTask(f,m),u===f&&("microTask"==m.change?(n._hasPendingMicrotasks=m.microTask,_w(n),mw(n)):"macroTask"==m.change&&(n.hasPendingMacrotasks=m.macroTask))},onHandleError:(s,u,f,m)=>(s.handleError(f,m),n.runOutsideAngular(()=>n.onError.emit(m)),!1)})}(f)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Tc.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Tc.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(r,s,u){return this._inner.run(r,s,u)}runTask(r,s,u,f){const m=this._inner,E=m.scheduleEventTask("NgZoneEvent: "+f,r,fS,s_,s_);try{return m.runTask(E,s,u)}finally{m.cancelTask(E)}}runGuarded(r,s,u){return this._inner.runGuarded(r,s,u)}runOutsideAngular(r){return this._outer.run(r)}}const fS={};function mw(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function _w(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function bT(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function ET(n){n._nesting--,mw(n)}class mS{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Nd,this.onMicrotaskEmpty=new Nd,this.onStable=new Nd,this.onError=new Nd}run(r,s,u){return r.apply(s,u)}runGuarded(r,s,u){return r.apply(s,u)}runOutsideAngular(r){return r()}runTask(r,s,u,f){return r.apply(s,u)}}let wT=(()=>{class n{constructor(s){this._ngZone=s,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Tc.assertNotInAngularZone(),gw(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())gw(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(s)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,u,f){let m=-1;u&&u>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(E=>E.timeoutId!==m),s(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:s,timeoutId:m,updateCb:f})}whenStable(s,u,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,u,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(s,u,f){return[]}}return n.\u0275fac=function(s){return new(s||n)(Mi(Tc))},n.\u0275prov=Gt({token:n,factory:n.\u0275fac}),n})(),CT=(()=>{class n{constructor(){this._applications=new Map,vw.addToWindow(this)}registerApplication(s,u){this._applications.set(s,u)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,u=!0){return vw.findTestabilityInTree(this,s,u)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Gt({token:n,factory:n.\u0275fac}),n})();class _S{addToWindow(r){}findTestabilityInTree(r,s,u){return null}}function vS(n){vw=n}let vw=new _S,TT=!0,IT=!1;function yw(){return IT=!0,TT}function yS(){if(IT)throw new Error("Cannot enable prod mode after platform setup.");TT=!1}let Hh;const DT=new yo("AllowMultipleToken");class DS{constructor(r,s){this.name=r,this.token=s}}function ST(n,r,s=[]){const u=`Platform: ${r}`,f=new yo(u);return(m=[])=>{let E=AT();if(!E||E.injector.get(DT,!1))if(n)n(s.concat(m).concat({provide:f,useValue:!0}));else{const T=s.concat(m).concat({provide:f,useValue:!0},{provide:jo,useValue:"platform"});!function(n){if(Hh&&!Hh.destroyed&&!Hh.injector.get(DT,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Hh=n.get(MT);const r=n.get(pT,null);r&&r.forEach(s=>s())}(eo.create({providers:T,name:u}))}return function(n){const r=AT();if(!r)throw new Error("No platform exists!");if(!r.injector.get(n,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return r}(f)}}function AT(){return Hh&&!Hh.destroyed?Hh:null}let MT=(()=>{class n{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,u){const T=function(n,r){let s;return s="noop"===n?new mS:("zone.js"===n?void 0:n)||new Tc({enableLongStackTrace:yw(),shouldCoalesceEventChangeDetection:!!(null==r?void 0:r.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==r?void 0:r.ngZoneRunCoalescing)}),s}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),x=[{provide:Tc,useValue:T}];return T.run(()=>{const z=eo.create({providers:x,parent:this.injector,name:s.moduleType.name}),le=s.create(z),xe=le.injector.get(hu,null);if(!xe)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return T.runOutsideAngular(()=>{const He=T.onError.subscribe({next:yt=>{xe.handleError(yt)}});le.onDestroy(()=>{bw(this._modules,le),He.unsubscribe()})}),function(n,r,s){try{const u=s();return rv(u)?u.catch(f=>{throw r.runOutsideAngular(()=>n.handleError(f)),f}):u}catch(u){throw r.runOutsideAngular(()=>n.handleError(u)),u}}(xe,T,()=>{const He=le.injector.get(m_);return He.runInitializers(),He.donePromise.then(()=>(Jm(le.injector.get(eb,qm)||qm),this._moduleDoBootstrap(le),le))})})}bootstrapModule(s,u=[]){const f=RT({},u);return function(n,r,s){const u=new ew(s);return Promise.resolve(u)}(0,0,s).then(m=>this.bootstrapModuleFactory(m,f))}_moduleDoBootstrap(s){const u=s.injector.get(Jv);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(f=>u.bootstrap(f));else{if(!s.instance.ngDoBootstrap)throw new Error(`The module ${ie(s.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);s.instance.ngDoBootstrap(u)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(s=>s.destroy()),this._destroyListeners.forEach(s=>s()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(s){return new(s||n)(Mi(eo))},n.\u0275prov=Gt({token:n,factory:n.\u0275fac}),n})();function RT(n,r){return Array.isArray(r)?r.reduce(RT,n):Object.assign(Object.assign({},n),r)}let Jv=(()=>{class n{constructor(s,u,f,m,E){this._zone=s,this._injector=u,this._exceptionHandler=f,this._componentFactoryResolver=m,this._initStatus=E,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const T=new D.y(z=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{z.next(this._stable),z.complete()})}),x=new D.y(z=>{let le;this._zone.runOutsideAngular(()=>{le=this._zone.onStable.subscribe(()=>{Tc.assertNotInAngularZone(),gw(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,z.next(!0))})})});const xe=this._zone.onUnstable.subscribe(()=>{Tc.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{z.next(!1)}))});return()=>{le.unsubscribe(),xe.unsubscribe()}});this.isStable=(0,C.T)(T,x.pipe((0,_e.B)()))}bootstrap(s,u){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let f;f=s instanceof DE?s:this._componentFactoryResolver.resolveComponentFactory(s),this.componentTypes.push(f.componentType);const m=function(n){return n.isBoundToModule}(f)?void 0:this._injector.get(ii),T=f.create(eo.NULL,[],u||f.selector,m),x=T.location.nativeElement,z=T.injector.get(wT,null),le=z&&T.injector.get(CT);return z&&le&&le.registerApplication(x,z),T.onDestroy(()=>{this.detachView(T.hostView),bw(this.components,T),le&&le.unregisterApplication(x)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const u=s;this._views.push(u),u.attachToAppRef(this)}detachView(s){const u=s;bw(this._views,u),u.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(mT,[]).concat(this._bootstrapListeners).forEach(f=>f(s))}ngOnDestroy(){this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(s){return new(s||n)(Mi(Tc),Mi(eo),Mi(hu),Mi(Pf),Mi(m_))},n.\u0275prov=Gt({token:n,factory:n.\u0275fac}),n})();function bw(n,r){const s=n.indexOf(r);s>-1&&n.splice(s,1)}class PS{}class kS{}const NS={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let FS=(()=>{class n{constructor(s,u){this._compiler=s,this._config=u||NS}load(s){return this.loadAndCompile(s)}loadAndCompile(s){let[u,f]=s.split("#");return void 0===f&&(f="default"),P(8255)(u).then(m=>m[f]).then(m=>kT(m,u,f)).then(m=>this._compiler.compileModuleAsync(m))}loadFactory(s){let[u,f]=s.split("#"),m="NgFactory";return void 0===f&&(f="default",m=""),P(8255)(this._config.factoryPathPrefix+u+this._config.factoryPathSuffix).then(E=>E[f+m]).then(E=>kT(E,u,f))}}return n.\u0275fac=function(s){return new(s||n)(Mi(Zv),Mi(kS,8))},n.\u0275prov=Gt({token:n,factory:n.\u0275fac}),n})();function kT(n,r,s){if(!n)throw new Error(`Cannot find '${s}' in '${r}'`);return n}const WS=function(n){return null},KS=ST(null,"core",[{provide:gT,useValue:"unknown"},{provide:MT,deps:[eo]},{provide:CT,deps:[]},{provide:_T,deps:[]}]),ZS=[{provide:Jv,useClass:Jv,deps:[Tc,eo,hu,Pf,m_]},{provide:XI,deps:[Tc],useFactory:function(n){let r=[];return n.onStable.subscribe(()=>{for(;r.length;)r.pop()()}),function(s){r.push(s)}}},{provide:m_,useClass:m_,deps:[[new as,dw]]},{provide:Zv,useClass:Zv,deps:[]},nS,{provide:Lv,useFactory:function(){return de},deps:[]},{provide:u_,useFactory:function(){return Ue},deps:[]},{provide:eb,useFactory:function(n){return Jm(n=n||"undefined"!=typeof $localize&&$localize.locale||qm),n},deps:[[new ss(eb),new as,new Ps]]},{provide:vT,useValue:"USD"}];let XS=(()=>{class n{constructor(s){}}return n.\u0275fac=function(s){return new(s||n)(Mi(Jv))},n.\u0275mod=Cn({type:n}),n.\u0275inj=qt({providers:ZS}),n})()},9829:(ln,ut,P)=>{"use strict";P.d(ut,{zQ:()=>nt,ww:()=>et});var y=P(7716),_=P(9765),D=P(5917),C=P(8891),_e=P(4402),ee=P(6682),me=P(3190);function ie(Ze,ve){return ve?(0,me.w)(()=>Ze,ve):(0,me.w)(()=>Ze)}var ae=P(9746),G=P(8002),se=P(2066),oe=P(8049),fe=P(9673),Ce=P(5435),Re=P(57),Ne=P(8583);const ze=new y.OlP("angularfire2.auth.use-emulator"),Ut=new y.OlP("angularfire2.auth.settings"),Qt=new y.OlP("angularfire2.auth.tenant-id"),gt=new y.OlP("angularfire2.auth.langugage-code"),Ge=new y.OlP("angularfire2.auth.use-device-language"),at=new y.OlP("angularfire.auth.persistence");let nt=(()=>{class Ze{constructor(De,ce,pt,Rt,Tt,gn,pn,Mn,wn,cn){const jt=new Re.HU(Rt),Xt=(0,Re.ss)(jt),_t=new _.xQ,At=(0,D.of)(void 0).pipe((0,ae.QV)(jt.outsideAngular),(0,me.w)(()=>Rt.runOutsideAngular(()=>P.e(952).then(P.bind(P,1952)))),(0,G.U)(()=>(0,Re.on)(De,Rt,ce)),(0,G.U)(Gt=>Rt.runOutsideAngular(()=>{const Nt=Tt,qt=gn;return(0,Re.sI)(`${Gt.name}.auth`,"AngularFireAuth",Gt,()=>{const Pt=Rt.runOutsideAngular(()=>Gt.auth());if(Nt&&Pt.useEmulator(`http://${Nt.join(":")}`),pn&&(Pt.tenantId=pn),Pt.languageCode=Mn,wn&&Pt.useDeviceLanguage(),qt)for(const[sn,Zt]of Object.entries(qt))Pt.settings[sn]=Zt;return cn&&Pt.setPersistence(cn),Pt},[Nt,pn,Mn,wn,qt,cn])})),(0,se.d)({bufferSize:1,refCount:!1}));if((0,Ne.PM)(pt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,D.of)(null);else{At.pipe((0,oe.P)()).subscribe();const Nt=At.pipe((0,me.w)(Zt=>Zt.getRedirectResult().then(bn=>bn,()=>null)),Xt,(0,se.d)({bufferSize:1,refCount:!1})),qt=Zt=>new C.y(bn=>({unsubscribe:Rt.runOutsideAngular(()=>Zt(bn))})),Pt=At.pipe((0,me.w)(Zt=>qt(Zt.onAuthStateChanged.bind(Zt)))),sn=At.pipe((0,me.w)(Zt=>qt(Zt.onIdTokenChanged.bind(Zt))));this.authState=Nt.pipe(ie(Pt),(0,fe.R)(jt.outsideAngular),(0,ae.QV)(jt.insideAngular)),this.user=Nt.pipe(ie(sn),(0,fe.R)(jt.outsideAngular),(0,ae.QV)(jt.insideAngular)),this.idToken=this.user.pipe((0,me.w)(Zt=>Zt?(0,_e.D)(Zt.getIdToken()):(0,D.of)(null))),this.idTokenResult=this.user.pipe((0,me.w)(Zt=>Zt?(0,_e.D)(Zt.getIdTokenResult()):(0,D.of)(null))),this.credential=(0,ee.T)(Nt,_t,this.authState.pipe((0,Ce.h)(Zt=>!Zt))).pipe((0,G.U)(Zt=>(null==Zt?void 0:Zt.user)?Zt:null),(0,fe.R)(jt.outsideAngular),(0,ae.QV)(jt.insideAngular))}return(0,Re.pX)(this,At,Rt,{spy:{apply:(Gt,Nt,qt)=>{(Gt.startsWith("signIn")||Gt.startsWith("createUser"))&&qt.then(Pt=>_t.next(Pt))}}})}}return Ze.\u0275fac=function(De){return new(De||Ze)(y.LFG(Re.Dh),y.LFG(Re.xv,8),y.LFG(y.Lbi),y.LFG(y.R0b),y.LFG(ze,8),y.LFG(Ut,8),y.LFG(Qt,8),y.LFG(gt,8),y.LFG(Ge,8),y.LFG(at,8))},Ze.\u0275prov=y.Yz7({factory:function(){return new Ze(y.LFG(Re.Dh),y.LFG(Re.xv,8),y.LFG(y.Lbi),y.LFG(y.R0b),y.LFG(ze,8),y.LFG(Ut,8),y.LFG(Qt,8),y.LFG(gt,8),y.LFG(Ge,8),y.LFG(at,8))},token:Ze,providedIn:"any"}),Ze})(),et=(()=>{class Ze{}return Ze.\u0275fac=function(De){return new(De||Ze)},Ze.\u0275mod=y.oAB({type:Ze}),Ze.\u0275inj=y.cJS({providers:[nt]}),Ze})()},57:(ln,ut,P)=>{"use strict";P.d(ut,{hO:()=>Ze,xv:()=>Se,Dh:()=>Ne,HU:()=>se,GT:()=>Re,sI:()=>nt,on:()=>Qt,ss:()=>oe,pX:()=>Ce});var y=P(7771),_=P(3637),D=P(3342),C=P(9673),_e=P(9746),ee=P(7716),me=P(2329);function ie(){}ln=P.hmd(ln);class ae{constructor(De,ce=y.N){this.zone=De,this.delegate=ce}now(){return this.delegate.now()}schedule(De,ce,pt){const Rt=this.zone;return this.delegate.schedule(function(gn){Rt.runGuarded(()=>{De.apply(this,[gn])})},ce,pt)}}class G{constructor(De){this.zone=De,this.task=null}call(De,ce){const pt=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ie,{},ie,ie)),ce.pipe((0,D.b)({next:pt,complete:pt,error:pt})).subscribe(De).add(pt)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class se{constructor(De){this.ngZone=De,this.outsideAngular=De.runOutsideAngular(()=>new ae(Zone.current)),this.insideAngular=De.run(()=>new ae(Zone.current,_.z))}}function oe(ve){return function(ce){return(ce=ce.lift(new G(ve.ngZone))).pipe((0,C.R)(ve.outsideAngular),(0,_e.QV)(ve.insideAngular))}}const fe=["ngOnDestroy"],Ce=(ve,De,ce,pt={})=>new Proxy(ve,{get:(Rt,Tt)=>ce.runOutsideAngular(()=>{var gn;if(ve[Tt])return(null===(gn=null==pt?void 0:pt.spy)||void 0===gn?void 0:gn.get)&&pt.spy.get(Tt,ve[Tt]),ve[Tt];if(fe.indexOf(Tt)>-1)return()=>{};const pn=De.toPromise().then(Mn=>{const wn=Mn&&Mn[Tt];return"function"==typeof wn?wn.bind(Mn):wn&&wn.then?wn.then(cn=>ce.run(()=>cn)):ce.run(()=>wn)});return new Proxy(()=>{},{get:(Mn,wn)=>pn[wn],apply:(Mn,wn,cn)=>pn.then(jt=>{var Xt;const _t=jt&&jt(...cn);return(null===(Xt=null==pt?void 0:pt.spy)||void 0===Xt?void 0:Xt.apply)&&pt.spy.apply(Tt,cn,_t),_t})})})}),Re=(ve,De)=>{De.forEach(ce=>{Object.getOwnPropertyNames(ce.prototype||ce).forEach(pt=>{Object.defineProperty(ve.prototype,pt,Object.getOwnPropertyDescriptor(ce.prototype||ce,pt))})})},Ne=new ee.OlP("angularfire2.app.options"),Se=new ee.OlP("angularfire2.app.nameOrConfig"),Ut=new ee.GfV("6.1.5");function Qt(ve,De,ce){const Rt="object"==typeof ce&&ce||{};Rt.name=Rt.name||"string"==typeof ce&&ce||"[DEFAULT]";const gn=me.Z.apps.filter(pn=>pn&&pn.name===Rt.name)[0]||De.runOutsideAngular(()=>me.Z.initializeApp(ve,Rt));try{JSON.stringify(ve)!==JSON.stringify(gn.options)&&Ge("error",`${gn.name} Firebase App already initialized with different options${ln.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(pn){}return gn}const Ge=(ve,...De)=>{(0,ee.X6Q)()&&"undefined"!=typeof console&&console[ve](...De)};function nt(ve,De,ce,pt,Rt){const[Tt,...gn]=globalThis.\u0275AngularfireInstanceCache.get(ve)||[];if(Tt){try{Rt.some((pn,Mn)=>{const wn=gn[Mn];return pn&&"object"==typeof pn?JSON.stringify(pn)!==JSON.stringify(wn):pn!==wn})&&Ge("error",`${De} was already initialized on the ${ce.name} Firebase App instance with different settings.${ln.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(pn){}return Tt}{const pn=pt();return globalThis.\u0275AngularfireInstanceCache.set(ve,[pn,...Rt]),pn}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const et={provide:class{},useFactory:Qt,deps:[Ne,ee.R0b,[new ee.FiY,Se]]};let Ze=(()=>{class ve{constructor(ce){me.Z.registerVersion("angularfire",Ut.full,ce.toString()),me.Z.registerVersion("angular",ee.q4F.full)}static initializeApp(ce,pt){return{ngModule:ve,providers:[{provide:Ne,useValue:ce},{provide:Se,useValue:pt}]}}}return ve.\u0275fac=function(ce){return new(ce||ve)(ee.LFG(ee.Lbi))},ve.\u0275mod=ee.oAB({type:ve}),ve.\u0275inj=ee.cJS({providers:[et]}),ve})()},3679:(ln,ut,P)=>{"use strict";P.d(ut,{Fj:()=>Ce,qu:()=>hi,NI:()=>_r,u:()=>gr,cw:()=>Lr,sg:()=>Mt,u5:()=>Xn,wO:()=>re,a5:()=>Jn,JJ:()=>ur,JL:()=>Dn,F:()=>ei,UX:()=>sr,kI:()=>Qt,_Y:()=>ao});var y=P(7716),_=P(8583),D=P(4402),C=P(5758),_e=P(8002);let ee=(()=>{class J{constructor(j,be){this._renderer=j,this._elementRef=be,this.onChange=Bt=>{},this.onTouched=()=>{}}setProperty(j,be){this._renderer.setProperty(this._elementRef.nativeElement,j,be)}registerOnTouched(j){this.onTouched=j}registerOnChange(j){this.onChange=j}setDisabledState(j){this.setProperty("disabled",j)}}return J.\u0275fac=function(j){return new(j||J)(y.Y36(y.Qsj),y.Y36(y.SBq))},J.\u0275dir=y.lG2({type:J}),J})(),me=(()=>{class J extends ee{}return J.\u0275fac=function(){let Y;return function(be){return(Y||(Y=y.n5z(J)))(be||J)}}(),J.\u0275dir=y.lG2({type:J,features:[y.qOj]}),J})();const ie=new y.OlP("NgValueAccessor"),se={provide:ie,useExisting:(0,y.Gpc)(()=>Ce),multi:!0},fe=new y.OlP("CompositionEventMode");let Ce=(()=>{class J extends ee{constructor(j,be,Bt){super(j,be),this._compositionMode=Bt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const J=(0,_.q)()?(0,_.q)().getUserAgent():"";return/android (\d+)/.test(J.toLowerCase())}())}writeValue(j){this.setProperty("value",null==j?"":j)}_handleInput(j){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(j)}_compositionStart(){this._composing=!0}_compositionEnd(j){this._composing=!1,this._compositionMode&&this.onChange(j)}}return J.\u0275fac=function(j){return new(j||J)(y.Y36(y.Qsj),y.Y36(y.SBq),y.Y36(fe,8))},J.\u0275dir=y.lG2({type:J,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(j,be){1&j&&y.NdJ("input",function(Wn){return be._handleInput(Wn.target.value)})("blur",function(){return be.onTouched()})("compositionstart",function(){return be._compositionStart()})("compositionend",function(Wn){return be._compositionEnd(Wn.target.value)})},features:[y._Bn([se]),y.qOj]}),J})();function Re(J){return null==J||0===J.length}function Ne(J){return null!=J&&"number"==typeof J.length}const Se=new y.OlP("NgValidators"),ze=new y.OlP("NgAsyncValidators"),Ut=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Qt{static min(Y){return J=Y,Y=>{if(Re(Y.value)||Re(J))return null;const j=parseFloat(Y.value);return!isNaN(j)&&j<J?{min:{min:J,actual:Y.value}}:null};var J}static max(Y){return J=Y,Y=>{if(Re(Y.value)||Re(J))return null;const j=parseFloat(Y.value);return!isNaN(j)&&j>J?{max:{max:J,actual:Y.value}}:null};var J}static required(Y){return Re(Y.value)?{required:!0}:null}static requiredTrue(Y){return!0===Y.value?null:{required:!0}}static email(Y){return Re((J=Y).value)||Ut.test(J.value)?null:{email:!0};var J}static minLength(Y){return Ze(Y)}static maxLength(Y){return J=Y,Y=>Ne(Y.value)&&Y.value.length>J?{maxlength:{requiredLength:J,actualLength:Y.value.length}}:null;var J}static pattern(Y){return function(J){if(!J)return ce;let Y,j;return"string"==typeof J?(j="","^"!==J.charAt(0)&&(j+="^"),j+=J,"$"!==J.charAt(J.length-1)&&(j+="$"),Y=new RegExp(j)):(j=J.toString(),Y=J),be=>{if(Re(be.value))return null;const Bt=be.value;return Y.test(Bt)?null:{pattern:{requiredPattern:j,actualValue:Bt}}}}(Y)}static nullValidator(Y){return null}static compose(Y){return wn(Y)}static composeAsync(Y){return jt(Y)}}function Ze(J){return Y=>Re(Y.value)||!Ne(Y.value)?null:Y.value.length<J?{minlength:{requiredLength:J,actualLength:Y.value.length}}:null}function ce(J){return null}function pt(J){return null!=J}function Rt(J){const Y=(0,y.QGY)(J)?(0,D.D)(J):J;return(0,y.CqO)(Y),Y}function Tt(J){let Y={};return J.forEach(j=>{Y=null!=j?Object.assign(Object.assign({},Y),j):Y}),0===Object.keys(Y).length?null:Y}function gn(J,Y){return Y.map(j=>j(J))}function Mn(J){return J.map(Y=>function(J){return!J.validate}(Y)?Y:j=>Y.validate(j))}function wn(J){if(!J)return null;const Y=J.filter(pt);return 0==Y.length?null:function(j){return Tt(gn(j,Y))}}function cn(J){return null!=J?wn(Mn(J)):null}function jt(J){if(!J)return null;const Y=J.filter(pt);return 0==Y.length?null:function(j){const be=gn(j,Y).map(Rt);return(0,C.D)(be).pipe((0,_e.U)(Tt))}}function Xt(J){return null!=J?jt(Mn(J)):null}function _t(J,Y){return null===J?[Y]:Array.isArray(J)?[...J,Y]:[J,Y]}function At(J){return J._rawValidators}function Gt(J){return J._rawAsyncValidators}function Nt(J){return J?Array.isArray(J)?J:[J]:[]}function qt(J,Y){return Array.isArray(J)?J.includes(Y):J===Y}function Pt(J,Y){const j=Nt(Y);return Nt(J).forEach(Bt=>{qt(j,Bt)||j.push(Bt)}),j}function sn(J,Y){return Nt(Y).filter(j=>!qt(J,j))}let Zt=(()=>{class J{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(j){this._rawValidators=j||[],this._composedValidatorFn=cn(this._rawValidators)}_setAsyncValidators(j){this._rawAsyncValidators=j||[],this._composedAsyncValidatorFn=Xt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(j){this._onDestroyCallbacks.push(j)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(j=>j()),this._onDestroyCallbacks=[]}reset(j){this.control&&this.control.reset(j)}hasError(j,be){return!!this.control&&this.control.hasError(j,be)}getError(j,be){return this.control?this.control.getError(j,be):null}}return J.\u0275fac=function(j){return new(j||J)},J.\u0275dir=y.lG2({type:J}),J})(),bn=(()=>{class J extends Zt{get formDirective(){return null}get path(){return null}}return J.\u0275fac=function(){let Y;return function(be){return(Y||(Y=y.n5z(J)))(be||J)}}(),J.\u0275dir=y.lG2({type:J,features:[y.qOj]}),J})();class Jn extends Zt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Rn{constructor(Y){this._cd=Y}is(Y){var j,be,Bt;return"submitted"===Y?!!(null===(j=this._cd)||void 0===j?void 0:j.submitted):!!(null===(Bt=null===(be=this._cd)||void 0===be?void 0:be.control)||void 0===Bt?void 0:Bt[Y])}}let ur=(()=>{class J extends Rn{constructor(j){super(j)}}return J.\u0275fac=function(j){return new(j||J)(y.Y36(Jn,2))},J.\u0275dir=y.lG2({type:J,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(j,be){2&j&&y.ekj("ng-untouched",be.is("untouched"))("ng-touched",be.is("touched"))("ng-pristine",be.is("pristine"))("ng-dirty",be.is("dirty"))("ng-valid",be.is("valid"))("ng-invalid",be.is("invalid"))("ng-pending",be.is("pending"))},features:[y.qOj]}),J})(),Dn=(()=>{class J extends Rn{constructor(j){super(j)}}return J.\u0275fac=function(j){return new(j||J)(y.Y36(bn,10))},J.\u0275dir=y.lG2({type:J,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(j,be){2&j&&y.ekj("ng-untouched",be.is("untouched"))("ng-touched",be.is("touched"))("ng-pristine",be.is("pristine"))("ng-dirty",be.is("dirty"))("ng-valid",be.is("valid"))("ng-invalid",be.is("invalid"))("ng-pending",be.is("pending"))("ng-submitted",be.is("submitted"))},features:[y.qOj]}),J})();function Ae(J,Y){B(J,Y),Y.valueAccessor.writeValue(J.value),function(J,Y){Y.valueAccessor.registerOnChange(j=>{J._pendingValue=j,J._pendingChange=!0,J._pendingDirty=!0,"change"===J.updateOn&&mt(J,Y)})}(J,Y),function(J,Y){const j=(be,Bt)=>{Y.valueAccessor.writeValue(be),Bt&&Y.viewToModelUpdate(be)};J.registerOnChange(j),Y._registerOnDestroy(()=>{J._unregisterOnChange(j)})}(J,Y),function(J,Y){Y.valueAccessor.registerOnTouched(()=>{J._pendingTouched=!0,"blur"===J.updateOn&&J._pendingChange&&mt(J,Y),"submit"!==J.updateOn&&J.markAsTouched()})}(J,Y),function(J,Y){if(Y.valueAccessor.setDisabledState){const j=be=>{Y.valueAccessor.setDisabledState(be)};J.registerOnDisabledChange(j),Y._registerOnDestroy(()=>{J._unregisterOnDisabledChange(j)})}}(J,Y)}function Z(J,Y,j=!0){const be=()=>{};Y.valueAccessor&&(Y.valueAccessor.registerOnChange(be),Y.valueAccessor.registerOnTouched(be)),ne(J,Y),J&&(Y._invokeOnDestroyCallbacks(),J._registerOnCollectionChange(()=>{}))}function H(J,Y){J.forEach(j=>{j.registerOnValidatorChange&&j.registerOnValidatorChange(Y)})}function B(J,Y){const j=At(J);null!==Y.validator?J.setValidators(_t(j,Y.validator)):"function"==typeof j&&J.setValidators([j]);const be=Gt(J);null!==Y.asyncValidator?J.setAsyncValidators(_t(be,Y.asyncValidator)):"function"==typeof be&&J.setAsyncValidators([be]);const Bt=()=>J.updateValueAndValidity();H(Y._rawValidators,Bt),H(Y._rawAsyncValidators,Bt)}function ne(J,Y){let j=!1;if(null!==J){if(null!==Y.validator){const Bt=At(J);if(Array.isArray(Bt)&&Bt.length>0){const Wn=Bt.filter($r=>$r!==Y.validator);Wn.length!==Bt.length&&(j=!0,J.setValidators(Wn))}}if(null!==Y.asyncValidator){const Bt=Gt(J);if(Array.isArray(Bt)&&Bt.length>0){const Wn=Bt.filter($r=>$r!==Y.asyncValidator);Wn.length!==Bt.length&&(j=!0,J.setAsyncValidators(Wn))}}}const be=()=>{};return H(Y._rawValidators,be),H(Y._rawAsyncValidators,be),j}function mt(J,Y){J._pendingDirty&&J.markAsDirty(),J.setValue(J._pendingValue,{emitModelToViewChange:!1}),Y.viewToModelUpdate(J._pendingValue),J._pendingChange=!1}function Nn(J,Y){B(J,Y)}function Te(J,Y){J._syncPendingControls(),Y.forEach(j=>{const be=j.control;"submit"===be.updateOn&&be._pendingChange&&(j.viewToModelUpdate(be._pendingValue),be._pendingChange=!1)})}function Ot(J,Y){const j=J.indexOf(Y);j>-1&&J.splice(j,1)}const je="VALID",Xe="INVALID",Pe="PENDING",bt="DISABLED";function qe(J){return(Cn(J)?J.validators:J)||null}function Ve(J){return Array.isArray(J)?cn(J):J||null}function Ct(J,Y){return(Cn(Y)?Y.asyncValidators:J)||null}function Wt(J){return Array.isArray(J)?Xt(J):J||null}function Cn(J){return null!=J&&!Array.isArray(J)&&"object"==typeof J}class $n{constructor(Y,j){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=Y,this._rawAsyncValidators=j,this._composedValidatorFn=Ve(this._rawValidators),this._composedAsyncValidatorFn=Wt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(Y){this._rawValidators=this._composedValidatorFn=Y}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(Y){this._rawAsyncValidators=this._composedAsyncValidatorFn=Y}get parent(){return this._parent}get valid(){return this.status===je}get invalid(){return this.status===Xe}get pending(){return this.status==Pe}get disabled(){return this.status===bt}get enabled(){return this.status!==bt}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(Y){this._rawValidators=Y,this._composedValidatorFn=Ve(Y)}setAsyncValidators(Y){this._rawAsyncValidators=Y,this._composedAsyncValidatorFn=Wt(Y)}addValidators(Y){this.setValidators(Pt(Y,this._rawValidators))}addAsyncValidators(Y){this.setAsyncValidators(Pt(Y,this._rawAsyncValidators))}removeValidators(Y){this.setValidators(sn(Y,this._rawValidators))}removeAsyncValidators(Y){this.setAsyncValidators(sn(Y,this._rawAsyncValidators))}hasValidator(Y){return qt(this._rawValidators,Y)}hasAsyncValidator(Y){return qt(this._rawAsyncValidators,Y)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(Y={}){this.touched=!0,this._parent&&!Y.onlySelf&&this._parent.markAsTouched(Y)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(Y=>Y.markAllAsTouched())}markAsUntouched(Y={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(j=>{j.markAsUntouched({onlySelf:!0})}),this._parent&&!Y.onlySelf&&this._parent._updateTouched(Y)}markAsDirty(Y={}){this.pristine=!1,this._parent&&!Y.onlySelf&&this._parent.markAsDirty(Y)}markAsPristine(Y={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(j=>{j.markAsPristine({onlySelf:!0})}),this._parent&&!Y.onlySelf&&this._parent._updatePristine(Y)}markAsPending(Y={}){this.status=Pe,!1!==Y.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!Y.onlySelf&&this._parent.markAsPending(Y)}disable(Y={}){const j=this._parentMarkedDirty(Y.onlySelf);this.status=bt,this.errors=null,this._forEachChild(be=>{be.disable(Object.assign(Object.assign({},Y),{onlySelf:!0}))}),this._updateValue(),!1!==Y.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},Y),{skipPristineCheck:j})),this._onDisabledChange.forEach(be=>be(!0))}enable(Y={}){const j=this._parentMarkedDirty(Y.onlySelf);this.status=je,this._forEachChild(be=>{be.enable(Object.assign(Object.assign({},Y),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:Y.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},Y),{skipPristineCheck:j})),this._onDisabledChange.forEach(be=>be(!1))}_updateAncestors(Y){this._parent&&!Y.onlySelf&&(this._parent.updateValueAndValidity(Y),Y.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(Y){this._parent=Y}updateValueAndValidity(Y={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===je||this.status===Pe)&&this._runAsyncValidator(Y.emitEvent)),!1!==Y.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!Y.onlySelf&&this._parent.updateValueAndValidity(Y)}_updateTreeValidity(Y={emitEvent:!0}){this._forEachChild(j=>j._updateTreeValidity(Y)),this.updateValueAndValidity({onlySelf:!0,emitEvent:Y.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?bt:je}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(Y){if(this.asyncValidator){this.status=Pe,this._hasOwnPendingAsyncValidator=!0;const j=Rt(this.asyncValidator(this));this._asyncValidationSubscription=j.subscribe(be=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(be,{emitEvent:Y})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(Y,j={}){this.errors=Y,this._updateControlsErrors(!1!==j.emitEvent)}get(Y){return function(J,Y,j){if(null==Y||(Array.isArray(Y)||(Y=Y.split(".")),Array.isArray(Y)&&0===Y.length))return null;let be=J;return Y.forEach(Bt=>{be=be instanceof Lr?be.controls.hasOwnProperty(Bt)?be.controls[Bt]:null:be instanceof hr&&be.at(Bt)||null}),be}(this,Y)}getError(Y,j){const be=j?this.get(j):this;return be&&be.errors?be.errors[Y]:null}hasError(Y,j){return!!this.getError(Y,j)}get root(){let Y=this;for(;Y._parent;)Y=Y._parent;return Y}_updateControlsErrors(Y){this.status=this._calculateStatus(),Y&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(Y)}_initObservables(){this.valueChanges=new y.vpe,this.statusChanges=new y.vpe}_calculateStatus(){return this._allControlsDisabled()?bt:this.errors?Xe:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Pe)?Pe:this._anyControlsHaveStatus(Xe)?Xe:je}_anyControlsHaveStatus(Y){return this._anyControls(j=>j.status===Y)}_anyControlsDirty(){return this._anyControls(Y=>Y.dirty)}_anyControlsTouched(){return this._anyControls(Y=>Y.touched)}_updatePristine(Y={}){this.pristine=!this._anyControlsDirty(),this._parent&&!Y.onlySelf&&this._parent._updatePristine(Y)}_updateTouched(Y={}){this.touched=this._anyControlsTouched(),this._parent&&!Y.onlySelf&&this._parent._updateTouched(Y)}_isBoxedValue(Y){return"object"==typeof Y&&null!==Y&&2===Object.keys(Y).length&&"value"in Y&&"disabled"in Y}_registerOnCollectionChange(Y){this._onCollectionChange=Y}_setUpdateStrategy(Y){Cn(Y)&&null!=Y.updateOn&&(this._updateOn=Y.updateOn)}_parentMarkedDirty(Y){return!Y&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class _r extends $n{constructor(Y=null,j,be){super(qe(j),Ct(be,j)),this._onChange=[],this._applyFormState(Y),this._setUpdateStrategy(j),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(Y,j={}){this.value=this._pendingValue=Y,this._onChange.length&&!1!==j.emitModelToViewChange&&this._onChange.forEach(be=>be(this.value,!1!==j.emitViewToModelChange)),this.updateValueAndValidity(j)}patchValue(Y,j={}){this.setValue(Y,j)}reset(Y=null,j={}){this._applyFormState(Y),this.markAsPristine(j),this.markAsUntouched(j),this.setValue(this.value,j),this._pendingChange=!1}_updateValue(){}_anyControls(Y){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(Y){this._onChange.push(Y)}_unregisterOnChange(Y){Ot(this._onChange,Y)}registerOnDisabledChange(Y){this._onDisabledChange.push(Y)}_unregisterOnDisabledChange(Y){Ot(this._onDisabledChange,Y)}_forEachChild(Y){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(Y){this._isBoxedValue(Y)?(this.value=this._pendingValue=Y.value,Y.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=Y}}class Lr extends $n{constructor(Y,j,be){super(qe(j),Ct(be,j)),this.controls=Y,this._initObservables(),this._setUpdateStrategy(j),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(Y,j){return this.controls[Y]?this.controls[Y]:(this.controls[Y]=j,j.setParent(this),j._registerOnCollectionChange(this._onCollectionChange),j)}addControl(Y,j,be={}){this.registerControl(Y,j),this.updateValueAndValidity({emitEvent:be.emitEvent}),this._onCollectionChange()}removeControl(Y,j={}){this.controls[Y]&&this.controls[Y]._registerOnCollectionChange(()=>{}),delete this.controls[Y],this.updateValueAndValidity({emitEvent:j.emitEvent}),this._onCollectionChange()}setControl(Y,j,be={}){this.controls[Y]&&this.controls[Y]._registerOnCollectionChange(()=>{}),delete this.controls[Y],j&&this.registerControl(Y,j),this.updateValueAndValidity({emitEvent:be.emitEvent}),this._onCollectionChange()}contains(Y){return this.controls.hasOwnProperty(Y)&&this.controls[Y].enabled}setValue(Y,j={}){this._checkAllValuesPresent(Y),Object.keys(Y).forEach(be=>{this._throwIfControlMissing(be),this.controls[be].setValue(Y[be],{onlySelf:!0,emitEvent:j.emitEvent})}),this.updateValueAndValidity(j)}patchValue(Y,j={}){null!=Y&&(Object.keys(Y).forEach(be=>{this.controls[be]&&this.controls[be].patchValue(Y[be],{onlySelf:!0,emitEvent:j.emitEvent})}),this.updateValueAndValidity(j))}reset(Y={},j={}){this._forEachChild((be,Bt)=>{be.reset(Y[Bt],{onlySelf:!0,emitEvent:j.emitEvent})}),this._updatePristine(j),this._updateTouched(j),this.updateValueAndValidity(j)}getRawValue(){return this._reduceChildren({},(Y,j,be)=>(Y[be]=j instanceof _r?j.value:j.getRawValue(),Y))}_syncPendingControls(){let Y=this._reduceChildren(!1,(j,be)=>!!be._syncPendingControls()||j);return Y&&this.updateValueAndValidity({onlySelf:!0}),Y}_throwIfControlMissing(Y){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[Y])throw new Error(`Cannot find form control with name: ${Y}.`)}_forEachChild(Y){Object.keys(this.controls).forEach(j=>{const be=this.controls[j];be&&Y(be,j)})}_setUpControls(){this._forEachChild(Y=>{Y.setParent(this),Y._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(Y){for(const j of Object.keys(this.controls)){const be=this.controls[j];if(this.contains(j)&&Y(be))return!0}return!1}_reduceValue(){return this._reduceChildren({},(Y,j,be)=>((j.enabled||this.disabled)&&(Y[be]=j.value),Y))}_reduceChildren(Y,j){let be=Y;return this._forEachChild((Bt,Wn)=>{be=j(be,Bt,Wn)}),be}_allControlsDisabled(){for(const Y of Object.keys(this.controls))if(this.controls[Y].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(Y){this._forEachChild((j,be)=>{if(void 0===Y[be])throw new Error(`Must supply a value for form control with name: '${be}'.`)})}}class hr extends $n{constructor(Y,j,be){super(qe(j),Ct(be,j)),this.controls=Y,this._initObservables(),this._setUpdateStrategy(j),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(Y){return this.controls[Y]}push(Y,j={}){this.controls.push(Y),this._registerControl(Y),this.updateValueAndValidity({emitEvent:j.emitEvent}),this._onCollectionChange()}insert(Y,j,be={}){this.controls.splice(Y,0,j),this._registerControl(j),this.updateValueAndValidity({emitEvent:be.emitEvent})}removeAt(Y,j={}){this.controls[Y]&&this.controls[Y]._registerOnCollectionChange(()=>{}),this.controls.splice(Y,1),this.updateValueAndValidity({emitEvent:j.emitEvent})}setControl(Y,j,be={}){this.controls[Y]&&this.controls[Y]._registerOnCollectionChange(()=>{}),this.controls.splice(Y,1),j&&(this.controls.splice(Y,0,j),this._registerControl(j)),this.updateValueAndValidity({emitEvent:be.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(Y,j={}){this._checkAllValuesPresent(Y),Y.forEach((be,Bt)=>{this._throwIfControlMissing(Bt),this.at(Bt).setValue(be,{onlySelf:!0,emitEvent:j.emitEvent})}),this.updateValueAndValidity(j)}patchValue(Y,j={}){null!=Y&&(Y.forEach((be,Bt)=>{this.at(Bt)&&this.at(Bt).patchValue(be,{onlySelf:!0,emitEvent:j.emitEvent})}),this.updateValueAndValidity(j))}reset(Y=[],j={}){this._forEachChild((be,Bt)=>{be.reset(Y[Bt],{onlySelf:!0,emitEvent:j.emitEvent})}),this._updatePristine(j),this._updateTouched(j),this.updateValueAndValidity(j)}getRawValue(){return this.controls.map(Y=>Y instanceof _r?Y.value:Y.getRawValue())}clear(Y={}){this.controls.length<1||(this._forEachChild(j=>j._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:Y.emitEvent}))}_syncPendingControls(){let Y=this.controls.reduce((j,be)=>!!be._syncPendingControls()||j,!1);return Y&&this.updateValueAndValidity({onlySelf:!0}),Y}_throwIfControlMissing(Y){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(Y))throw new Error(`Cannot find form control at index ${Y}`)}_forEachChild(Y){this.controls.forEach((j,be)=>{Y(j,be)})}_updateValue(){this.value=this.controls.filter(Y=>Y.enabled||this.disabled).map(Y=>Y.value)}_anyControls(Y){return this.controls.some(j=>j.enabled&&Y(j))}_setUpControls(){this._forEachChild(Y=>this._registerControl(Y))}_checkAllValuesPresent(Y){this._forEachChild((j,be)=>{if(void 0===Y[be])throw new Error(`Must supply a value for form control at index: ${be}.`)})}_allControlsDisabled(){for(const Y of this.controls)if(Y.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(Y){Y.setParent(this),Y._registerOnCollectionChange(this._onCollectionChange)}}const Hr={provide:bn,useExisting:(0,y.Gpc)(()=>ei)},Ii=(()=>Promise.resolve(null))();let ei=(()=>{class J extends bn{constructor(j,be){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new y.vpe,this.form=new Lr({},cn(j),Xt(be))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(j){Ii.then(()=>{const be=this._findContainer(j.path);j.control=be.registerControl(j.name,j.control),Ae(j.control,j),j.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(j)})}getControl(j){return this.form.get(j.path)}removeControl(j){Ii.then(()=>{const be=this._findContainer(j.path);be&&be.removeControl(j.name),Ot(this._directives,j)})}addFormGroup(j){Ii.then(()=>{const be=this._findContainer(j.path),Bt=new Lr({});Nn(Bt,j),be.registerControl(j.name,Bt),Bt.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(j){Ii.then(()=>{const be=this._findContainer(j.path);be&&be.removeControl(j.name)})}getFormGroup(j){return this.form.get(j.path)}updateModel(j,be){Ii.then(()=>{this.form.get(j.path).setValue(be)})}setValue(j){this.control.setValue(j)}onSubmit(j){return this.submitted=!0,Te(this.form,this._directives),this.ngSubmit.emit(j),!1}onReset(){this.resetForm()}resetForm(j){this.form.reset(j),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(j){return j.pop(),j.length?this.form.get(j):this.form}}return J.\u0275fac=function(j){return new(j||J)(y.Y36(Se,10),y.Y36(ze,10))},J.\u0275dir=y.lG2({type:J,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(j,be){1&j&&y.NdJ("submit",function(Wn){return be.onSubmit(Wn)})("reset",function(){return be.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[y._Bn([Hr]),y.qOj]}),J})(),ao=(()=>{class J{}return J.\u0275fac=function(j){return new(j||J)},J.\u0275dir=y.lG2({type:J,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),J})(),kt=(()=>{class J{}return J.\u0275fac=function(j){return new(j||J)},J.\u0275mod=y.oAB({type:J}),J.\u0275inj=y.cJS({}),J})();const nr=new y.OlP("NgModelWithFormControlWarning"),Le={provide:bn,useExisting:(0,y.Gpc)(()=>Mt)};let Mt=(()=>{class J extends bn{constructor(j,be){super(),this.validators=j,this.asyncValidators=be,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new y.vpe,this._setValidators(j),this._setAsyncValidators(be)}ngOnChanges(j){this._checkFormPresent(),j.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ne(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(j){const be=this.form.get(j.path);return Ae(be,j),be.updateValueAndValidity({emitEvent:!1}),this.directives.push(j),be}getControl(j){return this.form.get(j.path)}removeControl(j){Z(j.control||null,j,!1),Ot(this.directives,j)}addFormGroup(j){this._setUpFormContainer(j)}removeFormGroup(j){this._cleanUpFormContainer(j)}getFormGroup(j){return this.form.get(j.path)}addFormArray(j){this._setUpFormContainer(j)}removeFormArray(j){this._cleanUpFormContainer(j)}getFormArray(j){return this.form.get(j.path)}updateModel(j,be){this.form.get(j.path).setValue(be)}onSubmit(j){return this.submitted=!0,Te(this.form,this.directives),this.ngSubmit.emit(j),!1}onReset(){this.resetForm()}resetForm(j){this.form.reset(j),this.submitted=!1}_updateDomValue(){this.directives.forEach(j=>{const be=j.control,Bt=this.form.get(j.path);be!==Bt&&(Z(be||null,j),Bt instanceof _r&&(Ae(Bt,j),j.control=Bt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(j){const be=this.form.get(j.path);Nn(be,j),be.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(j){if(this.form){const be=this.form.get(j.path);be&&function(J,Y){return ne(J,Y)}(be,j)&&be.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){B(this.form,this),this._oldForm&&ne(this._oldForm,this)}_checkFormPresent(){}}return J.\u0275fac=function(j){return new(j||J)(y.Y36(Se,10),y.Y36(ze,10))},J.\u0275dir=y.lG2({type:J,selectors:[["","formGroup",""]],hostBindings:function(j,be){1&j&&y.NdJ("submit",function(Wn){return be.onSubmit(Wn)})("reset",function(){return be.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[y._Bn([Le]),y.qOj,y.TTD]}),J})();const si={provide:Jn,useExisting:(0,y.Gpc)(()=>gr)};let gr=(()=>{class J extends Jn{constructor(j,be,Bt,Wn,$r){super(),this._ngModelWarningConfig=$r,this._added=!1,this.update=new y.vpe,this._ngModelWarningSent=!1,this._parent=j,this._setValidators(be),this._setAsyncValidators(Bt),this.valueAccessor=function(J,Y){if(!Y)return null;let j,be,Bt;return Array.isArray(Y),Y.forEach(Wn=>{Wn.constructor===Ce?j=Wn:function(J){return Object.getPrototypeOf(J.constructor)===me}(Wn)?be=Wn:Bt=Wn}),Bt||be||j||null}(0,Wn)}set isDisabled(j){}ngOnChanges(j){this._added||this._setUpControl(),function(J,Y){if(!J.hasOwnProperty("model"))return!1;const j=J.model;return!!j.isFirstChange()||!Object.is(Y,j.currentValue)}(j,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(j){this.viewModel=j,this.update.emit(j)}get path(){return function(J,Y){return[...Y.path,J]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return J.\u0275fac=function(j){return new(j||J)(y.Y36(bn,13),y.Y36(Se,10),y.Y36(ze,10),y.Y36(ie,10),y.Y36(nr,8))},J.\u0275dir=y.lG2({type:J,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[y._Bn([si]),y.qOj,y.TTD]}),J._ngModelWarningSentOnce=!1,J})();const ci={provide:Se,useExisting:(0,y.Gpc)(()=>re),multi:!0};let re=(()=>{class J{constructor(){this._validator=ce}ngOnChanges(j){"minlength"in j&&(this._createValidator(),this._onChange&&this._onChange())}validate(j){return this.enabled()?this._validator(j):null}registerOnValidatorChange(j){this._onChange=j}_createValidator(){this._validator=this.enabled()?Ze(function(J){return"number"==typeof J?J:parseInt(J,10)}(this.minlength)):ce}enabled(){return null!=this.minlength}}return J.\u0275fac=function(j){return new(j||J)},J.\u0275dir=y.lG2({type:J,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(j,be){2&j&&y.uIk("minlength",be.enabled()?be.minlength:null)},inputs:{minlength:"minlength"},features:[y._Bn([ci]),y.TTD]}),J})(),Fn=(()=>{class J{}return J.\u0275fac=function(j){return new(j||J)},J.\u0275mod=y.oAB({type:J}),J.\u0275inj=y.cJS({imports:[[kt]]}),J})(),Xn=(()=>{class J{}return J.\u0275fac=function(j){return new(j||J)},J.\u0275mod=y.oAB({type:J}),J.\u0275inj=y.cJS({imports:[Fn]}),J})(),sr=(()=>{class J{static withConfig(j){return{ngModule:J,providers:[{provide:nr,useValue:j.warnOnNgModelWithFormControl}]}}}return J.\u0275fac=function(j){return new(j||J)},J.\u0275mod=y.oAB({type:J}),J.\u0275inj=y.cJS({imports:[Fn]}),J})(),hi=(()=>{class J{group(j,be=null){const Bt=this._reduceControls(j);let Gi,Wn=null,$r=null;return null!=be&&(function(J){return void 0!==J.asyncValidators||void 0!==J.validators||void 0!==J.updateOn}(be)?(Wn=null!=be.validators?be.validators:null,$r=null!=be.asyncValidators?be.asyncValidators:null,Gi=null!=be.updateOn?be.updateOn:void 0):(Wn=null!=be.validator?be.validator:null,$r=null!=be.asyncValidator?be.asyncValidator:null)),new Lr(Bt,{asyncValidators:$r,updateOn:Gi,validators:Wn})}control(j,be,Bt){return new _r(j,be,Bt)}array(j,be,Bt){const Wn=j.map($r=>this._createControl($r));return new hr(Wn,be,Bt)}_reduceControls(j){const be={};return Object.keys(j).forEach(Bt=>{be[Bt]=this._createControl(j[Bt])}),be}_createControl(j){return j instanceof _r||j instanceof Lr||j instanceof hr?j:Array.isArray(j)?this.control(j[0],j.length>1?j[1]:null,j.length>2?j[2]:null):this.control(j)}}return J.\u0275fac=function(j){return new(j||J)},J.\u0275prov=(0,y.Yz7)({factory:function(){return new J},token:J,providedIn:sr}),J})()},1095:(ln,ut,P)=>{"use strict";P.d(ut,{lW:()=>se,ot:()=>fe});var y=P(2458),_=P(6237),D=P(7716),C=P(9238);const _e=["mat-button",""],ee=["*"],ae=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],G=(0,y.pj)((0,y.Id)((0,y.Kr)(class{constructor(Ce){this._elementRef=Ce}})));let se=(()=>{class Ce extends G{constructor(Ne,Se,ze){super(Ne),this._focusMonitor=Se,this._animationMode=ze,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const Ut of ae)this._hasHostAttributes(Ut)&&this._getHostElement().classList.add(Ut);Ne.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(Ne,Se){Ne?this._focusMonitor.focusVia(this._getHostElement(),Ne,Se):this._getHostElement().focus(Se)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...Ne){return Ne.some(Se=>this._getHostElement().hasAttribute(Se))}}return Ce.\u0275fac=function(Ne){return new(Ne||Ce)(D.Y36(D.SBq),D.Y36(C.tE),D.Y36(_.Qb,8))},Ce.\u0275cmp=D.Xpm({type:Ce,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(Ne,Se){if(1&Ne&&D.Gf(y.wG,5),2&Ne){let ze;D.iGM(ze=D.CRH())&&(Se.ripple=ze.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(Ne,Se){2&Ne&&(D.uIk("disabled",Se.disabled||null),D.ekj("_mat-animation-noopable","NoopAnimations"===Se._animationMode)("mat-button-disabled",Se.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[D.qOj],attrs:_e,ngContentSelectors:ee,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(Ne,Se){1&Ne&&(D.F$t(),D.TgZ(0,"span",0),D.Hsn(1),D.qZA(),D._UZ(2,"span",1),D._UZ(3,"span",2)),2&Ne&&(D.xp6(2),D.ekj("mat-button-ripple-round",Se.isRoundButton||Se.isIconButton),D.Q6J("matRippleDisabled",Se._isRippleDisabled())("matRippleCentered",Se.isIconButton)("matRippleTrigger",Se._getHostElement()))},directives:[y.wG],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),Ce})(),fe=(()=>{class Ce{}return Ce.\u0275fac=function(Ne){return new(Ne||Ce)},Ce.\u0275mod=D.oAB({type:Ce}),Ce.\u0275inj=D.cJS({imports:[[y.si,y.BQ],y.BQ]}),Ce})()},3738:(ln,ut,P)=>{"use strict";P.d(ut,{a8:()=>gt,hq:()=>fe,G2:()=>Re,QW:()=>nt});var y=P(6237),_=P(2458),D=P(7716);const C=["*",[["mat-card-footer"]]],_e=["*","mat-card-footer"];let fe=(()=>{class et{constructor(){this.align="start"}}return et.\u0275fac=function(ve){return new(ve||et)},et.\u0275dir=D.lG2({type:et,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-card-actions"],hostVars:2,hostBindings:function(ve,De){2&ve&&D.ekj("mat-card-actions-align-end","end"===De.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),et})(),Re=(()=>{class et{}return et.\u0275fac=function(ve){return new(ve||et)},et.\u0275dir=D.lG2({type:et,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-card-image"]}),et})(),gt=(()=>{class et{constructor(ve){this._animationMode=ve}}return et.\u0275fac=function(ve){return new(ve||et)(D.Y36(y.Qb,8))},et.\u0275cmp=D.Xpm({type:et,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(ve,De){2&ve&&D.ekj("_mat-animation-noopable","NoopAnimations"===De._animationMode)},exportAs:["matCard"],ngContentSelectors:_e,decls:2,vars:0,template:function(ve,De){1&ve&&(D.F$t(C),D.Hsn(0),D.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),et})(),nt=(()=>{class et{}return et.\u0275fac=function(ve){return new(ve||et)},et.\u0275mod=D.oAB({type:et}),et.\u0275inj=D.cJS({imports:[[_.BQ],_.BQ]}),et})()},2458:(ln,ut,P)=>{"use strict";P.d(ut,{rD:()=>sn,BQ:()=>Ge,wG:()=>N,si:()=>B,pj:()=>nt,Kr:()=>et,Id:()=>at,FD:()=>ve});var y=P(7716),_=P(9238),D=P(946);const C=new y.GfV("12.2.2");var _e=P(8583),ee=P(9490),me=P(9765),ie=P(521),ae=P(6237);P(6461);const Ut=new y.GfV("12.2.2"),gt=new y.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let gn,Ge=(()=>{class je{constructor(Pe,bt,Ke){this._hasDoneGlobalChecks=!1,this._document=Ke,Pe._applyBodyHighContrastModeCssClasses(),this._sanityChecks=bt,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getWindow(){const Pe=this._document.defaultView||window;return"object"==typeof Pe&&Pe?Pe:null}_checkIsEnabled(Pe){return!(!(0,y.X6Q)()||this._isTestEnv())&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[Pe])}_isTestEnv(){const Pe=this._getWindow();return Pe&&(Pe.__karma__||Pe.jasmine)}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const Pe=this._document.createElement("div");Pe.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(Pe);const bt=getComputedStyle(Pe);bt&&"none"!==bt.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(Pe)}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&Ut.full!==C.full&&console.warn("The Angular Material version ("+Ut.full+") does not match the Angular CDK version ("+C.full+").\nPlease ensure the versions of these two packages exactly match.")}}return je.\u0275fac=function(Pe){return new(Pe||je)(y.LFG(_.qm),y.LFG(gt,8),y.LFG(_e.K0))},je.\u0275mod=y.oAB({type:je}),je.\u0275inj=y.cJS({imports:[[D.vT],D.vT]}),je})();function at(je){return class extends je{constructor(...Xe){super(...Xe),this._disabled=!1}get disabled(){return this._disabled}set disabled(Xe){this._disabled=(0,ee.Ig)(Xe)}}}function nt(je,Xe){return class extends je{constructor(...Pe){super(...Pe),this.defaultColor=Xe,this.color=Xe}get color(){return this._color}set color(Pe){const bt=Pe||this.defaultColor;bt!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),bt&&this._elementRef.nativeElement.classList.add(`mat-${bt}`),this._color=bt)}}}function et(je){return class extends je{constructor(...Xe){super(...Xe),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(Xe){this._disableRipple=(0,ee.Ig)(Xe)}}}function ve(je){return class extends je{constructor(...Xe){super(...Xe),this.stateChanges=new me.xQ,this.errorState=!1}updateErrorState(){const Xe=this.errorState,qe=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);qe!==Xe&&(this.errorState=qe,this.stateChanges.next())}}}try{gn="undefined"!=typeof Intl}catch(je){gn=!1}let sn=(()=>{class je{isErrorState(Pe,bt){return!!(Pe&&Pe.invalid&&(Pe.touched||bt&&bt.submitted))}}return je.\u0275fac=function(Pe){return new(Pe||je)},je.\u0275prov=y.Yz7({factory:function(){return new je},token:je,providedIn:"root"}),je})();class Un{constructor(Xe,Pe,bt){this._renderer=Xe,this.element=Pe,this.config=bt,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const pr={enterDuration:225,exitDuration:150},Dn=(0,ie.i$)({passive:!0}),jn=["mousedown","touchstart"],Pn=["mouseup","mouseleave","touchend","touchcancel"];class tn{constructor(Xe,Pe,bt,Ke){this._target=Xe,this._ngZone=Pe,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,Ke.isBrowser&&(this._containerElement=(0,ee.fI)(bt))}fadeInRipple(Xe,Pe,bt={}){const Ke=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),qe=Object.assign(Object.assign({},pr),bt.animation);bt.centered&&(Xe=Ke.left+Ke.width/2,Pe=Ke.top+Ke.height/2);const Ve=bt.radius||function(je,Xe,Pe){const bt=Math.max(Math.abs(je-Pe.left),Math.abs(je-Pe.right)),Ke=Math.max(Math.abs(Xe-Pe.top),Math.abs(Xe-Pe.bottom));return Math.sqrt(bt*bt+Ke*Ke)}(Xe,Pe,Ke),Ct=Xe-Ke.left,Wt=Pe-Ke.top,Cn=qe.enterDuration,$n=document.createElement("div");$n.classList.add("mat-ripple-element"),$n.style.left=Ct-Ve+"px",$n.style.top=Wt-Ve+"px",$n.style.height=2*Ve+"px",$n.style.width=2*Ve+"px",null!=bt.color&&($n.style.backgroundColor=bt.color),$n.style.transitionDuration=`${Cn}ms`,this._containerElement.appendChild($n),window.getComputedStyle($n).getPropertyValue("opacity"),$n.style.transform="scale(1)";const _r=new Un(this,$n,bt);return _r.state=0,this._activeRipples.add(_r),bt.persistent||(this._mostRecentTransientRipple=_r),this._runTimeoutOutsideZone(()=>{const Lr=_r===this._mostRecentTransientRipple;_r.state=1,!bt.persistent&&(!Lr||!this._isPointerDown)&&_r.fadeOut()},Cn),_r}fadeOutRipple(Xe){const Pe=this._activeRipples.delete(Xe);if(Xe===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!Pe)return;const bt=Xe.element,Ke=Object.assign(Object.assign({},pr),Xe.config.animation);bt.style.transitionDuration=`${Ke.exitDuration}ms`,bt.style.opacity="0",Xe.state=2,this._runTimeoutOutsideZone(()=>{Xe.state=3,bt.parentNode.removeChild(bt)},Ke.exitDuration)}fadeOutAll(){this._activeRipples.forEach(Xe=>Xe.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(Xe=>{Xe.config.persistent||Xe.fadeOut()})}setupTriggerEvents(Xe){const Pe=(0,ee.fI)(Xe);!Pe||Pe===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=Pe,this._registerEvents(jn))}handleEvent(Xe){"mousedown"===Xe.type?this._onMousedown(Xe):"touchstart"===Xe.type?this._onTouchStart(Xe):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(Pn),this._pointerUpEventsRegistered=!0)}_onMousedown(Xe){const Pe=(0,_.X6)(Xe),bt=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!Pe&&!bt&&(this._isPointerDown=!0,this.fadeInRipple(Xe.clientX,Xe.clientY,this._target.rippleConfig))}_onTouchStart(Xe){if(!this._target.rippleDisabled&&!(0,_.yG)(Xe)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const Pe=Xe.changedTouches;for(let bt=0;bt<Pe.length;bt++)this.fadeInRipple(Pe[bt].clientX,Pe[bt].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(Xe=>{!Xe.config.persistent&&(1===Xe.state||Xe.config.terminateOnPointerUp&&0===Xe.state)&&Xe.fadeOut()}))}_runTimeoutOutsideZone(Xe,Pe=0){this._ngZone.runOutsideAngular(()=>setTimeout(Xe,Pe))}_registerEvents(Xe){this._ngZone.runOutsideAngular(()=>{Xe.forEach(Pe=>{this._triggerElement.addEventListener(Pe,this,Dn)})})}_removeTriggerEvents(){this._triggerElement&&(jn.forEach(Xe=>{this._triggerElement.removeEventListener(Xe,this,Dn)}),this._pointerUpEventsRegistered&&Pn.forEach(Xe=>{this._triggerElement.removeEventListener(Xe,this,Dn)}))}}const H=new y.OlP("mat-ripple-global-options");let N=(()=>{class je{constructor(Pe,bt,Ke,qe,Ve){this._elementRef=Pe,this._animationMode=Ve,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=qe||{},this._rippleRenderer=new tn(this,bt,Pe,Ke)}get disabled(){return this._disabled}set disabled(Pe){Pe&&this.fadeOutAllNonPersistent(),this._disabled=Pe,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(Pe){this._trigger=Pe,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(Pe,bt=0,Ke){return"number"==typeof Pe?this._rippleRenderer.fadeInRipple(Pe,bt,Object.assign(Object.assign({},this.rippleConfig),Ke)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),Pe))}}return je.\u0275fac=function(Pe){return new(Pe||je)(y.Y36(y.SBq),y.Y36(y.R0b),y.Y36(ie.t4),y.Y36(H,8),y.Y36(ae.Qb,8))},je.\u0275dir=y.lG2({type:je,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(Pe,bt){2&Pe&&y.ekj("mat-ripple-unbounded",bt.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),je})(),B=(()=>{class je{}return je.\u0275fac=function(Pe){return new(Pe||je)},je.\u0275mod=y.oAB({type:je}),je.\u0275inj=y.cJS({imports:[[Ge,ie.ud],Ge]}),je})()},1769:(ln,ut,P)=>{"use strict";P.d(ut,{d:()=>C,t:()=>_e});var y=P(9490),_=P(2458),D=P(7716);let C=(()=>{class ee{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(ie){this._vertical=(0,y.Ig)(ie)}get inset(){return this._inset}set inset(ie){this._inset=(0,y.Ig)(ie)}}return ee.\u0275fac=function(ie){return new(ie||ee)},ee.\u0275cmp=D.Xpm({type:ee,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(ie,ae){2&ie&&(D.uIk("aria-orientation",ae.vertical?"vertical":"horizontal"),D.ekj("mat-divider-vertical",ae.vertical)("mat-divider-horizontal",!ae.vertical)("mat-divider-inset",ae.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(ie,ae){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}\n"],encapsulation:2,changeDetection:0}),ee})(),_e=(()=>{class ee{}return ee.\u0275fac=function(ie){return new(ie||ee)},ee.\u0275mod=D.oAB({type:ee}),ee.\u0275inj=D.cJS({imports:[[_.BQ],_.BQ]}),ee})()},8295:(ln,ut,P)=>{"use strict";P.d(ut,{G_:()=>jn,KE:()=>Pn,Eo:()=>cn,lN:()=>tn,bx:()=>Nt,hX:()=>qt});var y=P(8553),_=P(8583),D=P(7716),C=P(2458),_e=P(9490),ee=P(9765),me=P(6682),ie=P(2759),ae=P(9761),G=P(6782),se=P(5257),oe=P(7238),fe=P(6237),Ce=P(946),Re=P(521);const Ne=["underline"],Se=["connectionContainer"],ze=["inputContainer"],Ut=["label"];function Qt(Ae,Z){1&Ae&&(D.ynx(0),D.TgZ(1,"div",14),D._UZ(2,"div",15),D._UZ(3,"div",16),D._UZ(4,"div",17),D.qZA(),D.TgZ(5,"div",18),D._UZ(6,"div",15),D._UZ(7,"div",16),D._UZ(8,"div",17),D.qZA(),D.BQk())}function gt(Ae,Z){1&Ae&&(D.TgZ(0,"div",19),D.Hsn(1,1),D.qZA())}function Ge(Ae,Z){if(1&Ae&&(D.ynx(0),D.Hsn(1,2),D.TgZ(2,"span"),D._uU(3),D.qZA(),D.BQk()),2&Ae){const H=D.oxw(2);D.xp6(3),D.Oqu(H._control.placeholder)}}function at(Ae,Z){1&Ae&&D.Hsn(0,3,["*ngSwitchCase","true"])}function nt(Ae,Z){1&Ae&&(D.TgZ(0,"span",23),D._uU(1," *"),D.qZA())}function et(Ae,Z){if(1&Ae){const H=D.EpF();D.TgZ(0,"label",20,21),D.NdJ("cdkObserveContent",function(){return D.CHM(H),D.oxw().updateOutlineGap()}),D.YNc(2,Ge,4,1,"ng-container",12),D.YNc(3,at,1,0,"ng-content",12),D.YNc(4,nt,2,0,"span",22),D.qZA()}if(2&Ae){const H=D.oxw();D.ekj("mat-empty",H._control.empty&&!H._shouldAlwaysFloat())("mat-form-field-empty",H._control.empty&&!H._shouldAlwaysFloat())("mat-accent","accent"==H.color)("mat-warn","warn"==H.color),D.Q6J("cdkObserveContentDisabled","outline"!=H.appearance)("id",H._labelId)("ngSwitch",H._hasLabel()),D.uIk("for",H._control.id)("aria-owns",H._control.id),D.xp6(2),D.Q6J("ngSwitchCase",!1),D.xp6(1),D.Q6J("ngSwitchCase",!0),D.xp6(1),D.Q6J("ngIf",!H.hideRequiredMarker&&H._control.required&&!H._control.disabled)}}function Ze(Ae,Z){1&Ae&&(D.TgZ(0,"div",24),D.Hsn(1,4),D.qZA())}function ve(Ae,Z){if(1&Ae&&(D.TgZ(0,"div",25,26),D._UZ(2,"span",27),D.qZA()),2&Ae){const H=D.oxw();D.xp6(2),D.ekj("mat-accent","accent"==H.color)("mat-warn","warn"==H.color)}}function De(Ae,Z){if(1&Ae&&(D.TgZ(0,"div"),D.Hsn(1,5),D.qZA()),2&Ae){const H=D.oxw();D.Q6J("@transitionMessages",H._subscriptAnimationState)}}function ce(Ae,Z){if(1&Ae&&(D.TgZ(0,"div",31),D._uU(1),D.qZA()),2&Ae){const H=D.oxw(2);D.Q6J("id",H._hintLabelId),D.xp6(1),D.Oqu(H.hintLabel)}}function pt(Ae,Z){if(1&Ae&&(D.TgZ(0,"div",28),D.YNc(1,ce,2,2,"div",29),D.Hsn(2,6),D._UZ(3,"div",30),D.Hsn(4,7),D.qZA()),2&Ae){const H=D.oxw();D.Q6J("@transitionMessages",H._subscriptAnimationState),D.xp6(1),D.Q6J("ngIf",H.hintLabel)}}const Rt=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Tt=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],pn=new D.OlP("MatError"),wn={transitionMessages:(0,oe.X$)("transitionMessages",[(0,oe.SB)("enter",(0,oe.oB)({opacity:1,transform:"translateY(0%)"})),(0,oe.eR)("void => enter",[(0,oe.oB)({opacity:0,transform:"translateY(-5px)"}),(0,oe.jt)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let cn=(()=>{class Ae{}return Ae.\u0275fac=function(H){return new(H||Ae)},Ae.\u0275dir=D.lG2({type:Ae}),Ae})(),At=0;const Gt=new D.OlP("MatHint");let Nt=(()=>{class Ae{constructor(){this.align="start",this.id="mat-hint-"+At++}}return Ae.\u0275fac=function(H){return new(H||Ae)},Ae.\u0275dir=D.lG2({type:Ae,selectors:[["mat-hint"]],hostAttrs:[1,"mat-hint"],hostVars:4,hostBindings:function(H,N){2&H&&(D.uIk("id",N.id)("align",null),D.ekj("mat-form-field-hint-end","end"===N.align))},inputs:{align:"align",id:"id"},features:[D._Bn([{provide:Gt,useExisting:Ae}])]}),Ae})(),qt=(()=>{class Ae{}return Ae.\u0275fac=function(H){return new(H||Ae)},Ae.\u0275dir=D.lG2({type:Ae,selectors:[["mat-label"]]}),Ae})(),Pt=(()=>{class Ae{}return Ae.\u0275fac=function(H){return new(H||Ae)},Ae.\u0275dir=D.lG2({type:Ae,selectors:[["mat-placeholder"]]}),Ae})();const sn=new D.OlP("MatPrefix"),bn=new D.OlP("MatSuffix");let Rn=0;const ur=(0,C.pj)(class{constructor(Ae){this._elementRef=Ae}},"primary"),Dn=new D.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),jn=new D.OlP("MatFormField");let Pn=(()=>{class Ae extends ur{constructor(H,N,B,ne,we,Ye,mt,mn){super(H),this._changeDetectorRef=N,this._dir=ne,this._defaults=we,this._platform=Ye,this._ngZone=mt,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new ee.xQ,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+Rn++,this._labelId="mat-form-field-label-"+Rn++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==mn,this.appearance=we&&we.appearance?we.appearance:"legacy",this._hideRequiredMarker=!(!we||null==we.hideRequiredMarker)&&we.hideRequiredMarker}get appearance(){return this._appearance}set appearance(H){const N=this._appearance;this._appearance=H||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&N!==H&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(H){this._hideRequiredMarker=(0,_e.Ig)(H)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(H){this._hintLabel=H,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(H){H!==this._floatLabel&&(this._floatLabel=H||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(H){this._explicitFormFieldControl=H}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const H=this._control;H.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${H.controlType}`),H.stateChanges.pipe((0,ae.O)(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),H.ngControl&&H.ngControl.valueChanges&&H.ngControl.valueChanges.pipe((0,G.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,G.R)(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,me.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe((0,ae.O)(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe((0,ae.O)(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe((0,G.R)(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(H){const N=this._control?this._control.ngControl:null;return N&&N[H]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,(0,ie.R)(this._label.nativeElement,"transitionend").pipe((0,se.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let H=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&H.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const N=this._hintChildren?this._hintChildren.find(ne=>"start"===ne.align):null,B=this._hintChildren?this._hintChildren.find(ne=>"end"===ne.align):null;N?H.push(N.id):this._hintLabel&&H.push(this._hintLabelId),B&&H.push(B.id)}else this._errorChildren&&H.push(...this._errorChildren.map(N=>N.id));this._control.setDescribedByIds(H)}}_validateControlChild(){}updateOutlineGap(){const H=this._label?this._label.nativeElement:null;if(!("outline"===this.appearance&&H&&H.children.length&&H.textContent.trim()&&this._platform.isBrowser))return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let N=0,B=0;const ne=this._connectionContainerRef.nativeElement,we=ne.querySelectorAll(".mat-form-field-outline-start"),Ye=ne.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const mt=ne.getBoundingClientRect();if(0===mt.width&&0===mt.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const mn=this._getStartEnd(mt),Nn=H.children,yn=this._getStartEnd(Nn[0].getBoundingClientRect());let Qe=0;for(let We=0;We<Nn.length;We++)Qe+=Nn[We].offsetWidth;N=Math.abs(yn-mn)-5,B=Qe>0?.75*Qe+10:0}for(let mt=0;mt<we.length;mt++)we[mt].style.width=`${N}px`;for(let mt=0;mt<Ye.length;mt++)Ye[mt].style.width=`${B}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(H){return this._dir&&"rtl"===this._dir.value?H.right:H.left}_isAttachedToDOM(){const H=this._elementRef.nativeElement;if(H.getRootNode){const N=H.getRootNode();return N&&N!==H}return document.documentElement.contains(H)}}return Ae.\u0275fac=function(H){return new(H||Ae)(D.Y36(D.SBq),D.Y36(D.sBO),D.Y36(D.SBq),D.Y36(Ce.Is,8),D.Y36(Dn,8),D.Y36(Re.t4),D.Y36(D.R0b),D.Y36(fe.Qb,8))},Ae.\u0275cmp=D.Xpm({type:Ae,selectors:[["mat-form-field"]],contentQueries:function(H,N,B){if(1&H&&(D.Suo(B,cn,5),D.Suo(B,cn,7),D.Suo(B,qt,5),D.Suo(B,qt,7),D.Suo(B,Pt,5),D.Suo(B,pn,5),D.Suo(B,Gt,5),D.Suo(B,sn,5),D.Suo(B,bn,5)),2&H){let ne;D.iGM(ne=D.CRH())&&(N._controlNonStatic=ne.first),D.iGM(ne=D.CRH())&&(N._controlStatic=ne.first),D.iGM(ne=D.CRH())&&(N._labelChildNonStatic=ne.first),D.iGM(ne=D.CRH())&&(N._labelChildStatic=ne.first),D.iGM(ne=D.CRH())&&(N._placeholderChild=ne.first),D.iGM(ne=D.CRH())&&(N._errorChildren=ne),D.iGM(ne=D.CRH())&&(N._hintChildren=ne),D.iGM(ne=D.CRH())&&(N._prefixChildren=ne),D.iGM(ne=D.CRH())&&(N._suffixChildren=ne)}},viewQuery:function(H,N){if(1&H&&(D.Gf(Ne,5),D.Gf(Se,7),D.Gf(ze,5),D.Gf(Ut,5)),2&H){let B;D.iGM(B=D.CRH())&&(N.underlineRef=B.first),D.iGM(B=D.CRH())&&(N._connectionContainerRef=B.first),D.iGM(B=D.CRH())&&(N._inputContainerRef=B.first),D.iGM(B=D.CRH())&&(N._label=B.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(H,N){2&H&&D.ekj("mat-form-field-appearance-standard","standard"==N.appearance)("mat-form-field-appearance-fill","fill"==N.appearance)("mat-form-field-appearance-outline","outline"==N.appearance)("mat-form-field-appearance-legacy","legacy"==N.appearance)("mat-form-field-invalid",N._control.errorState)("mat-form-field-can-float",N._canLabelFloat())("mat-form-field-should-float",N._shouldLabelFloat())("mat-form-field-has-label",N._hasFloatingLabel())("mat-form-field-hide-placeholder",N._hideControlPlaceholder())("mat-form-field-disabled",N._control.disabled)("mat-form-field-autofilled",N._control.autofilled)("mat-focused",N._control.focused)("ng-untouched",N._shouldForward("untouched"))("ng-touched",N._shouldForward("touched"))("ng-pristine",N._shouldForward("pristine"))("ng-dirty",N._shouldForward("dirty"))("ng-valid",N._shouldForward("valid"))("ng-invalid",N._shouldForward("invalid"))("ng-pending",N._shouldForward("pending"))("_mat-animation-noopable",!N._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[D._Bn([{provide:jn,useExisting:Ae}]),D.qOj],ngContentSelectors:Tt,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(H,N){1&H&&(D.F$t(Rt),D.TgZ(0,"div",0),D.TgZ(1,"div",1,2),D.NdJ("click",function(ne){return N._control.onContainerClick&&N._control.onContainerClick(ne)}),D.YNc(3,Qt,9,0,"ng-container",3),D.YNc(4,gt,2,0,"div",4),D.TgZ(5,"div",5,6),D.Hsn(7),D.TgZ(8,"span",7),D.YNc(9,et,5,16,"label",8),D.qZA(),D.qZA(),D.YNc(10,Ze,2,0,"div",9),D.qZA(),D.YNc(11,ve,3,4,"div",10),D.TgZ(12,"div",11),D.YNc(13,De,2,1,"div",12),D.YNc(14,pt,5,2,"div",13),D.qZA(),D.qZA()),2&H&&(D.xp6(3),D.Q6J("ngIf","outline"==N.appearance),D.xp6(1),D.Q6J("ngIf",N._prefixChildren.length),D.xp6(5),D.Q6J("ngIf",N._hasFloatingLabel()),D.xp6(1),D.Q6J("ngIf",N._suffixChildren.length),D.xp6(1),D.Q6J("ngIf","outline"!=N.appearance),D.xp6(1),D.Q6J("ngSwitch",N._getDisplayedMessages()),D.xp6(1),D.Q6J("ngSwitchCase","error"),D.xp6(1),D.Q6J("ngSwitchCase","hint"))},directives:[_.O5,_.RF,_.n9,y.wD],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[wn.transitionMessages]},changeDetection:0}),Ae})(),tn=(()=>{class Ae{}return Ae.\u0275fac=function(H){return new(H||Ae)},Ae.\u0275mod=D.oAB({type:Ae}),Ae.\u0275inj=D.cJS({imports:[[_.ez,C.BQ,y.Q8],C.BQ]}),Ae})()},6627:(ln,ut,P)=>{"use strict";P.d(ut,{Hw:()=>wn,Ps:()=>cn});var y=P(7716),_=P(2458),D=P(9490),C=P(8583),_e=P(5917),ee=P(205),me=P(5758),ie=P(5319),ae=P(3342),G=P(8002),se=P(5304),oe=P(8939),fe=P(8819),Ce=P(5257),Re=P(1841),Ne=P(9075);const Se=["*"];function ze(jt){return Error(`Unable to find icon with the name "${jt}"`)}function Qt(jt){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${jt}".`)}function gt(jt){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${jt}".`)}class Ge{constructor(Xt,_t,At){this.url=Xt,this.svgText=_t,this.options=At}}let at=(()=>{class jt{constructor(_t,At,Gt,Nt){this._httpClient=_t,this._sanitizer=At,this._errorHandler=Nt,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=Gt}addSvgIcon(_t,At,Gt){return this.addSvgIconInNamespace("",_t,At,Gt)}addSvgIconLiteral(_t,At,Gt){return this.addSvgIconLiteralInNamespace("",_t,At,Gt)}addSvgIconInNamespace(_t,At,Gt,Nt){return this._addSvgIconConfig(_t,At,new Ge(Gt,null,Nt))}addSvgIconResolver(_t){return this._resolvers.push(_t),this}addSvgIconLiteralInNamespace(_t,At,Gt,Nt){const qt=this._sanitizer.sanitize(y.q3G.HTML,Gt);if(!qt)throw gt(Gt);return this._addSvgIconConfig(_t,At,new Ge("",qt,Nt))}addSvgIconSet(_t,At){return this.addSvgIconSetInNamespace("",_t,At)}addSvgIconSetLiteral(_t,At){return this.addSvgIconSetLiteralInNamespace("",_t,At)}addSvgIconSetInNamespace(_t,At,Gt){return this._addSvgIconSetConfig(_t,new Ge(At,null,Gt))}addSvgIconSetLiteralInNamespace(_t,At,Gt){const Nt=this._sanitizer.sanitize(y.q3G.HTML,At);if(!Nt)throw gt(At);return this._addSvgIconSetConfig(_t,new Ge("",Nt,Gt))}registerFontClassAlias(_t,At=_t){return this._fontCssClassesByAlias.set(_t,At),this}classNameForFontAlias(_t){return this._fontCssClassesByAlias.get(_t)||_t}setDefaultFontSetClass(_t){return this._defaultFontSetClass=_t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(_t){const At=this._sanitizer.sanitize(y.q3G.RESOURCE_URL,_t);if(!At)throw Qt(_t);const Gt=this._cachedIconsByUrl.get(At);return Gt?(0,_e.of)(Ze(Gt)):this._loadSvgIconFromConfig(new Ge(_t,null)).pipe((0,ae.b)(Nt=>this._cachedIconsByUrl.set(At,Nt)),(0,G.U)(Nt=>Ze(Nt)))}getNamedSvgIcon(_t,At=""){const Gt=ve(At,_t);let Nt=this._svgIconConfigs.get(Gt);if(Nt)return this._getSvgFromConfig(Nt);if(Nt=this._getIconConfigFromResolvers(At,_t),Nt)return this._svgIconConfigs.set(Gt,Nt),this._getSvgFromConfig(Nt);const qt=this._iconSetConfigs.get(At);return qt?this._getSvgFromIconSetConfigs(_t,qt):(0,ee._)(ze(Gt))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(_t){return _t.svgText?(0,_e.of)(Ze(this._svgElementFromConfig(_t))):this._loadSvgIconFromConfig(_t).pipe((0,G.U)(At=>Ze(At)))}_getSvgFromIconSetConfigs(_t,At){const Gt=this._extractIconWithNameFromAnySet(_t,At);if(Gt)return(0,_e.of)(Gt);const Nt=At.filter(qt=>!qt.svgText).map(qt=>this._loadSvgIconSetFromConfig(qt).pipe((0,se.K)(Pt=>{const Zt=`Loading icon set URL: ${this._sanitizer.sanitize(y.q3G.RESOURCE_URL,qt.url)} failed: ${Pt.message}`;return this._errorHandler.handleError(new Error(Zt)),(0,_e.of)(null)})));return(0,me.D)(Nt).pipe((0,G.U)(()=>{const qt=this._extractIconWithNameFromAnySet(_t,At);if(!qt)throw ze(_t);return qt}))}_extractIconWithNameFromAnySet(_t,At){for(let Gt=At.length-1;Gt>=0;Gt--){const Nt=At[Gt];if(Nt.svgText&&Nt.svgText.indexOf(_t)>-1){const qt=this._svgElementFromConfig(Nt),Pt=this._extractSvgIconFromSet(qt,_t,Nt.options);if(Pt)return Pt}}return null}_loadSvgIconFromConfig(_t){return this._fetchIcon(_t).pipe((0,ae.b)(At=>_t.svgText=At),(0,G.U)(()=>this._svgElementFromConfig(_t)))}_loadSvgIconSetFromConfig(_t){return _t.svgText?(0,_e.of)(null):this._fetchIcon(_t).pipe((0,ae.b)(At=>_t.svgText=At))}_extractSvgIconFromSet(_t,At,Gt){const Nt=_t.querySelector(`[id="${At}"]`);if(!Nt)return null;const qt=Nt.cloneNode(!0);if(qt.removeAttribute("id"),"svg"===qt.nodeName.toLowerCase())return this._setSvgAttributes(qt,Gt);if("symbol"===qt.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(qt),Gt);const Pt=this._svgElementFromString("<svg></svg>");return Pt.appendChild(qt),this._setSvgAttributes(Pt,Gt)}_svgElementFromString(_t){const At=this._document.createElement("DIV");At.innerHTML=_t;const Gt=At.querySelector("svg");if(!Gt)throw Error("<svg> tag not found");return Gt}_toSvgElement(_t){const At=this._svgElementFromString("<svg></svg>"),Gt=_t.attributes;for(let Nt=0;Nt<Gt.length;Nt++){const{name:qt,value:Pt}=Gt[Nt];"id"!==qt&&At.setAttribute(qt,Pt)}for(let Nt=0;Nt<_t.childNodes.length;Nt++)_t.childNodes[Nt].nodeType===this._document.ELEMENT_NODE&&At.appendChild(_t.childNodes[Nt].cloneNode(!0));return At}_setSvgAttributes(_t,At){return _t.setAttribute("fit",""),_t.setAttribute("height","100%"),_t.setAttribute("width","100%"),_t.setAttribute("preserveAspectRatio","xMidYMid meet"),_t.setAttribute("focusable","false"),At&&At.viewBox&&_t.setAttribute("viewBox",At.viewBox),_t}_fetchIcon(_t){var At;const{url:Gt,options:Nt}=_t,qt=null!==(At=null==Nt?void 0:Nt.withCredentials)&&void 0!==At&&At;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==Gt)throw Error(`Cannot fetch icon from URL "${Gt}".`);const Pt=this._sanitizer.sanitize(y.q3G.RESOURCE_URL,Gt);if(!Pt)throw Qt(Gt);const sn=this._inProgressUrlFetches.get(Pt);if(sn)return sn;const Zt=this._httpClient.get(Pt,{responseType:"text",withCredentials:qt}).pipe((0,oe.x)(()=>this._inProgressUrlFetches.delete(Pt)),(0,fe.B)());return this._inProgressUrlFetches.set(Pt,Zt),Zt}_addSvgIconConfig(_t,At,Gt){return this._svgIconConfigs.set(ve(_t,At),Gt),this}_addSvgIconSetConfig(_t,At){const Gt=this._iconSetConfigs.get(_t);return Gt?Gt.push(At):this._iconSetConfigs.set(_t,[At]),this}_svgElementFromConfig(_t){if(!_t.svgElement){const At=this._svgElementFromString(_t.svgText);this._setSvgAttributes(At,_t.options),_t.svgElement=At}return _t.svgElement}_getIconConfigFromResolvers(_t,At){for(let Gt=0;Gt<this._resolvers.length;Gt++){const Nt=this._resolvers[Gt](At,_t);if(Nt)return De(Nt)?new Ge(Nt.url,null,Nt.options):new Ge(Nt,null)}}}return jt.\u0275fac=function(_t){return new(_t||jt)(y.LFG(Re.eN,8),y.LFG(Ne.H7),y.LFG(C.K0,8),y.LFG(y.qLn))},jt.\u0275prov=y.Yz7({factory:function(){return new jt(y.LFG(Re.eN,8),y.LFG(Ne.H7),y.LFG(C.K0,8),y.LFG(y.qLn))},token:jt,providedIn:"root"}),jt})();function Ze(jt){return jt.cloneNode(!0)}function ve(jt,Xt){return jt+":"+Xt}function De(jt){return!(!jt.url||!jt.options)}const ce=(0,_.pj)(class{constructor(jt){this._elementRef=jt}}),pt=new y.OlP("mat-icon-location",{providedIn:"root",factory:function(){const jt=(0,y.f3M)(C.K0),Xt=jt?jt.location:null;return{getPathname:()=>Xt?Xt.pathname+Xt.search:""}}}),Tt=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],pn=Tt.map(jt=>`[${jt}]`).join(", "),Mn=/^url\(['"]?#(.*?)['"]?\)$/;let wn=(()=>{class jt extends ce{constructor(_t,At,Gt,Nt,qt){super(_t),this._iconRegistry=At,this._location=Nt,this._errorHandler=qt,this._inline=!1,this._currentIconFetch=ie.w.EMPTY,Gt||_t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(_t){this._inline=(0,D.Ig)(_t)}get svgIcon(){return this._svgIcon}set svgIcon(_t){_t!==this._svgIcon&&(_t?this._updateSvgIcon(_t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=_t)}get fontSet(){return this._fontSet}set fontSet(_t){const At=this._cleanupFontValue(_t);At!==this._fontSet&&(this._fontSet=At,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(_t){const At=this._cleanupFontValue(_t);At!==this._fontIcon&&(this._fontIcon=At,this._updateFontIconClasses())}_splitIconName(_t){if(!_t)return["",""];const At=_t.split(":");switch(At.length){case 1:return["",At[0]];case 2:return At;default:throw Error(`Invalid icon name: "${_t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const _t=this._elementsWithExternalReferences;if(_t&&_t.size){const At=this._location.getPathname();At!==this._previousPath&&(this._previousPath=At,this._prependPathToReferences(At))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(_t){this._clearSvgElement();const At=_t.querySelectorAll("style");for(let Nt=0;Nt<At.length;Nt++)At[Nt].textContent+=" ";const Gt=this._location.getPathname();this._previousPath=Gt,this._cacheChildrenWithExternalReferences(_t),this._prependPathToReferences(Gt),this._elementRef.nativeElement.appendChild(_t)}_clearSvgElement(){const _t=this._elementRef.nativeElement;let At=_t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();At--;){const Gt=_t.childNodes[At];(1!==Gt.nodeType||"svg"===Gt.nodeName.toLowerCase())&&_t.removeChild(Gt)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const _t=this._elementRef.nativeElement,At=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();At!=this._previousFontSetClass&&(this._previousFontSetClass&&_t.classList.remove(this._previousFontSetClass),At&&_t.classList.add(At),this._previousFontSetClass=At),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&_t.classList.remove(this._previousFontIconClass),this.fontIcon&&_t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(_t){return"string"==typeof _t?_t.trim().split(" ")[0]:_t}_prependPathToReferences(_t){const At=this._elementsWithExternalReferences;At&&At.forEach((Gt,Nt)=>{Gt.forEach(qt=>{Nt.setAttribute(qt.name,`url('${_t}#${qt.value}')`)})})}_cacheChildrenWithExternalReferences(_t){const At=_t.querySelectorAll(pn),Gt=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let Nt=0;Nt<At.length;Nt++)Tt.forEach(qt=>{const Pt=At[Nt],sn=Pt.getAttribute(qt),Zt=sn?sn.match(Mn):null;if(Zt){let bn=Gt.get(Pt);bn||(bn=[],Gt.set(Pt,bn)),bn.push({name:qt,value:Zt[1]})}})}_updateSvgIcon(_t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),_t){const[At,Gt]=this._splitIconName(_t);At&&(this._svgNamespace=At),Gt&&(this._svgName=Gt),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(Gt,At).pipe((0,Ce.q)(1)).subscribe(Nt=>this._setSvgElement(Nt),Nt=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${At}:${Gt}! ${Nt.message}`))})}}}return jt.\u0275fac=function(_t){return new(_t||jt)(y.Y36(y.SBq),y.Y36(at),y.$8M("aria-hidden"),y.Y36(pt),y.Y36(y.qLn))},jt.\u0275cmp=y.Xpm({type:jt,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(_t,At){2&_t&&(y.uIk("data-mat-icon-type",At._usingFontIcon()?"font":"svg")("data-mat-icon-name",At._svgName||At.fontIcon)("data-mat-icon-namespace",At._svgNamespace||At.fontSet),y.ekj("mat-icon-inline",At.inline)("mat-icon-no-color","primary"!==At.color&&"accent"!==At.color&&"warn"!==At.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[y.qOj],ngContentSelectors:Se,decls:1,vars:0,template:function(_t,At){1&_t&&(y.F$t(),y.Hsn(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),jt})(),cn=(()=>{class jt{}return jt.\u0275fac=function(_t){return new(_t||jt)},jt.\u0275mod=y.oAB({type:jt}),jt.\u0275inj=y.cJS({imports:[[_.BQ],_.BQ]}),jt})()},9983:(ln,ut,P)=>{"use strict";P.d(ut,{Nt:()=>nt,c:()=>et});var y=P(521),_=P(7716),D=P(9490),C=P(9193),_e=P(9765);P(2759),P(628),P(6782),P(8583);const G=(0,y.i$)({passive:!0});let se=(()=>{class Ze{constructor(De,ce){this._platform=De,this._ngZone=ce,this._monitoredElements=new Map}monitor(De){if(!this._platform.isBrowser)return C.E;const ce=(0,D.fI)(De),pt=this._monitoredElements.get(ce);if(pt)return pt.subject;const Rt=new _e.xQ,Tt="cdk-text-field-autofilled",gn=pn=>{"cdk-text-field-autofill-start"!==pn.animationName||ce.classList.contains(Tt)?"cdk-text-field-autofill-end"===pn.animationName&&ce.classList.contains(Tt)&&(ce.classList.remove(Tt),this._ngZone.run(()=>Rt.next({target:pn.target,isAutofilled:!1}))):(ce.classList.add(Tt),this._ngZone.run(()=>Rt.next({target:pn.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{ce.addEventListener("animationstart",gn,G),ce.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(ce,{subject:Rt,unlisten:()=>{ce.removeEventListener("animationstart",gn,G)}}),Rt}stopMonitoring(De){const ce=(0,D.fI)(De),pt=this._monitoredElements.get(ce);pt&&(pt.unlisten(),pt.subject.complete(),ce.classList.remove("cdk-text-field-autofill-monitored"),ce.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(ce))}ngOnDestroy(){this._monitoredElements.forEach((De,ce)=>this.stopMonitoring(ce))}}return Ze.\u0275fac=function(De){return new(De||Ze)(_.LFG(y.t4),_.LFG(_.R0b))},Ze.\u0275prov=_.Yz7({factory:function(){return new Ze(_.LFG(y.t4),_.LFG(_.R0b))},token:Ze,providedIn:"root"}),Ze})(),Ce=(()=>{class Ze{}return Ze.\u0275fac=function(De){return new(De||Ze)},Ze.\u0275mod=_.oAB({type:Ze}),Ze.\u0275inj=_.cJS({imports:[[y.ud]]}),Ze})();var Re=P(2458),Ne=P(8295),Se=P(3679);const Qt=new _.OlP("MAT_INPUT_VALUE_ACCESSOR"),gt=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let Ge=0;const at=(0,Re.FD)(class{constructor(Ze,ve,De,ce){this._defaultErrorStateMatcher=Ze,this._parentForm=ve,this._parentFormGroup=De,this.ngControl=ce}});let nt=(()=>{class Ze extends at{constructor(De,ce,pt,Rt,Tt,gn,pn,Mn,wn,cn){super(gn,Rt,Tt,pt),this._elementRef=De,this._platform=ce,this._autofillMonitor=Mn,this._formField=cn,this._uid="mat-input-"+Ge++,this.focused=!1,this.stateChanges=new _e.xQ,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(_t=>(0,y.qK)().has(_t));const jt=this._elementRef.nativeElement,Xt=jt.nodeName.toLowerCase();this._inputValueAccessor=pn||jt,this._previousNativeValue=this.value,this.id=this.id,ce.IOS&&wn.runOutsideAngular(()=>{De.nativeElement.addEventListener("keyup",_t=>{const At=_t.target;!At.value&&0===At.selectionStart&&0===At.selectionEnd&&(At.setSelectionRange(1,1),At.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===Xt,this._isTextarea="textarea"===Xt,this._isInFormField=!!cn,this._isNativeSelect&&(this.controlType=jt.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(De){this._disabled=(0,D.Ig)(De),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(De){this._id=De||this._uid}get required(){return this._required}set required(De){this._required=(0,D.Ig)(De)}get type(){return this._type}set type(De){this._type=De||"text",this._validateType(),!this._isTextarea&&(0,y.qK)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(De){De!==this.value&&(this._inputValueAccessor.value=De,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(De){this._readonly=(0,D.Ig)(De)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(De=>{this.autofilled=De.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(De){this._elementRef.nativeElement.focus(De)}_focusChanged(De){De!==this.focused&&(this.focused=De,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var De,ce;const pt=(null===(ce=null===(De=this._formField)||void 0===De?void 0:De._hideControlPlaceholder)||void 0===ce?void 0:ce.call(De))?null:this.placeholder;if(pt!==this._previousPlaceholder){const Rt=this._elementRef.nativeElement;this._previousPlaceholder=pt,pt?Rt.setAttribute("placeholder",pt):Rt.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const De=this._elementRef.nativeElement.value;this._previousNativeValue!==De&&(this._previousNativeValue=De,this.stateChanges.next())}_validateType(){gt.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let De=this._elementRef.nativeElement.validity;return De&&De.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const De=this._elementRef.nativeElement,ce=De.options[0];return this.focused||De.multiple||!this.empty||!!(De.selectedIndex>-1&&ce&&ce.label)}return this.focused||!this.empty}setDescribedByIds(De){De.length?this._elementRef.nativeElement.setAttribute("aria-describedby",De.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}}return Ze.\u0275fac=function(De){return new(De||Ze)(_.Y36(_.SBq),_.Y36(y.t4),_.Y36(Se.a5,10),_.Y36(Se.F,8),_.Y36(Se.sg,8),_.Y36(Re.rD),_.Y36(Qt,10),_.Y36(se),_.Y36(_.R0b),_.Y36(Ne.G_,8))},Ze.\u0275dir=_.lG2({type:Ze,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:9,hostBindings:function(De,ce){1&De&&_.NdJ("focus",function(){return ce._focusChanged(!0)})("blur",function(){return ce._focusChanged(!1)})("input",function(){return ce._onInput()}),2&De&&(_.Ikx("disabled",ce.disabled)("required",ce.required),_.uIk("id",ce.id)("data-placeholder",ce.placeholder)("readonly",ce.readonly&&!ce._isNativeSelect||null)("aria-invalid",ce.empty&&ce.required?null:ce.errorState)("aria-required",ce.required),_.ekj("mat-input-server",ce._isServer))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[_._Bn([{provide:Ne.Eo,useExisting:Ze}]),_.qOj,_.TTD]}),Ze})(),et=(()=>{class Ze{}return Ze.\u0275fac=function(De){return new(De||Ze)},Ze.\u0275mod=_.oAB({type:Ze}),Ze.\u0275inj=_.cJS({providers:[Re.rD],imports:[[Ce,Ne.lN,Re.BQ],Ce,Ne.lN]}),Ze})()},5384:(ln,ut,P)=>{"use strict";P.d(ut,{VK:()=>Un,OP:()=>sn,Tx:()=>Z,p6:()=>tn});var y=P(9238),_=P(9490),D=P(6461),C=P(7716),_e=P(9765),ee=P(5319),me=P(6682),ie=P(5917),ae=P(4581),G=P(3637),oe=P(7393),fe=P(3098);function Ce(H,N=G.P){const ne=function(H){return H instanceof Date&&!isNaN(+H)}(H)?+H-N.now():Math.abs(H);return we=>we.lift(new Re(ne,N))}class Re{constructor(N,B){this.delay=N,this.scheduler=B}call(N,B){return B.subscribe(new Ne(N,this.delay,this.scheduler))}}class Ne extends oe.L{constructor(N,B,ne){super(N),this.delay=B,this.scheduler=ne,this.queue=[],this.active=!1,this.errored=!1}static dispatch(N){const B=N.source,ne=B.queue,we=N.scheduler,Ye=N.destination;for(;ne.length>0&&ne[0].time-we.now()<=0;)ne.shift().notification.observe(Ye);if(ne.length>0){const mt=Math.max(0,ne[0].time-we.now());this.schedule(N,mt)}else this.unsubscribe(),B.active=!1}_schedule(N){this.active=!0,this.destination.add(N.schedule(Ne.dispatch,this.delay,{source:this,destination:this.destination,scheduler:N}))}scheduleNotification(N){if(!0===this.errored)return;const B=this.scheduler,ne=new Se(B.now()+this.delay,N);this.queue.push(ne),!1===this.active&&this._schedule(B)}_next(N){this.scheduleNotification(fe.P.createNext(N))}_error(N){this.errored=!0,this.queue=[],this.destination.error(N),this.unsubscribe()}_complete(){this.scheduleNotification(fe.P.createComplete()),this.unsubscribe()}}class Se{constructor(N,B){this.time=N,this.notification=B}}var ze=P(9761),Ut=P(3190),Qt=P(5257),gt=P(5435),Ge=P(6782),at=P(7238),nt=P(7636),et=P(8583),Ze=P(2458),ve=P(625),De=P(521),ce=P(5572),pt=P(946);const Rt=["mat-menu-item",""];function Tt(H,N){1&H&&(C.O4$(),C.TgZ(0,"svg",2),C._UZ(1,"polygon",3),C.qZA())}const gn=["*"];function pn(H,N){if(1&H){const B=C.EpF();C.TgZ(0,"div",0),C.NdJ("keydown",function(we){return C.CHM(B),C.oxw()._handleKeydown(we)})("click",function(){return C.CHM(B),C.oxw().closed.emit("click")})("@transformMenu.start",function(we){return C.CHM(B),C.oxw()._onAnimationStart(we)})("@transformMenu.done",function(we){return C.CHM(B),C.oxw()._onAnimationDone(we)}),C.TgZ(1,"div",1),C.Hsn(2),C.qZA(),C.qZA()}if(2&H){const B=C.oxw();C.Q6J("id",B.panelId)("ngClass",B._classList)("@transformMenu",B._panelAnimationState),C.uIk("aria-label",B.ariaLabel||null)("aria-labelledby",B.ariaLabelledby||null)("aria-describedby",B.ariaDescribedby||null)}}const Mn={transformMenu:(0,at.X$)("transformMenu",[(0,at.SB)("void",(0,at.oB)({opacity:0,transform:"scale(0.8)"})),(0,at.eR)("void => enter",(0,at.jt)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,at.oB)({opacity:1,transform:"scale(1)"}))),(0,at.eR)("* => void",(0,at.jt)("100ms 25ms linear",(0,at.oB)({opacity:0})))]),fadeInItems:(0,at.X$)("fadeInItems",[(0,at.SB)("showing",(0,at.oB)({opacity:1})),(0,at.eR)("void => *",[(0,at.oB)({opacity:0}),(0,at.jt)("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},jt=new C.OlP("MatMenuContent"),qt=new C.OlP("MAT_MENU_PANEL"),Pt=(0,Ze.Kr)((0,Ze.Id)(class{}));let sn=(()=>{class H extends Pt{constructor(B,ne,we,Ye,mt){super(),this._elementRef=B,this._focusMonitor=we,this._parentMenu=Ye,this._changeDetectorRef=mt,this.role="menuitem",this._hovered=new _e.xQ,this._focused=new _e.xQ,this._highlighted=!1,this._triggersSubmenu=!1,Ye&&Ye.addItem&&Ye.addItem(this)}focus(B,ne){this._focusMonitor&&B?this._focusMonitor.focusVia(this._getHostElement(),B,ne):this._getHostElement().focus(ne),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(B){this.disabled&&(B.preventDefault(),B.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){var B,ne;const we=this._elementRef.nativeElement.cloneNode(!0),Ye=we.querySelectorAll("mat-icon, .material-icons");for(let mt=0;mt<Ye.length;mt++){const mn=Ye[mt];null===(B=mn.parentNode)||void 0===B||B.removeChild(mn)}return(null===(ne=we.textContent)||void 0===ne?void 0:ne.trim())||""}_setHighlighted(B){var ne;this._highlighted=B,null===(ne=this._changeDetectorRef)||void 0===ne||ne.markForCheck()}}return H.\u0275fac=function(B){return new(B||H)(C.Y36(C.SBq),C.Y36(et.K0),C.Y36(y.tE),C.Y36(qt,8),C.Y36(C.sBO))},H.\u0275cmp=C.Xpm({type:H,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(B,ne){1&B&&C.NdJ("click",function(Ye){return ne._checkDisabled(Ye)})("mouseenter",function(){return ne._handleMouseEnter()}),2&B&&(C.uIk("role",ne.role)("tabindex",ne._getTabIndex())("aria-disabled",ne.disabled.toString())("disabled",ne.disabled||null),C.ekj("mat-menu-item",!0)("mat-menu-item-highlighted",ne._highlighted)("mat-menu-item-submenu-trigger",ne._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[C.qOj],attrs:Rt,ngContentSelectors:gn,decls:3,vars:3,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(B,ne){1&B&&(C.F$t(),C.Hsn(0),C._UZ(1,"div",0),C.YNc(2,Tt,2,0,"svg",1)),2&B&&(C.xp6(1),C.Q6J("matRippleDisabled",ne.disableRipple||ne.disabled)("matRippleTrigger",ne._getHostElement()),C.xp6(1),C.Q6J("ngIf",ne._triggersSubmenu))},directives:[Ze.wG,et.O5],encapsulation:2,changeDetection:0}),H})();const Zt=new C.OlP("mat-menu-default-options",{providedIn:"root",factory:function(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let Jn=0,Rn=(()=>{class H{constructor(B,ne,we){this._elementRef=B,this._ngZone=ne,this._defaultOptions=we,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new C.n_E,this._tabSubscription=ee.w.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new _e.xQ,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new C.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+Jn++}get xPosition(){return this._xPosition}set xPosition(B){this._xPosition=B,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(B){this._yPosition=B,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(B){this._overlapTrigger=(0,_.Ig)(B)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(B){this._hasBackdrop=(0,_.Ig)(B)}set panelClass(B){const ne=this._previousPanelClass;ne&&ne.length&&ne.split(" ").forEach(we=>{this._classList[we]=!1}),this._previousPanelClass=B,B&&B.length&&(B.split(" ").forEach(we=>{this._classList[we]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(B){this.panelClass=B}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new y.Em(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe((0,ze.O)(this._directDescendantItems),(0,Ut.w)(B=>(0,me.T)(...B.map(ne=>ne._focused)))).subscribe(B=>this._keyManager.updateActiveItem(B))}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe((0,ze.O)(this._directDescendantItems),(0,Ut.w)(ne=>(0,me.T)(...ne.map(we=>we._hovered))))}addItem(B){}removeItem(B){}_handleKeydown(B){const ne=B.keyCode,we=this._keyManager;switch(ne){case D.hY:(0,D.Vb)(B)||(B.preventDefault(),this.closed.emit("keydown"));break;case D.oh:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case D.SV:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:(ne===D.LH||ne===D.JH)&&we.setFocusOrigin("keyboard"),we.onKeydown(B)}}focusFirstItem(B="program"){this.lazyContent?this._ngZone.onStable.pipe((0,Qt.q)(1)).subscribe(()=>this._focusFirstItem(B)):this._focusFirstItem(B)}_focusFirstItem(B){const ne=this._keyManager;if(ne.setFocusOrigin(B).setFirstItemActive(),!ne.activeItem&&this._directDescendantItems.length){let we=this._directDescendantItems.first._getHostElement().parentElement;for(;we;){if("menu"===we.getAttribute("role")){we.focus();break}we=we.parentElement}}}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(B){const ne=Math.min(this._baseElevation+B,24),we=`${this._elevationPrefix}${ne}`,Ye=Object.keys(this._classList).find(mt=>mt.startsWith(this._elevationPrefix));(!Ye||Ye===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[we]=!0,this._previousElevation=we)}setPositionClasses(B=this.xPosition,ne=this.yPosition){const we=this._classList;we["mat-menu-before"]="before"===B,we["mat-menu-after"]="after"===B,we["mat-menu-above"]="above"===ne,we["mat-menu-below"]="below"===ne}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(B){this._animationDone.next(B),this._isAnimating=!1}_onAnimationStart(B){this._isAnimating=!0,"enter"===B.toState&&0===this._keyManager.activeItemIndex&&(B.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe((0,ze.O)(this._allItems)).subscribe(B=>{this._directDescendantItems.reset(B.filter(ne=>ne._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return H.\u0275fac=function(B){return new(B||H)(C.Y36(C.SBq),C.Y36(C.R0b),C.Y36(Zt))},H.\u0275dir=C.lG2({type:H,contentQueries:function(B,ne,we){if(1&B&&(C.Suo(we,jt,5),C.Suo(we,sn,5),C.Suo(we,sn,4)),2&B){let Ye;C.iGM(Ye=C.CRH())&&(ne.lazyContent=Ye.first),C.iGM(Ye=C.CRH())&&(ne._allItems=Ye),C.iGM(Ye=C.CRH())&&(ne.items=Ye)}},viewQuery:function(B,ne){if(1&B&&C.Gf(C.Rgc,5),2&B){let we;C.iGM(we=C.CRH())&&(ne.templateRef=we.first)}},inputs:{backdropClass:"backdropClass",xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"]},outputs:{closed:"closed",close:"close"}}),H})(),Un=(()=>{class H extends Rn{constructor(B,ne,we){super(B,ne,we),this._elevationPrefix="mat-elevation-z",this._baseElevation=4}}return H.\u0275fac=function(B){return new(B||H)(C.Y36(C.SBq),C.Y36(C.R0b),C.Y36(Zt))},H.\u0275cmp=C.Xpm({type:H,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(B,ne){2&B&&C.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[C._Bn([{provide:qt,useExisting:H}]),C.qOj],ngContentSelectors:gn,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(B,ne){1&B&&(C.F$t(),C.YNc(0,pn,3,6,"ng-template"))},directives:[et.mk],styles:["mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]{pointer-events:none}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.cdk-high-contrast-active .mat-menu-item.cdk-program-focused,.cdk-high-contrast-active .mat-menu-item.cdk-keyboard-focused,.cdk-high-contrast-active .mat-menu-item-highlighted{outline:dotted 1px}.mat-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-menu-submenu-icon{fill:CanvasText}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\n"],encapsulation:2,data:{animation:[Mn.transformMenu,Mn.fadeInItems]},changeDetection:0}),H})();const pr=new C.OlP("mat-menu-scroll-strategy"),Dn={provide:pr,deps:[ve.aV],useFactory:function(H){return()=>H.scrollStrategies.reposition()}},Pn=(0,De.i$)({passive:!0});let tn=(()=>{class H{constructor(B,ne,we,Ye,mt,mn,Nn,yn){this._overlay=B,this._element=ne,this._viewContainerRef=we,this._menuItemInstance=mn,this._dir=Nn,this._focusMonitor=yn,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=ee.w.EMPTY,this._hoverSubscription=ee.w.EMPTY,this._menuCloseSubscription=ee.w.EMPTY,this._handleTouchStart=Qe=>{(0,y.yG)(Qe)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new C.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new C.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=Ye,this._parentMaterialMenu=mt instanceof Rn?mt:void 0,ne.nativeElement.addEventListener("touchstart",this._handleTouchStart,Pn),mn&&(mn._triggersSubmenu=this.triggersSubmenu())}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(B){this.menu=B}get menu(){return this._menu}set menu(B){B!==this._menu&&(this._menu=B,this._menuCloseSubscription.unsubscribe(),B&&(this._menuCloseSubscription=B.close.subscribe(ne=>{this._destroyMenu(ne),("click"===ne||"tab"===ne)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(ne)})))}ngAfterContentInit(){this._checkMenu(),this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,Pn),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){if(this._menuOpen)return;this._checkMenu();const B=this._createOverlay(),ne=B.getConfig();this._setPosition(ne.positionStrategy),ne.hasBackdrop=null==this.menu.hasBackdrop?!this.triggersSubmenu():this.menu.hasBackdrop,B.attach(this._getPortal()),this.menu.lazyContent&&this.menu.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(),this.menu instanceof Rn&&this.menu._startAnimation()}closeMenu(){this.menu.close.emit()}focus(B,ne){this._focusMonitor&&B?this._focusMonitor.focusVia(this._element,B,ne):this._element.nativeElement.focus(ne)}updatePosition(){var B;null===(B=this._overlayRef)||void 0===B||B.updatePosition()}_destroyMenu(B){if(!this._overlayRef||!this.menuOpen)return;const ne=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===B||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,ne instanceof Rn?(ne._resetAnimation(),ne.lazyContent?ne._animationDone.pipe((0,gt.h)(we=>"void"===we.toState),(0,Qt.q)(1),(0,Ge.R)(ne.lazyContent._attached)).subscribe({next:()=>ne.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),ne.lazyContent&&ne.lazyContent.detach())}_initMenu(){this.menu.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,this.menu.direction=this.dir,this._setMenuElevation(),this.menu.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(){if(this.menu.setElevation){let B=0,ne=this.menu.parentMenu;for(;ne;)B++,ne=ne.parentMenu;this.menu.setElevation(B)}}_setIsMenuOpen(B){this._menuOpen=B,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(B)}_checkMenu(){}_createOverlay(){if(!this._overlayRef){const B=this._getOverlayConfig();this._subscribeToPositions(B.positionStrategy),this._overlayRef=this._overlay.create(B),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(){return new ve.X_({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:this.menu.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:this.menu.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(B){this.menu.setPositionClasses&&B.positionChanges.subscribe(ne=>{this.menu.setPositionClasses("start"===ne.connectionPair.overlayX?"after":"before","top"===ne.connectionPair.overlayY?"below":"above")})}_setPosition(B){let[ne,we]="before"===this.menu.xPosition?["end","start"]:["start","end"],[Ye,mt]="above"===this.menu.yPosition?["bottom","top"]:["top","bottom"],[mn,Nn]=[Ye,mt],[yn,Qe]=[ne,we],We=0;this.triggersSubmenu()?(Qe=ne="before"===this.menu.xPosition?"start":"end",we=yn="end"===ne?"start":"end",We="bottom"===Ye?8:-8):this.menu.overlapTrigger||(mn="top"===Ye?"bottom":"top",Nn="top"===mt?"bottom":"top"),B.withPositions([{originX:ne,originY:mn,overlayX:yn,overlayY:Ye,offsetY:We},{originX:we,originY:mn,overlayX:Qe,overlayY:Ye,offsetY:We},{originX:ne,originY:Nn,overlayX:yn,overlayY:mt,offsetY:-We},{originX:we,originY:Nn,overlayX:Qe,overlayY:mt,offsetY:-We}])}_menuClosingActions(){const B=this._overlayRef.backdropClick(),ne=this._overlayRef.detachments(),we=this._parentMaterialMenu?this._parentMaterialMenu.closed:(0,ie.of)(),Ye=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe((0,gt.h)(mt=>mt!==this._menuItemInstance),(0,gt.h)(()=>this._menuOpen)):(0,ie.of)();return(0,me.T)(B,we,Ye,ne)}_handleMousedown(B){(0,y.X6)(B)||(this._openedBy=0===B.button?"mouse":void 0,this.triggersSubmenu()&&B.preventDefault())}_handleKeydown(B){const ne=B.keyCode;(ne===D.K5||ne===D.L_)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(ne===D.SV&&"ltr"===this.dir||ne===D.oh&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(B){this.triggersSubmenu()?(B.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe((0,gt.h)(B=>B===this._menuItemInstance&&!B.disabled),Ce(0,ae.E)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof Rn&&this.menu._isAnimating?this.menu._animationDone.pipe((0,Qt.q)(1),Ce(0,ae.E),(0,Ge.R)(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(){return(!this._portal||this._portal.templateRef!==this.menu.templateRef)&&(this._portal=new nt.UE(this.menu.templateRef,this._viewContainerRef)),this._portal}}return H.\u0275fac=function(B){return new(B||H)(C.Y36(ve.aV),C.Y36(C.SBq),C.Y36(C.s_b),C.Y36(pr),C.Y36(qt,8),C.Y36(sn,10),C.Y36(pt.Is,8),C.Y36(y.tE))},H.\u0275dir=C.lG2({type:H,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:["aria-haspopup","true",1,"mat-menu-trigger"],hostVars:2,hostBindings:function(B,ne){1&B&&C.NdJ("mousedown",function(Ye){return ne._handleMousedown(Ye)})("keydown",function(Ye){return ne._handleKeydown(Ye)})("click",function(Ye){return ne._handleClick(Ye)}),2&B&&C.uIk("aria-expanded",ne.menuOpen||null)("aria-controls",ne.menuOpen?ne.menu.panelId:null)},inputs:{restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"],_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"]}),H})(),Ae=(()=>{class H{}return H.\u0275fac=function(B){return new(B||H)},H.\u0275mod=C.oAB({type:H}),H.\u0275inj=C.cJS({providers:[Dn],imports:[Ze.BQ]}),H})(),Z=(()=>{class H{}return H.\u0275fac=function(B){return new(B||H)},H.\u0275mod=C.oAB({type:H}),H.\u0275inj=C.cJS({providers:[Dn],imports:[[et.ez,Ze.BQ,Ze.si,ve.U8,Ae],ce.ZD,Ze.BQ,Ae]}),H})()},4885:(ln,ut,P)=>{"use strict";P.d(ut,{Cq:()=>Qt,$g:()=>Ut});var y=P(7716),_=P(8583),D=P(2458),C=P(9490),_e=P(521),ee=P(6237);function me(gt,Ge){if(1&gt&&(y.O4$(),y._UZ(0,"circle",3)),2&gt){const at=y.oxw();y.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+at._spinnerAnimationLabel)("stroke-dashoffset",at._getStrokeDashOffset(),"px")("stroke-dasharray",at._getStrokeCircumference(),"px")("stroke-width",at._getCircleStrokeWidth(),"%"),y.uIk("r",at._getCircleRadius())}}function ie(gt,Ge){if(1&gt&&(y.O4$(),y._UZ(0,"circle",3)),2&gt){const at=y.oxw();y.Udp("stroke-dashoffset",at._getStrokeDashOffset(),"px")("stroke-dasharray",at._getStrokeCircumference(),"px")("stroke-width",at._getCircleStrokeWidth(),"%"),y.uIk("r",at._getCircleRadius())}}function ae(gt,Ge){if(1&gt&&(y.O4$(),y._UZ(0,"circle",3)),2&gt){const at=y.oxw();y.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+at._spinnerAnimationLabel)("stroke-dashoffset",at._getStrokeDashOffset(),"px")("stroke-dasharray",at._getStrokeCircumference(),"px")("stroke-width",at._getCircleStrokeWidth(),"%"),y.uIk("r",at._getCircleRadius())}}function G(gt,Ge){if(1&gt&&(y.O4$(),y._UZ(0,"circle",3)),2&gt){const at=y.oxw();y.Udp("stroke-dashoffset",at._getStrokeDashOffset(),"px")("stroke-dasharray",at._getStrokeCircumference(),"px")("stroke-width",at._getCircleStrokeWidth(),"%"),y.uIk("r",at._getCircleRadius())}}const se=".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:currentColor;stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] svg{animation:mat-progress-spinner-stroke-rotate-fallback 10000ms cubic-bezier(0.87, 0.03, 0.33, 1) infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition-property:stroke}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}@keyframes mat-progress-spinner-stroke-rotate-fallback{0%{transform:rotate(0deg)}25%{transform:rotate(1170deg)}50%{transform:rotate(2340deg)}75%{transform:rotate(3510deg)}100%{transform:rotate(4680deg)}}\n",Ce=(0,D.pj)(class{constructor(gt){this._elementRef=gt}},"primary"),Re=new y.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function(){return{diameter:100}}});class ze extends Ce{constructor(Ge,at,nt,et,Ze){super(Ge),this._document=nt,this._diameter=100,this._value=0,this._fallbackAnimation=!1,this.mode="determinate";const ve=ze._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),ve.has(nt.head)||ve.set(nt.head,new Set([100])),this._fallbackAnimation=at.EDGE||at.TRIDENT,this._noopAnimations="NoopAnimations"===et&&!!Ze&&!Ze._forceAnimations,Ze&&(Ze.diameter&&(this.diameter=Ze.diameter),Ze.strokeWidth&&(this.strokeWidth=Ze.strokeWidth))}get diameter(){return this._diameter}set diameter(Ge){this._diameter=(0,C.su)(Ge),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),!this._fallbackAnimation&&this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(Ge){this._strokeWidth=(0,C.su)(Ge)}get value(){return"determinate"===this.mode?this._value:0}set value(Ge){this._value=Math.max(0,Math.min(100,(0,C.su)(Ge)))}ngOnInit(){const Ge=this._elementRef.nativeElement;this._styleRoot=(0,_e.kV)(Ge)||this._document.head,this._attachStyleNode(),Ge.classList.add(`mat-progress-spinner-indeterminate${this._fallbackAnimation?"-fallback":""}-animation`)}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const Ge=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${Ge} ${Ge}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:this._fallbackAnimation&&"indeterminate"===this.mode?.2*this._getStrokeCircumference():null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_attachStyleNode(){const Ge=this._styleRoot,at=this._diameter,nt=ze._diameters;let et=nt.get(Ge);if(!et||!et.has(at)){const Ze=this._document.createElement("style");Ze.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),Ze.textContent=this._getAnimationText(),Ge.appendChild(Ze),et||(et=new Set,nt.set(Ge,et)),et.add(at)}}_getAnimationText(){const Ge=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*Ge).replace(/END_VALUE/g,""+.2*Ge).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}ze.\u0275fac=function(Ge){return new(Ge||ze)(y.Y36(y.SBq),y.Y36(_e.t4),y.Y36(_.K0,8),y.Y36(ee.Qb,8),y.Y36(Re))},ze.\u0275cmp=y.Xpm({type:ze,selectors:[["mat-progress-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner"],hostVars:10,hostBindings:function(Ge,at){2&Ge&&(y.uIk("aria-valuemin","determinate"===at.mode?0:null)("aria-valuemax","determinate"===at.mode?100:null)("aria-valuenow","determinate"===at.mode?at.value:null)("mode",at.mode),y.Udp("width",at.diameter,"px")("height",at.diameter,"px"),y.ekj("_mat-animation-noopable",at._noopAnimations))},inputs:{color:"color",mode:"mode",diameter:"diameter",strokeWidth:"strokeWidth",value:"value"},exportAs:["matProgressSpinner"],features:[y.qOj],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(Ge,at){1&Ge&&(y.O4$(),y.TgZ(0,"svg",0),y.YNc(1,me,1,9,"circle",1),y.YNc(2,ie,1,7,"circle",2),y.qZA()),2&Ge&&(y.Udp("width",at.diameter,"px")("height",at.diameter,"px"),y.Q6J("ngSwitch","indeterminate"===at.mode),y.uIk("viewBox",at._getViewBox()),y.xp6(1),y.Q6J("ngSwitchCase",!0),y.xp6(1),y.Q6J("ngSwitchCase",!1))},directives:[_.RF,_.n9],styles:[se],encapsulation:2,changeDetection:0}),ze._diameters=new WeakMap;let Ut=(()=>{class gt extends ze{constructor(at,nt,et,Ze,ve){super(at,nt,et,Ze,ve),this.mode="indeterminate"}}return gt.\u0275fac=function(at){return new(at||gt)(y.Y36(y.SBq),y.Y36(_e.t4),y.Y36(_.K0,8),y.Y36(ee.Qb,8),y.Y36(Re))},gt.\u0275cmp=y.Xpm({type:gt,selectors:[["mat-spinner"]],hostAttrs:["role","progressbar","mode","indeterminate",1,"mat-spinner","mat-progress-spinner"],hostVars:6,hostBindings:function(at,nt){2&at&&(y.Udp("width",nt.diameter,"px")("height",nt.diameter,"px"),y.ekj("_mat-animation-noopable",nt._noopAnimations))},inputs:{color:"color"},features:[y.qOj],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(at,nt){1&at&&(y.O4$(),y.TgZ(0,"svg",0),y.YNc(1,ae,1,9,"circle",1),y.YNc(2,G,1,7,"circle",2),y.qZA()),2&at&&(y.Udp("width",nt.diameter,"px")("height",nt.diameter,"px"),y.Q6J("ngSwitch","indeterminate"===nt.mode),y.uIk("viewBox",nt._getViewBox()),y.xp6(1),y.Q6J("ngSwitchCase",!0),y.xp6(1),y.Q6J("ngSwitchCase",!1))},directives:[_.RF,_.n9],styles:[se],encapsulation:2,changeDetection:0}),gt})(),Qt=(()=>{class gt{}return gt.\u0275fac=function(at){return new(at||gt)},gt.\u0275mod=y.oAB({type:gt}),gt.\u0275inj=y.cJS({imports:[[D.BQ,_.ez],D.BQ]}),gt})()},6458:(ln,ut,P)=>{"use strict";P.d(ut,{ux:()=>Gt,ZX:()=>Xt});var y=P(625),_=P(7636),D=P(8583),C=P(7716),_e=P(2458),ee=P(1095),me=P(9765),ie=P(5257),ae=P(6782),G=P(7238),se=P(9238),oe=P(9490),fe=P(739),Ce=P(8071),Re=P(8891),Ne=P(3653),Se=P(4395),ze=P(8002),Ut=P(9761),Qt=P(521);const Ge=new Set;let at,nt=(()=>{class Nt{constructor(Pt){this._platform=Pt,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Ze}matchMedia(Pt){return this._platform.WEBKIT&&function(Nt){if(!Ge.has(Nt))try{at||(at=document.createElement("style"),at.setAttribute("type","text/css"),document.head.appendChild(at)),at.sheet&&(at.sheet.insertRule(`@media ${Nt} {.fx-query-test{ }}`,0),Ge.add(Nt))}catch(qt){console.error(qt)}}(Pt),this._matchMedia(Pt)}}return Nt.\u0275fac=function(Pt){return new(Pt||Nt)(C.LFG(Qt.t4))},Nt.\u0275prov=C.Yz7({factory:function(){return new Nt(C.LFG(Qt.t4))},token:Nt,providedIn:"root"}),Nt})();function Ze(Nt){return{matches:"all"===Nt||""===Nt,media:Nt,addListener:()=>{},removeListener:()=>{}}}let ve=(()=>{class Nt{constructor(Pt,sn){this._mediaMatcher=Pt,this._zone=sn,this._queries=new Map,this._destroySubject=new me.xQ}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(Pt){return De((0,oe.Eq)(Pt)).some(Zt=>this._registerQuery(Zt).mql.matches)}observe(Pt){const Zt=De((0,oe.Eq)(Pt)).map(Jn=>this._registerQuery(Jn).observable);let bn=(0,fe.aj)(Zt);return bn=(0,Ce.z)(bn.pipe((0,ie.q)(1)),bn.pipe((0,Ne.T)(1),(0,Se.b)(0))),bn.pipe((0,ze.U)(Jn=>{const Rn={matches:!1,breakpoints:{}};return Jn.forEach(({matches:Un,query:pr})=>{Rn.matches=Rn.matches||Un,Rn.breakpoints[pr]=Un}),Rn}))}_registerQuery(Pt){if(this._queries.has(Pt))return this._queries.get(Pt);const sn=this._mediaMatcher.matchMedia(Pt),bn={observable:new Re.y(Jn=>{const Rn=Un=>this._zone.run(()=>Jn.next(Un));return sn.addListener(Rn),()=>{sn.removeListener(Rn)}}).pipe((0,Ut.O)(sn),(0,ze.U)(({matches:Jn})=>({query:Pt,matches:Jn})),(0,ae.R)(this._destroySubject)),mql:sn};return this._queries.set(Pt,bn),bn}}return Nt.\u0275fac=function(Pt){return new(Pt||Nt)(C.LFG(nt),C.LFG(C.R0b))},Nt.\u0275prov=C.Yz7({factory:function(){return new Nt(C.LFG(nt),C.LFG(C.R0b))},token:Nt,providedIn:"root"}),Nt})();function De(Nt){return Nt.map(qt=>qt.split(",")).reduce((qt,Pt)=>qt.concat(Pt)).map(qt=>qt.trim())}function pt(Nt,qt){if(1&Nt){const Pt=C.EpF();C.TgZ(0,"div",1),C.TgZ(1,"button",2),C.NdJ("click",function(){return C.CHM(Pt),C.oxw().action()}),C._uU(2),C.qZA(),C.qZA()}if(2&Nt){const Pt=C.oxw();C.xp6(2),C.Oqu(Pt.data.action)}}function Rt(Nt,qt){}const Tt=new C.OlP("MatSnackBarData");class gn{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const pn=Math.pow(2,31)-1;class Mn{constructor(qt,Pt){this._overlayRef=Pt,this._afterDismissed=new me.xQ,this._afterOpened=new me.xQ,this._onAction=new me.xQ,this._dismissedByAction=!1,this.containerInstance=qt,this.onAction().subscribe(()=>this.dismiss()),qt._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(qt){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(qt,pn))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let wn=(()=>{class Nt{constructor(Pt,sn){this.snackBarRef=Pt,this.data=sn}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return Nt.\u0275fac=function(Pt){return new(Pt||Nt)(C.Y36(Mn),C.Y36(Tt))},Nt.\u0275cmp=C.Xpm({type:Nt,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(Pt,sn){1&Pt&&(C.TgZ(0,"span"),C._uU(1),C.qZA(),C.YNc(2,pt,3,1,"div",0)),2&Pt&&(C.xp6(1),C.Oqu(sn.data.message),C.xp6(1),C.Q6J("ngIf",sn.hasAction))},directives:[D.O5,ee.lW],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}\n"],encapsulation:2,changeDetection:0}),Nt})();const cn={snackBarState:(0,G.X$)("state",[(0,G.SB)("void, hidden",(0,G.oB)({transform:"scale(0.8)",opacity:0})),(0,G.SB)("visible",(0,G.oB)({transform:"scale(1)",opacity:1})),(0,G.eR)("* => visible",(0,G.jt)("150ms cubic-bezier(0, 0, 0.2, 1)")),(0,G.eR)("* => void, * => hidden",(0,G.jt)("75ms cubic-bezier(0.4, 0.0, 1, 1)",(0,G.oB)({opacity:0})))])};let jt=(()=>{class Nt extends _.en{constructor(Pt,sn,Zt,bn,Jn){super(),this._ngZone=Pt,this._elementRef=sn,this._changeDetectorRef=Zt,this._platform=bn,this.snackBarConfig=Jn,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new me.xQ,this._onExit=new me.xQ,this._onEnter=new me.xQ,this._animationState="void",this.attachDomPortal=Rn=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(Rn)),this._live="assertive"!==Jn.politeness||Jn.announcementMessage?"off"===Jn.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(Pt){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(Pt)}attachTemplatePortal(Pt){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(Pt)}onAnimationEnd(Pt){const{fromState:sn,toState:Zt}=Pt;if(("void"===Zt&&"void"!==sn||"hidden"===Zt)&&this._completeExit(),"visible"===Zt){const bn=this._onEnter;this._ngZone.run(()=>{bn.next(),bn.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe((0,ie.q)(1)).subscribe(()=>{this._onExit.next(),this._onExit.complete()})}_applySnackBarClasses(){const Pt=this._elementRef.nativeElement,sn=this.snackBarConfig.panelClass;sn&&(Array.isArray(sn)?sn.forEach(Zt=>Pt.classList.add(Zt)):Pt.classList.add(sn)),"center"===this.snackBarConfig.horizontalPosition&&Pt.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&Pt.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const Pt=this._elementRef.nativeElement.querySelector("[aria-hidden]"),sn=this._elementRef.nativeElement.querySelector("[aria-live]");if(Pt&&sn){let Zt=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&Pt.contains(document.activeElement)&&(Zt=document.activeElement),Pt.removeAttribute("aria-hidden"),sn.appendChild(Pt),null==Zt||Zt.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return Nt.\u0275fac=function(Pt){return new(Pt||Nt)(C.Y36(C.R0b),C.Y36(C.SBq),C.Y36(C.sBO),C.Y36(Qt.t4),C.Y36(gn))},Nt.\u0275cmp=C.Xpm({type:Nt,selectors:[["snack-bar-container"]],viewQuery:function(Pt,sn){if(1&Pt&&C.Gf(_.Pl,7),2&Pt){let Zt;C.iGM(Zt=C.CRH())&&(sn._portalOutlet=Zt.first)}},hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(Pt,sn){1&Pt&&C.WFA("@state.done",function(bn){return sn.onAnimationEnd(bn)}),2&Pt&&C.d8E("@state",sn._animationState)},features:[C.qOj],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(Pt,sn){1&Pt&&(C.TgZ(0,"div",0),C.YNc(1,Rt,0,0,"ng-template",1),C.qZA(),C._UZ(2,"div")),2&Pt&&(C.xp6(2),C.uIk("aria-live",sn._live)("role",sn._role))},directives:[_.Pl],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[cn.snackBarState]}}),Nt})(),Xt=(()=>{class Nt{}return Nt.\u0275fac=function(Pt){return new(Pt||Nt)},Nt.\u0275mod=C.oAB({type:Nt}),Nt.\u0275inj=C.cJS({imports:[[y.U8,_.eL,D.ez,ee.ot,_e.BQ],_e.BQ]}),Nt})();const _t=new C.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function(){return new gn}});let Gt=(()=>{class Nt{constructor(Pt,sn,Zt,bn,Jn,Rn){this._overlay=Pt,this._live=sn,this._injector=Zt,this._breakpointObserver=bn,this._parentSnackBar=Jn,this._defaultConfig=Rn,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=wn,this.snackBarContainerComponent=jt,this.handsetCssClass="mat-snack-bar-handset"}get _openedSnackBarRef(){const Pt=this._parentSnackBar;return Pt?Pt._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(Pt){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=Pt:this._snackBarRefAtThisLevel=Pt}openFromComponent(Pt,sn){return this._attach(Pt,sn)}openFromTemplate(Pt,sn){return this._attach(Pt,sn)}open(Pt,sn="",Zt){const bn=Object.assign(Object.assign({},this._defaultConfig),Zt);return bn.data={message:Pt,action:sn},bn.announcementMessage===Pt&&(bn.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,bn)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(Pt,sn){const bn=C.zs3.create({parent:sn&&sn.viewContainerRef&&sn.viewContainerRef.injector||this._injector,providers:[{provide:gn,useValue:sn}]}),Jn=new _.C5(this.snackBarContainerComponent,sn.viewContainerRef,bn),Rn=Pt.attach(Jn);return Rn.instance.snackBarConfig=sn,Rn.instance}_attach(Pt,sn){const Zt=Object.assign(Object.assign(Object.assign({},new gn),this._defaultConfig),sn),bn=this._createOverlay(Zt),Jn=this._attachSnackBarContainer(bn,Zt),Rn=new Mn(Jn,bn);if(Pt instanceof C.Rgc){const Un=new _.UE(Pt,null,{$implicit:Zt.data,snackBarRef:Rn});Rn.instance=Jn.attachTemplatePortal(Un)}else{const Un=this._createInjector(Zt,Rn),pr=new _.C5(Pt,void 0,Un),ur=Jn.attachComponentPortal(pr);Rn.instance=ur.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe((0,ae.R)(bn.detachments())).subscribe(Un=>{const pr=bn.overlayElement.classList;Un.matches?pr.add(this.handsetCssClass):pr.remove(this.handsetCssClass)}),Zt.announcementMessage&&Jn._onAnnounce.subscribe(()=>{this._live.announce(Zt.announcementMessage,Zt.politeness)}),this._animateSnackBar(Rn,Zt),this._openedSnackBarRef=Rn,this._openedSnackBarRef}_animateSnackBar(Pt,sn){Pt.afterDismissed().subscribe(()=>{this._openedSnackBarRef==Pt&&(this._openedSnackBarRef=null),sn.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{Pt.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):Pt.containerInstance.enter(),sn.duration&&sn.duration>0&&Pt.afterOpened().subscribe(()=>Pt._dismissAfter(sn.duration))}_createOverlay(Pt){const sn=new y.X_;sn.direction=Pt.direction;let Zt=this._overlay.position().global();const bn="rtl"===Pt.direction,Jn="left"===Pt.horizontalPosition||"start"===Pt.horizontalPosition&&!bn||"end"===Pt.horizontalPosition&&bn,Rn=!Jn&&"center"!==Pt.horizontalPosition;return Jn?Zt.left("0"):Rn?Zt.right("0"):Zt.centerHorizontally(),"top"===Pt.verticalPosition?Zt.top("0"):Zt.bottom("0"),sn.positionStrategy=Zt,this._overlay.create(sn)}_createInjector(Pt,sn){return C.zs3.create({parent:Pt&&Pt.viewContainerRef&&Pt.viewContainerRef.injector||this._injector,providers:[{provide:Mn,useValue:sn},{provide:Tt,useValue:Pt.data}]})}}return Nt.\u0275fac=function(Pt){return new(Pt||Nt)(C.LFG(y.aV),C.LFG(se.Kd),C.LFG(C.zs3),C.LFG(ve),C.LFG(Nt,12),C.LFG(_t))},Nt.\u0275prov=C.Yz7({factory:function(){return new Nt(C.LFG(y.aV),C.LFG(se.Kd),C.LFG(C.gxx),C.LFG(ve),C.LFG(Nt,12),C.LFG(_t))},token:Nt,providedIn:Xt}),Nt})()},2522:(ln,ut,P)=>{"use strict";P.d(ut,{Ye:()=>ae,g0:()=>se});var y=P(2458),_=P(8583),D=P(7716),C=P(521);const _e=["*",[["mat-toolbar-row"]]],ee=["*","mat-toolbar-row"],me=(0,y.pj)(class{constructor(oe){this._elementRef=oe}});let ie=(()=>{class oe{}return oe.\u0275fac=function(Ce){return new(Ce||oe)},oe.\u0275dir=D.lG2({type:oe,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),oe})(),ae=(()=>{class oe extends me{constructor(Ce,Re,Ne){super(Ce),this._platform=Re,this._document=Ne}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return oe.\u0275fac=function(Ce){return new(Ce||oe)(D.Y36(D.SBq),D.Y36(C.t4),D.Y36(_.K0))},oe.\u0275cmp=D.Xpm({type:oe,selectors:[["mat-toolbar"]],contentQueries:function(Ce,Re,Ne){if(1&Ce&&D.Suo(Ne,ie,5),2&Ce){let Se;D.iGM(Se=D.CRH())&&(Re._toolbarRows=Se)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(Ce,Re){2&Ce&&D.ekj("mat-toolbar-multiple-rows",Re._toolbarRows.length>0)("mat-toolbar-single-row",0===Re._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[D.qOj],ngContentSelectors:ee,decls:2,vars:0,template:function(Ce,Re){1&Ce&&(D.F$t(_e),D.Hsn(0),D.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),oe})(),se=(()=>{class oe{}return oe.\u0275fac=function(Ce){return new(Ce||oe)},oe.\u0275mod=D.oAB({type:oe}),oe.\u0275inj=D.cJS({imports:[[y.BQ],y.BQ]}),oe})()},6237:(ln,ut,P)=>{"use strict";P.d(ut,{Qb:()=>Wr,PW:()=>yu});var y=P(7716),_=P(9075),D=P(7238);function C(){return"undefined"!=typeof window&&void 0!==window.document}function _e(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function ee(ge){switch(ge.length){case 0:return new D.ZN;case 1:return ge[0];default:return new D.ZE(ge)}}function me(ge,I,R,W,pe={},ke={}){const it=[],ct=[];let Ht=-1,an=null;if(W.forEach(vn=>{const Yn=vn.offset,cr=Yn==Ht,Jr=cr&&an||{};Object.keys(vn).forEach(dr=>{let ar=dr,qr=vn[dr];if("offset"!==dr)switch(ar=I.normalizePropertyName(ar,it),qr){case D.k1:qr=pe[dr];break;case D.l3:qr=ke[dr];break;default:qr=I.normalizeStyleValue(dr,ar,qr,it)}Jr[ar]=qr}),cr||ct.push(Jr),an=Jr,Ht=Yn}),it.length){const vn="\n - ";throw new Error(`Unable to animate due to the following errors:${vn}${it.join(vn)}`)}return ct}function ie(ge,I,R,W){switch(I){case"start":ge.onStart(()=>W(R&&ae(R,"start",ge)));break;case"done":ge.onDone(()=>W(R&&ae(R,"done",ge)));break;case"destroy":ge.onDestroy(()=>W(R&&ae(R,"destroy",ge)))}}function ae(ge,I,R){const W=R.totalTime,ke=G(ge.element,ge.triggerName,ge.fromState,ge.toState,I||ge.phaseName,null==W?ge.totalTime:W,!!R.disabled),it=ge._data;return null!=it&&(ke._data=it),ke}function G(ge,I,R,W,pe="",ke=0,it){return{element:ge,triggerName:I,fromState:R,toState:W,phaseName:pe,totalTime:ke,disabled:!!it}}function se(ge,I,R){let W;return ge instanceof Map?(W=ge.get(I),W||ge.set(I,W=R)):(W=ge[I],W||(W=ge[I]=R)),W}function oe(ge){const I=ge.indexOf(":");return[ge.substring(1,I),ge.substr(I+1)]}let fe=(ge,I)=>!1,Re=(ge,I)=>!1,Se=(ge,I,R)=>[];const Ut=_e();(Ut||"undefined"!=typeof Element)&&(fe=C()?(ge,I)=>{for(;I&&I!==document.documentElement;){if(I===ge)return!0;I=I.parentNode||I.host}return!1}:(ge,I)=>ge.contains(I),Re=(()=>{if(Ut||Element.prototype.matches)return(ge,I)=>ge.matches(I);{const ge=Element.prototype,I=ge.matchesSelector||ge.mozMatchesSelector||ge.msMatchesSelector||ge.oMatchesSelector||ge.webkitMatchesSelector;return I?(R,W)=>I.apply(R,[W]):Re}})(),Se=(ge,I,R)=>{let W=[];if(R){const pe=ge.querySelectorAll(I);for(let ke=0;ke<pe.length;ke++)W.push(pe[ke])}else{const pe=ge.querySelector(I);pe&&W.push(pe)}return W});let gt=null,Ge=!1;function at(ge){gt||(gt=("undefined"!=typeof document?document.body:null)||{},Ge=!!gt.style&&"WebkitAppearance"in gt.style);let I=!0;return gt.style&&!function(ge){return"ebkit"==ge.substring(1,6)}(ge)&&(I=ge in gt.style,!I&&Ge&&(I="Webkit"+ge.charAt(0).toUpperCase()+ge.substr(1)in gt.style)),I}const et=Re,Ze=fe,ve=Se;function De(ge){const I={};return Object.keys(ge).forEach(R=>{const W=R.replace(/([a-z])([A-Z])/g,"$1-$2");I[W]=ge[R]}),I}let ce=(()=>{class ge{validateStyleProperty(R){return at(R)}matchesElement(R,W){return et(R,W)}containsElement(R,W){return Ze(R,W)}query(R,W,pe){return ve(R,W,pe)}computeStyle(R,W,pe){return pe||""}animate(R,W,pe,ke,it,ct=[],Ht){return new D.ZN(pe,ke)}}return ge.\u0275fac=function(R){return new(R||ge)},ge.\u0275prov=y.Yz7({token:ge,factory:ge.\u0275fac}),ge})();class pt{}pt.NOOP=new ce;const pn="ng-enter",Mn="ng-leave",jt="ng-trigger",Xt=".ng-trigger",_t="ng-animating",At=".ng-animating";function Gt(ge){if("number"==typeof ge)return ge;const I=ge.match(/^(-?[\.\d]+)(m?s)/);return!I||I.length<2?0:Nt(parseFloat(I[1]),I[2])}function Nt(ge,I){switch(I){case"s":return 1e3*ge;default:return ge}}function qt(ge,I,R){return ge.hasOwnProperty("duration")?ge:function(ge,I,R){let pe,ke=0,it="";if("string"==typeof ge){const ct=ge.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===ct)return I.push(`The provided timing value "${ge}" is invalid.`),{duration:0,delay:0,easing:""};pe=Nt(parseFloat(ct[1]),ct[2]);const Ht=ct[3];null!=Ht&&(ke=Nt(parseFloat(Ht),ct[4]));const an=ct[5];an&&(it=an)}else pe=ge;if(!R){let ct=!1,Ht=I.length;pe<0&&(I.push("Duration values below 0 are not allowed for this animation step."),ct=!0),ke<0&&(I.push("Delay values below 0 are not allowed for this animation step."),ct=!0),ct&&I.splice(Ht,0,`The provided timing value "${ge}" is invalid.`)}return{duration:pe,delay:ke,easing:it}}(ge,I,R)}function sn(ge,I={}){return Object.keys(ge).forEach(R=>{I[R]=ge[R]}),I}function bn(ge,I,R={}){if(I)for(let W in ge)R[W]=ge[W];else sn(ge,R);return R}function Jn(ge,I,R){return R?I+":"+R+";":""}function Rn(ge){let I="";for(let R=0;R<ge.style.length;R++){const W=ge.style.item(R);I+=Jn(0,W,ge.style.getPropertyValue(W))}for(const R in ge.style)ge.style.hasOwnProperty(R)&&!R.startsWith("_")&&(I+=Jn(0,N(R),ge.style[R]));ge.setAttribute("style",I)}function Un(ge,I,R){ge.style&&(Object.keys(I).forEach(W=>{const pe=H(W);R&&!R.hasOwnProperty(W)&&(R[W]=ge.style[pe]),ge.style[pe]=I[W]}),_e()&&Rn(ge))}function pr(ge,I){ge.style&&(Object.keys(I).forEach(R=>{const W=H(R);ge.style[W]=""}),_e()&&Rn(ge))}function ur(ge){return Array.isArray(ge)?1==ge.length?ge[0]:(0,D.vP)(ge):ge}const jn=new RegExp("{{\\s*(.+?)\\s*}}","g");function Pn(ge){let I=[];if("string"==typeof ge){let R;for(;R=jn.exec(ge);)I.push(R[1]);jn.lastIndex=0}return I}function tn(ge,I,R){const W=ge.toString(),pe=W.replace(jn,(ke,it)=>{let ct=I[it];return I.hasOwnProperty(it)||(R.push(`Please provide a value for the animation param ${it}`),ct=""),ct.toString()});return pe==W?ge:pe}function Ae(ge){const I=[];let R=ge.next();for(;!R.done;)I.push(R.value),R=ge.next();return I}const Z=/-+([a-z0-9])/g;function H(ge){return ge.replace(Z,(...I)=>I[1].toUpperCase())}function N(ge){return ge.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function B(ge,I){return 0===ge||0===I}function ne(ge,I,R){const W=Object.keys(R);if(W.length&&I.length){let ke=I[0],it=[];if(W.forEach(ct=>{ke.hasOwnProperty(ct)||it.push(ct),ke[ct]=R[ct]}),it.length)for(var pe=1;pe<I.length;pe++){let ct=I[pe];it.forEach(function(Ht){ct[Ht]=Ye(ge,Ht)})}}return I}function we(ge,I,R){switch(I.type){case 7:return ge.visitTrigger(I,R);case 0:return ge.visitState(I,R);case 1:return ge.visitTransition(I,R);case 2:return ge.visitSequence(I,R);case 3:return ge.visitGroup(I,R);case 4:return ge.visitAnimate(I,R);case 5:return ge.visitKeyframes(I,R);case 6:return ge.visitStyle(I,R);case 8:return ge.visitReference(I,R);case 9:return ge.visitAnimateChild(I,R);case 10:return ge.visitAnimateRef(I,R);case 11:return ge.visitQuery(I,R);case 12:return ge.visitStagger(I,R);default:throw new Error(`Unable to resolve animation metadata node #${I.type}`)}}function Ye(ge,I){return window.getComputedStyle(ge)[I]}function mn(ge,I){const R=[];return"string"==typeof ge?ge.split(/\s*,\s*/).forEach(W=>function(ge,I,R){if(":"==ge[0]){const Ht=function(ge,I){switch(ge){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(R,W)=>parseFloat(W)>parseFloat(R);case":decrement":return(R,W)=>parseFloat(W)<parseFloat(R);default:return I.push(`The transition alias value "${ge}" is not supported`),"* => *"}}(ge,R);if("function"==typeof Ht)return void I.push(Ht);ge=Ht}const W=ge.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==W||W.length<4)return R.push(`The provided transition expression "${ge}" is not supported`),I;const pe=W[1],ke=W[2],it=W[3];I.push(dt(pe,it));"<"==ke[0]&&!("*"==pe&&"*"==it)&&I.push(dt(it,pe))}(W,R,I)):R.push(ge),R}const Qe=new Set(["true","1"]),We=new Set(["false","0"]);function dt(ge,I){const R=Qe.has(ge)||We.has(ge),W=Qe.has(I)||We.has(I);return(pe,ke)=>{let it="*"==ge||ge==pe,ct="*"==I||I==ke;return!it&&R&&"boolean"==typeof pe&&(it=pe?Qe.has(ge):We.has(ge)),!ct&&W&&"boolean"==typeof ke&&(ct=ke?Qe.has(I):We.has(I)),it&&ct}}const Te=new RegExp("s*:selfs*,?","g");function wt(ge,I,R){return new zt(ge).build(I,R)}class zt{constructor(I){this._driver=I}build(I,R){const W=new Pe(R);return this._resetContextStyleTimingState(W),we(this,ur(I),W)}_resetContextStyleTimingState(I){I.currentQuerySelector="",I.collectedStyles={},I.collectedStyles[""]={},I.currentTime=0}visitTrigger(I,R){let W=R.queryCount=0,pe=R.depCount=0;const ke=[],it=[];return"@"==I.name.charAt(0)&&R.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),I.definitions.forEach(ct=>{if(this._resetContextStyleTimingState(R),0==ct.type){const Ht=ct,an=Ht.name;an.toString().split(/\s*,\s*/).forEach(vn=>{Ht.name=vn,ke.push(this.visitState(Ht,R))}),Ht.name=an}else if(1==ct.type){const Ht=this.visitTransition(ct,R);W+=Ht.queryCount,pe+=Ht.depCount,it.push(Ht)}else R.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:I.name,states:ke,transitions:it,queryCount:W,depCount:pe,options:null}}visitState(I,R){const W=this.visitStyle(I.styles,R),pe=I.options&&I.options.params||null;if(W.containsDynamicStyles){const ke=new Set,it=pe||{};if(W.styles.forEach(ct=>{if(Ke(ct)){const Ht=ct;Object.keys(Ht).forEach(an=>{Pn(Ht[an]).forEach(vn=>{it.hasOwnProperty(vn)||ke.add(vn)})})}}),ke.size){const ct=Ae(ke.values());R.errors.push(`state("${I.name}", ...) must define default values for all the following style substitutions: ${ct.join(", ")}`)}}return{type:0,name:I.name,style:W,options:pe?{params:pe}:null}}visitTransition(I,R){R.queryCount=0,R.depCount=0;const W=we(this,ur(I.animation),R);return{type:1,matchers:mn(I.expr,R.errors),animation:W,queryCount:R.queryCount,depCount:R.depCount,options:Ve(I.options)}}visitSequence(I,R){return{type:2,steps:I.steps.map(W=>we(this,W,R)),options:Ve(I.options)}}visitGroup(I,R){const W=R.currentTime;let pe=0;const ke=I.steps.map(it=>{R.currentTime=W;const ct=we(this,it,R);return pe=Math.max(pe,R.currentTime),ct});return R.currentTime=pe,{type:3,steps:ke,options:Ve(I.options)}}visitAnimate(I,R){const W=function(ge,I){let R=null;if(ge.hasOwnProperty("duration"))R=ge;else if("number"==typeof ge)return Ct(qt(ge,I).duration,0,"");const W=ge;if(W.split(/\s+/).some(ke=>"{"==ke.charAt(0)&&"{"==ke.charAt(1))){const ke=Ct(0,0,"");return ke.dynamic=!0,ke.strValue=W,ke}return R=R||qt(W,I),Ct(R.duration,R.delay,R.easing)}(I.timings,R.errors);R.currentAnimateTimings=W;let pe,ke=I.styles?I.styles:(0,D.oB)({});if(5==ke.type)pe=this.visitKeyframes(ke,R);else{let it=I.styles,ct=!1;if(!it){ct=!0;const an={};W.easing&&(an.easing=W.easing),it=(0,D.oB)(an)}R.currentTime+=W.duration+W.delay;const Ht=this.visitStyle(it,R);Ht.isEmptyStep=ct,pe=Ht}return R.currentAnimateTimings=null,{type:4,timings:W,style:pe,options:null}}visitStyle(I,R){const W=this._makeStyleAst(I,R);return this._validateStyleAst(W,R),W}_makeStyleAst(I,R){const W=[];Array.isArray(I.styles)?I.styles.forEach(it=>{"string"==typeof it?it==D.l3?W.push(it):R.errors.push(`The provided style string value ${it} is not allowed.`):W.push(it)}):W.push(I.styles);let pe=!1,ke=null;return W.forEach(it=>{if(Ke(it)){const ct=it,Ht=ct.easing;if(Ht&&(ke=Ht,delete ct.easing),!pe)for(let an in ct)if(ct[an].toString().indexOf("{{")>=0){pe=!0;break}}}),{type:6,styles:W,easing:ke,offset:I.offset,containsDynamicStyles:pe,options:null}}_validateStyleAst(I,R){const W=R.currentAnimateTimings;let pe=R.currentTime,ke=R.currentTime;W&&ke>0&&(ke-=W.duration+W.delay),I.styles.forEach(it=>{"string"!=typeof it&&Object.keys(it).forEach(ct=>{if(!this._driver.validateStyleProperty(ct))return void R.errors.push(`The provided animation property "${ct}" is not a supported CSS property for animations`);const Ht=R.collectedStyles[R.currentQuerySelector],an=Ht[ct];let vn=!0;an&&(ke!=pe&&ke>=an.startTime&&pe<=an.endTime&&(R.errors.push(`The CSS property "${ct}" that exists between the times of "${an.startTime}ms" and "${an.endTime}ms" is also being animated in a parallel animation between the times of "${ke}ms" and "${pe}ms"`),vn=!1),ke=an.startTime),vn&&(Ht[ct]={startTime:ke,endTime:pe}),R.options&&function(ge,I,R){const W=I.params||{},pe=Pn(ge);pe.length&&pe.forEach(ke=>{W.hasOwnProperty(ke)||R.push(`Unable to resolve the local animation param ${ke} in the given list of values`)})}(it[ct],R.options,R.errors)})})}visitKeyframes(I,R){const W={type:5,styles:[],options:null};if(!R.currentAnimateTimings)return R.errors.push("keyframes() must be placed inside of a call to animate()"),W;let ke=0;const it=[];let ct=!1,Ht=!1,an=0;const vn=I.steps.map(Oi=>{const Bi=this._makeStyleAst(Oi,R);let Ko=null!=Bi.offset?Bi.offset:function(ge){if("string"==typeof ge)return null;let I=null;if(Array.isArray(ge))ge.forEach(R=>{if(Ke(R)&&R.hasOwnProperty("offset")){const W=R;I=parseFloat(W.offset),delete W.offset}});else if(Ke(ge)&&ge.hasOwnProperty("offset")){const R=ge;I=parseFloat(R.offset),delete R.offset}return I}(Bi.styles),co=0;return null!=Ko&&(ke++,co=Bi.offset=Ko),Ht=Ht||co<0||co>1,ct=ct||co<an,an=co,it.push(co),Bi});Ht&&R.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),ct&&R.errors.push("Please ensure that all keyframe offsets are in order");const Yn=I.steps.length;let cr=0;ke>0&&ke<Yn?R.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==ke&&(cr=1/(Yn-1));const Jr=Yn-1,dr=R.currentTime,ar=R.currentAnimateTimings,qr=ar.duration;return vn.forEach((Oi,Bi)=>{const Ko=cr>0?Bi==Jr?1:cr*Bi:it[Bi],co=Ko*qr;R.currentTime=dr+ar.delay+co,ar.duration=co,this._validateStyleAst(Oi,R),Oi.offset=Ko,W.styles.push(Oi)}),W}visitReference(I,R){return{type:8,animation:we(this,ur(I.animation),R),options:Ve(I.options)}}visitAnimateChild(I,R){return R.depCount++,{type:9,options:Ve(I.options)}}visitAnimateRef(I,R){return{type:10,animation:this.visitReference(I.animation,R),options:Ve(I.options)}}visitQuery(I,R){const W=R.currentQuerySelector,pe=I.options||{};R.queryCount++,R.currentQuery=I;const[ke,it]=function(ge){const I=!!ge.split(/\s*,\s*/).find(R=>":self"==R);return I&&(ge=ge.replace(Te,"")),[ge=ge.replace(/@\*/g,Xt).replace(/@\w+/g,R=>Xt+"-"+R.substr(1)).replace(/:animating/g,At),I]}(I.selector);R.currentQuerySelector=W.length?W+" "+ke:ke,se(R.collectedStyles,R.currentQuerySelector,{});const ct=we(this,ur(I.animation),R);return R.currentQuery=null,R.currentQuerySelector=W,{type:11,selector:ke,limit:pe.limit||0,optional:!!pe.optional,includeSelf:it,animation:ct,originalSelector:I.selector,options:Ve(I.options)}}visitStagger(I,R){R.currentQuery||R.errors.push("stagger() can only be used inside of query()");const W="full"===I.timings?{duration:0,delay:0,easing:"full"}:qt(I.timings,R.errors,!0);return{type:12,animation:we(this,ur(I.animation),R),timings:W,options:null}}}class Pe{constructor(I){this.errors=I,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Ke(ge){return!Array.isArray(ge)&&"object"==typeof ge}function Ve(ge){return ge?(ge=sn(ge)).params&&(ge.params=function(ge){return ge?sn(ge):null}(ge.params)):ge={},ge}function Ct(ge,I,R){return{duration:ge,delay:I,easing:R}}function Wt(ge,I,R,W,pe,ke,it=null,ct=!1){return{type:1,element:ge,keyframes:I,preStyleProps:R,postStyleProps:W,duration:pe,delay:ke,totalTime:pe+ke,easing:it,subTimeline:ct}}class Cn{constructor(){this._map=new Map}consume(I){let R=this._map.get(I);return R?this._map.delete(I):R=[],R}append(I,R){let W=this._map.get(I);W||this._map.set(I,W=[]),W.push(...R)}has(I){return this._map.has(I)}clear(){this._map.clear()}}const Lr=new RegExp(":enter","g"),Hr=new RegExp(":leave","g");function ui(ge,I,R,W,pe,ke={},it={},ct,Ht,an=[]){return(new Ii).buildKeyframes(ge,I,R,W,pe,ke,it,ct,Ht,an)}class Ii{buildKeyframes(I,R,W,pe,ke,it,ct,Ht,an,vn=[]){an=an||new Cn;const Yn=new ji(I,R,an,pe,ke,vn,[]);Yn.options=Ht,Yn.currentTimeline.setStyles([it],null,Yn.errors,Ht),we(this,W,Yn);const cr=Yn.timelines.filter(Jr=>Jr.containsAnimation());if(cr.length&&Object.keys(ct).length){const Jr=cr[cr.length-1];Jr.allowOnlyTimelineStyles()||Jr.setStyles([ct],null,Yn.errors,Ht)}return cr.length?cr.map(Jr=>Jr.buildKeyframes()):[Wt(R,[],[],[],0,0,"",!1)]}visitTrigger(I,R){}visitState(I,R){}visitTransition(I,R){}visitAnimateChild(I,R){const W=R.subInstructions.consume(R.element);if(W){const pe=R.createSubContext(I.options),ke=R.currentTimeline.currentTime,it=this._visitSubInstructions(W,pe,pe.options);ke!=it&&R.transformIntoNewTimeline(it)}R.previousNode=I}visitAnimateRef(I,R){const W=R.createSubContext(I.options);W.transformIntoNewTimeline(),this.visitReference(I.animation,W),R.transformIntoNewTimeline(W.currentTimeline.currentTime),R.previousNode=I}_visitSubInstructions(I,R,W){let ke=R.currentTimeline.currentTime;const it=null!=W.duration?Gt(W.duration):null,ct=null!=W.delay?Gt(W.delay):null;return 0!==it&&I.forEach(Ht=>{const an=R.appendInstructionToTimeline(Ht,it,ct);ke=Math.max(ke,an.duration+an.delay)}),ke}visitReference(I,R){R.updateOptions(I.options,!0),we(this,I.animation,R),R.previousNode=I}visitSequence(I,R){const W=R.subContextCount;let pe=R;const ke=I.options;if(ke&&(ke.params||ke.delay)&&(pe=R.createSubContext(ke),pe.transformIntoNewTimeline(),null!=ke.delay)){6==pe.previousNode.type&&(pe.currentTimeline.snapshotCurrentStyles(),pe.previousNode=ei);const it=Gt(ke.delay);pe.delayNextStep(it)}I.steps.length&&(I.steps.forEach(it=>we(this,it,pe)),pe.currentTimeline.applyStylesToKeyframe(),pe.subContextCount>W&&pe.transformIntoNewTimeline()),R.previousNode=I}visitGroup(I,R){const W=[];let pe=R.currentTimeline.currentTime;const ke=I.options&&I.options.delay?Gt(I.options.delay):0;I.steps.forEach(it=>{const ct=R.createSubContext(I.options);ke&&ct.delayNextStep(ke),we(this,it,ct),pe=Math.max(pe,ct.currentTimeline.currentTime),W.push(ct.currentTimeline)}),W.forEach(it=>R.currentTimeline.mergeTimelineCollectedStyles(it)),R.transformIntoNewTimeline(pe),R.previousNode=I}_visitTiming(I,R){if(I.dynamic){const W=I.strValue;return qt(R.params?tn(W,R.params,R.errors):W,R.errors)}return{duration:I.duration,delay:I.delay,easing:I.easing}}visitAnimate(I,R){const W=R.currentAnimateTimings=this._visitTiming(I.timings,R),pe=R.currentTimeline;W.delay&&(R.incrementTime(W.delay),pe.snapshotCurrentStyles());const ke=I.style;5==ke.type?this.visitKeyframes(ke,R):(R.incrementTime(W.duration),this.visitStyle(ke,R),pe.applyStylesToKeyframe()),R.currentAnimateTimings=null,R.previousNode=I}visitStyle(I,R){const W=R.currentTimeline,pe=R.currentAnimateTimings;!pe&&W.getCurrentStyleProperties().length&&W.forwardFrame();const ke=pe&&pe.easing||I.easing;I.isEmptyStep?W.applyEmptyStep(ke):W.setStyles(I.styles,ke,R.errors,R.options),R.previousNode=I}visitKeyframes(I,R){const W=R.currentAnimateTimings,pe=R.currentTimeline.duration,ke=W.duration,ct=R.createSubContext().currentTimeline;ct.easing=W.easing,I.styles.forEach(Ht=>{ct.forwardTime((Ht.offset||0)*ke),ct.setStyles(Ht.styles,Ht.easing,R.errors,R.options),ct.applyStylesToKeyframe()}),R.currentTimeline.mergeTimelineCollectedStyles(ct),R.transformIntoNewTimeline(pe+ke),R.previousNode=I}visitQuery(I,R){const W=R.currentTimeline.currentTime,pe=I.options||{},ke=pe.delay?Gt(pe.delay):0;ke&&(6===R.previousNode.type||0==W&&R.currentTimeline.getCurrentStyleProperties().length)&&(R.currentTimeline.snapshotCurrentStyles(),R.previousNode=ei);let it=W;const ct=R.invokeQuery(I.selector,I.originalSelector,I.limit,I.includeSelf,!!pe.optional,R.errors);R.currentQueryTotal=ct.length;let Ht=null;ct.forEach((an,vn)=>{R.currentQueryIndex=vn;const Yn=R.createSubContext(I.options,an);ke&&Yn.delayNextStep(ke),an===R.element&&(Ht=Yn.currentTimeline),we(this,I.animation,Yn),Yn.currentTimeline.applyStylesToKeyframe(),it=Math.max(it,Yn.currentTimeline.currentTime)}),R.currentQueryIndex=0,R.currentQueryTotal=0,R.transformIntoNewTimeline(it),Ht&&(R.currentTimeline.mergeTimelineCollectedStyles(Ht),R.currentTimeline.snapshotCurrentStyles()),R.previousNode=I}visitStagger(I,R){const W=R.parentContext,pe=R.currentTimeline,ke=I.timings,it=Math.abs(ke.duration),ct=it*(R.currentQueryTotal-1);let Ht=it*R.currentQueryIndex;switch(ke.duration<0?"reverse":ke.easing){case"reverse":Ht=ct-Ht;break;case"full":Ht=W.currentStaggerTime}const vn=R.currentTimeline;Ht&&vn.delayNextStep(Ht);const Yn=vn.currentTime;we(this,I.animation,R),R.previousNode=I,W.currentStaggerTime=pe.currentTime-Yn+(pe.startTime-W.currentTimeline.startTime)}}const ei={};class ji{constructor(I,R,W,pe,ke,it,ct,Ht){this._driver=I,this.element=R,this.subInstructions=W,this._enterClassName=pe,this._leaveClassName=ke,this.errors=it,this.timelines=ct,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ei,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Ht||new Ci(this._driver,R,0),ct.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(I,R){if(!I)return;const W=I;let pe=this.options;null!=W.duration&&(pe.duration=Gt(W.duration)),null!=W.delay&&(pe.delay=Gt(W.delay));const ke=W.params;if(ke){let it=pe.params;it||(it=this.options.params={}),Object.keys(ke).forEach(ct=>{(!R||!it.hasOwnProperty(ct))&&(it[ct]=tn(ke[ct],it,this.errors))})}}_copyOptions(){const I={};if(this.options){const R=this.options.params;if(R){const W=I.params={};Object.keys(R).forEach(pe=>{W[pe]=R[pe]})}}return I}createSubContext(I=null,R,W){const pe=R||this.element,ke=new ji(this._driver,pe,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(pe,W||0));return ke.previousNode=this.previousNode,ke.currentAnimateTimings=this.currentAnimateTimings,ke.options=this._copyOptions(),ke.updateOptions(I),ke.currentQueryIndex=this.currentQueryIndex,ke.currentQueryTotal=this.currentQueryTotal,ke.parentContext=this,this.subContextCount++,ke}transformIntoNewTimeline(I){return this.previousNode=ei,this.currentTimeline=this.currentTimeline.fork(this.element,I),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(I,R,W){const pe={duration:null!=R?R:I.duration,delay:this.currentTimeline.currentTime+(null!=W?W:0)+I.delay,easing:""},ke=new Ln(this._driver,I.element,I.keyframes,I.preStyleProps,I.postStyleProps,pe,I.stretchStartingKeyframe);return this.timelines.push(ke),pe}incrementTime(I){this.currentTimeline.forwardTime(this.currentTimeline.duration+I)}delayNextStep(I){I>0&&this.currentTimeline.delayNextStep(I)}invokeQuery(I,R,W,pe,ke,it){let ct=[];if(pe&&ct.push(this.element),I.length>0){I=(I=I.replace(Lr,"."+this._enterClassName)).replace(Hr,"."+this._leaveClassName);let an=this._driver.query(this.element,I,1!=W);0!==W&&(an=W<0?an.slice(an.length+W,an.length):an.slice(0,W)),ct.push(...an)}return!ke&&0==ct.length&&it.push(`\`query("${R}")\` returned zero elements. (Use \`query("${R}", { optional: true })\` if you wish to allow this.)`),ct}}class Ci{constructor(I,R,W,pe){this._driver=I,this.element=R,this.startTime=W,this._elementTimelineStylesLookup=pe,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(R),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(R,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(I){const R=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||R?(this.forwardTime(this.currentTime+I),R&&this.snapshotCurrentStyles()):this.startTime+=I}fork(I,R){return this.applyStylesToKeyframe(),new Ci(this._driver,I,R||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(I){this.applyStylesToKeyframe(),this.duration=I,this._loadKeyframe()}_updateStyle(I,R){this._localTimelineStyles[I]=R,this._globalTimelineStyles[I]=R,this._styleSummary[I]={time:this.currentTime,value:R}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(I){I&&(this._previousKeyframe.easing=I),Object.keys(this._globalTimelineStyles).forEach(R=>{this._backFill[R]=this._globalTimelineStyles[R]||D.l3,this._currentKeyframe[R]=D.l3}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(I,R,W,pe){R&&(this._previousKeyframe.easing=R);const ke=pe&&pe.params||{},it=function(ge,I){const R={};let W;return ge.forEach(pe=>{"*"===pe?(W=W||Object.keys(I),W.forEach(ke=>{R[ke]=D.l3})):bn(pe,!1,R)}),R}(I,this._globalTimelineStyles);Object.keys(it).forEach(ct=>{const Ht=tn(it[ct],ke,W);this._pendingStyles[ct]=Ht,this._localTimelineStyles.hasOwnProperty(ct)||(this._backFill[ct]=this._globalTimelineStyles.hasOwnProperty(ct)?this._globalTimelineStyles[ct]:D.l3),this._updateStyle(ct,Ht)})}applyStylesToKeyframe(){const I=this._pendingStyles,R=Object.keys(I);0!=R.length&&(this._pendingStyles={},R.forEach(W=>{this._currentKeyframe[W]=I[W]}),Object.keys(this._localTimelineStyles).forEach(W=>{this._currentKeyframe.hasOwnProperty(W)||(this._currentKeyframe[W]=this._localTimelineStyles[W])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(I=>{const R=this._localTimelineStyles[I];this._pendingStyles[I]=R,this._updateStyle(I,R)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const I=[];for(let R in this._currentKeyframe)I.push(R);return I}mergeTimelineCollectedStyles(I){Object.keys(I._styleSummary).forEach(R=>{const W=this._styleSummary[R],pe=I._styleSummary[R];(!W||pe.time>W.time)&&this._updateStyle(R,pe.value)})}buildKeyframes(){this.applyStylesToKeyframe();const I=new Set,R=new Set,W=1===this._keyframes.size&&0===this.duration;let pe=[];this._keyframes.forEach((ct,Ht)=>{const an=bn(ct,!0);Object.keys(an).forEach(vn=>{const Yn=an[vn];Yn==D.k1?I.add(vn):Yn==D.l3&&R.add(vn)}),W||(an.offset=Ht/this.duration),pe.push(an)});const ke=I.size?Ae(I.values()):[],it=R.size?Ae(R.values()):[];if(W){const ct=pe[0],Ht=sn(ct);ct.offset=0,Ht.offset=1,pe=[ct,Ht]}return Wt(this.element,pe,ke,it,this.duration,this.startTime,this.easing,!1)}}class Ln extends Ci{constructor(I,R,W,pe,ke,it,ct=!1){super(I,R,it.delay),this.keyframes=W,this.preStyleProps=pe,this.postStyleProps=ke,this._stretchStartingKeyframe=ct,this.timings={duration:it.duration,delay:it.delay,easing:it.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let I=this.keyframes,{delay:R,duration:W,easing:pe}=this.timings;if(this._stretchStartingKeyframe&&R){const ke=[],it=W+R,ct=R/it,Ht=bn(I[0],!1);Ht.offset=0,ke.push(Ht);const an=bn(I[0],!1);an.offset=Ir(ct),ke.push(an);const vn=I.length-1;for(let Yn=1;Yn<=vn;Yn++){let cr=bn(I[Yn],!1);cr.offset=Ir((R+cr.offset*W)/it),ke.push(cr)}W=it,R=0,pe="",I=ke}return Wt(this.element,I,this.preStyleProps,this.postStyleProps,W,R,pe,!0)}}function Ir(ge,I=3){const R=Math.pow(10,I-1);return Math.round(ge*R)/R}class Yi{}class ao extends Yi{normalizePropertyName(I,R){return H(I)}normalizeStyleValue(I,R,W,pe){let ke="";const it=W.toString().trim();if(Hi[R]&&0!==W&&"0"!==W)if("number"==typeof W)ke="px";else{const ct=W.match(/^[+-]?[\d\.]+([a-z]*)$/);ct&&0==ct[1].length&&pe.push(`Please provide a CSS unit value for ${I}:${W}`)}return it+ke}}const Hi=(()=>function(ge){const I={};return ge.forEach(R=>I[R]=!0),I}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function vr(ge,I,R,W,pe,ke,it,ct,Ht,an,vn,Yn,cr){return{type:0,element:ge,triggerName:I,isRemovalTransition:pe,fromState:R,fromStyles:ke,toState:W,toStyles:it,timelines:ct,queriedElements:Ht,preStyleProps:an,postStyleProps:vn,totalTime:Yn,errors:cr}}const kt={};class vt{constructor(I,R,W){this._triggerName=I,this.ast=R,this._stateStyles=W}match(I,R,W,pe){return function(ge,I,R,W,pe){return ge.some(ke=>ke(I,R,W,pe))}(this.ast.matchers,I,R,W,pe)}buildStyles(I,R,W){const pe=this._stateStyles["*"],ke=this._stateStyles[I],it=pe?pe.buildStyles(R,W):{};return ke?ke.buildStyles(R,W):it}build(I,R,W,pe,ke,it,ct,Ht,an,vn){const Yn=[],cr=this.ast.options&&this.ast.options.params||kt,dr=this.buildStyles(W,ct&&ct.params||kt,Yn),ar=Ht&&Ht.params||kt,qr=this.buildStyles(pe,ar,Yn),Oi=new Set,Bi=new Map,Ko=new Map,co="void"===pe,Ms={params:Object.assign(Object.assign({},cr),ar)},_o=vn?[]:ui(I,R,this.ast.animation,ke,it,dr,qr,Ms,an,Yn);let Ti=0;if(_o.forEach(Qi=>{Ti=Math.max(Qi.duration+Qi.delay,Ti)}),Yn.length)return vr(R,this._triggerName,W,pe,co,dr,qr,[],[],Bi,Ko,Ti,Yn);_o.forEach(Qi=>{const To=Qi.element,ml=se(Bi,To,{});Qi.preStyleProps.forEach(mi=>ml[mi]=!0);const nu=se(Ko,To,{});Qi.postStyleProps.forEach(mi=>nu[mi]=!0),To!==R&&Oi.add(To)});const Rs=Ae(Oi.values());return vr(R,this._triggerName,W,pe,co,dr,qr,_o,Rs,Bi,Ko,Ti)}}class Lt{constructor(I,R,W){this.styles=I,this.defaultParams=R,this.normalizer=W}buildStyles(I,R){const W={},pe=sn(this.defaultParams);return Object.keys(I).forEach(ke=>{const it=I[ke];null!=it&&(pe[ke]=it)}),this.styles.styles.forEach(ke=>{if("string"!=typeof ke){const it=ke;Object.keys(it).forEach(ct=>{let Ht=it[ct];Ht.length>1&&(Ht=tn(Ht,pe,R));const an=this.normalizer.normalizePropertyName(ct,R);Ht=this.normalizer.normalizeStyleValue(ct,an,Ht,R),W[an]=Ht})}}),W}}class nr{constructor(I,R,W){this.name=I,this.ast=R,this._normalizer=W,this.transitionFactories=[],this.states={},R.states.forEach(pe=>{this.states[pe.name]=new Lt(pe.style,pe.options&&pe.options.params||{},W)}),St(this.states,"true","1"),St(this.states,"false","0"),R.transitions.forEach(pe=>{this.transitionFactories.push(new vt(I,pe,this.states))}),this.fallbackTransition=function(ge,I,R){return new vt(ge,{type:1,animation:{type:2,steps:[],options:null},matchers:[(it,ct)=>!0],options:null,queryCount:0,depCount:0},I)}(I,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(I,R,W,pe){return this.transitionFactories.find(it=>it.match(I,R,W,pe))||null}matchStyles(I,R,W){return this.fallbackTransition.buildStyles(I,R,W)}}function St(ge,I,R){ge.hasOwnProperty(I)?ge.hasOwnProperty(R)||(ge[R]=ge[I]):ge.hasOwnProperty(R)&&(ge[I]=ge[R])}const Le=new Cn;class Mt{constructor(I,R,W){this.bodyNode=I,this._driver=R,this._normalizer=W,this._animations={},this._playersById={},this.players=[]}register(I,R){const W=[],pe=wt(this._driver,R,W);if(W.length)throw new Error(`Unable to build the animation due to the following errors: ${W.join("\n")}`);this._animations[I]=pe}_buildPlayer(I,R,W){const pe=I.element,ke=me(0,this._normalizer,0,I.keyframes,R,W);return this._driver.animate(pe,ke,I.duration,I.delay,I.easing,[],!0)}create(I,R,W={}){const pe=[],ke=this._animations[I];let it;const ct=new Map;if(ke?(it=ui(this._driver,R,ke,pn,Mn,{},{},W,Le,pe),it.forEach(vn=>{const Yn=se(ct,vn.element,{});vn.postStyleProps.forEach(cr=>Yn[cr]=null)})):(pe.push("The requested animation doesn't exist or has already been destroyed"),it=[]),pe.length)throw new Error(`Unable to create the animation due to the following errors: ${pe.join("\n")}`);ct.forEach((vn,Yn)=>{Object.keys(vn).forEach(cr=>{vn[cr]=this._driver.computeStyle(Yn,cr,D.l3)})});const an=ee(it.map(vn=>{const Yn=ct.get(vn.element);return this._buildPlayer(vn,{},Yn)}));return this._playersById[I]=an,an.onDestroy(()=>this.destroy(I)),this.players.push(an),an}destroy(I){const R=this._getPlayer(I);R.destroy(),delete this._playersById[I];const W=this.players.indexOf(R);W>=0&&this.players.splice(W,1)}_getPlayer(I){const R=this._playersById[I];if(!R)throw new Error(`Unable to find the timeline player referenced by ${I}`);return R}listen(I,R,W,pe){const ke=G(R,"","","");return ie(this._getPlayer(I),W,ke,pe),()=>{}}command(I,R,W,pe){if("register"==W)return void this.register(I,pe[0]);if("create"==W)return void this.create(I,R,pe[0]||{});const ke=this._getPlayer(I);switch(W){case"play":ke.play();break;case"pause":ke.pause();break;case"reset":ke.reset();break;case"restart":ke.restart();break;case"finish":ke.finish();break;case"init":ke.init();break;case"setPosition":ke.setPosition(parseFloat(pe[0]));break;case"destroy":this.destroy(I)}}}const On="ng-animate-queued",or="ng-animate-disabled",wr=".ng-animate-disabled",gr=[],br={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},bi={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Si="__ng_removed";class Go{constructor(I,R=""){this.namespaceId=R;const W=I&&I.hasOwnProperty("value");if(this.value=null!=(ge=W?I.value:I)?ge:null,W){const ke=sn(I);delete ke.value,this.options=ke}else this.options={};var ge;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(I){const R=I.params;if(R){const W=this.options.params;Object.keys(R).forEach(pe=>{null==W[pe]&&(W[pe]=R[pe])})}}}const Ai="void",So=new Go(Ai);class to{constructor(I,R,W){this.id=I,this.hostElement=R,this._engine=W,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+I,Ni(R,this._hostClassName)}listen(I,R,W,pe){if(!this._triggers.hasOwnProperty(R))throw new Error(`Unable to listen on the animation trigger event "${W}" because the animation trigger "${R}" doesn't exist!`);if(null==W||0==W.length)throw new Error(`Unable to listen on the animation trigger "${R}" because the provided event is undefined!`);if("start"!=(ge=W)&&"done"!=ge)throw new Error(`The provided animation trigger event "${W}" for the animation trigger "${R}" is not supported!`);var ge;const ke=se(this._elementListeners,I,[]),it={name:R,phase:W,callback:pe};ke.push(it);const ct=se(this._engine.statesByElement,I,{});return ct.hasOwnProperty(R)||(Ni(I,jt),Ni(I,jt+"-"+R),ct[R]=So),()=>{this._engine.afterFlush(()=>{const Ht=ke.indexOf(it);Ht>=0&&ke.splice(Ht,1),this._triggers[R]||delete ct[R]})}}register(I,R){return!this._triggers[I]&&(this._triggers[I]=R,!0)}_getTrigger(I){const R=this._triggers[I];if(!R)throw new Error(`The provided animation trigger "${I}" has not been registered!`);return R}trigger(I,R,W,pe=!0){const ke=this._getTrigger(R),it=new Vs(this.id,R,I);let ct=this._engine.statesByElement.get(I);ct||(Ni(I,jt),Ni(I,jt+"-"+R),this._engine.statesByElement.set(I,ct={}));let Ht=ct[R];const an=new Go(W,this.id);if(!(W&&W.hasOwnProperty("value"))&&Ht&&an.absorbOptions(Ht.options),ct[R]=an,Ht||(Ht=So),an.value!==Ai&&Ht.value===an.value){if(!function(ge,I){const R=Object.keys(ge),W=Object.keys(I);if(R.length!=W.length)return!1;for(let pe=0;pe<R.length;pe++){const ke=R[pe];if(!I.hasOwnProperty(ke)||ge[ke]!==I[ke])return!1}return!0}(Ht.params,an.params)){const ar=[],qr=ke.matchStyles(Ht.value,Ht.params,ar),Oi=ke.matchStyles(an.value,an.params,ar);ar.length?this._engine.reportError(ar):this._engine.afterFlush(()=>{pr(I,qr),Un(I,Oi)})}return}const cr=se(this._engine.playersByElement,I,[]);cr.forEach(ar=>{ar.namespaceId==this.id&&ar.triggerName==R&&ar.queued&&ar.destroy()});let Jr=ke.matchTransition(Ht.value,an.value,I,an.params),dr=!1;if(!Jr){if(!pe)return;Jr=ke.fallbackTransition,dr=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:I,triggerName:R,transition:Jr,fromState:Ht,toState:an,player:it,isFallbackTransition:dr}),dr||(Ni(I,On),it.onStart(()=>{no(I,On)})),it.onDone(()=>{let ar=this.players.indexOf(it);ar>=0&&this.players.splice(ar,1);const qr=this._engine.playersByElement.get(I);if(qr){let Oi=qr.indexOf(it);Oi>=0&&qr.splice(Oi,1)}}),this.players.push(it),cr.push(it),it}deregister(I){delete this._triggers[I],this._engine.statesByElement.forEach((R,W)=>{delete R[I]}),this._elementListeners.forEach((R,W)=>{this._elementListeners.set(W,R.filter(pe=>pe.name!=I))})}clearElementCache(I){this._engine.statesByElement.delete(I),this._elementListeners.delete(I);const R=this._engine.playersByElement.get(I);R&&(R.forEach(W=>W.destroy()),this._engine.playersByElement.delete(I))}_signalRemovalForInnerTriggers(I,R){const W=this._engine.driver.query(I,Xt,!0);W.forEach(pe=>{if(pe[Si])return;const ke=this._engine.fetchNamespacesByElement(pe);ke.size?ke.forEach(it=>it.triggerLeaveAnimation(pe,R,!1,!0)):this.clearElementCache(pe)}),this._engine.afterFlushAnimationsDone(()=>W.forEach(pe=>this.clearElementCache(pe)))}triggerLeaveAnimation(I,R,W,pe){const ke=this._engine.statesByElement.get(I);if(ke){const it=[];if(Object.keys(ke).forEach(ct=>{if(this._triggers[ct]){const Ht=this.trigger(I,ct,Ai,pe);Ht&&it.push(Ht)}}),it.length)return this._engine.markElementAsRemoved(this.id,I,!0,R),W&&ee(it).onDone(()=>this._engine.processLeaveNode(I)),!0}return!1}prepareLeaveAnimationListeners(I){const R=this._elementListeners.get(I),W=this._engine.statesByElement.get(I);if(R&&W){const pe=new Set;R.forEach(ke=>{const it=ke.name;if(pe.has(it))return;pe.add(it);const Ht=this._triggers[it].fallbackTransition,an=W[it]||So,vn=new Go(Ai),Yn=new Vs(this.id,it,I);this._engine.totalQueuedPlayers++,this._queue.push({element:I,triggerName:it,transition:Ht,fromState:an,toState:vn,player:Yn,isFallbackTransition:!0})})}}removeNode(I,R){const W=this._engine;if(I.childElementCount&&this._signalRemovalForInnerTriggers(I,R),this.triggerLeaveAnimation(I,R,!0))return;let pe=!1;if(W.totalAnimations){const ke=W.players.length?W.playersByQueriedElement.get(I):[];if(ke&&ke.length)pe=!0;else{let it=I;for(;it=it.parentNode;)if(W.statesByElement.get(it)){pe=!0;break}}}if(this.prepareLeaveAnimationListeners(I),pe)W.markElementAsRemoved(this.id,I,!1,R);else{const ke=I[Si];(!ke||ke===br)&&(W.afterFlush(()=>this.clearElementCache(I)),W.destroyInnerAnimations(I),W._onRemovalComplete(I,R))}}insertNode(I,R){Ni(I,this._hostClassName)}drainQueuedTransitions(I){const R=[];return this._queue.forEach(W=>{const pe=W.player;if(pe.destroyed)return;const ke=W.element,it=this._elementListeners.get(ke);it&&it.forEach(ct=>{if(ct.name==W.triggerName){const Ht=G(ke,W.triggerName,W.fromState.value,W.toState.value);Ht._data=I,ie(W.player,ct.phase,Ht,ct.callback)}}),pe.markedForDestroy?this._engine.afterFlush(()=>{pe.destroy()}):R.push(W)}),this._queue=[],R.sort((W,pe)=>{const ke=W.transition.ast.depCount,it=pe.transition.ast.depCount;return 0==ke||0==it?ke-it:this._engine.driver.containsElement(W.element,pe.element)?1:-1})}destroy(I){this.players.forEach(R=>R.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,I)}elementContainsData(I){let R=!1;return this._elementListeners.has(I)&&(R=!0),R=!!this._queue.find(W=>W.element===I)||R,R}}class uo{constructor(I,R,W){this.bodyNode=I,this.driver=R,this._normalizer=W,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(pe,ke)=>{}}_onRemovalComplete(I,R){this.onRemovalComplete(I,R)}get queuedPlayers(){const I=[];return this._namespaceList.forEach(R=>{R.players.forEach(W=>{W.queued&&I.push(W)})}),I}createNamespace(I,R){const W=new to(I,R,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,R)?this._balanceNamespaceList(W,R):(this.newHostElements.set(R,W),this.collectEnterElement(R)),this._namespaceLookup[I]=W}_balanceNamespaceList(I,R){const W=this._namespaceList.length-1;if(W>=0){let pe=!1;for(let ke=W;ke>=0;ke--)if(this.driver.containsElement(this._namespaceList[ke].hostElement,R)){this._namespaceList.splice(ke+1,0,I),pe=!0;break}pe||this._namespaceList.splice(0,0,I)}else this._namespaceList.push(I);return this.namespacesByHostElement.set(R,I),I}register(I,R){let W=this._namespaceLookup[I];return W||(W=this.createNamespace(I,R)),W}registerTrigger(I,R,W){let pe=this._namespaceLookup[I];pe&&pe.register(R,W)&&this.totalAnimations++}destroy(I,R){if(!I)return;const W=this._fetchNamespace(I);this.afterFlush(()=>{this.namespacesByHostElement.delete(W.hostElement),delete this._namespaceLookup[I];const pe=this._namespaceList.indexOf(W);pe>=0&&this._namespaceList.splice(pe,1)}),this.afterFlushAnimationsDone(()=>W.destroy(R))}_fetchNamespace(I){return this._namespaceLookup[I]}fetchNamespacesByElement(I){const R=new Set,W=this.statesByElement.get(I);if(W){const pe=Object.keys(W);for(let ke=0;ke<pe.length;ke++){const it=W[pe[ke]].namespaceId;if(it){const ct=this._fetchNamespace(it);ct&&R.add(ct)}}}return R}trigger(I,R,W,pe){if(Wo(R)){const ke=this._fetchNamespace(I);if(ke)return ke.trigger(R,W,pe),!0}return!1}insertNode(I,R,W,pe){if(!Wo(R))return;const ke=R[Si];if(ke&&ke.setForRemoval){ke.setForRemoval=!1,ke.setForMove=!0;const it=this.collectedLeaveElements.indexOf(R);it>=0&&this.collectedLeaveElements.splice(it,1)}if(I){const it=this._fetchNamespace(I);it&&it.insertNode(R,W)}pe&&this.collectEnterElement(R)}collectEnterElement(I){this.collectedEnterElements.push(I)}markElementAsDisabled(I,R){R?this.disabledNodes.has(I)||(this.disabledNodes.add(I),Ni(I,or)):this.disabledNodes.has(I)&&(this.disabledNodes.delete(I),no(I,or))}removeNode(I,R,W,pe){if(Wo(R)){const ke=I?this._fetchNamespace(I):null;if(ke?ke.removeNode(R,pe):this.markElementAsRemoved(I,R,!1,pe),W){const it=this.namespacesByHostElement.get(R);it&&it.id!==I&&it.removeNode(R,pe)}}else this._onRemovalComplete(R,pe)}markElementAsRemoved(I,R,W,pe){this.collectedLeaveElements.push(R),R[Si]={namespaceId:I,setForRemoval:pe,hasAnimation:W,removedBeforeQueried:!1}}listen(I,R,W,pe,ke){return Wo(R)?this._fetchNamespace(I).listen(R,W,pe,ke):()=>{}}_buildInstruction(I,R,W,pe,ke){return I.transition.build(this.driver,I.element,I.fromState.value,I.toState.value,W,pe,I.fromState.options,I.toState.options,R,ke)}destroyInnerAnimations(I){let R=this.driver.query(I,Xt,!0);R.forEach(W=>this.destroyActiveAnimationsForElement(W)),0!=this.playersByQueriedElement.size&&(R=this.driver.query(I,At,!0),R.forEach(W=>this.finishActiveQueriedAnimationOnElement(W)))}destroyActiveAnimationsForElement(I){const R=this.playersByElement.get(I);R&&R.forEach(W=>{W.queued?W.markedForDestroy=!0:W.destroy()})}finishActiveQueriedAnimationOnElement(I){const R=this.playersByQueriedElement.get(I);R&&R.forEach(W=>W.finish())}whenRenderingDone(){return new Promise(I=>{if(this.players.length)return ee(this.players).onDone(()=>I());I()})}processLeaveNode(I){const R=I[Si];if(R&&R.setForRemoval){if(I[Si]=br,R.namespaceId){this.destroyInnerAnimations(I);const W=this._fetchNamespace(R.namespaceId);W&&W.clearElementCache(I)}this._onRemovalComplete(I,R.setForRemoval)}this.driver.matchesElement(I,wr)&&this.markElementAsDisabled(I,!1),this.driver.query(I,wr,!0).forEach(W=>{this.markElementAsDisabled(W,!1)})}flush(I=-1){let R=[];if(this.newHostElements.size&&(this.newHostElements.forEach((W,pe)=>this._balanceNamespaceList(W,pe)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let W=0;W<this.collectedEnterElements.length;W++)Ni(this.collectedEnterElements[W],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const W=[];try{R=this._flushAnimations(W,I)}finally{for(let pe=0;pe<W.length;pe++)W[pe]()}}else for(let W=0;W<this.collectedLeaveElements.length;W++)this.processLeaveNode(this.collectedLeaveElements[W]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(W=>W()),this._flushFns=[],this._whenQuietFns.length){const W=this._whenQuietFns;this._whenQuietFns=[],R.length?ee(R).onDone(()=>{W.forEach(pe=>pe())}):W.forEach(pe=>pe())}}reportError(I){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${I.join("\n")}`)}_flushAnimations(I,R){const W=new Cn,pe=[],ke=new Map,it=[],ct=new Map,Ht=new Map,an=new Map,vn=new Set;this.disabledNodes.forEach(ir=>{vn.add(ir);const Zn=this.driver.query(ir,".ng-animate-queued",!0);for(let Ar=0;Ar<Zn.length;Ar++)vn.add(Zn[Ar])});const Yn=this.bodyNode,cr=Array.from(this.statesByElement.keys()),Jr=Or(cr,this.collectedEnterElements),dr=new Map;let ar=0;Jr.forEach((ir,Zn)=>{const Ar=pn+ar++;dr.set(Zn,Ar),ir.forEach(Rr=>Ni(Rr,Ar))});const qr=[],Oi=new Set,Bi=new Set;for(let ir=0;ir<this.collectedLeaveElements.length;ir++){const Zn=this.collectedLeaveElements[ir],Ar=Zn[Si];Ar&&Ar.setForRemoval&&(qr.push(Zn),Oi.add(Zn),Ar.hasAnimation?this.driver.query(Zn,".ng-star-inserted",!0).forEach(Rr=>Oi.add(Rr)):Bi.add(Zn))}const Ko=new Map,co=Or(cr,Array.from(Oi));co.forEach((ir,Zn)=>{const Ar=Mn+ar++;Ko.set(Zn,Ar),ir.forEach(Rr=>Ni(Rr,Ar))}),I.push(()=>{Jr.forEach((ir,Zn)=>{const Ar=dr.get(Zn);ir.forEach(Rr=>no(Rr,Ar))}),co.forEach((ir,Zn)=>{const Ar=Ko.get(Zn);ir.forEach(Rr=>no(Rr,Ar))}),qr.forEach(ir=>{this.processLeaveNode(ir)})});const Ms=[],_o=[];for(let ir=this._namespaceList.length-1;ir>=0;ir--)this._namespaceList[ir].drainQueuedTransitions(R).forEach(Ar=>{const Rr=Ar.player,_i=Ar.element;if(Ms.push(Rr),this.collectedEnterElements.length){const Oo=_i[Si];if(Oo&&Oo.setForMove)return void Rr.destroy()}const io=!Yn||!this.driver.containsElement(Yn,_i),wi=Ko.get(_i),Xo=dr.get(_i),Fi=this._buildInstruction(Ar,W,Xo,wi,io);if(Fi.errors&&Fi.errors.length)_o.push(Fi);else{if(io)return Rr.onStart(()=>pr(_i,Fi.fromStyles)),Rr.onDestroy(()=>Un(_i,Fi.toStyles)),void pe.push(Rr);if(Ar.isFallbackTransition)return Rr.onStart(()=>pr(_i,Fi.fromStyles)),Rr.onDestroy(()=>Un(_i,Fi.toStyles)),void pe.push(Rr);Fi.timelines.forEach(Oo=>Oo.stretchStartingKeyframe=!0),W.append(_i,Fi.timelines),it.push({instruction:Fi,player:Rr,element:_i}),Fi.queriedElements.forEach(Oo=>se(ct,Oo,[]).push(Rr)),Fi.preStyleProps.forEach((Oo,ps)=>{const vo=Object.keys(Oo);if(vo.length){let es=Ht.get(ps);es||Ht.set(ps,es=new Set),vo.forEach(Os=>es.add(Os))}}),Fi.postStyleProps.forEach((Oo,ps)=>{const vo=Object.keys(Oo);let es=an.get(ps);es||an.set(ps,es=new Set),vo.forEach(Os=>es.add(Os))})}});if(_o.length){const ir=[];_o.forEach(Zn=>{ir.push(`@${Zn.triggerName} has failed due to:\n`),Zn.errors.forEach(Ar=>ir.push(`- ${Ar}\n`))}),Ms.forEach(Zn=>Zn.destroy()),this.reportError(ir)}const Ti=new Map,Rs=new Map;it.forEach(ir=>{const Zn=ir.element;W.has(Zn)&&(Rs.set(Zn,Zn),this._beforeAnimationBuild(ir.player.namespaceId,ir.instruction,Ti))}),pe.forEach(ir=>{const Zn=ir.element;this._getPreviousPlayers(Zn,!1,ir.namespaceId,ir.triggerName,null).forEach(Rr=>{se(Ti,Zn,[]).push(Rr),Rr.destroy()})});const Qi=qr.filter(ir=>re(ir,Ht,an)),To=new Map;Qo(To,this.driver,Bi,an,D.l3).forEach(ir=>{re(ir,Ht,an)&&Qi.push(ir)});const nu=new Map;Jr.forEach((ir,Zn)=>{Qo(nu,this.driver,new Set(ir),Ht,D.k1)}),Qi.forEach(ir=>{const Zn=To.get(ir),Ar=nu.get(ir);To.set(ir,Object.assign(Object.assign({},Zn),Ar))});const mi=[],Jo=[],Wi={};it.forEach(ir=>{const{element:Zn,player:Ar,instruction:Rr}=ir;if(W.has(Zn)){if(vn.has(Zn))return Ar.onDestroy(()=>Un(Zn,Rr.toStyles)),Ar.disabled=!0,Ar.overrideTotalTime(Rr.totalTime),void pe.push(Ar);let _i=Wi;if(Rs.size>1){let wi=Zn;const Xo=[];for(;wi=wi.parentNode;){const Fi=Rs.get(wi);if(Fi){_i=Fi;break}Xo.push(wi)}Xo.forEach(Fi=>Rs.set(Fi,_i))}const io=this._buildAnimation(Ar.namespaceId,Rr,Ti,ke,nu,To);if(Ar.setRealPlayer(io),_i===Wi)mi.push(Ar);else{const wi=this.playersByElement.get(_i);wi&&wi.length&&(Ar.parentPlayer=ee(wi)),pe.push(Ar)}}else pr(Zn,Rr.fromStyles),Ar.onDestroy(()=>Un(Zn,Rr.toStyles)),Jo.push(Ar),vn.has(Zn)&&pe.push(Ar)}),Jo.forEach(ir=>{const Zn=ke.get(ir.element);if(Zn&&Zn.length){const Ar=ee(Zn);ir.setRealPlayer(Ar)}}),pe.forEach(ir=>{ir.parentPlayer?ir.syncPlayerEvents(ir.parentPlayer):ir.destroy()});for(let ir=0;ir<qr.length;ir++){const Zn=qr[ir],Ar=Zn[Si];if(no(Zn,Mn),Ar&&Ar.hasAnimation)continue;let Rr=[];if(ct.size){let io=ct.get(Zn);io&&io.length&&Rr.push(...io);let wi=this.driver.query(Zn,At,!0);for(let Xo=0;Xo<wi.length;Xo++){let Fi=ct.get(wi[Xo]);Fi&&Fi.length&&Rr.push(...Fi)}}const _i=Rr.filter(io=>!io.destroyed);_i.length?kr(this,Zn,_i):this.processLeaveNode(Zn)}return qr.length=0,mi.forEach(ir=>{this.players.push(ir),ir.onDone(()=>{ir.destroy();const Zn=this.players.indexOf(ir);this.players.splice(Zn,1)}),ir.play()}),mi}elementContainsData(I,R){let W=!1;const pe=R[Si];return pe&&pe.setForRemoval&&(W=!0),this.playersByElement.has(R)&&(W=!0),this.playersByQueriedElement.has(R)&&(W=!0),this.statesByElement.has(R)&&(W=!0),this._fetchNamespace(I).elementContainsData(R)||W}afterFlush(I){this._flushFns.push(I)}afterFlushAnimationsDone(I){this._whenQuietFns.push(I)}_getPreviousPlayers(I,R,W,pe,ke){let it=[];if(R){const ct=this.playersByQueriedElement.get(I);ct&&(it=ct)}else{const ct=this.playersByElement.get(I);if(ct){const Ht=!ke||ke==Ai;ct.forEach(an=>{an.queued||!Ht&&an.triggerName!=pe||it.push(an)})}}return(W||pe)&&(it=it.filter(ct=>!(W&&W!=ct.namespaceId||pe&&pe!=ct.triggerName))),it}_beforeAnimationBuild(I,R,W){const ke=R.element,it=R.isRemovalTransition?void 0:I,ct=R.isRemovalTransition?void 0:R.triggerName;for(const Ht of R.timelines){const an=Ht.element,vn=an!==ke,Yn=se(W,an,[]);this._getPreviousPlayers(an,vn,it,ct,R.toState).forEach(Jr=>{const dr=Jr.getRealPlayer();dr.beforeDestroy&&dr.beforeDestroy(),Jr.destroy(),Yn.push(Jr)})}pr(ke,R.fromStyles)}_buildAnimation(I,R,W,pe,ke,it){const ct=R.triggerName,Ht=R.element,an=[],vn=new Set,Yn=new Set,cr=R.timelines.map(dr=>{const ar=dr.element;vn.add(ar);const qr=ar[Si];if(qr&&qr.removedBeforeQueried)return new D.ZN(dr.duration,dr.delay);const Oi=ar!==Ht,Bi=function(ge){const I=[];return rr(ge,I),I}((W.get(ar)||gr).map(Ti=>Ti.getRealPlayer())).filter(Ti=>!!Ti.element&&Ti.element===ar),Ko=ke.get(ar),co=it.get(ar),Ms=me(0,this._normalizer,0,dr.keyframes,Ko,co),_o=this._buildPlayer(dr,Ms,Bi);if(dr.subTimeline&&pe&&Yn.add(ar),Oi){const Ti=new Vs(I,ct,ar);Ti.setRealPlayer(_o),an.push(Ti)}return _o});an.forEach(dr=>{se(this.playersByQueriedElement,dr.element,[]).push(dr),dr.onDone(()=>function(ge,I,R){let W;if(ge instanceof Map){if(W=ge.get(I),W){if(W.length){const pe=W.indexOf(R);W.splice(pe,1)}0==W.length&&ge.delete(I)}}else if(W=ge[I],W){if(W.length){const pe=W.indexOf(R);W.splice(pe,1)}0==W.length&&delete ge[I]}return W}(this.playersByQueriedElement,dr.element,dr))}),vn.forEach(dr=>Ni(dr,_t));const Jr=ee(cr);return Jr.onDestroy(()=>{vn.forEach(dr=>no(dr,_t)),Un(Ht,R.toStyles)}),Yn.forEach(dr=>{se(pe,dr,[]).push(Jr)}),Jr}_buildPlayer(I,R,W){return R.length>0?this.driver.animate(I.element,R,I.duration,I.delay,I.easing,W):new D.ZN(I.duration,I.delay)}}class Vs{constructor(I,R,W){this.namespaceId=I,this.triggerName=R,this.element=W,this._player=new D.ZN,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(I){this._containsRealPlayer||(this._player=I,Object.keys(this._queuedCallbacks).forEach(R=>{this._queuedCallbacks[R].forEach(W=>ie(I,R,void 0,W))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(I.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(I){this.totalTime=I}syncPlayerEvents(I){const R=this._player;R.triggerCallback&&I.onStart(()=>R.triggerCallback("start")),I.onDone(()=>this.finish()),I.onDestroy(()=>this.destroy())}_queueEvent(I,R){se(this._queuedCallbacks,I,[]).push(R)}onDone(I){this.queued&&this._queueEvent("done",I),this._player.onDone(I)}onStart(I){this.queued&&this._queueEvent("start",I),this._player.onStart(I)}onDestroy(I){this.queued&&this._queueEvent("destroy",I),this._player.onDestroy(I)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(I){this.queued||this._player.setPosition(I)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(I){const R=this._player;R.triggerCallback&&R.triggerCallback(I)}}function Wo(ge){return ge&&1===ge.nodeType}function qs(ge,I){const R=ge.style.display;return ge.style.display=null!=I?I:"none",R}function Qo(ge,I,R,W,pe){const ke=[];R.forEach(Ht=>ke.push(qs(Ht)));const it=[];W.forEach((Ht,an)=>{const vn={};Ht.forEach(Yn=>{const cr=vn[Yn]=I.computeStyle(an,Yn,pe);(!cr||0==cr.length)&&(an[Si]=bi,it.push(an))}),ge.set(an,vn)});let ct=0;return R.forEach(Ht=>qs(Ht,ke[ct++])),it}function Or(ge,I){const R=new Map;if(ge.forEach(ct=>R.set(ct,[])),0==I.length)return R;const pe=new Set(I),ke=new Map;function it(ct){if(!ct)return 1;let Ht=ke.get(ct);if(Ht)return Ht;const an=ct.parentNode;return Ht=R.has(an)?an:pe.has(an)?1:it(an),ke.set(ct,Ht),Ht}return I.forEach(ct=>{const Ht=it(ct);1!==Ht&&R.get(Ht).push(ct)}),R}const Co="$$classes";function Ni(ge,I){if(ge.classList)ge.classList.add(I);else{let R=ge[Co];R||(R=ge[Co]={}),R[I]=!0}}function no(ge,I){if(ge.classList)ge.classList.remove(I);else{let R=ge[Co];R&&delete R[I]}}function kr(ge,I,R){ee(R).onDone(()=>ge.processLeaveNode(I))}function rr(ge,I){for(let R=0;R<ge.length;R++){const W=ge[R];W instanceof D.ZE?rr(W.players,I):I.push(W)}}function re(ge,I,R){const W=R.get(ge);if(!W)return!1;let pe=I.get(ge);return pe?W.forEach(ke=>pe.add(ke)):I.set(ge,W),R.delete(ge),!0}class Q{constructor(I,R,W){this.bodyNode=I,this._driver=R,this._normalizer=W,this._triggerCache={},this.onRemovalComplete=(pe,ke)=>{},this._transitionEngine=new uo(I,R,W),this._timelineEngine=new Mt(I,R,W),this._transitionEngine.onRemovalComplete=(pe,ke)=>this.onRemovalComplete(pe,ke)}registerTrigger(I,R,W,pe,ke){const it=I+"-"+pe;let ct=this._triggerCache[it];if(!ct){const Ht=[],an=wt(this._driver,ke,Ht);if(Ht.length)throw new Error(`The animation trigger "${pe}" has failed to build due to the following errors:\n - ${Ht.join("\n - ")}`);ct=function(ge,I,R){return new nr(ge,I,R)}(pe,an,this._normalizer),this._triggerCache[it]=ct}this._transitionEngine.registerTrigger(R,pe,ct)}register(I,R){this._transitionEngine.register(I,R)}destroy(I,R){this._transitionEngine.destroy(I,R)}onInsert(I,R,W,pe){this._transitionEngine.insertNode(I,R,W,pe)}onRemove(I,R,W,pe){this._transitionEngine.removeNode(I,R,pe||!1,W)}disableAnimations(I,R){this._transitionEngine.markElementAsDisabled(I,R)}process(I,R,W,pe){if("@"==W.charAt(0)){const[ke,it]=oe(W);this._timelineEngine.command(ke,R,it,pe)}else this._transitionEngine.trigger(I,R,W,pe)}listen(I,R,W,pe,ke){if("@"==W.charAt(0)){const[it,ct]=oe(W);return this._timelineEngine.listen(it,R,ct,ke)}return this._transitionEngine.listen(I,R,W,pe,ke)}flush(I=-1){this._transitionEngine.flush(I)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Fe(ge,I){let R=null,W=null;return Array.isArray(I)&&I.length?(R=Dt(I[0]),I.length>1&&(W=Dt(I[I.length-1]))):I&&(R=Dt(I)),R||W?new lt(ge,R,W):null}class lt{constructor(I,R,W){this._element=I,this._startStyles=R,this._endStyles=W,this._state=0;let pe=lt.initialStylesByElement.get(I);pe||lt.initialStylesByElement.set(I,pe={}),this._initialStyles=pe}start(){this._state<1&&(this._startStyles&&Un(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Un(this._element,this._initialStyles),this._endStyles&&(Un(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(lt.initialStylesByElement.delete(this._element),this._startStyles&&(pr(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(pr(this._element,this._endStyles),this._endStyles=null),Un(this._element,this._initialStyles),this._state=3)}}function Dt(ge){let I=null;const R=Object.keys(ge);for(let W=0;W<R.length;W++){const pe=R[W];Yt(pe)&&(I=I||{},I[pe]=ge[pe])}return I}function Yt(ge){return"display"===ge||"position"===ge}lt.initialStylesByElement=new WeakMap;const Qn="animation",Fn="animationend";class sr{constructor(I,R,W,pe,ke,it,ct){this._element=I,this._name=R,this._duration=W,this._delay=pe,this._easing=ke,this._fillMode=it,this._onDoneFn=ct,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=Ht=>this._handleCallback(Ht)}apply(){(function(ge,I){const R=Bt(ge,"").trim();let W=0;R.length&&(function(ge,I){let R=0;for(let W=0;W<ge.length;W++)","===ge.charAt(W)&&R++;return R}(R)+1,I=`${R}, ${I}`),be(ge,"",I)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),j(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Zr(this._element,this._name,"paused")}resume(){Zr(this._element,this._name,"running")}setPosition(I){const R=J(this._element,this._name);this._position=I*this._duration,be(this._element,"Delay",`-${this._position}ms`,R)}getPosition(){return this._position}_handleCallback(I){const R=I._ngTestManualTimestamp||Date.now(),W=1e3*parseFloat(I.elapsedTime.toFixed(3));I.animationName==this._name&&Math.max(R-this._startTime,0)>=this._delay&&W>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),j(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(ge,I){const W=Bt(ge,"").split(","),pe=Y(W,I);pe>=0&&(W.splice(pe,1),be(ge,"",W.join(",")))}(this._element,this._name))}}function Zr(ge,I,R){be(ge,"PlayState",R,J(ge,I))}function J(ge,I){const R=Bt(ge,"");return R.indexOf(",")>0?Y(R.split(","),I):Y([R],I)}function Y(ge,I){for(let R=0;R<ge.length;R++)if(ge[R].indexOf(I)>=0)return R;return-1}function j(ge,I,R){R?ge.removeEventListener(Fn,I):ge.addEventListener(Fn,I)}function be(ge,I,R,W){const pe=Qn+I;if(null!=W){const ke=ge.style[pe];if(ke.length){const it=ke.split(",");it[W]=R,R=it.join(",")}}ge.style[pe]=R}function Bt(ge,I){return ge.style[Qn+I]||""}class Bo{constructor(I,R,W,pe,ke,it,ct,Ht){this.element=I,this.keyframes=R,this.animationName=W,this._duration=pe,this._delay=ke,this._finalStyles=ct,this._specialStyles=Ht,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=it||"linear",this.totalTime=pe+ke,this._buildStyler()}onStart(I){this._onStartFns.push(I)}onDone(I){this._onDoneFns.push(I)}onDestroy(I){this._onDestroyFns.push(I)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(I=>I()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(I=>I()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(I=>I()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(I){this._styler.setPosition(I)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new sr(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(I){const R="start"==I?this._onStartFns:this._onDoneFns;R.forEach(W=>W()),R.length=0}beforeDestroy(){this.init();const I={};if(this.hasStarted()){const R=this._state>=3;Object.keys(this._finalStyles).forEach(W=>{"offset"!=W&&(I[W]=R?this._finalStyles[W]:Ye(this.element,W))})}this.currentSnapshot=I}}class Qs extends D.ZN{constructor(I,R){super(),this.element=I,this._startingStyles={},this.__initialized=!1,this._styles=De(R)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(I=>{this._startingStyles[I]=this.element.style[I]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(I=>this.element.style.setProperty(I,this._styles[I])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(I=>{const R=this._startingStyles[I];R?this.element.style.setProperty(I,R):this.element.style.removeProperty(I)}),this._startingStyles=null,super.destroy())}}class K{constructor(){this._count=0}validateStyleProperty(I){return at(I)}matchesElement(I,R){return et(I,R)}containsElement(I,R){return Ze(I,R)}query(I,R,W){return ve(I,R,W)}computeStyle(I,R,W){return window.getComputedStyle(I)[R]}buildKeyframeElement(I,R,W){W=W.map(ct=>De(ct));let pe=`@keyframes ${R} {\n`,ke="";W.forEach(ct=>{ke=" ";const Ht=parseFloat(ct.offset);pe+=`${ke}${100*Ht}% {\n`,ke+=" ",Object.keys(ct).forEach(an=>{const vn=ct[an];switch(an){case"offset":return;case"easing":return void(vn&&(pe+=`${ke}animation-timing-function: ${vn};\n`));default:return void(pe+=`${ke}${an}: ${vn};\n`)}}),pe+=`${ke}}\n`}),pe+="}\n";const it=document.createElement("style");return it.textContent=pe,it}animate(I,R,W,pe,ke,it=[],ct){const Ht=it.filter(qr=>qr instanceof Bo),an={};B(W,pe)&&Ht.forEach(qr=>{let Oi=qr.currentSnapshot;Object.keys(Oi).forEach(Bi=>an[Bi]=Oi[Bi])});const vn=function(ge){let I={};return ge&&(Array.isArray(ge)?ge:[ge]).forEach(W=>{Object.keys(W).forEach(pe=>{"offset"==pe||"easing"==pe||(I[pe]=W[pe])})}),I}(R=ne(I,R,an));if(0==W)return new Qs(I,vn);const Yn="gen_css_kf_"+this._count++,cr=this.buildKeyframeElement(I,Yn,R);(function(ge){var I;const R=null===(I=ge.getRootNode)||void 0===I?void 0:I.call(ge);return"undefined"!=typeof ShadowRoot&&R instanceof ShadowRoot?R:document.head})(I).appendChild(cr);const dr=Fe(I,R),ar=new Bo(I,R,Yn,W,pe,ke,vn,dr);return ar.onDestroy(()=>{var ge;(ge=cr).parentNode.removeChild(ge)}),ar}}class Nr{constructor(I,R,W,pe){this.element=I,this.keyframes=R,this.options=W,this._specialStyles=pe,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=W.duration,this._delay=W.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(I=>I()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const I=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,I,this.options),this._finalKeyframe=I.length?I[I.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(I,R,W){return I.animate(R,W)}onStart(I){this._onStartFns.push(I)}onDone(I){this._onDoneFns.push(I)}onDestroy(I){this._onDestroyFns.push(I)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(I=>I()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(I=>I()),this._onDestroyFns=[])}setPosition(I){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=I*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const I={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(R=>{"offset"!=R&&(I[R]=this._finished?this._finalKeyframe[R]:Ye(this.element,R))}),this.currentSnapshot=I}triggerCallback(I){const R="start"==I?this._onStartFns:this._onDoneFns;R.forEach(W=>W()),R.length=0}}class Ri{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Br().toString()),this._cssKeyframesDriver=new K}validateStyleProperty(I){return at(I)}matchesElement(I,R){return et(I,R)}containsElement(I,R){return Ze(I,R)}query(I,R,W){return ve(I,R,W)}computeStyle(I,R,W){return window.getComputedStyle(I)[R]}overrideWebAnimationsSupport(I){this._isNativeImpl=I}animate(I,R,W,pe,ke,it=[],ct){if(!ct&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(I,R,W,pe,ke,it);const vn={duration:W,delay:pe,fill:0==pe?"both":"forwards"};ke&&(vn.easing=ke);const Yn={},cr=it.filter(dr=>dr instanceof Nr);B(W,pe)&&cr.forEach(dr=>{let ar=dr.currentSnapshot;Object.keys(ar).forEach(qr=>Yn[qr]=ar[qr])});const Jr=Fe(I,R=ne(I,R=R.map(dr=>bn(dr,!1)),Yn));return new Nr(I,R,vn,Jr)}}function Br(){return C()&&Element.prototype.animate||{}}var Ei=P(8583);let ti=(()=>{class ge extends D._j{constructor(R,W){super(),this._nextAnimationId=0,this._renderer=R.createRenderer(W.body,{id:"0",encapsulation:y.ifc.None,styles:[],data:{animation:[]}})}build(R){const W=this._nextAnimationId.toString();this._nextAnimationId++;const pe=Array.isArray(R)?(0,D.vP)(R):R;return mo(this._renderer,null,W,"register",[pe]),new ro(W,this._renderer)}}return ge.\u0275fac=function(R){return new(R||ge)(y.LFG(y.FYo),y.LFG(Ei.K0))},ge.\u0275prov=y.Yz7({token:ge,factory:ge.\u0275fac}),ge})();class ro extends D.LC{constructor(I,R){super(),this._id=I,this._renderer=R}create(I,R){return new ia(this._id,I,R||{},this._renderer)}}class ia{constructor(I,R,W,pe){this.id=I,this.element=R,this._renderer=pe,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",W)}_listen(I,R){return this._renderer.listen(this.element,`@@${this.id}:${I}`,R)}_command(I,...R){return mo(this._renderer,this.element,this.id,I,R)}onDone(I){this._listen("done",I)}onStart(I){this._listen("start",I)}onDestroy(I){this._listen("destroy",I)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(I){this._command("setPosition",I)}getPosition(){var I,R;return null!==(R=null===(I=this._renderer.engine.players[+this.id])||void 0===I?void 0:I.getPosition())&&void 0!==R?R:0}}function mo(ge,I,R,W,pe){return ge.setProperty(I,`@@${R}:${W}`,pe)}const Ro="@.disabled";let Cr=(()=>{class ge{constructor(R,W,pe){this.delegate=R,this.engine=W,this._zone=pe,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),W.onRemovalComplete=(ke,it)=>{it&&it.parentNode(ke)&&it.removeChild(ke.parentNode,ke)}}createRenderer(R,W){const ke=this.delegate.createRenderer(R,W);if(!(R&&W&&W.data&&W.data.animation)){let vn=this._rendererCache.get(ke);return vn||(vn=new Ss("",ke,this.engine),this._rendererCache.set(ke,vn)),vn}const it=W.id,ct=W.id+"-"+this._currentId;this._currentId++,this.engine.register(ct,R);const Ht=vn=>{Array.isArray(vn)?vn.forEach(Ht):this.engine.registerTrigger(it,ct,R,vn.name,vn)};return W.data.animation.forEach(Ht),new Wu(this,ct,ke,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(R,W,pe){R>=0&&R<this._microtaskId?this._zone.run(()=>W(pe)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(ke=>{const[it,ct]=ke;it(ct)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([W,pe]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return ge.\u0275fac=function(R){return new(R||ge)(y.LFG(y.FYo),y.LFG(Q),y.LFG(y.R0b))},ge.\u0275prov=y.Yz7({token:ge,factory:ge.\u0275fac}),ge})();class Ss{constructor(I,R,W){this.namespaceId=I,this.delegate=R,this.engine=W,this.destroyNode=this.delegate.destroyNode?pe=>R.destroyNode(pe):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(I,R){return this.delegate.createElement(I,R)}createComment(I){return this.delegate.createComment(I)}createText(I){return this.delegate.createText(I)}appendChild(I,R){this.delegate.appendChild(I,R),this.engine.onInsert(this.namespaceId,R,I,!1)}insertBefore(I,R,W,pe=!0){this.delegate.insertBefore(I,R,W),this.engine.onInsert(this.namespaceId,R,I,pe)}removeChild(I,R,W){this.engine.onRemove(this.namespaceId,R,this.delegate,W)}selectRootElement(I,R){return this.delegate.selectRootElement(I,R)}parentNode(I){return this.delegate.parentNode(I)}nextSibling(I){return this.delegate.nextSibling(I)}setAttribute(I,R,W,pe){this.delegate.setAttribute(I,R,W,pe)}removeAttribute(I,R,W){this.delegate.removeAttribute(I,R,W)}addClass(I,R){this.delegate.addClass(I,R)}removeClass(I,R){this.delegate.removeClass(I,R)}setStyle(I,R,W,pe){this.delegate.setStyle(I,R,W,pe)}removeStyle(I,R,W){this.delegate.removeStyle(I,R,W)}setProperty(I,R,W){"@"==R.charAt(0)&&R==Ro?this.disableAnimations(I,!!W):this.delegate.setProperty(I,R,W)}setValue(I,R){this.delegate.setValue(I,R)}listen(I,R,W){return this.delegate.listen(I,R,W)}disableAnimations(I,R){this.engine.disableAnimations(I,R)}}class Wu extends Ss{constructor(I,R,W,pe){super(R,W,pe),this.factory=I,this.namespaceId=R}setProperty(I,R,W){"@"==R.charAt(0)?"."==R.charAt(1)&&R==Ro?this.disableAnimations(I,W=void 0===W||!!W):this.engine.process(this.namespaceId,I,R.substr(1),W):this.delegate.setProperty(I,R,W)}listen(I,R,W){if("@"==R.charAt(0)){const pe=function(ge){switch(ge){case"body":return document.body;case"document":return document;case"window":return window;default:return ge}}(I);let ke=R.substr(1),it="";return"@"!=ke.charAt(0)&&([ke,it]=function(ge){const I=ge.indexOf(".");return[ge.substring(0,I),ge.substr(I+1)]}(ke)),this.engine.listen(this.namespaceId,pe,ke,it,ct=>{this.factory.scheduleListenerCallback(ct._data||-1,W,ct)})}return this.delegate.listen(I,R,W)}}let tu=(()=>{class ge extends Q{constructor(R,W,pe){super(R.body,W,pe)}ngOnDestroy(){this.flush()}}return ge.\u0275fac=function(R){return new(R||ge)(y.LFG(Ei.K0),y.LFG(pt),y.LFG(Yi))},ge.\u0275prov=y.Yz7({token:ge,factory:ge.\u0275fac}),ge})();const Wr=new y.OlP("AnimationModuleType"),La=[{provide:D._j,useClass:ti},{provide:Yi,useFactory:function(){return new ao}},{provide:Q,useClass:tu},{provide:y.FYo,useFactory:function(ge,I,R){return new Cr(ge,I,R)},deps:[_.se,Q,y.R0b]}],Yr=[{provide:pt,useFactory:function(){return"function"==typeof Br()?new Ri:new K}},{provide:Wr,useValue:"BrowserAnimations"},...La],Zs=[{provide:pt,useClass:ce},{provide:Wr,useValue:"NoopAnimations"},...La];let yu=(()=>{class ge{static withConfig(R){return{ngModule:ge,providers:R.disableAnimations?Zs:Yr}}}return ge.\u0275fac=function(R){return new(R||ge)},ge.\u0275mod=y.oAB({type:ge}),ge.\u0275inj=y.cJS({providers:Yr,imports:[_.b2]}),ge})()},9075:(ln,ut,P)=>{"use strict";P.d(ut,{b2:()=>Cn,H7:()=>Te,q6:()=>Ct,se:()=>sn});var y=P(8583),_=P(7716);class D extends y.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class C extends D{static makeCurrent(){(0,y.HT)(new C)}onAndCancel(vt,Je,Lt){return vt.addEventListener(Je,Lt,!1),()=>{vt.removeEventListener(Je,Lt,!1)}}dispatchEvent(vt,Je){vt.dispatchEvent(Je)}remove(vt){vt.parentNode&&vt.parentNode.removeChild(vt)}createElement(vt,Je){return(Je=Je||this.getDefaultDocument()).createElement(vt)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(vt){return vt.nodeType===Node.ELEMENT_NODE}isShadowRoot(vt){return vt instanceof DocumentFragment}getGlobalEventTarget(vt,Je){return"window"===Je?window:"document"===Je?vt:"body"===Je?vt.body:null}getBaseHref(vt){const Je=(_e=_e||document.querySelector("base"),_e?_e.getAttribute("href"):null);return null==Je?null:function(kt){me=me||document.createElement("a"),me.setAttribute("href",kt);const vt=me.pathname;return"/"===vt.charAt(0)?vt:`/${vt}`}(Je)}resetBaseElement(){_e=null}getUserAgent(){return window.navigator.userAgent}getCookie(vt){return(0,y.Mx)(document.cookie,vt)}}let me,_e=null;const ae=new _.OlP("TRANSITION_ID"),se=[{provide:_.ip1,useFactory:function(kt,vt,Je){return()=>{Je.get(_.CZH).donePromise.then(()=>{const Lt=(0,y.q)(),nn=vt.querySelectorAll(`style[ng-transition="${kt}"]`);for(let nr=0;nr<nn.length;nr++)Lt.remove(nn[nr])})}},deps:[ae,y.K0,_.zs3],multi:!0}];class oe{static init(){(0,_.VLi)(new oe)}addToWindow(vt){_.dqk.getAngularTestability=(Lt,nn=!0)=>{const nr=vt.findTestabilityInTree(Lt,nn);if(null==nr)throw new Error("Could not find testability for element.");return nr},_.dqk.getAllAngularTestabilities=()=>vt.getAllTestabilities(),_.dqk.getAllAngularRootElements=()=>vt.getAllRootElements(),_.dqk.frameworkStabilizers||(_.dqk.frameworkStabilizers=[]),_.dqk.frameworkStabilizers.push(Lt=>{const nn=_.dqk.getAllAngularTestabilities();let nr=nn.length,$e=!1;const St=function(Le){$e=$e||Le,nr--,0==nr&&Lt($e)};nn.forEach(function(Le){Le.whenStable(St)})})}findTestabilityInTree(vt,Je,Lt){if(null==Je)return null;const nn=vt.getTestability(Je);return null!=nn?nn:Lt?(0,y.q)().isShadowRoot(Je)?this.findTestabilityInTree(vt,Je.host,!0):this.findTestabilityInTree(vt,Je.parentElement,!0):null}}let fe=(()=>{class kt{build(){return new XMLHttpRequest}}return kt.\u0275fac=function(Je){return new(Je||kt)},kt.\u0275prov=_.Yz7({token:kt,factory:kt.\u0275fac}),kt})();const ce=new _.OlP("EventManagerPlugins");let pt=(()=>{class kt{constructor(Je,Lt){this._zone=Lt,this._eventNameToPlugin=new Map,Je.forEach(nn=>nn.manager=this),this._plugins=Je.slice().reverse()}addEventListener(Je,Lt,nn){return this._findPluginFor(Lt).addEventListener(Je,Lt,nn)}addGlobalEventListener(Je,Lt,nn){return this._findPluginFor(Lt).addGlobalEventListener(Je,Lt,nn)}getZone(){return this._zone}_findPluginFor(Je){const Lt=this._eventNameToPlugin.get(Je);if(Lt)return Lt;const nn=this._plugins;for(let nr=0;nr<nn.length;nr++){const $e=nn[nr];if($e.supports(Je))return this._eventNameToPlugin.set(Je,$e),$e}throw new Error(`No event manager plugin found for event ${Je}`)}}return kt.\u0275fac=function(Je){return new(Je||kt)(_.LFG(ce),_.LFG(_.R0b))},kt.\u0275prov=_.Yz7({token:kt,factory:kt.\u0275fac}),kt})();class Rt{constructor(vt){this._doc=vt}addGlobalEventListener(vt,Je,Lt){const nn=(0,y.q)().getGlobalEventTarget(this._doc,vt);if(!nn)throw new Error(`Unsupported event target ${nn} for event ${Je}`);return this.addEventListener(nn,Je,Lt)}}let Tt=(()=>{class kt{constructor(){this._stylesSet=new Set}addStyles(Je){const Lt=new Set;Je.forEach(nn=>{this._stylesSet.has(nn)||(this._stylesSet.add(nn),Lt.add(nn))}),this.onStylesAdded(Lt)}onStylesAdded(Je){}getAllStyles(){return Array.from(this._stylesSet)}}return kt.\u0275fac=function(Je){return new(Je||kt)},kt.\u0275prov=_.Yz7({token:kt,factory:kt.\u0275fac}),kt})(),gn=(()=>{class kt extends Tt{constructor(Je){super(),this._doc=Je,this._hostNodes=new Map,this._hostNodes.set(Je.head,[])}_addStylesToHost(Je,Lt,nn){Je.forEach(nr=>{const $e=this._doc.createElement("style");$e.textContent=nr,nn.push(Lt.appendChild($e))})}addHost(Je){const Lt=[];this._addStylesToHost(this._stylesSet,Je,Lt),this._hostNodes.set(Je,Lt)}removeHost(Je){const Lt=this._hostNodes.get(Je);Lt&&Lt.forEach(pn),this._hostNodes.delete(Je)}onStylesAdded(Je){this._hostNodes.forEach((Lt,nn)=>{this._addStylesToHost(Je,nn,Lt)})}ngOnDestroy(){this._hostNodes.forEach(Je=>Je.forEach(pn))}}return kt.\u0275fac=function(Je){return new(Je||kt)(_.LFG(y.K0))},kt.\u0275prov=_.Yz7({token:kt,factory:kt.\u0275fac}),kt})();function pn(kt){(0,y.q)().remove(kt)}const Mn={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},wn=/%COMP%/g;function Nt(kt,vt,Je){for(let Lt=0;Lt<vt.length;Lt++){let nn=vt[Lt];Array.isArray(nn)?Nt(kt,nn,Je):(nn=nn.replace(wn,kt),Je.push(nn))}return Je}function qt(kt){return vt=>{if("__ngUnwrap__"===vt)return kt;!1===kt(vt)&&(vt.preventDefault(),vt.returnValue=!1)}}let sn=(()=>{class kt{constructor(Je,Lt,nn){this.eventManager=Je,this.sharedStylesHost=Lt,this.appId=nn,this.rendererByCompId=new Map,this.defaultRenderer=new Zt(Je)}createRenderer(Je,Lt){if(!Je||!Lt)return this.defaultRenderer;switch(Lt.encapsulation){case _.ifc.Emulated:{let nn=this.rendererByCompId.get(Lt.id);return nn||(nn=new Un(this.eventManager,this.sharedStylesHost,Lt,this.appId),this.rendererByCompId.set(Lt.id,nn)),nn.applyToHost(Je),nn}case 1:case _.ifc.ShadowDom:return new pr(this.eventManager,this.sharedStylesHost,Je,Lt);default:if(!this.rendererByCompId.has(Lt.id)){const nn=Nt(Lt.id,Lt.styles,[]);this.sharedStylesHost.addStyles(nn),this.rendererByCompId.set(Lt.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return kt.\u0275fac=function(Je){return new(Je||kt)(_.LFG(pt),_.LFG(gn),_.LFG(_.AFp))},kt.\u0275prov=_.Yz7({token:kt,factory:kt.\u0275fac}),kt})();class Zt{constructor(vt){this.eventManager=vt,this.data=Object.create(null)}destroy(){}createElement(vt,Je){return Je?document.createElementNS(Mn[Je]||Je,vt):document.createElement(vt)}createComment(vt){return document.createComment(vt)}createText(vt){return document.createTextNode(vt)}appendChild(vt,Je){vt.appendChild(Je)}insertBefore(vt,Je,Lt){vt&&vt.insertBefore(Je,Lt)}removeChild(vt,Je){vt&&vt.removeChild(Je)}selectRootElement(vt,Je){let Lt="string"==typeof vt?document.querySelector(vt):vt;if(!Lt)throw new Error(`The selector "${vt}" did not match any elements`);return Je||(Lt.textContent=""),Lt}parentNode(vt){return vt.parentNode}nextSibling(vt){return vt.nextSibling}setAttribute(vt,Je,Lt,nn){if(nn){Je=nn+":"+Je;const nr=Mn[nn];nr?vt.setAttributeNS(nr,Je,Lt):vt.setAttribute(Je,Lt)}else vt.setAttribute(Je,Lt)}removeAttribute(vt,Je,Lt){if(Lt){const nn=Mn[Lt];nn?vt.removeAttributeNS(nn,Je):vt.removeAttribute(`${Lt}:${Je}`)}else vt.removeAttribute(Je)}addClass(vt,Je){vt.classList.add(Je)}removeClass(vt,Je){vt.classList.remove(Je)}setStyle(vt,Je,Lt,nn){nn&(_.JOm.DashCase|_.JOm.Important)?vt.style.setProperty(Je,Lt,nn&_.JOm.Important?"important":""):vt.style[Je]=Lt}removeStyle(vt,Je,Lt){Lt&_.JOm.DashCase?vt.style.removeProperty(Je):vt.style[Je]=""}setProperty(vt,Je,Lt){vt[Je]=Lt}setValue(vt,Je){vt.nodeValue=Je}listen(vt,Je,Lt){return"string"==typeof vt?this.eventManager.addGlobalEventListener(vt,Je,qt(Lt)):this.eventManager.addEventListener(vt,Je,qt(Lt))}}class Un extends Zt{constructor(vt,Je,Lt,nn){super(vt),this.component=Lt;const nr=Nt(nn+"-"+Lt.id,Lt.styles,[]);Je.addStyles(nr),this.contentAttr="_ngcontent-%COMP%".replace(wn,nn+"-"+Lt.id),this.hostAttr="_nghost-%COMP%".replace(wn,nn+"-"+Lt.id)}applyToHost(vt){super.setAttribute(vt,this.hostAttr,"")}createElement(vt,Je){const Lt=super.createElement(vt,Je);return super.setAttribute(Lt,this.contentAttr,""),Lt}}class pr extends Zt{constructor(vt,Je,Lt,nn){super(vt),this.sharedStylesHost=Je,this.hostEl=Lt,this.shadowRoot=Lt.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const nr=Nt(nn.id,nn.styles,[]);for(let $e=0;$e<nr.length;$e++){const St=document.createElement("style");St.textContent=nr[$e],this.shadowRoot.appendChild(St)}}nodeOrShadowRoot(vt){return vt===this.hostEl?this.shadowRoot:vt}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(vt,Je){return super.appendChild(this.nodeOrShadowRoot(vt),Je)}insertBefore(vt,Je,Lt){return super.insertBefore(this.nodeOrShadowRoot(vt),Je,Lt)}removeChild(vt,Je){return super.removeChild(this.nodeOrShadowRoot(vt),Je)}parentNode(vt){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(vt)))}}let ur=(()=>{class kt extends Rt{constructor(Je){super(Je)}supports(Je){return!0}addEventListener(Je,Lt,nn){return Je.addEventListener(Lt,nn,!1),()=>this.removeEventListener(Je,Lt,nn)}removeEventListener(Je,Lt,nn){return Je.removeEventListener(Lt,nn)}}return kt.\u0275fac=function(Je){return new(Je||kt)(_.LFG(y.K0))},kt.\u0275prov=_.Yz7({token:kt,factory:kt.\u0275fac}),kt})();const ne=["alt","control","meta","shift"],Ye={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},mt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},We={alt:kt=>kt.altKey,control:kt=>kt.ctrlKey,meta:kt=>kt.metaKey,shift:kt=>kt.shiftKey};let dt=(()=>{class kt extends Rt{constructor(Je){super(Je)}supports(Je){return null!=kt.parseEventName(Je)}addEventListener(Je,Lt,nn){const nr=kt.parseEventName(Lt),$e=kt.eventCallback(nr.fullKey,nn,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,y.q)().onAndCancel(Je,nr.domEventName,$e))}static parseEventName(Je){const Lt=Je.toLowerCase().split("."),nn=Lt.shift();if(0===Lt.length||"keydown"!==nn&&"keyup"!==nn)return null;const nr=kt._normalizeKey(Lt.pop());let $e="";if(ne.forEach(Le=>{const Mt=Lt.indexOf(Le);Mt>-1&&(Lt.splice(Mt,1),$e+=Le+".")}),$e+=nr,0!=Lt.length||0===nr.length)return null;const St={};return St.domEventName=nn,St.fullKey=$e,St}static getEventFullKey(Je){let Lt="",nn=function(kt){let vt=kt.key;if(null==vt){if(vt=kt.keyIdentifier,null==vt)return"Unidentified";vt.startsWith("U+")&&(vt=String.fromCharCode(parseInt(vt.substring(2),16)),3===kt.location&&mt.hasOwnProperty(vt)&&(vt=mt[vt]))}return Ye[vt]||vt}(Je);return nn=nn.toLowerCase()," "===nn?nn="space":"."===nn&&(nn="dot"),ne.forEach(nr=>{nr!=nn&&We[nr](Je)&&(Lt+=nr+".")}),Lt+=nn,Lt}static eventCallback(Je,Lt,nn){return nr=>{kt.getEventFullKey(nr)===Je&&nn.runGuarded(()=>Lt(nr))}}static _normalizeKey(Je){switch(Je){case"esc":return"escape";default:return Je}}}return kt.\u0275fac=function(Je){return new(Je||kt)(_.LFG(y.K0))},kt.\u0275prov=_.Yz7({token:kt,factory:kt.\u0275fac}),kt})(),Te=(()=>{class kt{}return kt.\u0275fac=function(Je){return new(Je||kt)},kt.\u0275prov=(0,_.Yz7)({factory:function(){return(0,_.LFG)(Ot)},token:kt,providedIn:"root"}),kt})(),Ot=(()=>{class kt extends Te{constructor(Je){super(),this._doc=Je}sanitize(Je,Lt){if(null==Lt)return null;switch(Je){case _.q3G.NONE:return Lt;case _.q3G.HTML:return(0,_.qzn)(Lt,"HTML")?(0,_.z3N)(Lt):(0,_.EiD)(this._doc,String(Lt)).toString();case _.q3G.STYLE:return(0,_.qzn)(Lt,"Style")?(0,_.z3N)(Lt):Lt;case _.q3G.SCRIPT:if((0,_.qzn)(Lt,"Script"))return(0,_.z3N)(Lt);throw new Error("unsafe value used in a script context");case _.q3G.URL:return(0,_.yhl)(Lt),(0,_.qzn)(Lt,"URL")?(0,_.z3N)(Lt):(0,_.mCW)(String(Lt));case _.q3G.RESOURCE_URL:if((0,_.qzn)(Lt,"ResourceURL"))return(0,_.z3N)(Lt);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${Je} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(Je){return(0,_.JVY)(Je)}bypassSecurityTrustStyle(Je){return(0,_.L6k)(Je)}bypassSecurityTrustScript(Je){return(0,_.eBb)(Je)}bypassSecurityTrustUrl(Je){return(0,_.LAX)(Je)}bypassSecurityTrustResourceUrl(Je){return(0,_.pB0)(Je)}}return kt.\u0275fac=function(Je){return new(Je||kt)(_.LFG(y.K0))},kt.\u0275prov=(0,_.Yz7)({factory:function(){return function(kt){return new Ot(kt.get(y.K0))}((0,_.LFG)(_.gxx))},token:kt,providedIn:"root"}),kt})();const Ct=(0,_.eFA)(_._c5,"browser",[{provide:_.Lbi,useValue:y.bD},{provide:_.g9A,useValue:function(){C.makeCurrent(),oe.init()},multi:!0},{provide:y.K0,useFactory:function(){return(0,_.RDi)(document),document},deps:[]}]),Wt=[[],{provide:_.zSh,useValue:"root"},{provide:_.qLn,useFactory:function(){return new _.qLn},deps:[]},{provide:ce,useClass:ur,multi:!0,deps:[y.K0,_.R0b,_.Lbi]},{provide:ce,useClass:dt,multi:!0,deps:[y.K0]},[],{provide:sn,useClass:sn,deps:[pt,gn,_.AFp]},{provide:_.FYo,useExisting:sn},{provide:Tt,useExisting:gn},{provide:gn,useClass:gn,deps:[y.K0]},{provide:_.dDg,useClass:_.dDg,deps:[_.R0b]},{provide:pt,useClass:pt,deps:[ce,_.R0b]},{provide:y.JF,useClass:fe,deps:[]},[]];let Cn=(()=>{class kt{constructor(Je){if(Je)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(Je){return{ngModule:kt,providers:[{provide:_.AFp,useValue:Je.appId},{provide:ae,useExisting:_.AFp},se]}}}return kt.\u0275fac=function(Je){return new(Je||kt)(_.LFG(kt,12))},kt.\u0275mod=_.oAB({type:kt}),kt.\u0275inj=_.cJS({providers:Wt,imports:[y.ez,_.hGG]}),kt})();"undefined"!=typeof window&&window},3423:(ln,ut,P)=>{"use strict";P.d(ut,{gz:()=>St,wm:()=>vo,F0:()=>Zn,rH:()=>_i,yS:()=>io,Bz:()=>zu,lC:()=>aa});var y=P(8583),_=P(7716),D=P(4402),C=P(5917),_e=P(6215),ee=P(739),me=P(8891),ie=P(3410),ae=P(8071),G=P(1439),se=P(9193),oe=P(2441),fe=P(9765),Ce=P(7393);function Re(F,k){let O=!1;return arguments.length>=2&&(O=!0),function(ue){return ue.lift(new Ne(F,k,O))}}class Ne{constructor(k,O,q=!1){this.accumulator=k,this.seed=O,this.hasSeed=q}call(k,O){return O.subscribe(new Se(k,this.accumulator,this.seed,this.hasSeed))}}class Se extends Ce.L{constructor(k,O,q,ue){super(k),this.accumulator=O,this._seed=q,this.hasSeed=ue,this.index=0}get seed(){return this._seed}set seed(k){this.hasSeed=!0,this._seed=k}_next(k){if(this.hasSeed)return this._tryNext(k);this.seed=k,this.destination.next(k)}_tryNext(k){const O=this.index++;let q;try{q=this.accumulator(this.seed,k,O)}catch(ue){this.destination.error(ue)}this.seed=q,this.destination.next(q)}}var ze=P(5435),Ut=P(7108);function Qt(F){return function(O){return 0===F?(0,se.c)():O.lift(new gt(F))}}class gt{constructor(k){if(this.total=k,this.total<0)throw new Ut.W}call(k,O){return O.subscribe(new Ge(k,this.total))}}class Ge extends Ce.L{constructor(k,O){super(k),this.total=O,this.ring=new Array,this.count=0}_next(k){const O=this.ring,q=this.total,ue=this.count++;O.length<q?O.push(k):O[ue%q]=k}_complete(){const k=this.destination;let O=this.count;if(O>0){const q=this.count>=this.total?this.total:this.count,ue=this.ring;for(let Ee=0;Ee<q;Ee++){const st=O++%q;k.next(ue[st])}}k.complete()}}var at=P(4635),nt=P(5242),et=P(4487),ve=P(8002),De=P(3190),ce=P(5257),pt=P(9761),Rt=P(5304),Tt=P(4612),gn=P(8049),pn=P(9773),Mn=P(3342),wn=P(1307),cn=P(8939),jt=P(3282);class Xt{constructor(k,O){this.id=k,this.url=O}}class _t extends Xt{constructor(k,O,q="imperative",ue=null){super(k,O),this.navigationTrigger=q,this.restoredState=ue}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class At extends Xt{constructor(k,O,q){super(k,O),this.urlAfterRedirects=q}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Gt extends Xt{constructor(k,O,q){super(k,O),this.reason=q}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Nt extends Xt{constructor(k,O,q){super(k,O),this.error=q}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class qt extends Xt{constructor(k,O,q,ue){super(k,O),this.urlAfterRedirects=q,this.state=ue}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pt extends Xt{constructor(k,O,q,ue){super(k,O),this.urlAfterRedirects=q,this.state=ue}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sn extends Xt{constructor(k,O,q,ue,Ee){super(k,O),this.urlAfterRedirects=q,this.state=ue,this.shouldActivate=Ee}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Zt extends Xt{constructor(k,O,q,ue){super(k,O),this.urlAfterRedirects=q,this.state=ue}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bn extends Xt{constructor(k,O,q,ue){super(k,O),this.urlAfterRedirects=q,this.state=ue}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jn{constructor(k){this.route=k}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Rn{constructor(k){this.route=k}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Un{constructor(k){this.snapshot=k}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pr{constructor(k){this.snapshot=k}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ur{constructor(k){this.snapshot=k}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Dn{constructor(k){this.snapshot=k}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jn{constructor(k,O,q){this.routerEvent=k,this.position=O,this.anchor=q}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Pn="primary";class tn{constructor(k){this.params=k||{}}has(k){return Object.prototype.hasOwnProperty.call(this.params,k)}get(k){if(this.has(k)){const O=this.params[k];return Array.isArray(O)?O[0]:O}return null}getAll(k){if(this.has(k)){const O=this.params[k];return Array.isArray(O)?O:[O]}return[]}get keys(){return Object.keys(this.params)}}function Ae(F){return new tn(F)}const Z="ngNavigationCancelingError";function H(F){const k=Error("NavigationCancelingError: "+F);return k[Z]=!0,k}function B(F,k,O){const q=O.path.split("/");if(q.length>F.length||"full"===O.pathMatch&&(k.hasChildren()||q.length<F.length))return null;const ue={};for(let Ee=0;Ee<q.length;Ee++){const st=q[Ee],Et=F[Ee];if(st.startsWith(":"))ue[st.substring(1)]=Et;else if(st!==Et.path)return null}return{consumed:F.slice(0,q.length),posParams:ue}}function we(F,k){const O=F?Object.keys(F):void 0,q=k?Object.keys(k):void 0;if(!O||!q||O.length!=q.length)return!1;let ue;for(let Ee=0;Ee<O.length;Ee++)if(ue=O[Ee],!Ye(F[ue],k[ue]))return!1;return!0}function Ye(F,k){if(Array.isArray(F)&&Array.isArray(k)){if(F.length!==k.length)return!1;const O=[...F].sort(),q=[...k].sort();return O.every((ue,Ee)=>q[Ee]===ue)}return F===k}function mt(F){return Array.prototype.concat.apply([],F)}function mn(F){return F.length>0?F[F.length-1]:null}function yn(F,k){for(const O in F)F.hasOwnProperty(O)&&k(F[O],O)}function Qe(F){return(0,_.CqO)(F)?F:(0,_.QGY)(F)?(0,D.D)(Promise.resolve(F)):(0,C.of)(F)}const dt={exact:function Ot(F,k,O){if(!Ct(F.segments,k.segments)||!Pe(F.segments,k.segments,O)||F.numberOfChildren!==k.numberOfChildren)return!1;for(const q in k.children)if(!F.children[q]||!Ot(F.children[q],k.children[q],O))return!1;return!0},subset:je},It={exact:function(F,k){return we(F,k)},subset:function(F,k){return Object.keys(k).length<=Object.keys(F).length&&Object.keys(k).every(O=>Ye(F[O],k[O]))},ignored:()=>!0};function Te(F,k,O){return dt[O.paths](F.root,k.root,O.matrixParams)&&It[O.queryParams](F.queryParams,k.queryParams)&&!("exact"===O.fragment&&F.fragment!==k.fragment)}function je(F,k,O){return Xe(F,k,k.segments,O)}function Xe(F,k,O,q){if(F.segments.length>O.length){const ue=F.segments.slice(0,O.length);return!(!Ct(ue,O)||k.hasChildren()||!Pe(ue,O,q))}if(F.segments.length===O.length){if(!Ct(F.segments,O)||!Pe(F.segments,O,q))return!1;for(const ue in k.children)if(!F.children[ue]||!je(F.children[ue],k.children[ue],q))return!1;return!0}{const ue=O.slice(0,F.segments.length),Ee=O.slice(F.segments.length);return!!(Ct(F.segments,ue)&&Pe(F.segments,ue,q)&&F.children[Pn])&&Xe(F.children[Pn],k,Ee,q)}}function Pe(F,k,O){return k.every((q,ue)=>It[O](F[ue].parameters,q.parameters))}class bt{constructor(k,O,q){this.root=k,this.queryParams=O,this.fragment=q}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ae(this.queryParams)),this._queryParamMap}toString(){return _r.serialize(this)}}class Ke{constructor(k,O){this.segments=k,this.children=O,this.parent=null,yn(O,(q,ue)=>q.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Lr(this)}}class qe{constructor(k,O){this.path=k,this.parameters=O}get parameterMap(){return this._parameterMap||(this._parameterMap=Ae(this.parameters)),this._parameterMap}toString(){return Ln(this)}}function Ct(F,k){return F.length===k.length&&F.every((O,q)=>O.path===k[q].path)}class Cn{}class $n{parse(k){const O=new go(k);return new bt(O.parseRootSegment(),O.parseQueryParams(),O.parseFragment())}serialize(k){var F;return`${`/${hr(k.root,!0)}`}${function(F){const k=Object.keys(F).map(O=>{const q=F[O];return Array.isArray(q)?q.map(ue=>`${ui(O)}=${ui(ue)}`).join("&"):`${ui(O)}=${ui(q)}`}).filter(O=>!!O);return k.length?`?${k.join("&")}`:""}(k.queryParams)}${"string"==typeof k.fragment?`#${F=k.fragment,encodeURI(F)}`:""}`}}const _r=new $n;function Lr(F){return F.segments.map(k=>Ln(k)).join("/")}function hr(F,k){if(!F.hasChildren())return Lr(F);if(k){const O=F.children[Pn]?hr(F.children[Pn],!1):"",q=[];return yn(F.children,(ue,Ee)=>{Ee!==Pn&&q.push(`${Ee}:${hr(ue,!1)}`)}),q.length>0?`${O}(${q.join("//")})`:O}{const O=function(F,k){let O=[];return yn(F.children,(q,ue)=>{ue===Pn&&(O=O.concat(k(q,ue)))}),yn(F.children,(q,ue)=>{ue!==Pn&&(O=O.concat(k(q,ue)))}),O}(F,(q,ue)=>ue===Pn?[hr(F.children[Pn],!1)]:[`${ue}:${hr(q,!1)}`]);return 1===Object.keys(F.children).length&&null!=F.children[Pn]?`${Lr(F)}/${O[0]}`:`${Lr(F)}/(${O.join("//")})`}}function Hr(F){return encodeURIComponent(F).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ui(F){return Hr(F).replace(/%3B/gi,";")}function ei(F){return Hr(F).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ji(F){return decodeURIComponent(F)}function Ci(F){return ji(F.replace(/\+/g,"%20"))}function Ln(F){return`${ei(F.path)}${function(F){return Object.keys(F).map(k=>`;${ei(k)}=${ei(F[k])}`).join("")}(F.parameters)}`}const $i=/^[^\/()?;=#]+/;function Yi(F){const k=F.match($i);return k?k[0]:""}const Di=/^[^=?&#]+/,gi=/^[^?&#]+/;class go{constructor(k){this.url=k,this.remaining=k}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ke([],{}):new Ke([],this.parseChildren())}parseQueryParams(){const k={};if(this.consumeOptional("?"))do{this.parseQueryParam(k)}while(this.consumeOptional("&"));return k}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const k=[];for(this.peekStartsWith("(")||k.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),k.push(this.parseSegment());let O={};this.peekStartsWith("/(")&&(this.capture("/"),O=this.parseParens(!0));let q={};return this.peekStartsWith("(")&&(q=this.parseParens(!1)),(k.length>0||Object.keys(O).length>0)&&(q[Pn]=new Ke(k,O)),q}parseSegment(){const k=Yi(this.remaining);if(""===k&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(k),new qe(ji(k),this.parseMatrixParams())}parseMatrixParams(){const k={};for(;this.consumeOptional(";");)this.parseParam(k);return k}parseParam(k){const O=Yi(this.remaining);if(!O)return;this.capture(O);let q="";if(this.consumeOptional("=")){const ue=Yi(this.remaining);ue&&(q=ue,this.capture(q))}k[ji(O)]=ji(q)}parseQueryParam(k){const O=function(F){const k=F.match(Di);return k?k[0]:""}(this.remaining);if(!O)return;this.capture(O);let q="";if(this.consumeOptional("=")){const st=function(F){const k=F.match(gi);return k?k[0]:""}(this.remaining);st&&(q=st,this.capture(q))}const ue=Ci(O),Ee=Ci(q);if(k.hasOwnProperty(ue)){let st=k[ue];Array.isArray(st)||(st=[st],k[ue]=st),st.push(Ee)}else k[ue]=Ee}parseParens(k){const O={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const q=Yi(this.remaining),ue=this.remaining[q.length];if("/"!==ue&&")"!==ue&&";"!==ue)throw new Error(`Cannot parse url '${this.url}'`);let Ee;q.indexOf(":")>-1?(Ee=q.substr(0,q.indexOf(":")),this.capture(Ee),this.capture(":")):k&&(Ee=Pn);const st=this.parseChildren();O[Ee]=1===Object.keys(st).length?st[Pn]:new Ke([],st),this.consumeOptional("//")}return O}peekStartsWith(k){return this.remaining.startsWith(k)}consumeOptional(k){return!!this.peekStartsWith(k)&&(this.remaining=this.remaining.substring(k.length),!0)}capture(k){if(!this.consumeOptional(k))throw new Error(`Expected "${k}".`)}}class vr{constructor(k){this._root=k}get root(){return this._root.value}parent(k){const O=this.pathFromRoot(k);return O.length>1?O[O.length-2]:null}children(k){const O=kt(k,this._root);return O?O.children.map(q=>q.value):[]}firstChild(k){const O=kt(k,this._root);return O&&O.children.length>0?O.children[0].value:null}siblings(k){const O=vt(k,this._root);return O.length<2?[]:O[O.length-2].children.map(ue=>ue.value).filter(ue=>ue!==k)}pathFromRoot(k){return vt(k,this._root).map(O=>O.value)}}function kt(F,k){if(F===k.value)return k;for(const O of k.children){const q=kt(F,O);if(q)return q}return null}function vt(F,k){if(F===k.value)return[k];for(const O of k.children){const q=vt(F,O);if(q.length)return q.unshift(k),q}return[]}class Je{constructor(k,O){this.value=k,this.children=O}toString(){return`TreeNode(${this.value})`}}function Lt(F){const k={};return F&&F.children.forEach(O=>k[O.value.outlet]=O),k}class nn extends vr{constructor(k,O){super(k),this.snapshot=O,or(this,k)}toString(){return this.snapshot.toString()}}function nr(F,k){const O=function(F,k){const st=new On([],{},{},"",{},Pn,k,null,F.root,-1,{});return new Sn("",new Je(st,[]))}(F,k),q=new _e.X([new qe("",{})]),ue=new _e.X({}),Ee=new _e.X({}),st=new _e.X({}),Et=new _e.X(""),hn=new St(q,ue,st,Et,Ee,Pn,k,O.root);return hn.snapshot=O.root,new nn(new Je(hn,[]),O)}class St{constructor(k,O,q,ue,Ee,st,Et,hn){this.url=k,this.params=O,this.queryParams=q,this.fragment=ue,this.data=Ee,this.outlet=st,this.component=Et,this._futureSnapshot=hn}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ve.U)(k=>Ae(k)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ve.U)(k=>Ae(k)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Le(F,k="emptyOnly"){const O=F.pathFromRoot;let q=0;if("always"!==k)for(q=O.length-1;q>=1;){const ue=O[q],Ee=O[q-1];if(ue.routeConfig&&""===ue.routeConfig.path)q--;else{if(Ee.component)break;q--}}return function(F){return F.reduce((k,O)=>({params:Object.assign(Object.assign({},k.params),O.params),data:Object.assign(Object.assign({},k.data),O.data),resolve:Object.assign(Object.assign({},k.resolve),O._resolvedData)}),{params:{},data:{},resolve:{}})}(O.slice(q))}class On{constructor(k,O,q,ue,Ee,st,Et,hn,Gn,Dr,Vr){this.url=k,this.params=O,this.queryParams=q,this.fragment=ue,this.data=Ee,this.outlet=st,this.component=Et,this.routeConfig=hn,this._urlSegment=Gn,this._lastPathIndex=Dr,this._resolve=Vr}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ae(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ae(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(q=>q.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Sn extends vr{constructor(k,O){super(O),this.url=k,or(this,O)}toString(){return wr(this._root)}}function or(F,k){k.value._routerState=F,k.children.forEach(O=>or(F,O))}function wr(F){const k=F.children.length>0?` { ${F.children.map(wr).join(", ")} } `:"";return`${F.value}${k}`}function li(F){if(F.snapshot){const k=F.snapshot,O=F._futureSnapshot;F.snapshot=O,we(k.queryParams,O.queryParams)||F.queryParams.next(O.queryParams),k.fragment!==O.fragment&&F.fragment.next(O.fragment),we(k.params,O.params)||F.params.next(O.params),function(F,k){if(F.length!==k.length)return!1;for(let O=0;O<F.length;++O)if(!we(F[O],k[O]))return!1;return!0}(k.url,O.url)||F.url.next(O.url),we(k.data,O.data)||F.data.next(O.data)}else F.snapshot=F._futureSnapshot,F.data.next(F._futureSnapshot.data)}function si(F,k){return we(F.params,k.params)&&function(F,k){return Ct(F,k)&&F.every((O,q)=>we(O.parameters,k[q].parameters))}(F.url,k.url)&&!(!F.parent!=!k.parent)&&(!F.parent||si(F.parent,k.parent))}function br(F,k,O){if(O&&F.shouldReuseRoute(k.value,O.value.snapshot)){const q=O.value;q._futureSnapshot=k.value;const ue=function(F,k,O){return k.children.map(q=>{for(const ue of O.children)if(F.shouldReuseRoute(q.value,ue.value.snapshot))return br(F,q,ue);return br(F,q)})}(F,k,O);return new Je(q,ue)}{if(F.shouldAttach(k.value)){const Ee=F.retrieve(k.value);if(null!==Ee){const st=Ee.route;return bi(k,st),st}}const q=function(F){return new St(new _e.X(F.url),new _e.X(F.params),new _e.X(F.queryParams),new _e.X(F.fragment),new _e.X(F.data),F.outlet,F.component,F)}(k.value),ue=k.children.map(Ee=>br(F,Ee));return new Je(q,ue)}}function bi(F,k){if(F.value.routeConfig!==k.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(F.children.length!==k.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");k.value._futureSnapshot=F.value;for(let O=0;O<F.children.length;++O)bi(F.children[O],k.children[O])}function So(F){return"object"==typeof F&&null!=F&&!F.outlets&&!F.segmentPath}function to(F){return"object"==typeof F&&null!=F&&F.outlets}function uo(F,k,O,q,ue){let Ee={};return q&&yn(q,(st,Et)=>{Ee[Et]=Array.isArray(st)?st.map(hn=>`${hn}`):`${st}`}),new bt(O.root===F?k:Vs(O.root,F,k),Ee,ue)}function Vs(F,k,O){const q={};return yn(F.children,(ue,Ee)=>{q[Ee]=ue===k?O:Vs(ue,k,O)}),new Ke(F.segments,q)}class lo{constructor(k,O,q){if(this.isAbsolute=k,this.numberOfDoubleDots=O,this.commands=q,k&&q.length>0&&So(q[0]))throw new Error("Root segment cannot have matrix parameters");const ue=q.find(to);if(ue&&ue!==mn(q))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Wo{constructor(k,O,q){this.segmentGroup=k,this.processChildren=O,this.index=q}}function Or(F,k,O){if(F||(F=new Ke([],{})),0===F.segments.length&&F.hasChildren())return Co(F,k,O);const q=function(F,k,O){let q=0,ue=k;const Ee={match:!1,pathIndex:0,commandIndex:0};for(;ue<F.segments.length;){if(q>=O.length)return Ee;const st=F.segments[ue],Et=O[q];if(to(Et))break;const hn=`${Et}`,Gn=q<O.length-1?O[q+1]:null;if(ue>0&&void 0===hn)break;if(hn&&Gn&&"object"==typeof Gn&&void 0===Gn.outlets){if(!Zo(hn,Gn,st))return Ee;q+=2}else{if(!Zo(hn,{},st))return Ee;q++}ue++}return{match:!0,pathIndex:ue,commandIndex:q}}(F,k,O),ue=O.slice(q.commandIndex);if(q.match&&q.pathIndex<F.segments.length){const Ee=new Ke(F.segments.slice(0,q.pathIndex),{});return Ee.children[Pn]=new Ke(F.segments.slice(q.pathIndex),F.children),Co(Ee,0,ue)}return q.match&&0===ue.length?new Ke(F.segments,{}):q.match&&!F.hasChildren()?Ni(F,k,O):q.match?Co(F,0,ue):Ni(F,k,O)}function Co(F,k,O){if(0===O.length)return new Ke(F.segments,{});{const q=function(F){return to(F[0])?F[0].outlets:{[Pn]:F}}(O),ue={};return yn(q,(Ee,st)=>{"string"==typeof Ee&&(Ee=[Ee]),null!==Ee&&(ue[st]=Or(F.children[st],k,Ee))}),yn(F.children,(Ee,st)=>{void 0===q[st]&&(ue[st]=Ee)}),new Ke(F.segments,ue)}}function Ni(F,k,O){const q=F.segments.slice(0,k);let ue=0;for(;ue<O.length;){const Ee=O[ue];if(to(Ee)){const hn=no(Ee.outlets);return new Ke(q,hn)}if(0===ue&&So(O[0])){q.push(new qe(F.segments[k].path,kr(O[0]))),ue++;continue}const st=to(Ee)?Ee.outlets[Pn]:`${Ee}`,Et=ue<O.length-1?O[ue+1]:null;st&&Et&&So(Et)?(q.push(new qe(st,kr(Et))),ue+=2):(q.push(new qe(st,{})),ue++)}return new Ke(q,{})}function no(F){const k={};return yn(F,(O,q)=>{"string"==typeof O&&(O=[O]),null!==O&&(k[q]=Ni(new Ke([],{}),0,O))}),k}function kr(F){const k={};return yn(F,(O,q)=>k[q]=`${O}`),k}function Zo(F,k,O){return F==O.path&&we(k,O.parameters)}class ci{constructor(k,O,q,ue){this.routeReuseStrategy=k,this.futureState=O,this.currState=q,this.forwardEvent=ue}activate(k){const O=this.futureState._root,q=this.currState?this.currState._root:null;this.deactivateChildRoutes(O,q,k),li(this.futureState.root),this.activateChildRoutes(O,q,k)}deactivateChildRoutes(k,O,q){const ue=Lt(O);k.children.forEach(Ee=>{const st=Ee.value.outlet;this.deactivateRoutes(Ee,ue[st],q),delete ue[st]}),yn(ue,(Ee,st)=>{this.deactivateRouteAndItsChildren(Ee,q)})}deactivateRoutes(k,O,q){const ue=k.value,Ee=O?O.value:null;if(ue===Ee)if(ue.component){const st=q.getContext(ue.outlet);st&&this.deactivateChildRoutes(k,O,st.children)}else this.deactivateChildRoutes(k,O,q);else Ee&&this.deactivateRouteAndItsChildren(O,q)}deactivateRouteAndItsChildren(k,O){this.routeReuseStrategy.shouldDetach(k.value.snapshot)?this.detachAndStoreRouteSubtree(k,O):this.deactivateRouteAndOutlet(k,O)}detachAndStoreRouteSubtree(k,O){const q=O.getContext(k.value.outlet);if(q&&q.outlet){const ue=q.outlet.detach(),Ee=q.children.onOutletDeactivated();this.routeReuseStrategy.store(k.value.snapshot,{componentRef:ue,route:k,contexts:Ee})}}deactivateRouteAndOutlet(k,O){const q=O.getContext(k.value.outlet),ue=q&&k.value.component?q.children:O,Ee=Lt(k);for(const st of Object.keys(Ee))this.deactivateRouteAndItsChildren(Ee[st],ue);q&&q.outlet&&(q.outlet.deactivate(),q.children.onOutletDeactivated(),q.attachRef=null,q.resolver=null,q.route=null)}activateChildRoutes(k,O,q){const ue=Lt(O);k.children.forEach(Ee=>{this.activateRoutes(Ee,ue[Ee.value.outlet],q),this.forwardEvent(new Dn(Ee.value.snapshot))}),k.children.length&&this.forwardEvent(new pr(k.value.snapshot))}activateRoutes(k,O,q){const ue=k.value,Ee=O?O.value:null;if(li(ue),ue===Ee)if(ue.component){const st=q.getOrCreateContext(ue.outlet);this.activateChildRoutes(k,O,st.children)}else this.activateChildRoutes(k,O,q);else if(ue.component){const st=q.getOrCreateContext(ue.outlet);if(this.routeReuseStrategy.shouldAttach(ue.snapshot)){const Et=this.routeReuseStrategy.retrieve(ue.snapshot);this.routeReuseStrategy.store(ue.snapshot,null),st.children.onOutletReAttached(Et.contexts),st.attachRef=Et.componentRef,st.route=Et.route.value,st.outlet&&st.outlet.attach(Et.componentRef,Et.route.value),re(Et.route)}else{const Et=function(F){for(let k=F.parent;k;k=k.parent){const O=k.routeConfig;if(O&&O._loadedConfig)return O._loadedConfig;if(O&&O.component)return null}return null}(ue.snapshot),hn=Et?Et.module.componentFactoryResolver:null;st.attachRef=null,st.route=ue,st.resolver=hn,st.outlet&&st.outlet.activateWith(ue,hn),this.activateChildRoutes(k,null,st.children)}}else this.activateChildRoutes(k,null,q)}}function re(F){li(F.value),F.children.forEach(re)}class Fe{constructor(k,O){this.routes=k,this.module=O}}function lt(F){return"function"==typeof F}function Yt(F){return F instanceof bt}const sr=Symbol("INITIAL_VALUE");function Zr(){return(0,De.w)(F=>(0,ee.aj)(F.map(k=>k.pipe((0,ce.q)(1),(0,pt.O)(sr)))).pipe(Re((k,O)=>{let q=!1;return O.reduce((ue,Ee,st)=>ue!==sr?ue:(Ee===sr&&(q=!0),q||!1!==Ee&&st!==O.length-1&&!Yt(Ee)?ue:Ee),k)},sr),(0,ze.h)(k=>k!==sr),(0,ve.U)(k=>Yt(k)?k:!0===k),(0,ce.q)(1)))}let hi=(()=>{class F{}return F.\u0275fac=function(O){return new(O||F)},F.\u0275cmp=_.Xpm({type:F,selectors:[["ng-component"]],decls:1,vars:0,template:function(O,q){1&O&&_._UZ(0,"router-outlet")},directives:function(){return[aa]},encapsulation:2}),F})();function qi(F,k=""){for(let O=0;O<F.length;O++){const q=F[O];J(q,Y(k,q))}}function J(F,k){F.children&&qi(F.children,k)}function Y(F,k){return k?F||k.path?F&&!k.path?`${F}/`:!F&&k.path?k.path:`${F}/${k.path}`:"":F}function j(F){const k=F.children&&F.children.map(j),O=k?Object.assign(Object.assign({},F),{children:k}):Object.assign({},F);return!O.component&&(k||O.loadChildren)&&O.outlet&&O.outlet!==Pn&&(O.component=hi),O}function be(F){return F.outlet||Pn}function Bt(F,k){const O=F.filter(q=>be(q)===k);return O.push(...F.filter(q=>be(q)!==k)),O}const Wn={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function $r(F,k,O){var q;if(""===k.path)return"full"===k.pathMatch&&(F.hasChildren()||O.length>0)?Object.assign({},Wn):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const Ee=(k.matcher||B)(O,F,k);if(!Ee)return Object.assign({},Wn);const st={};yn(Ee.posParams,(hn,Gn)=>{st[Gn]=hn.path});const Et=Ee.consumed.length>0?Object.assign(Object.assign({},st),Ee.consumed[Ee.consumed.length-1].parameters):st;return{matched:!0,consumedSegments:Ee.consumed,lastChild:Ee.consumed.length,parameters:Et,positionalParamSegments:null!==(q=Ee.posParams)&&void 0!==q?q:{}}}function Gi(F,k,O,q,ue="corrected"){if(O.length>0&&function(F,k,O){return O.some(q=>K(F,k,q)&&be(q)!==Pn)}(F,O,q)){const st=new Ke(k,function(F,k,O,q){const ue={};ue[Pn]=q,q._sourceSegment=F,q._segmentIndexShift=k.length;for(const Ee of O)if(""===Ee.path&&be(Ee)!==Pn){const st=new Ke([],{});st._sourceSegment=F,st._segmentIndexShift=k.length,ue[be(Ee)]=st}return ue}(F,k,q,new Ke(O,F.children)));return st._sourceSegment=F,st._segmentIndexShift=k.length,{segmentGroup:st,slicedSegments:[]}}if(0===O.length&&function(F,k,O){return O.some(q=>K(F,k,q))}(F,O,q)){const st=new Ke(F.segments,function(F,k,O,q,ue,Ee){const st={};for(const Et of q)if(K(F,O,Et)&&!ue[be(Et)]){const hn=new Ke([],{});hn._sourceSegment=F,hn._segmentIndexShift="legacy"===Ee?F.segments.length:k.length,st[be(Et)]=hn}return Object.assign(Object.assign({},ue),st)}(F,k,O,q,F.children,ue));return st._sourceSegment=F,st._segmentIndexShift=k.length,{segmentGroup:st,slicedSegments:O}}const Ee=new Ke(F.segments,F.children);return Ee._sourceSegment=F,Ee._segmentIndexShift=k.length,{segmentGroup:Ee,slicedSegments:O}}function K(F,k,O){return(!(F.hasChildren()||k.length>0)||"full"!==O.pathMatch)&&""===O.path}function Oe(F,k,O,q){return!!(be(F)===q||q!==Pn&&K(k,O,F))&&("**"===F.path||$r(k,F,O).matched)}function ft(F,k,O){return 0===k.length&&!F.children[O]}class on{constructor(k){this.segmentGroup=k||null}}class un{constructor(k){this.urlTree=k}}function tr(F){return new me.y(k=>k.error(new on(F)))}function Nr(F){return new me.y(k=>k.error(new un(F)))}function Ri(F){return new me.y(k=>k.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${F}'`)))}class Ei{constructor(k,O,q,ue,Ee){this.configLoader=O,this.urlSerializer=q,this.urlTree=ue,this.config=Ee,this.allowRedirects=!0,this.ngModule=k.get(_.h0i)}apply(){const k=Gi(this.urlTree.root,[],[],this.config).segmentGroup,O=new Ke(k.segments,k.children);return this.expandSegmentGroup(this.ngModule,this.config,O,Pn).pipe((0,ve.U)(Ee=>this.createUrlTree(ro(Ee),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,Rt.K)(Ee=>{if(Ee instanceof un)return this.allowRedirects=!1,this.match(Ee.urlTree);throw Ee instanceof on?this.noMatchError(Ee):Ee}))}match(k){return this.expandSegmentGroup(this.ngModule,this.config,k.root,Pn).pipe((0,ve.U)(ue=>this.createUrlTree(ro(ue),k.queryParams,k.fragment))).pipe((0,Rt.K)(ue=>{throw ue instanceof on?this.noMatchError(ue):ue}))}noMatchError(k){return new Error(`Cannot match any routes. URL Segment: '${k.segmentGroup}'`)}createUrlTree(k,O,q){const ue=k.segments.length>0?new Ke([],{[Pn]:k}):k;return new bt(ue,O,q)}expandSegmentGroup(k,O,q,ue){return 0===q.segments.length&&q.hasChildren()?this.expandChildren(k,O,q).pipe((0,ve.U)(Ee=>new Ke([],Ee))):this.expandSegment(k,q,O,q.segments,ue,!0)}expandChildren(k,O,q){const ue=[];for(const Ee of Object.keys(q.children))"primary"===Ee?ue.unshift(Ee):ue.push(Ee);return(0,D.D)(ue).pipe((0,Tt.b)(Ee=>{const st=q.children[Ee],Et=Bt(O,Ee);return this.expandSegmentGroup(k,Et,st,Ee).pipe((0,ve.U)(hn=>({segment:hn,outlet:Ee})))}),Re((Ee,st)=>(Ee[st.outlet]=st.segment,Ee),{}),function(F,k){const O=arguments.length>=2;return q=>q.pipe(F?(0,ze.h)((ue,Ee)=>F(ue,Ee,q)):et.y,Qt(1),O?(0,nt.d)(k):(0,at.T)(()=>new ie.K))}())}expandSegment(k,O,q,ue,Ee,st){return(0,D.D)(q).pipe((0,Tt.b)(Et=>this.expandSegmentAgainstRoute(k,O,q,Et,ue,Ee,st).pipe((0,Rt.K)(Gn=>{if(Gn instanceof on)return(0,C.of)(null);throw Gn}))),(0,gn.P)(Et=>!!Et),(0,Rt.K)((Et,hn)=>{if(Et instanceof ie.K||"EmptyError"===Et.name){if(ft(O,ue,Ee))return(0,C.of)(new Ke([],{}));throw new on(O)}throw Et}))}expandSegmentAgainstRoute(k,O,q,ue,Ee,st,Et){return Oe(ue,O,Ee,st)?void 0===ue.redirectTo?this.matchSegmentAgainstRoute(k,O,ue,Ee,st):Et&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(k,O,q,ue,Ee,st):tr(O):tr(O)}expandSegmentAgainstRouteUsingRedirect(k,O,q,ue,Ee,st){return"**"===ue.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(k,q,ue,st):this.expandRegularSegmentAgainstRouteUsingRedirect(k,O,q,ue,Ee,st)}expandWildCardWithParamsAgainstRouteUsingRedirect(k,O,q,ue){const Ee=this.applyRedirectCommands([],q.redirectTo,{});return q.redirectTo.startsWith("/")?Nr(Ee):this.lineralizeSegments(q,Ee).pipe((0,pn.zg)(st=>{const Et=new Ke(st,{});return this.expandSegment(k,Et,O,st,ue,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(k,O,q,ue,Ee,st){const{matched:Et,consumedSegments:hn,lastChild:Gn,positionalParamSegments:Dr}=$r(O,ue,Ee);if(!Et)return tr(O);const Vr=this.applyRedirectCommands(hn,ue.redirectTo,Dr);return ue.redirectTo.startsWith("/")?Nr(Vr):this.lineralizeSegments(ue,Vr).pipe((0,pn.zg)(zr=>this.expandSegment(k,O,q,zr.concat(Ee.slice(Gn)),st,!1)))}matchSegmentAgainstRoute(k,O,q,ue,Ee){if("**"===q.path)return q.loadChildren?(q._loadedConfig?(0,C.of)(q._loadedConfig):this.configLoader.load(k.injector,q)).pipe((0,ve.U)(zr=>(q._loadedConfig=zr,new Ke(ue,{})))):(0,C.of)(new Ke(ue,{}));const{matched:st,consumedSegments:Et,lastChild:hn}=$r(O,q,ue);if(!st)return tr(O);const Gn=ue.slice(hn);return this.getChildConfig(k,q,ue).pipe((0,pn.zg)(Vr=>{const zr=Vr.module,ni=Vr.routes,{segmentGroup:ts,slicedSegments:ns}=Gi(O,Et,Gn,ni),ms=new Ke(ts.segments,ts.children);if(0===ns.length&&ms.hasChildren())return this.expandChildren(zr,ni,ms).pipe((0,ve.U)(mr=>new Ke(Et,mr)));if(0===ni.length&&0===ns.length)return(0,C.of)(new Ke(Et,{}));const er=be(q)===Ee;return this.expandSegment(zr,ms,ni,ns,er?Pn:Ee,!0).pipe((0,ve.U)(Io=>new Ke(Et.concat(Io.segments),Io.children)))}))}getChildConfig(k,O,q){return O.children?(0,C.of)(new Fe(O.children,k)):O.loadChildren?void 0!==O._loadedConfig?(0,C.of)(O._loadedConfig):this.runCanLoadGuards(k.injector,O,q).pipe((0,pn.zg)(ue=>{return ue?this.configLoader.load(k.injector,O).pipe((0,ve.U)(Ee=>(O._loadedConfig=Ee,Ee))):(F=O,new me.y(k=>k.error(H(`Cannot load children because the guard of the route "path: '${F.path}'" returned false`))));var F})):(0,C.of)(new Fe([],k))}runCanLoadGuards(k,O,q){const ue=O.canLoad;if(!ue||0===ue.length)return(0,C.of)(!0);const Ee=ue.map(st=>{const Et=k.get(st);let hn;if((F=Et)&&lt(F.canLoad))hn=Et.canLoad(O,q);else{if(!lt(Et))throw new Error("Invalid CanLoad guard");hn=Et(O,q)}var F;return Qe(hn)});return(0,C.of)(Ee).pipe(Zr(),(0,Mn.b)(st=>{if(!Yt(st))return;const Et=H(`Redirecting to "${this.urlSerializer.serialize(st)}"`);throw Et.url=st,Et}),(0,ve.U)(st=>!0===st))}lineralizeSegments(k,O){let q=[],ue=O.root;for(;;){if(q=q.concat(ue.segments),0===ue.numberOfChildren)return(0,C.of)(q);if(ue.numberOfChildren>1||!ue.children[Pn])return Ri(k.redirectTo);ue=ue.children[Pn]}}applyRedirectCommands(k,O,q){return this.applyRedirectCreatreUrlTree(O,this.urlSerializer.parse(O),k,q)}applyRedirectCreatreUrlTree(k,O,q,ue){const Ee=this.createSegmentGroup(k,O.root,q,ue);return new bt(Ee,this.createQueryParams(O.queryParams,this.urlTree.queryParams),O.fragment)}createQueryParams(k,O){const q={};return yn(k,(ue,Ee)=>{if("string"==typeof ue&&ue.startsWith(":")){const Et=ue.substring(1);q[Ee]=O[Et]}else q[Ee]=ue}),q}createSegmentGroup(k,O,q,ue){const Ee=this.createSegments(k,O.segments,q,ue);let st={};return yn(O.children,(Et,hn)=>{st[hn]=this.createSegmentGroup(k,Et,q,ue)}),new Ke(Ee,st)}createSegments(k,O,q,ue){return O.map(Ee=>Ee.path.startsWith(":")?this.findPosParam(k,Ee,ue):this.findOrReturn(Ee,q))}findPosParam(k,O,q){const ue=q[O.path.substring(1)];if(!ue)throw new Error(`Cannot redirect to '${k}'. Cannot find '${O.path}'.`);return ue}findOrReturn(k,O){let q=0;for(const ue of O){if(ue.path===k.path)return O.splice(q),ue;q++}return k}}function ro(F){const k={};for(const q of Object.keys(F.children)){const Ee=ro(F.children[q]);(Ee.segments.length>0||Ee.hasChildren())&&(k[q]=Ee)}return function(F){if(1===F.numberOfChildren&&F.children[Pn]){const k=F.children[Pn];return new Ke(F.segments.concat(k.segments),k.children)}return F}(new Ke(F.segments,k))}class mo{constructor(k){this.path=k,this.route=this.path[this.path.length-1]}}class Li{constructor(k,O){this.component=k,this.route=O}}function Ro(F,k,O){const q=F._root;return oa(q,k?k._root:null,O,[q.value])}function Ss(F,k,O){const q=function(F){if(!F)return null;for(let k=F.parent;k;k=k.parent){const O=k.routeConfig;if(O&&O._loadedConfig)return O._loadedConfig}return null}(k);return(q?q.module.injector:O).get(F)}function oa(F,k,O,q,ue={canDeactivateChecks:[],canActivateChecks:[]}){const Ee=Lt(k);return F.children.forEach(st=>{(function(F,k,O,q,ue={canDeactivateChecks:[],canActivateChecks:[]}){const Ee=F.value,st=k?k.value:null,Et=O?O.getContext(F.value.outlet):null;if(st&&Ee.routeConfig===st.routeConfig){const hn=function(F,k,O){if("function"==typeof O)return O(F,k);switch(O){case"pathParamsChange":return!Ct(F.url,k.url);case"pathParamsOrQueryParamsChange":return!Ct(F.url,k.url)||!we(F.queryParams,k.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!si(F,k)||!we(F.queryParams,k.queryParams);case"paramsChange":default:return!si(F,k)}}(st,Ee,Ee.routeConfig.runGuardsAndResolvers);hn?ue.canActivateChecks.push(new mo(q)):(Ee.data=st.data,Ee._resolvedData=st._resolvedData),oa(F,k,Ee.component?Et?Et.children:null:O,q,ue),hn&&Et&&Et.outlet&&Et.outlet.isActivated&&ue.canDeactivateChecks.push(new Li(Et.outlet.component,st))}else st&&sa(k,Et,ue),ue.canActivateChecks.push(new mo(q)),oa(F,null,Ee.component?Et?Et.children:null:O,q,ue)})(st,Ee[st.value.outlet],O,q.concat([st.value]),ue),delete Ee[st.value.outlet]}),yn(Ee,(st,Et)=>sa(st,O.getContext(Et),ue)),ue}function sa(F,k,O){const q=Lt(F),ue=F.value;yn(q,(Ee,st)=>{sa(Ee,ue.component?k?k.children.getContext(st):null:k,O)}),O.canDeactivateChecks.push(new Li(ue.component&&k&&k.outlet&&k.outlet.isActivated?k.outlet.component:null,ue))}class ge{}function I(F){return new me.y(k=>k.error(F))}class W{constructor(k,O,q,ue,Ee,st){this.rootComponentType=k,this.config=O,this.urlTree=q,this.url=ue,this.paramsInheritanceStrategy=Ee,this.relativeLinkResolution=st}recognize(){const k=Gi(this.urlTree.root,[],[],this.config.filter(st=>void 0===st.redirectTo),this.relativeLinkResolution).segmentGroup,O=this.processSegmentGroup(this.config,k,Pn);if(null===O)return null;const q=new On([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Pn,this.rootComponentType,null,this.urlTree.root,-1,{}),ue=new Je(q,O),Ee=new Sn(this.url,ue);return this.inheritParamsAndData(Ee._root),Ee}inheritParamsAndData(k){const O=k.value,q=Le(O,this.paramsInheritanceStrategy);O.params=Object.freeze(q.params),O.data=Object.freeze(q.data),k.children.forEach(ue=>this.inheritParamsAndData(ue))}processSegmentGroup(k,O,q){return 0===O.segments.length&&O.hasChildren()?this.processChildren(k,O):this.processSegment(k,O,O.segments,q)}processChildren(k,O){const q=[];for(const Ee of Object.keys(O.children)){const st=O.children[Ee],Et=Bt(k,Ee),hn=this.processSegmentGroup(Et,st,Ee);if(null===hn)return null;q.push(...hn)}const ue=ct(q);return ue.sort((k,O)=>k.value.outlet===Pn?-1:O.value.outlet===Pn?1:k.value.outlet.localeCompare(O.value.outlet)),ue}processSegment(k,O,q,ue){for(const Ee of k){const st=this.processSegmentAgainstRoute(Ee,O,q,ue);if(null!==st)return st}return ft(O,q,ue)?[]:null}processSegmentAgainstRoute(k,O,q,ue){if(k.redirectTo||!Oe(k,O,q,ue))return null;let Ee,st=[],Et=[];if("**"===k.path){const ni=q.length>0?mn(q).parameters:{};Ee=new On(q,ni,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Yn(k),be(k),k.component,k,an(O),vn(O)+q.length,cr(k))}else{const ni=$r(O,k,q);if(!ni.matched)return null;st=ni.consumedSegments,Et=q.slice(ni.lastChild),Ee=new On(st,ni.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Yn(k),be(k),k.component,k,an(O),vn(O)+st.length,cr(k))}const hn=(F=k).children?F.children:F.loadChildren?F._loadedConfig.routes:[],{segmentGroup:Gn,slicedSegments:Dr}=Gi(O,st,Et,hn.filter(ni=>void 0===ni.redirectTo),this.relativeLinkResolution);var F;if(0===Dr.length&&Gn.hasChildren()){const ni=this.processChildren(hn,Gn);return null===ni?null:[new Je(Ee,ni)]}if(0===hn.length&&0===Dr.length)return[new Je(Ee,[])];const Vr=be(k)===ue,zr=this.processSegment(hn,Gn,Dr,Vr?Pn:ue);return null===zr?null:[new Je(Ee,zr)]}}function it(F){const k=F.value.routeConfig;return k&&""===k.path&&void 0===k.redirectTo}function ct(F){const k=[],O=new Set;for(const q of F){if(!it(q)){k.push(q);continue}const ue=k.find(Ee=>q.value.routeConfig===Ee.value.routeConfig);void 0!==ue?(ue.children.push(...q.children),O.add(ue)):k.push(q)}for(const q of O){const ue=ct(q.children);k.push(new Je(q.value,ue))}return k.filter(q=>!O.has(q))}function an(F){let k=F;for(;k._sourceSegment;)k=k._sourceSegment;return k}function vn(F){let k=F,O=k._segmentIndexShift?k._segmentIndexShift:0;for(;k._sourceSegment;)k=k._sourceSegment,O+=k._segmentIndexShift?k._segmentIndexShift:0;return O-1}function Yn(F){return F.data||{}}function cr(F){return F.resolve||{}}function Bi(F){return(0,De.w)(k=>{const O=F(k);return O?(0,D.D)(O).pipe((0,ve.U)(()=>k)):(0,C.of)(k)})}class Ms extends class{shouldDetach(k){return!1}store(k,O){}shouldAttach(k){return!1}retrieve(k){return null}shouldReuseRoute(k,O){return k.routeConfig===O.routeConfig}}{}const _o=new _.OlP("ROUTES");class Ti{constructor(k,O,q,ue){this.loader=k,this.compiler=O,this.onLoadStartListener=q,this.onLoadEndListener=ue}load(k,O){if(O._loader$)return O._loader$;this.onLoadStartListener&&this.onLoadStartListener(O);const ue=this.loadModuleFactory(O.loadChildren).pipe((0,ve.U)(Ee=>{this.onLoadEndListener&&this.onLoadEndListener(O);const st=Ee.create(k);return new Fe(mt(st.injector.get(_o,void 0,_.XFs.Self|_.XFs.Optional)).map(j),st)}),(0,Rt.K)(Ee=>{throw O._loader$=void 0,Ee}));return O._loader$=new oe.c(ue,()=>new fe.xQ).pipe((0,wn.x)()),O._loader$}loadModuleFactory(k){return"string"==typeof k?(0,D.D)(this.loader.load(k)):Qe(k()).pipe((0,pn.zg)(O=>O instanceof _.YKP?(0,C.of)(O):(0,D.D)(this.compiler.compileModuleAsync(O))))}}class Rs{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Qi,this.attachRef=null}}class Qi{constructor(){this.contexts=new Map}onChildOutletCreated(k,O){const q=this.getOrCreateContext(k);q.outlet=O,this.contexts.set(k,q)}onChildOutletDestroyed(k){const O=this.getContext(k);O&&(O.outlet=null)}onOutletDeactivated(){const k=this.contexts;return this.contexts=new Map,k}onOutletReAttached(k){this.contexts=k}getOrCreateContext(k){let O=this.getContext(k);return O||(O=new Rs,this.contexts.set(k,O)),O}getContext(k){return this.contexts.get(k)||null}}class ml{shouldProcessUrl(k){return!0}extract(k){return k}merge(k,O){return k}}function nu(F){throw F}function mi(F,k,O){return k.parse("/")}function Jo(F,k){return(0,C.of)(null)}const Wi={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ir={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Zn=(()=>{class F{constructor(O,q,ue,Ee,st,Et,hn,Gn){this.rootComponentType=O,this.urlSerializer=q,this.rootContexts=ue,this.location=Ee,this.config=Gn,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new fe.xQ,this.errorHandler=nu,this.malformedUriErrorHandler=mi,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Jo,afterPreactivation:Jo},this.urlHandlingStrategy=new ml,this.routeReuseStrategy=new Ms,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=st.get(_.h0i),this.console=st.get(_.c2e);const zr=st.get(_.R0b);this.isNgZoneEnabled=zr instanceof _.R0b&&_.R0b.isInAngularZone(),this.resetConfig(Gn),this.currentUrlTree=new bt(new Ke([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Ti(Et,hn,ni=>this.triggerEvent(new Jn(ni)),ni=>this.triggerEvent(new Rn(ni))),this.routerState=nr(this.currentUrlTree,this.rootComponentType),this.transitions=new _e.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var O;return null===(O=this.location.getState())||void 0===O?void 0:O.\u0275routerPageId}setupNavigations(O){const q=this.events;return O.pipe((0,ze.h)(ue=>0!==ue.id),(0,ve.U)(ue=>Object.assign(Object.assign({},ue),{extractedUrl:this.urlHandlingStrategy.extract(ue.rawUrl)})),(0,De.w)(ue=>{let Ee=!1,st=!1;return(0,C.of)(ue).pipe((0,Mn.b)(Et=>{this.currentNavigation={id:Et.id,initialUrl:Et.currentRawUrl,extractedUrl:Et.extractedUrl,trigger:Et.source,extras:Et.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,De.w)(Et=>{const hn=!this.navigated||Et.extractedUrl.toString()!==this.browserUrlTree.toString(),Gn=("reload"===this.onSameUrlNavigation||hn)&&this.urlHandlingStrategy.shouldProcessUrl(Et.rawUrl);if(Rr(Et.source)&&(this.browserUrlTree=Et.rawUrl),Gn)return(0,C.of)(Et).pipe((0,De.w)(Dr=>{const Vr=this.transitions.getValue();return q.next(new _t(Dr.id,this.serializeUrl(Dr.extractedUrl),Dr.source,Dr.restoredState)),Vr!==this.transitions.getValue()?se.E:Promise.resolve(Dr)}),function(F,k,O,q){return(0,De.w)(ue=>function(F,k,O,q,ue){return new Ei(F,k,O,q,ue).apply()}(F,k,O,ue.extractedUrl,q).pipe((0,ve.U)(Ee=>Object.assign(Object.assign({},ue),{urlAfterRedirects:Ee}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Mn.b)(Dr=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:Dr.urlAfterRedirects})}),function(F,k,O,q,ue){return(0,pn.zg)(Ee=>function(F,k,O,q,ue="emptyOnly",Ee="legacy"){try{const st=new W(F,k,O,q,ue,Ee).recognize();return null===st?I(new ge):(0,C.of)(st)}catch(st){return I(st)}}(F,k,Ee.urlAfterRedirects,O(Ee.urlAfterRedirects),q,ue).pipe((0,ve.U)(st=>Object.assign(Object.assign({},Ee),{targetSnapshot:st}))))}(this.rootComponentType,this.config,Dr=>this.serializeUrl(Dr),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Mn.b)(Dr=>{"eager"===this.urlUpdateStrategy&&(Dr.extras.skipLocationChange||this.setBrowserUrl(Dr.urlAfterRedirects,Dr),this.browserUrlTree=Dr.urlAfterRedirects);const Vr=new qt(Dr.id,this.serializeUrl(Dr.extractedUrl),this.serializeUrl(Dr.urlAfterRedirects),Dr.targetSnapshot);q.next(Vr)}));if(hn&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Vr,extractedUrl:zr,source:ni,restoredState:ts,extras:ns}=Et,ms=new _t(Vr,this.serializeUrl(zr),ni,ts);q.next(ms);const er=nr(zr,this.rootComponentType).snapshot;return(0,C.of)(Object.assign(Object.assign({},Et),{targetSnapshot:er,urlAfterRedirects:zr,extras:Object.assign(Object.assign({},ns),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=Et.rawUrl,this.browserUrlTree=Et.urlAfterRedirects,Et.resolve(null),se.E}),Bi(Et=>{const{targetSnapshot:hn,id:Gn,extractedUrl:Dr,rawUrl:Vr,extras:{skipLocationChange:zr,replaceUrl:ni}}=Et;return this.hooks.beforePreactivation(hn,{navigationId:Gn,appliedUrlTree:Dr,rawUrlTree:Vr,skipLocationChange:!!zr,replaceUrl:!!ni})}),(0,Mn.b)(Et=>{const hn=new Pt(Et.id,this.serializeUrl(Et.extractedUrl),this.serializeUrl(Et.urlAfterRedirects),Et.targetSnapshot);this.triggerEvent(hn)}),(0,ve.U)(Et=>Object.assign(Object.assign({},Et),{guards:Ro(Et.targetSnapshot,Et.currentSnapshot,this.rootContexts)})),function(F,k){return(0,pn.zg)(O=>{const{targetSnapshot:q,currentSnapshot:ue,guards:{canActivateChecks:Ee,canDeactivateChecks:st}}=O;return 0===st.length&&0===Ee.length?(0,C.of)(Object.assign(Object.assign({},O),{guardsResult:!0})):function(F,k,O,q){return(0,D.D)(F).pipe((0,pn.zg)(ue=>function(F,k,O,q,ue){const Ee=k&&k.routeConfig?k.routeConfig.canDeactivate:null;if(!Ee||0===Ee.length)return(0,C.of)(!0);const st=Ee.map(Et=>{const hn=Ss(Et,k,ue);let Gn;if(function(F){return F&&lt(F.canDeactivate)}(hn))Gn=Qe(hn.canDeactivate(F,k,O,q));else{if(!lt(hn))throw new Error("Invalid CanDeactivate guard");Gn=Qe(hn(F,k,O,q))}return Gn.pipe((0,gn.P)())});return(0,C.of)(st).pipe(Zr())}(ue.component,ue.route,O,k,q)),(0,gn.P)(ue=>!0!==ue,!0))}(st,q,ue,F).pipe((0,pn.zg)(Et=>Et&&function(F){return"boolean"==typeof F}(Et)?function(F,k,O,q){return(0,D.D)(k).pipe((0,Tt.b)(ue=>(0,ae.z)(function(F,k){return null!==F&&k&&k(new Un(F)),(0,C.of)(!0)}(ue.route.parent,q),function(F,k){return null!==F&&k&&k(new ur(F)),(0,C.of)(!0)}(ue.route,q),function(F,k,O){const q=k[k.length-1],Ee=k.slice(0,k.length-1).reverse().map(st=>function(F){const k=F.routeConfig?F.routeConfig.canActivateChild:null;return k&&0!==k.length?{node:F,guards:k}:null}(st)).filter(st=>null!==st).map(st=>(0,G.P)(()=>{const Et=st.guards.map(hn=>{const Gn=Ss(hn,st.node,O);let Dr;if(function(F){return F&&lt(F.canActivateChild)}(Gn))Dr=Qe(Gn.canActivateChild(q,F));else{if(!lt(Gn))throw new Error("Invalid CanActivateChild guard");Dr=Qe(Gn(q,F))}return Dr.pipe((0,gn.P)())});return(0,C.of)(Et).pipe(Zr())}));return(0,C.of)(Ee).pipe(Zr())}(F,ue.path,O),function(F,k,O){const q=k.routeConfig?k.routeConfig.canActivate:null;if(!q||0===q.length)return(0,C.of)(!0);const ue=q.map(Ee=>(0,G.P)(()=>{const st=Ss(Ee,k,O);let Et;if(function(F){return F&&lt(F.canActivate)}(st))Et=Qe(st.canActivate(k,F));else{if(!lt(st))throw new Error("Invalid CanActivate guard");Et=Qe(st(k,F))}return Et.pipe((0,gn.P)())}));return(0,C.of)(ue).pipe(Zr())}(F,ue.route,O))),(0,gn.P)(ue=>!0!==ue,!0))}(q,Ee,F,k):(0,C.of)(Et)),(0,ve.U)(Et=>Object.assign(Object.assign({},O),{guardsResult:Et})))})}(this.ngModule.injector,Et=>this.triggerEvent(Et)),(0,Mn.b)(Et=>{if(Yt(Et.guardsResult)){const Gn=H(`Redirecting to "${this.serializeUrl(Et.guardsResult)}"`);throw Gn.url=Et.guardsResult,Gn}const hn=new sn(Et.id,this.serializeUrl(Et.extractedUrl),this.serializeUrl(Et.urlAfterRedirects),Et.targetSnapshot,!!Et.guardsResult);this.triggerEvent(hn)}),(0,ze.h)(Et=>!!Et.guardsResult||(this.restoreHistory(Et),this.cancelNavigationTransition(Et,""),!1)),Bi(Et=>{if(Et.guards.canActivateChecks.length)return(0,C.of)(Et).pipe((0,Mn.b)(hn=>{const Gn=new Zt(hn.id,this.serializeUrl(hn.extractedUrl),this.serializeUrl(hn.urlAfterRedirects),hn.targetSnapshot);this.triggerEvent(Gn)}),(0,De.w)(hn=>{let Gn=!1;return(0,C.of)(hn).pipe(function(F,k){return(0,pn.zg)(O=>{const{targetSnapshot:q,guards:{canActivateChecks:ue}}=O;if(!ue.length)return(0,C.of)(O);let Ee=0;return(0,D.D)(ue).pipe((0,Tt.b)(st=>function(F,k,O,q){return function(F,k,O,q){const ue=Object.keys(F);if(0===ue.length)return(0,C.of)({});const Ee={};return(0,D.D)(ue).pipe((0,pn.zg)(st=>function(F,k,O,q){const ue=Ss(F,k,q);return Qe(ue.resolve?ue.resolve(k,O):ue(k,O))}(F[st],k,O,q).pipe((0,Mn.b)(Et=>{Ee[st]=Et}))),Qt(1),(0,pn.zg)(()=>Object.keys(Ee).length===ue.length?(0,C.of)(Ee):se.E))}(F._resolve,F,k,q).pipe((0,ve.U)(Ee=>(F._resolvedData=Ee,F.data=Object.assign(Object.assign({},F.data),Le(F,O).resolve),null)))}(st.route,q,F,k)),(0,Mn.b)(()=>Ee++),Qt(1),(0,pn.zg)(st=>Ee===ue.length?(0,C.of)(O):se.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Mn.b)({next:()=>Gn=!0,complete:()=>{Gn||(this.restoreHistory(hn),this.cancelNavigationTransition(hn,"At least one route resolver didn't emit any value."))}}))}),(0,Mn.b)(hn=>{const Gn=new bn(hn.id,this.serializeUrl(hn.extractedUrl),this.serializeUrl(hn.urlAfterRedirects),hn.targetSnapshot);this.triggerEvent(Gn)}))}),Bi(Et=>{const{targetSnapshot:hn,id:Gn,extractedUrl:Dr,rawUrl:Vr,extras:{skipLocationChange:zr,replaceUrl:ni}}=Et;return this.hooks.afterPreactivation(hn,{navigationId:Gn,appliedUrlTree:Dr,rawUrlTree:Vr,skipLocationChange:!!zr,replaceUrl:!!ni})}),(0,ve.U)(Et=>{const hn=function(F,k,O){const q=br(F,k._root,O?O._root:void 0);return new nn(q,k)}(this.routeReuseStrategy,Et.targetSnapshot,Et.currentRouterState);return Object.assign(Object.assign({},Et),{targetRouterState:hn})}),(0,Mn.b)(Et=>{this.currentUrlTree=Et.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,Et.rawUrl),this.routerState=Et.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Et.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Et),this.browserUrlTree=Et.urlAfterRedirects)}),((F,k,O)=>(0,ve.U)(q=>(new ci(k,q.targetRouterState,q.currentRouterState,O).activate(F),q)))(this.rootContexts,this.routeReuseStrategy,Et=>this.triggerEvent(Et)),(0,Mn.b)({next(){Ee=!0},complete(){Ee=!0}}),(0,cn.x)(()=>{if(!Ee&&!st){const Et=`Navigation ID ${ue.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(ue),this.cancelNavigationTransition(ue,Et)):this.cancelNavigationTransition(ue,Et)}this.currentNavigation=null}),(0,Rt.K)(Et=>{if(st=!0,function(F){return F&&F[Z]}(Et)){const hn=Yt(Et.url);hn||(this.navigated=!0,this.restoreHistory(ue,!0));const Gn=new Gt(ue.id,this.serializeUrl(ue.extractedUrl),Et.message);q.next(Gn),hn?setTimeout(()=>{const Dr=this.urlHandlingStrategy.merge(Et.url,this.rawUrlTree),Vr={skipLocationChange:ue.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Rr(ue.source)};this.scheduleNavigation(Dr,"imperative",null,Vr,{resolve:ue.resolve,reject:ue.reject,promise:ue.promise})},0):ue.resolve(!1)}else{this.restoreHistory(ue,!0);const hn=new Nt(ue.id,this.serializeUrl(ue.extractedUrl),Et);q.next(hn);try{ue.resolve(this.errorHandler(Et))}catch(Gn){ue.reject(Gn)}}return se.E}))}))}resetRootComponentType(O){this.rootComponentType=O,this.routerState.root.component=this.rootComponentType}getTransition(){const O=this.transitions.value;return O.urlAfterRedirects=this.browserUrlTree,O}setTransition(O){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),O))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(O=>{const q=this.extractLocationChangeInfoFromEvent(O);this.shouldScheduleNavigation(this.lastLocationChangeInfo,q)&&setTimeout(()=>{const{source:ue,state:Ee,urlTree:st}=q,Et={replaceUrl:!0};if(Ee){const hn=Object.assign({},Ee);delete hn.navigationId,delete hn.\u0275routerPageId,0!==Object.keys(hn).length&&(Et.state=hn)}this.scheduleNavigation(st,ue,Ee,Et)},0),this.lastLocationChangeInfo=q}))}extractLocationChangeInfoFromEvent(O){var q;return{source:"popstate"===O.type?"popstate":"hashchange",urlTree:this.parseUrl(O.url),state:(null===(q=O.state)||void 0===q?void 0:q.navigationId)?O.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(O,q){if(!O)return!0;const ue=q.urlTree.toString()===O.urlTree.toString();return q.transitionId!==O.transitionId||!ue||!("hashchange"===q.source&&"popstate"===O.source||"popstate"===q.source&&"hashchange"===O.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(O){this.events.next(O)}resetConfig(O){qi(O),this.config=O.map(j),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(O,q={}){const{relativeTo:ue,queryParams:Ee,fragment:st,queryParamsHandling:Et,preserveFragment:hn}=q,Gn=ue||this.routerState.root,Dr=hn?this.currentUrlTree.fragment:st;let Vr=null;switch(Et){case"merge":Vr=Object.assign(Object.assign({},this.currentUrlTree.queryParams),Ee);break;case"preserve":Vr=this.currentUrlTree.queryParams;break;default:Vr=Ee||null}return null!==Vr&&(Vr=this.removeEmptyProps(Vr)),function(F,k,O,q,ue){if(0===O.length)return uo(k.root,k.root,k,q,ue);const Ee=function(F){if("string"==typeof F[0]&&1===F.length&&"/"===F[0])return new lo(!0,0,F);let k=0,O=!1;const q=F.reduce((ue,Ee,st)=>{if("object"==typeof Ee&&null!=Ee){if(Ee.outlets){const Et={};return yn(Ee.outlets,(hn,Gn)=>{Et[Gn]="string"==typeof hn?hn.split("/"):hn}),[...ue,{outlets:Et}]}if(Ee.segmentPath)return[...ue,Ee.segmentPath]}return"string"!=typeof Ee?[...ue,Ee]:0===st?(Ee.split("/").forEach((Et,hn)=>{0==hn&&"."===Et||(0==hn&&""===Et?O=!0:".."===Et?k++:""!=Et&&ue.push(Et))}),ue):[...ue,Ee]},[]);return new lo(O,k,q)}(O);if(Ee.toRoot())return uo(k.root,new Ke([],{}),k,q,ue);const st=function(F,k,O){if(F.isAbsolute)return new Wo(k.root,!0,0);if(-1===O.snapshot._lastPathIndex){const Ee=O.snapshot._urlSegment;return new Wo(Ee,Ee===k.root,0)}const q=So(F.commands[0])?0:1;return function(F,k,O){let q=F,ue=k,Ee=O;for(;Ee>ue;){if(Ee-=ue,q=q.parent,!q)throw new Error("Invalid number of '../'");ue=q.segments.length}return new Wo(q,!1,ue-Ee)}(O.snapshot._urlSegment,O.snapshot._lastPathIndex+q,F.numberOfDoubleDots)}(Ee,k,F),Et=st.processChildren?Co(st.segmentGroup,st.index,Ee.commands):Or(st.segmentGroup,st.index,Ee.commands);return uo(st.segmentGroup,Et,k,q,ue)}(Gn,this.currentUrlTree,O,Vr,null!=Dr?Dr:null)}navigateByUrl(O,q={skipLocationChange:!1}){const ue=Yt(O)?O:this.parseUrl(O),Ee=this.urlHandlingStrategy.merge(ue,this.rawUrlTree);return this.scheduleNavigation(Ee,"imperative",null,q)}navigate(O,q={skipLocationChange:!1}){return function(F){for(let k=0;k<F.length;k++){const O=F[k];if(null==O)throw new Error(`The requested path contains ${O} segment at index ${k}`)}}(O),this.navigateByUrl(this.createUrlTree(O,q),q)}serializeUrl(O){return this.urlSerializer.serialize(O)}parseUrl(O){let q;try{q=this.urlSerializer.parse(O)}catch(ue){q=this.malformedUriErrorHandler(ue,this.urlSerializer,O)}return q}isActive(O,q){let ue;if(ue=!0===q?Object.assign({},Wi):!1===q?Object.assign({},ir):q,Yt(O))return Te(this.currentUrlTree,O,ue);const Ee=this.parseUrl(O);return Te(this.currentUrlTree,Ee,ue)}removeEmptyProps(O){return Object.keys(O).reduce((q,ue)=>{const Ee=O[ue];return null!=Ee&&(q[ue]=Ee),q},{})}processNavigations(){this.navigations.subscribe(O=>{this.navigated=!0,this.lastSuccessfulId=O.id,this.currentPageId=O.targetPageId,this.events.next(new At(O.id,this.serializeUrl(O.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,O.resolve(!0)},O=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(O,q,ue,Ee,st){var Et,hn;if(this.disposed)return Promise.resolve(!1);const Gn=this.getTransition(),Dr=Rr(q)&&Gn&&!Rr(Gn.source),ni=(this.lastSuccessfulId===Gn.id||this.currentNavigation?Gn.rawUrl:Gn.urlAfterRedirects).toString()===O.toString();if(Dr&&ni)return Promise.resolve(!0);let ts,ns,ms;st?(ts=st.resolve,ns=st.reject,ms=st.promise):ms=new Promise((Io,mr)=>{ts=Io,ns=mr});const er=++this.navigationId;let oo;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(ue=this.location.getState()),oo=ue&&ue.\u0275routerPageId?ue.\u0275routerPageId:Ee.replaceUrl||Ee.skipLocationChange?null!==(Et=this.browserPageId)&&void 0!==Et?Et:0:(null!==(hn=this.browserPageId)&&void 0!==hn?hn:0)+1):oo=0,this.setTransition({id:er,targetPageId:oo,source:q,restoredState:ue,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:O,extras:Ee,resolve:ts,reject:ns,promise:ms,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ms.catch(Io=>Promise.reject(Io))}setBrowserUrl(O,q){const ue=this.urlSerializer.serialize(O),Ee=Object.assign(Object.assign({},q.extras.state),this.generateNgRouterState(q.id,q.targetPageId));this.location.isCurrentPathEqualTo(ue)||q.extras.replaceUrl?this.location.replaceState(ue,"",Ee):this.location.go(ue,"",Ee)}restoreHistory(O,q=!1){var ue,Ee;if("computed"===this.canceledNavigationResolution){const st=this.currentPageId-O.targetPageId;"popstate"!==O.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(ue=this.currentNavigation)||void 0===ue?void 0:ue.finalUrl)||0===st?this.currentUrlTree===(null===(Ee=this.currentNavigation)||void 0===Ee?void 0:Ee.finalUrl)&&0===st&&(this.resetState(O),this.browserUrlTree=O.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(st)}else"replace"===this.canceledNavigationResolution&&(q&&this.resetState(O),this.resetUrlToCurrentUrlTree())}resetState(O){this.routerState=O.currentRouterState,this.currentUrlTree=O.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,O.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(O,q){const ue=new Gt(O.id,this.serializeUrl(O.extractedUrl),q);this.triggerEvent(ue),O.resolve(!1)}generateNgRouterState(O,q){return"computed"===this.canceledNavigationResolution?{navigationId:O,\u0275routerPageId:q}:{navigationId:O}}}return F.\u0275fac=function(O){return new(O||F)(_.LFG(_.DyG),_.LFG(Cn),_.LFG(Qi),_.LFG(y.Ye),_.LFG(_.zs3),_.LFG(_.v3s),_.LFG(_.Sil),_.LFG(void 0))},F.\u0275prov=_.Yz7({token:F,factory:F.\u0275fac}),F})();function Rr(F){return"imperative"!==F}let _i=(()=>{class F{constructor(O,q,ue,Ee,st){this.router=O,this.route=q,this.commands=[],this.onChanges=new fe.xQ,null==ue&&Ee.setAttribute(st.nativeElement,"tabindex","0")}ngOnChanges(O){this.onChanges.next(this)}set routerLink(O){this.commands=null!=O?Array.isArray(O)?O:[O]:[]}onClick(){const O={skipLocationChange:wi(this.skipLocationChange),replaceUrl:wi(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,O),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:wi(this.preserveFragment)})}}return F.\u0275fac=function(O){return new(O||F)(_.Y36(Zn),_.Y36(St),_.$8M("tabindex"),_.Y36(_.Qsj),_.Y36(_.SBq))},F.\u0275dir=_.lG2({type:F,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(O,q){1&O&&_.NdJ("click",function(){return q.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[_.TTD]}),F})(),io=(()=>{class F{constructor(O,q,ue){this.router=O,this.route=q,this.locationStrategy=ue,this.commands=[],this.onChanges=new fe.xQ,this.subscription=O.events.subscribe(Ee=>{Ee instanceof At&&this.updateTargetUrlAndHref()})}set routerLink(O){this.commands=null!=O?Array.isArray(O)?O:[O]:[]}ngOnChanges(O){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(O,q,ue,Ee,st){if(0!==O||q||ue||Ee||st||"string"==typeof this.target&&"_self"!=this.target)return!0;const Et={skipLocationChange:wi(this.skipLocationChange),replaceUrl:wi(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,Et),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:wi(this.preserveFragment)})}}return F.\u0275fac=function(O){return new(O||F)(_.Y36(Zn),_.Y36(St),_.Y36(y.S$))},F.\u0275dir=_.lG2({type:F,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(O,q){1&O&&_.NdJ("click",function(Ee){return q.onClick(Ee.button,Ee.ctrlKey,Ee.shiftKey,Ee.altKey,Ee.metaKey)}),2&O&&(_.Ikx("href",q.href,_.LSH),_.uIk("target",q.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[_.TTD]}),F})();function wi(F){return""===F||!!F}let aa=(()=>{class F{constructor(O,q,ue,Ee,st){this.parentContexts=O,this.location=q,this.resolver=ue,this.changeDetector=st,this.activated=null,this._activatedRoute=null,this.activateEvents=new _.vpe,this.deactivateEvents=new _.vpe,this.name=Ee||Pn,O.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const O=this.parentContexts.getContext(this.name);O&&O.route&&(O.attachRef?this.attach(O.attachRef,O.route):this.activateWith(O.route,O.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const O=this.activated;return this.activated=null,this._activatedRoute=null,O}attach(O,q){this.activated=O,this._activatedRoute=q,this.location.insert(O.hostView)}deactivate(){if(this.activated){const O=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(O)}}activateWith(O,q){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=O;const st=(q=q||this.resolver).resolveComponentFactory(O._futureSnapshot.routeConfig.component),Et=this.parentContexts.getOrCreateContext(this.name).children,hn=new Oo(O,Et,this.location.injector);this.activated=this.location.createComponent(st,this.location.length,hn),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return F.\u0275fac=function(O){return new(O||F)(_.Y36(Qi),_.Y36(_.s_b),_.Y36(_._Vd),_.$8M("name"),_.Y36(_.sBO))},F.\u0275dir=_.lG2({type:F,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),F})();class Oo{constructor(k,O,q){this.route=k,this.childContexts=O,this.parent=q}get(k,O){return k===St?this.route:k===Qi?this.childContexts:this.parent.get(k,O)}}class ps{}class vo{preload(k,O){return O().pipe((0,Rt.K)(()=>(0,C.of)(null)))}}class es{preload(k,O){return(0,C.of)(null)}}let Os=(()=>{class F{constructor(O,q,ue,Ee,st){this.router=O,this.injector=Ee,this.preloadingStrategy=st,this.loader=new Ti(q,ue,Gn=>O.triggerEvent(new Jn(Gn)),Gn=>O.triggerEvent(new Rn(Gn)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,ze.h)(O=>O instanceof At),(0,Tt.b)(()=>this.preload())).subscribe(()=>{})}preload(){const O=this.injector.get(_.h0i);return this.processRoutes(O,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(O,q){const ue=[];for(const Ee of q)if(Ee.loadChildren&&!Ee.canLoad&&Ee._loadedConfig){const st=Ee._loadedConfig;ue.push(this.processRoutes(st.module,st.routes))}else Ee.loadChildren&&!Ee.canLoad?ue.push(this.preloadConfig(O,Ee)):Ee.children&&ue.push(this.processRoutes(O,Ee.children));return(0,D.D)(ue).pipe((0,jt.J)(),(0,ve.U)(Ee=>{}))}preloadConfig(O,q){return this.preloadingStrategy.preload(q,()=>(q._loadedConfig?(0,C.of)(q._loadedConfig):this.loader.load(O.injector,q)).pipe((0,pn.zg)(Ee=>(q._loadedConfig=Ee,this.processRoutes(Ee.module,Ee.routes)))))}}return F.\u0275fac=function(O){return new(O||F)(_.LFG(Zn),_.LFG(_.v3s),_.LFG(_.Sil),_.LFG(_.zs3),_.LFG(ps))},F.\u0275prov=_.Yz7({token:F,factory:F.\u0275fac}),F})(),$l=(()=>{class F{constructor(O,q,ue={}){this.router=O,this.viewportScroller=q,this.options=ue,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},ue.scrollPositionRestoration=ue.scrollPositionRestoration||"disabled",ue.anchorScrolling=ue.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(O=>{O instanceof _t?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=O.navigationTrigger,this.restoredId=O.restoredState?O.restoredState.navigationId:0):O instanceof At&&(this.lastId=O.id,this.scheduleScrollEvent(O,this.router.parseUrl(O.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(O=>{O instanceof jn&&(O.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(O.position):O.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(O.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(O,q){this.router.triggerEvent(new jn(O,"popstate"===this.lastSource?this.store[this.restoredId]:null,q))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return F.\u0275fac=function(O){return new(O||F)(_.LFG(Zn),_.LFG(y.EM),_.LFG(void 0))},F.\u0275prov=_.Yz7({token:F,factory:F.\u0275fac}),F})();const bu=new _.OlP("ROUTER_CONFIGURATION"),gs=new _.OlP("ROUTER_FORROOT_GUARD"),In=[y.Ye,{provide:Cn,useClass:$n},{provide:Zn,useFactory:function(F,k,O,q,ue,Ee,st,Et={},hn,Gn){const Dr=new Zn(null,F,k,O,q,ue,Ee,mt(st));return hn&&(Dr.urlHandlingStrategy=hn),Gn&&(Dr.routeReuseStrategy=Gn),function(F,k){F.errorHandler&&(k.errorHandler=F.errorHandler),F.malformedUriErrorHandler&&(k.malformedUriErrorHandler=F.malformedUriErrorHandler),F.onSameUrlNavigation&&(k.onSameUrlNavigation=F.onSameUrlNavigation),F.paramsInheritanceStrategy&&(k.paramsInheritanceStrategy=F.paramsInheritanceStrategy),F.relativeLinkResolution&&(k.relativeLinkResolution=F.relativeLinkResolution),F.urlUpdateStrategy&&(k.urlUpdateStrategy=F.urlUpdateStrategy)}(Et,Dr),Et.enableTracing&&Dr.events.subscribe(Vr=>{var zr,ni;null===(zr=console.group)||void 0===zr||zr.call(console,`Router Event: ${Vr.constructor.name}`),console.log(Vr.toString()),console.log(Vr),null===(ni=console.groupEnd)||void 0===ni||ni.call(console)}),Dr},deps:[Cn,Qi,y.Ye,_.zs3,_.v3s,_.Sil,_o,bu,[class{},new _.FiY],[class{},new _.FiY]]},Qi,{provide:St,useFactory:function(F){return F.routerState.root},deps:[Zn]},{provide:_.v3s,useClass:_.EAV},Os,es,vo,{provide:bu,useValue:{enableTracing:!1}}];function Uo(){return new _.PXZ("Router",Zn)}let zu=(()=>{class F{constructor(O,q){}static forRoot(O,q){return{ngModule:F,providers:[In,Va(O),{provide:gs,useFactory:Ba,deps:[[Zn,new _.FiY,new _.tp0]]},{provide:bu,useValue:q||{}},{provide:y.S$,useFactory:ho,deps:[y.lw,[new _.tBr(y.mr),new _.FiY],bu]},{provide:$l,useFactory:zn,deps:[Zn,y.EM,bu]},{provide:ps,useExisting:q&&q.preloadingStrategy?q.preloadingStrategy:es},{provide:_.PXZ,multi:!0,useFactory:Uo},[Pi,{provide:_.ip1,multi:!0,useFactory:_l,deps:[Pi]},{provide:wa,useFactory:Pr,deps:[Pi]},{provide:_.tb,multi:!0,useExisting:wa}]]}}static forChild(O){return{ngModule:F,providers:[Va(O)]}}}return F.\u0275fac=function(O){return new(O||F)(_.LFG(gs,8),_.LFG(Zn,8))},F.\u0275mod=_.oAB({type:F}),F.\u0275inj=_.cJS({}),F})();function zn(F,k,O){return O.scrollOffset&&k.setOffset(O.scrollOffset),new $l(F,k,O)}function ho(F,k,O={}){return O.useHash?new y.Do(F,k):new y.b0(F,k)}function Ba(F){return"guarded"}function Va(F){return[{provide:_.deG,multi:!0,useValue:F},{provide:_o,multi:!0,useValue:F}]}let Pi=(()=>{class F{constructor(O){this.injector=O,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new fe.xQ}appInitializer(){return this.injector.get(y.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let q=null;const ue=new Promise(Et=>q=Et),Ee=this.injector.get(Zn),st=this.injector.get(bu);return"disabled"===st.initialNavigation?(Ee.setUpLocationChangeListener(),q(!0)):"enabled"===st.initialNavigation||"enabledBlocking"===st.initialNavigation?(Ee.hooks.afterPreactivation=()=>this.initNavigation?(0,C.of)(null):(this.initNavigation=!0,q(!0),this.resultOfPreactivationDone),Ee.initialNavigation()):q(!0),ue})}bootstrapListener(O){const q=this.injector.get(bu),ue=this.injector.get(Os),Ee=this.injector.get($l),st=this.injector.get(Zn),Et=this.injector.get(_.z2F);O===Et.components[0]&&(("enabledNonBlocking"===q.initialNavigation||void 0===q.initialNavigation)&&st.initialNavigation(),ue.setUpPreloading(),Ee.init(),st.resetRootComponentType(Et.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return F.\u0275fac=function(O){return new(O||F)(_.LFG(_.zs3))},F.\u0275prov=_.Yz7({token:F,factory:F.\u0275fac}),F})();function _l(F){return F.appInitializer.bind(F)}function Pr(F){return F.bootstrapListener.bind(F)}const wa=new _.OlP("Router Initializer")},7367:(ln,ut,P)=>{"use strict";var y=P(9759),_=P(6034),D=P(4762),C=P(4685),_e=P(300);function ee(Te){return Te&&"object"==typeof Te&&"default"in Te?Te:{default:Te}}var ie,me=ee(y),ae=((ie={})["already-activated"]="You are trying to activate AppCheck for FirebaseApp {$appName}, while it is already activated. AppCheck can only be activated once.",ie["use-before-activation"]="AppCheck is being used before activate() is called for FirebaseApp {$appName}. Please make sure you call activate() before instantiating other Firebase services.",ie["fetch-network-error"]="Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",ie["fetch-parse-error"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",ie["fetch-status-error"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",ie["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",ie["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",ie["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",ie["recaptcha-error"]="ReCAPTCHA error.",ie),G=new C.ErrorFactory("appCheck","AppCheck",ae),se=new Map,oe={activated:!1,tokenObservers:[]},fe={enabled:!1};function Ce(Te){return se.get(Te)||oe}function Re(Te,wt){se.set(Te,wt)}function Ne(){return fe}function Se(){return self.grecaptcha}function ze(Te){if(!Ce(Te).activated)throw G.create("use-before-activation",{appName:Te.name})}function Ge(Te){return D.__awaiter(this,void 0,void 0,function(){var Ot;return D.__generator(this,function(zt){switch(zt.label){case 0:return ze(Te),[4,Ce(Te).reCAPTCHAState.initialized.promise];case 1:return Ot=zt.sent(),[2,new Promise(function(je,Xe){var Pe=Ce(Te).reCAPTCHAState;Ot.ready(function(){je(Ot.execute(Pe.widgetId,{action:"fire_app_check"}))})})]}})})}function at(Te,wt,Ot,zt){var je=Ot.render(zt,{sitekey:wt,size:"invisible"}),Xe=Ce(Te);Re(Te,D.__assign(D.__assign({},Xe),{reCAPTCHAState:D.__assign(D.__assign({},Xe.reCAPTCHAState),{widgetId:je})}))}var et="https://content-firebaseappcheck.googleapis.com/v1beta",ce=function(){function Te(wt,Ot,zt,je,Xe){if(this.operation=wt,this.retryPolicy=Ot,this.getWaitDuration=zt,this.lowerBound=je,this.upperBound=Xe,this.pending=null,this.nextErrorWaitInterval=je,je>Xe)throw new Error("Proactive refresh lower bound greater than upper bound!")}return Te.prototype.start=function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(function(){})},Te.prototype.stop=function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)},Te.prototype.isRunning=function(){return!!this.pending},Te.prototype.process=function(wt){return D.__awaiter(this,void 0,void 0,function(){var Ot;return D.__generator(this,function(zt){switch(zt.label){case 0:this.stop(),zt.label=1;case 1:return zt.trys.push([1,6,,7]),this.pending=new C.Deferred,[4,pt(this.getNextRun(wt))];case 2:return zt.sent(),this.pending.resolve(),[4,this.pending.promise];case 3:return zt.sent(),this.pending=new C.Deferred,[4,this.operation()];case 4:return zt.sent(),this.pending.resolve(),[4,this.pending.promise];case 5:return zt.sent(),this.process(!0).catch(function(){}),[3,7];case 6:return Ot=zt.sent(),this.retryPolicy(Ot)?this.process(!1).catch(function(){}):this.stop(),[3,7];case 7:return[2]}})})},Te.prototype.getNextRun=function(wt){if(wt)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var Ot=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Ot},Te}();function pt(Te){return new Promise(function(wt){setTimeout(wt,Te)})}function Rt(Te,wt){var Ot=Te.url,zt=Te.body;return D.__awaiter(this,void 0,void 0,function(){var je,Xe,Pe,bt,Ke,qe,Ve,Ct,Wt,Cn;return D.__generator(this,function($n){switch($n.label){case 0:je={"Content-Type":"application/json"},(Xe=wt.getImmediate({optional:!0}))&&(je["X-Firebase-Client"]=Xe.getPlatformInfoString()),Pe={method:"POST",body:JSON.stringify(zt),headers:je},$n.label=1;case 1:return $n.trys.push([1,3,,4]),[4,fetch(Ot,Pe)];case 2:return bt=$n.sent(),[3,4];case 3:throw Ke=$n.sent(),G.create("fetch-network-error",{originalErrorMessage:Ke.message});case 4:if(200!==bt.status)throw G.create("fetch-status-error",{httpStatus:bt.status});$n.label=5;case 5:return $n.trys.push([5,7,,8]),[4,bt.json()];case 6:return qe=$n.sent(),[3,8];case 7:throw Ve=$n.sent(),G.create("fetch-parse-error",{originalErrorMessage:Ve.message});case 8:if(!(Ct=qe.ttl.match(/^([\d.]+)(s)$/))||!Ct[2]||isNaN(Number(Ct[1])))throw G.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration format: "+qe.ttl});return Wt=1e3*Number(Ct[1]),Cn=Date.now(),[2,{token:qe.attestationToken,expireTimeMillis:Cn+Wt,issuedAtTimeMillis:Cn}]}})})}function Tt(Te,wt){var Ot=Te.options;return{url:et+"/projects/"+Ot.projectId+"/apps/"+Ot.appId+":exchangeRecaptchaToken?key="+Ot.apiKey,body:{recaptcha_token:wt}}}function gn(Te,wt){var Ot=Te.options;return{url:et+"/projects/"+Ot.projectId+"/apps/"+Ot.appId+":exchangeDebugToken?key="+Ot.apiKey,body:{debug_token:wt}}}var wn="firebase-app-check-store",cn="debug-token",jt=null;function Xt(){return jt||(jt=new Promise(function(Te,wt){try{var Ot=indexedDB.open("firebase-app-check-database",1);Ot.onsuccess=function(zt){Te(zt.target.result)},Ot.onerror=function(zt){var je;wt(G.create("storage-open",{originalErrorMessage:null===(je=zt.target.error)||void 0===je?void 0:je.message}))},Ot.onupgradeneeded=function(zt){var je=zt.target.result;switch(zt.oldVersion){case 0:je.createObjectStore(wn,{keyPath:"compositeKey"})}}}catch(zt){wt(G.create("storage-open",{originalErrorMessage:zt.message}))}}))}function _t(Te){return Pt(sn(Te))}function qt(Te,wt){return D.__awaiter(this,void 0,void 0,function(){var Ot,zt,je,Xe;return D.__generator(this,function(Pe){switch(Pe.label){case 0:return[4,Xt()];case 1:return Ot=Pe.sent(),zt=Ot.transaction(wn,"readwrite"),je=zt.objectStore(wn),Xe=je.put({compositeKey:Te,value:wt}),[2,new Promise(function(bt,Ke){Xe.onsuccess=function(qe){bt()},zt.onerror=function(qe){var Ve;Ke(G.create("storage-set",{originalErrorMessage:null===(Ve=qe.target.error)||void 0===Ve?void 0:Ve.message}))}})]}})})}function Pt(Te){return D.__awaiter(this,void 0,void 0,function(){var wt,Ot,zt,je;return D.__generator(this,function(Xe){switch(Xe.label){case 0:return[4,Xt()];case 1:return wt=Xe.sent(),Ot=wt.transaction(wn,"readonly"),zt=Ot.objectStore(wn),je=zt.get(Te),[2,new Promise(function(Pe,bt){je.onsuccess=function(Ke){var qe=Ke.target.result;Pe(qe?qe.value:void 0)},Ot.onerror=function(Ke){var qe;bt(G.create("storage-get",{originalErrorMessage:null===(qe=Ke.target.error)||void 0===qe?void 0:qe.message}))}})]}})})}function sn(Te){return Te.options.appId+"-"+Te.name}var Zt=new _e.Logger("@firebase/app-check");function bn(Te){return D.__awaiter(this,void 0,void 0,function(){var wt,Ot;return D.__generator(this,function(zt){switch(zt.label){case 0:if(!C.isIndexedDBAvailable())return[3,5];wt=void 0,zt.label=1;case 1:return zt.trys.push([1,3,,4]),[4,_t(Te)];case 2:return wt=zt.sent(),[3,4];case 3:return Ot=zt.sent(),Zt.warn("Failed to read token from indexeddb. Error: "+Ot),[3,4];case 4:return[2,wt];case 5:return[2,void 0]}})})}function Jn(Te,wt){return C.isIndexedDBAvailable()?function(Te,wt){return qt(sn(Te),wt)}(Te,wt).catch(function(Ot){Zt.warn("Failed to write token to indexeddb. Error: "+Ot)}):Promise.resolve()}function pr(){return D.__awaiter(this,void 0,void 0,function(){var Te;return D.__generator(this,function(wt){if((Te=Ne()).enabled&&Te.token)return[2,Te.token.promise];throw Error("\n            Can't get debug token in production mode.\n        ")})})}var Dn={error:"UNKNOWN_ERROR"};function jn(Te){return C.base64.encodeString(JSON.stringify(Te),!1)}function Pn(Te,wt,Ot){return void 0===Ot&&(Ot=!1),D.__awaiter(this,void 0,void 0,function(){var zt,je,Xe,Pe,bt,Ke,qe,Ve,Ct,Wt,Cn,$n,_r,Lr;return D.__generator(this,function(hr){switch(hr.label){case 0:return ze(Te),zt=Ce(Te),Xe=void 0,(je=zt.token)?[3,2]:[4,bn(Te)];case 1:(Pe=hr.sent())&&N(Pe)&&(je=Pe,Re(Te,D.__assign(D.__assign({},zt),{token:je})),H(Te,{token:je.token})),hr.label=2;case 2:return!Ot&&je&&N(je)?[2,{token:je.token}]:Ne().enabled?(Ke=Rt,qe=gn,Ve=[Te],[4,pr()]):[3,6];case 3:return[4,Ke.apply(void 0,[qe.apply(void 0,Ve.concat([hr.sent()])),wt])];case 4:return bt=hr.sent(),[4,Jn(Te,bt)];case 5:return hr.sent(),Re(Te,D.__assign(D.__assign({},zt),{token:bt})),[2,{token:bt.token}];case 6:return hr.trys.push([6,12,,13]),zt.customProvider?[4,zt.customProvider.getToken()]:[3,8];case 7:return Ct=hr.sent(),Wt=C.issuedAtTime(Ct.token),Cn=null!==Wt&&Wt<Date.now()&&Wt>0?1e3*Wt:Date.now(),je=D.__assign(D.__assign({},Ct),{issuedAtTimeMillis:Cn}),[3,11];case 8:return[4,Ge(Te).catch(function(Hr){throw G.create("recaptcha-error")})];case 9:return $n=hr.sent(),[4,Rt(Tt(Te,$n),wt)];case 10:je=hr.sent(),hr.label=11;case 11:return[3,13];case 12:return _r=hr.sent(),Zt.error(_r),Xe=_r,[3,13];case 13:return je?[3,14]:(Lr=function(Te){return{token:jn(Dn),error:Te}}(Xe),[3,16]);case 14:return Lr={token:je.token},Re(Te,D.__assign(D.__assign({},zt),{token:je})),[4,Jn(Te,je)];case 15:hr.sent(),hr.label=16;case 16:return H(Te,Lr),[2,Lr]}})})}function tn(Te,wt,Ot,zt,je){var Xe=Ce(Te),Pe={next:zt,error:je,type:Ot},bt=D.__assign(D.__assign({},Xe),{tokenObservers:D.__spreadArray(D.__spreadArray([],Xe.tokenObservers),[Pe])});if(!bt.tokenRefresher){var Ke=function(Te,wt){var Ot=this;return new ce(function(){return D.__awaiter(Ot,void 0,void 0,function(){var je;return D.__generator(this,function(Xe){switch(Xe.label){case 0:return Ce(Te).token?[3,2]:[4,Pn(Te,wt)];case 1:return je=Xe.sent(),[3,4];case 2:return[4,Pn(Te,wt,!0)];case 3:je=Xe.sent(),Xe.label=4;case 4:if(je.error)throw je.error;return[2]}})})},function(){return!0},function(){var zt=Ce(Te);if(zt.token){var je=zt.token.issuedAtTimeMillis+.5*(zt.token.expireTimeMillis-zt.token.issuedAtTimeMillis)+3e5;return je=Math.min(je,zt.token.expireTimeMillis-3e5),Math.max(0,je-Date.now())}return 0},3e4,96e4)}(Te,wt);bt.tokenRefresher=Ke}if(!bt.tokenRefresher.isRunning()&&!0===Xe.isTokenAutoRefreshEnabled&&bt.tokenRefresher.start(),Xe.token&&N(Xe.token)){var qe=Xe.token;Promise.resolve().then(function(){return zt({token:qe.token})}).catch(function(){})}Re(Te,bt)}function Ae(Te,wt){var Ot=Ce(Te),zt=Ot.tokenObservers.filter(function(je){return je.next!==wt});0===zt.length&&Ot.tokenRefresher&&Ot.tokenRefresher.isRunning()&&Ot.tokenRefresher.stop(),Re(Te,D.__assign(D.__assign({},Ot),{tokenObservers:zt}))}function H(Te,wt){for(var zt=0,je=Ce(Te).tokenObservers;zt<je.length;zt++){var Xe=je[zt];try{"EXTERNAL"===Xe.type&&null!=wt.error?Xe.error(wt.error):Xe.next(wt)}catch(Pe){}}}function N(Te){return Te.expireTimeMillis-Date.now()>0}function mn(Te,wt){return{app:Te,activate:function(Ot,zt){return function(Te,wt,Ot){var zt=Ce(Te);if(zt.activated)throw G.create("already-activated",{appName:Te.name});var je=D.__assign(D.__assign({},zt),{activated:!0});"string"==typeof wt?je.siteKey=wt:je.customProvider=wt,je.isTokenAutoRefreshEnabled=void 0===Ot?Te.automaticDataCollectionEnabled:Ot,Re(Te,je),je.siteKey&&function(Te,wt){var Ot=Ce(Te),zt=new C.Deferred;Re(Te,D.__assign(D.__assign({},Ot),{reCAPTCHAState:{initialized:zt}}));var je="fire_app_check_"+Te.name,Xe=document.createElement("div");Xe.id=je,Xe.style.display="none",document.body.appendChild(Xe);var Pe=Se();return Pe?Pe.ready(function(){at(Te,wt,Pe,je),zt.resolve(Pe)}):function(Te){var wt=document.createElement("script");wt.src="https://www.google.com/recaptcha/api.js",wt.onload=Te,document.head.appendChild(wt)}(function(){var bt=Se();if(!bt)throw new Error("no recaptcha");bt.ready(function(){at(Te,wt,bt,je),zt.resolve(bt)})}),zt.promise}(Te,je.siteKey).catch(function(){})}(Te,Ot,zt)},setTokenAutoRefreshEnabled:function(Ot){return function(Te,wt){var Ot=Ce(Te);Ot.tokenRefresher&&(!0===wt?Ot.tokenRefresher.start():Ot.tokenRefresher.stop()),Re(Te,D.__assign(D.__assign({},Ot),{isTokenAutoRefreshEnabled:wt}))}(Te,Ot)},getToken:function(Ot){return function(Te,wt,Ot){return D.__awaiter(this,void 0,void 0,function(){var zt;return D.__generator(this,function(je){switch(je.label){case 0:return[4,Pn(Te,wt,Ot)];case 1:if((zt=je.sent()).error)throw zt.error;return[2,{token:zt.token}]}})})}(Te,wt,Ot)},onTokenChanged:function(Ot,zt,je){return function(Te,wt,Ot,zt,je){var Xe,Pe=function(){};return Xe=null!=Ot.next?Ot.next.bind(Ot):Ot,null!=Ot.error?Pe=Ot.error.bind(Ot):zt&&(Pe=zt),tn(Te,wt,"EXTERNAL",Xe,Pe),function(){return Ae(Te,Xe)}}(Te,wt,Ot,zt)},INTERNAL:{delete:function(){for(var zt=0,je=Ce(Te).tokenObservers;zt<je.length;zt++)Ae(Te,je[zt].next);return Promise.resolve()}}}}var Te,dt="app-check-internal";(Te=me.default).INTERNAL.registerComponent(new _.Component("appCheck",function(wt){return mn(wt.getProvider("app").getImmediate(),wt.getProvider("platform-logger"))},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(function(wt,Ot,zt){wt.getProvider(dt).initialize()})),Te.INTERNAL.registerComponent(new _.Component(dt,function(wt){return function(Te,wt){return{getToken:function(Ot){return Pn(Te,wt,Ot)},addTokenListener:function(Ot){return tn(Te,wt,"INTERNAL",Ot)},removeTokenListener:function(Ot){return Ae(Te,Ot)}}}(wt.getProvider("app").getImmediate(),wt.getProvider("platform-logger"))},"PUBLIC").setInstantiationMode("EXPLICIT")),Te.registerVersion("@firebase/app-check","0.2.0"),function(){var Te=C.getGlobal();if("string"==typeof Te.FIREBASE_APPCHECK_DEBUG_TOKEN||!0===Te.FIREBASE_APPCHECK_DEBUG_TOKEN){var wt=Ne();wt.enabled=!0;var Ot=new C.Deferred;wt.token=Ot,Ot.resolve("string"==typeof Te.FIREBASE_APPCHECK_DEBUG_TOKEN?Te.FIREBASE_APPCHECK_DEBUG_TOKEN:function(){return D.__awaiter(this,void 0,void 0,function(){var Te,wt;return D.__generator(this,function(Ot){switch(Ot.label){case 0:Te=void 0,Ot.label=1;case 1:return Ot.trys.push([1,3,,4]),[4,Pt(cn)];case 2:return Te=Ot.sent(),[3,4];case 3:return Ot.sent(),[3,4];case 4:return Te?[2,Te]:(function(Te){return qt(cn,Te)}(wt="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(Te){var wt=16*Math.random()|0;return("x"===Te?wt:3&wt|8).toString(16)})).catch(function(zt){return Zt.warn("Failed to persist debug token to indexeddb. Error: "+zt)}),console.log("AppCheck debug token: "+wt+". You will need to whitelist it in the Firebase console for it to work"),[2,wt])}})})}())}}()},9759:(ln,ut,P)=>{"use strict";P.r(ut),P.d(ut,{default:()=>cn,firebase:()=>wn});var _e,Ge,y=P(4762),_=P(4685),D=P(6034),C=P(300),ee=((_e={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",_e["bad-app-name"]="Illegal App name: '{$appName}",_e["duplicate-app"]="Firebase App named '{$appName}' already exists",_e["app-deleted"]="Firebase App named '{$appName}' already deleted",_e["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",_e["invalid-log-argument"]="First argument to `onLog` must be null or a function.",_e),me=new _.ErrorFactory("app","Firebase",ee),ie="@firebase/app",at="[DEFAULT]",nt=((Ge={})[ie]="fire-core",Ge["@firebase/analytics"]="fire-analytics",Ge["@firebase/app-check"]="fire-app-check",Ge["@firebase/auth"]="fire-auth",Ge["@firebase/database"]="fire-rtdb",Ge["@firebase/functions"]="fire-fn",Ge["@firebase/installations"]="fire-iid",Ge["@firebase/messaging"]="fire-fcm",Ge["@firebase/performance"]="fire-perf",Ge["@firebase/remote-config"]="fire-rc",Ge["@firebase/storage"]="fire-gcs",Ge["@firebase/firestore"]="fire-fst",Ge["fire-js"]="fire-js",Ge["firebase-wrapper"]="fire-js-all",Ge),et=new C.Logger("@firebase/app"),Ze=function(){function jt(Xt,_t,At){var Gt=this;this.firebase_=At,this.isDeleted_=!1,this.name_=_t.name,this.automaticDataCollectionEnabled_=_t.automaticDataCollectionEnabled||!1,this.options_=(0,_.deepCopy)(Xt),this.container=new D.ComponentContainer(_t.name),this._addComponent(new D.Component("app",function(){return Gt},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(Nt){return Gt._addComponent(Nt)})}return Object.defineProperty(jt.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(Xt){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=Xt},enumerable:!1,configurable:!0}),Object.defineProperty(jt.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(jt.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),jt.prototype.delete=function(){var Xt=this;return new Promise(function(_t){Xt.checkDestroyed_(),_t()}).then(function(){return Xt.firebase_.INTERNAL.removeApp(Xt.name_),Promise.all(Xt.container.getProviders().map(function(_t){return _t.delete()}))}).then(function(){Xt.isDeleted_=!0})},jt.prototype._getService=function(Xt,_t){var At;void 0===_t&&(_t=at),this.checkDestroyed_();var Gt=this.container.getProvider(Xt);return!Gt.isInitialized()&&"EXPLICIT"===(null===(At=Gt.getComponent())||void 0===At?void 0:At.instantiationMode)&&Gt.initialize(),Gt.getImmediate({identifier:_t})},jt.prototype._removeServiceInstance=function(Xt,_t){void 0===_t&&(_t=at),this.container.getProvider(Xt).clearInstance(_t)},jt.prototype._addComponent=function(Xt){try{this.container.addComponent(Xt)}catch(_t){et.debug("Component "+Xt.name+" failed to register with FirebaseApp "+this.name,_t)}},jt.prototype._addOrOverwriteComponent=function(Xt){this.container.addOrOverwriteComponent(Xt)},jt.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},jt.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw me.create("app-deleted",{appName:this.name_})},jt}();Ze.prototype.name&&Ze.prototype.options||Ze.prototype.delete||console.log("dc");var pt=function ce(){var jt=function(jt){var Xt={},_t=new Map,At={__esModule:!0,initializeApp:function(Rn,Un){void 0===Un&&(Un={}),("object"!=typeof Un||null===Un)&&(Un={name:Un});var ur=Un;void 0===ur.name&&(ur.name=at);var Dn=ur.name;if("string"!=typeof Dn||!Dn)throw me.create("bad-app-name",{appName:String(Dn)});if((0,_.contains)(Xt,Dn))throw me.create("duplicate-app",{appName:Dn});var jn=new jt(Rn,ur,At);return Xt[Dn]=jn,jn},app:Nt,registerVersion:function(Rn,Un,pr){var ur,Dn=null!==(ur=nt[Rn])&&void 0!==ur?ur:Rn;pr&&(Dn+="-"+pr);var jn=Dn.match(/\s|\//),Pn=Un.match(/\s|\//);if(jn||Pn){var tn=['Unable to register library "'+Dn+'" with version "'+Un+'":'];return jn&&tn.push('library name "'+Dn+'" contains illegal characters (whitespace or "/")'),jn&&Pn&&tn.push("and"),Pn&&tn.push('version name "'+Un+'" contains illegal characters (whitespace or "/")'),void et.warn(tn.join(" "))}sn(new D.Component(Dn+"-version",function(){return{library:Dn,version:Un}},"VERSION"))},setLogLevel:C.setLogLevel,onLog:function(Rn,Un){if(null!==Rn&&"function"!=typeof Rn)throw me.create("invalid-log-argument");(0,C.setUserLogHandler)(Rn,Un)},apps:null,SDK_VERSION:"8.7.0",INTERNAL:{registerComponent:sn,removeApp:function(Rn){delete Xt[Rn]},components:_t,useAsService:function(Rn,Un){return"serverAuth"===Un?null:Un}}};function Nt(Rn){if(!(0,_.contains)(Xt,Rn=Rn||at))throw me.create("no-app",{appName:Rn});return Xt[Rn]}function sn(Rn){var Un=Rn.name;if(_t.has(Un))return et.debug("There were multiple attempts to register component "+Un+"."),"PUBLIC"===Rn.type?At[Un]:null;if(_t.set(Un,Rn),"PUBLIC"===Rn.type){var pr=function(Pn){if(void 0===Pn&&(Pn=Nt()),"function"!=typeof Pn[Un])throw me.create("invalid-app-argument",{appName:Un});return Pn[Un]()};void 0!==Rn.serviceProps&&(0,_.deepExtend)(pr,Rn.serviceProps),At[Un]=pr,jt.prototype[Un]=function(){for(var Pn=[],tn=0;tn<arguments.length;tn++)Pn[tn]=arguments[tn];return this._getService.bind(this,Un).apply(this,Rn.multipleInstances?Pn:[])}}for(var ur=0,Dn=Object.keys(Xt);ur<Dn.length;ur++)Xt[Dn[ur]]._addComponent(Rn);return"PUBLIC"===Rn.type?At[Un]:null}return At.default=At,Object.defineProperty(At,"apps",{get:function(){return Object.keys(Xt).map(function(Rn){return Xt[Rn]})}}),Nt.App=jt,At}(Ze);return jt.INTERNAL=(0,y.__assign)((0,y.__assign)({},jt.INTERNAL),{createFirebaseNamespace:ce,extendNamespace:function(_t){(0,_.deepExtend)(jt,_t)},createSubscribe:_.createSubscribe,ErrorFactory:_.ErrorFactory,deepExtend:_.deepExtend}),jt}(),Rt=function(){function jt(Xt){this.container=Xt}return jt.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(_t){if(function(jt){var Xt=jt.getComponent();return"VERSION"===(null==Xt?void 0:Xt.type)}(_t)){var At=_t.getImmediate();return At.library+"/"+At.version}return null}).filter(function(_t){return _t}).join(" ")},jt}();if((0,_.isBrowser)()&&void 0!==self.firebase){et.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var pn=self.firebase.SDK_VERSION;pn&&pn.indexOf("LITE")>=0&&et.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Mn=pt.initializeApp;pt.initializeApp=function(){for(var jt=[],Xt=0;Xt<arguments.length;Xt++)jt[Xt]=arguments[Xt];return(0,_.isNode)()&&et.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),Mn.apply(void 0,jt)};var jt,wn=pt;(jt=wn).INTERNAL.registerComponent(new D.Component("platform-logger",function(_t){return new Rt(_t)},"PRIVATE")),jt.registerVersion(ie,"0.6.28",undefined),jt.registerVersion("fire-js","");const cn=wn},6423:(ln,ut,P)=>{"use strict";var y=P(9759);(function(){var _,D="function"==typeof Object.defineProperties?Object.defineProperty:function(i,l,v){i!=Array.prototype&&i!=Object.prototype&&(i[l]=v.value)},_e=function(i){i=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,i];for(var l=0;l<i.length;++l){var v=i[l];if(v&&v.Math==Math)return v}return globalThis}(this);function me(i){var l=0;return function(){return l<i.length?{done:!1,value:i[l++]}:{done:!0}}}function ie(i){var l="undefined"!=typeof Symbol&&Symbol.iterator&&i[Symbol.iterator];return l?l.call(i):{next:me(i)}}!function(i,l){if(l){var v=_e;i=i.split(".");for(var A=0;A<i.length-1;A++){var V=i[A];V in v||(v[V]={}),v=v[V]}(l=l(A=v[i=i[i.length-1]]))!=A&&null!=l&&D(v,i,{configurable:!0,writable:!0,value:l})}}("Promise",function(i){function l(Ie){this.b=0,this.c=void 0,this.a=[];var ot=this.f();try{Ie(ot.resolve,ot.reject)}catch(dn){ot.reject(dn)}}function v(){this.a=null}function A(Ie){return Ie instanceof l?Ie:new l(function(ot){ot(Ie)})}if(i)return i;v.prototype.b=function(Ie){if(null==this.a){this.a=[];var ot=this;this.c(function(){ot.g()})}this.a.push(Ie)};var V=_e.setTimeout;v.prototype.c=function(Ie){V(Ie,0)},v.prototype.g=function(){for(;this.a&&this.a.length;){var Ie=this.a;this.a=[];for(var ot=0;ot<Ie.length;++ot){var dn=Ie[ot];Ie[ot]=null;try{dn()}catch(An){this.f(An)}}}this.a=null},v.prototype.f=function(Ie){this.c(function(){throw Ie})},l.prototype.f=function(){function Ie(An){return function(Fr){dn||(dn=!0,An.call(ot,Fr))}}var ot=this,dn=!1;return{resolve:Ie(this.m),reject:Ie(this.g)}},l.prototype.m=function(Ie){if(Ie===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(Ie instanceof l)this.s(Ie);else{e:switch(typeof Ie){case"object":var ot=null!=Ie;break e;case"function":ot=!0;break e;default:ot=!1}ot?this.v(Ie):this.h(Ie)}},l.prototype.v=function(Ie){var ot=void 0;try{ot=Ie.then}catch(dn){return void this.g(dn)}"function"==typeof ot?this.u(ot,Ie):this.h(Ie)},l.prototype.g=function(Ie){this.i(2,Ie)},l.prototype.h=function(Ie){this.i(1,Ie)},l.prototype.i=function(Ie,ot){if(0!=this.b)throw Error("Cannot settle("+Ie+", "+ot+"): Promise already settled in state"+this.b);this.b=Ie,this.c=ot,this.l()},l.prototype.l=function(){if(null!=this.a){for(var Ie=0;Ie<this.a.length;++Ie)he.b(this.a[Ie]);this.a=null}};var he=new v;return l.prototype.s=function(Ie){var ot=this.f();Ie.Ra(ot.resolve,ot.reject)},l.prototype.u=function(Ie,ot){var dn=this.f();try{Ie.call(ot,dn.resolve,dn.reject)}catch(An){dn.reject(An)}},l.prototype.then=function(Ie,ot){function dn(fi,Ho){return"function"==typeof fi?function(Za){try{An(fi(Za))}catch(Qc){Fr(Qc)}}:Ho}var An,Fr,ki=new l(function(fi,Ho){An=fi,Fr=Ho});return this.Ra(dn(Ie,An),dn(ot,Fr)),ki},l.prototype.catch=function(Ie){return this.then(void 0,Ie)},l.prototype.Ra=function(Ie,ot){function dn(){switch(An.b){case 1:Ie(An.c);break;case 2:ot(An.c);break;default:throw Error("Unexpected state: "+An.b)}}var An=this;null==this.a?he.b(dn):this.a.push(dn)},l.resolve=A,l.reject=function(Ie){return new l(function(ot,dn){dn(Ie)})},l.race=function(Ie){return new l(function(ot,dn){for(var An=ie(Ie),Fr=An.next();!Fr.done;Fr=An.next())A(Fr.value).Ra(ot,dn)})},l.all=function(Ie){var ot=ie(Ie),dn=ot.next();return dn.done?A([]):new l(function(An,Fr){function ki(Za){return function(Qc){fi[Za]=Qc,0==--Ho&&An(fi)}}var fi=[],Ho=0;do{fi.push(void 0),Ho++,A(dn.value).Ra(ki(fi.length-1),Fr),dn=ot.next()}while(!dn.done)})},l});var ae=ae||{},G=this||self,se=/^[\w+/_-]+[=]{0,2}$/,oe=null;function fe(i){return(i=i.querySelector&&i.querySelector("script[nonce]"))&&(i=i.nonce||i.getAttribute("nonce"))&&se.test(i)?i:""}function Ce(){}function Re(i){var l=typeof i;return"object"!=l?l:i?Array.isArray(i)?"array":l:"null"}function Ne(i){var l=Re(i);return"array"==l||"object"==l&&"number"==typeof i.length}function Se(i){return"function"==Re(i)}function ze(i){var l=typeof i;return"object"==l&&null!=i||"function"==l}function Ut(i){return Object.prototype.hasOwnProperty.call(i,Qt)&&i[Qt]||(i[Qt]=++gt)}var Qt="closure_uid_"+(1e9*Math.random()>>>0),gt=0;function Ge(i,l,v){return i.call.apply(i.bind,arguments)}function at(i,l,v){if(!i)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,A),i.apply(l,V)}}return function(){return i.apply(l,arguments)}}function nt(i,l,v){return(nt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ge:at).apply(null,arguments)}function et(i,l){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),i.apply(this,A)}}var Ze=Date.now;function ve(i,l){function v(){}v.prototype=l.prototype,i.bb=l.prototype,i.prototype=new v,i.prototype.constructor=i}function De(i){return i}function ce(i,l,v){this.code=Rt+i,this.message=l||Tt[i]||"",this.a=v||null}function pt(i){var l=i&&i.code;return l?new ce(l.substring(Rt.length),i.message,i.serverResponse):null}ve(ce,Error),ce.prototype.w=function(){var i={code:this.code,message:this.message};return this.a&&(i.serverResponse=this.a),i},ce.prototype.toJSON=function(){return this.w()};var Mn,Rt="auth/",Tt={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},gn={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function pn(i){for(var l in gn)if(gn[l].id===i)return{firebaseEndpoint:(i=gn[l]).Ua,secureTokenEndpoint:i.$a,identityPlatformEndpoint:i.Xa};return null}function wn(i){if(!i)return!1;try{return!!i.$goog_Thenable}catch(l){return!1}}function cn(i){if(Error.captureStackTrace)Error.captureStackTrace(this,cn);else{var l=Error().stack;l&&(this.stack=l)}i&&(this.message=String(i))}function jt(i,l){for(var v="",A=(i=i.split("%s")).length-1,V=0;V<A;V++)v+=i[V]+(V<l.length?l[V]:"%s");cn.call(this,v+i[A])}function Xt(i,l){throw new jt("Failure"+(i?": "+i:""),Array.prototype.slice.call(arguments,1))}function _t(i,l){this.c=i,this.f=l,this.b=0,this.a=null}function At(i,l){i.f(l),100>i.b&&(i.b++,l.next=i.a,i.a=l)}function Gt(){this.b=this.a=null}Mn=pn("__EID__")?"__EID__":void 0,ve(cn,Error),cn.prototype.name="CustomError",ve(jt,cn),jt.prototype.name="AssertionError",_t.prototype.get=function(){if(0<this.b){this.b--;var i=this.a;this.a=i.next,i.next=null}else i=this.c();return i};var Nt=new _t(function(){return new Pt},function(i){i.reset()});function qt(){var i=qs,l=null;return i.a&&(l=i.a,i.a=i.a.next,i.a||(i.b=null),l.next=null),l}function Pt(){this.next=this.b=this.a=null}Gt.prototype.add=function(i,l){var v=Nt.get();v.set(i,l),this.b?this.b.next=v:this.a=v,this.b=v},Pt.prototype.set=function(i,l){this.a=i,this.b=l,this.next=null},Pt.prototype.reset=function(){this.next=this.b=this.a=null};var sn=Array.prototype.indexOf?function(i,l){return Array.prototype.indexOf.call(i,l,void 0)}:function(i,l){if("string"==typeof i)return"string"!=typeof l||1!=l.length?-1:i.indexOf(l,0);for(var v=0;v<i.length;v++)if(v in i&&i[v]===l)return v;return-1},Zt=Array.prototype.forEach?function(i,l,v){Array.prototype.forEach.call(i,l,v)}:function(i,l,v){for(var A=i.length,V="string"==typeof i?i.split(""):i,he=0;he<A;he++)he in V&&l.call(v,V[he],he,i)},Jn=Array.prototype.filter?function(i,l){return Array.prototype.filter.call(i,l,void 0)}:function(i,l){for(var v=i.length,A=[],V=0,he="string"==typeof i?i.split(""):i,Ie=0;Ie<v;Ie++)if(Ie in he){var ot=he[Ie];l.call(void 0,ot,Ie,i)&&(A[V++]=ot)}return A},Rn=Array.prototype.map?function(i,l){return Array.prototype.map.call(i,l,void 0)}:function(i,l){for(var v=i.length,A=Array(v),V="string"==typeof i?i.split(""):i,he=0;he<v;he++)he in V&&(A[he]=l.call(void 0,V[he],he,i));return A},Un=Array.prototype.some?function(i,l){return Array.prototype.some.call(i,l,void 0)}:function(i,l){for(var v=i.length,A="string"==typeof i?i.split(""):i,V=0;V<v;V++)if(V in A&&l.call(void 0,A[V],V,i))return!0;return!1};function ur(i,l){return 0<=sn(i,l)}function Dn(i,l){var v;return(v=0<=(l=sn(i,l)))&&Array.prototype.splice.call(i,l,1),v}function jn(i,l){!function(i,l){for(var v="string"==typeof i?i.split(""):i,A=i.length-1;0<=A;--A)A in v&&l.call(void 0,v[A],A,i)}(i,function(A,V){l.call(void 0,A,V,i)&&Array.prototype.splice.call(i,V,1)})}function Pn(i){return Array.prototype.concat.apply([],arguments)}function tn(i){var l=i.length;if(0<l){for(var v=Array(l),A=0;A<l;A++)v[A]=i[A];return v}return[]}var Nn,Ae=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]},Z=/&/g,H=/</g,N=/>/g,B=/"/g,ne=/'/g,we=/\x00/g,Ye=/[\x00&<>"']/;function mt(i,l){return-1!=i.indexOf(l)}function mn(i,l){return i<l?-1:i>l?1:0}e:{var yn=G.navigator;if(yn){var Qe=yn.userAgent;if(Qe){Nn=Qe;break e}}Nn=""}function We(i){return mt(Nn,i)}function dt(i,l){for(var v in i)l.call(void 0,i[v],v,i)}function It(i){for(var l in i)return!1;return!0}function Te(i){var v,l={};for(v in i)l[v]=i[v];return l}var wt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ot(i,l){for(var v,A,V=1;V<arguments.length;V++){for(v in A=arguments[V])i[v]=A[v];for(var he=0;he<wt.length;he++)v=wt[he],Object.prototype.hasOwnProperty.call(A,v)&&(i[v]=A[v])}}function zt(i,l){e:{try{var v=i&&i.ownerDocument,A=v&&(v.defaultView||v.parentWindow);if((A=A||G).Element&&A.Location){var V=A;break e}}catch(Ie){}V=null}if(V&&void 0!==V[l]&&(!i||!(i instanceof V[l])&&(i instanceof V.Location||i instanceof V.Element))){if(ze(i))try{var he=i.constructor.displayName||i.constructor.name||Object.prototype.toString.call(i)}catch(Ie){he="<object could not be stringified>"}else he=void 0===i?"undefined":null===i?"null":typeof i;Xt("Argument is not a %s (or a non-Element, non-Location mock); got: %s",l,he)}}function je(i,l){this.a=i===bt&&l||"",this.b=Pe}function Xe(i){return i instanceof je&&i.constructor===je&&i.b===Pe?i.a:(Xt("expected object of type Const, got '"+i+"'"),"type_error:Const")}je.prototype.ta=!0,je.prototype.sa=function(){return this.a},je.prototype.toString=function(){return"Const{"+this.a+"}"};var Ke,Pe={},bt={};function qe(){if(void 0===Ke){var i=null,l=G.trustedTypes;if(l&&l.createPolicy){try{i=l.createPolicy("goog#html",{createHTML:De,createScript:De,createScriptURL:De})}catch(v){G.console&&G.console.error(v.message)}Ke=i}else Ke=i}return Ke}function Ve(i,l){this.a=l===_r?i:""}function Ct(i){return i instanceof Ve&&i.constructor===Ve?i.a:(Xt("expected object of type TrustedResourceUrl, got '"+i+"' of type "+Re(i)),"type_error:TrustedResourceUrl")}function Wt(i,l){var v=Xe(i);if(!$n.test(v))throw Error("Invalid TrustedResourceUrl format: "+v);return function(i){var l=qe();return new Ve(i=l?l.createScriptURL(i):i,_r)}(i=v.replace(Cn,function(A,V){if(!Object.prototype.hasOwnProperty.call(l,V))throw Error('Found marker, "'+V+'", in format string, "'+v+'", but no valid label mapping found in args: '+JSON.stringify(l));return(A=l[V])instanceof je?Xe(A):encodeURIComponent(String(A))}))}Ve.prototype.ta=!0,Ve.prototype.sa=function(){return this.a.toString()},Ve.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Cn=/%{(\w+)}/g,$n=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,_r={};function hr(i,l){this.a=l===Ln?i:""}function Hr(i){return i instanceof hr&&i.constructor===hr?i.a:(Xt("expected object of type SafeUrl, got '"+i+"' of type "+Re(i)),"type_error:SafeUrl")}hr.prototype.ta=!0,hr.prototype.sa=function(){return this.a.toString()},hr.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var ui=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Ii=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,ei=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function ji(i){if(i instanceof hr)return i;if(i="object"==typeof i&&i.ta?i.sa():String(i),ei.test(i))i=new hr(i,Ln);else{var l=(i=(i=String(i)).replace(/(%0A|%0D)/g,"")).match(Ii);i=l&&ui.test(l[1])?new hr(i,Ln):null}return i}function Ci(i){return i instanceof hr?i:(i="object"==typeof i&&i.ta?i.sa():String(i),ei.test(i)||(i="about:invalid#zClosurez"),new hr(i,Ln))}var Ln={},Ir=new hr("about:invalid#zClosurez",Ln);function Gr(i,l,v){this.a=v===Yi?i:""}Gr.prototype.ta=!0,Gr.prototype.sa=function(){return this.a.toString()},Gr.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Yi={};function ao(i,l,v,A){return i=i instanceof hr?i:Ci(i),l=l||G,v=v instanceof je?Xe(v):v||"",l.open(Hr(i),v,A,void 0)}function gi(i,l){for(var v=i.split("%s"),A="",V=Array.prototype.slice.call(arguments,1);V.length&&1<v.length;)A+=v.shift()+V.shift();return A+v.join("%s")}function Hi(i){return Ye.test(i)&&(-1!=i.indexOf("&")&&(i=i.replace(Z,"&amp;")),-1!=i.indexOf("<")&&(i=i.replace(H,"&lt;")),-1!=i.indexOf(">")&&(i=i.replace(N,"&gt;")),-1!=i.indexOf('"')&&(i=i.replace(B,"&quot;")),-1!=i.indexOf("'")&&(i=i.replace(ne,"&#39;")),-1!=i.indexOf("\0")&&(i=i.replace(we,"&#0;"))),i}function go(i){return go[" "](i),i}go[" "]=Ce;var St,i,kt=We("Opera"),vt=We("Trident")||We("MSIE"),Je=We("Edge"),Lt=Je||vt,nn=We("Gecko")&&!(mt(Nn.toLowerCase(),"webkit")&&!We("Edge"))&&!(We("Trident")||We("MSIE"))&&!We("Edge"),nr=mt(Nn.toLowerCase(),"webkit")&&!We("Edge");function $e(){var i=G.document;return i?i.documentMode:void 0}e:{var Le="",Mt=(i=Nn,nn?/rv:([^\);]+)(\)|;)/.exec(i):Je?/Edge\/([\d\.]+)/.exec(i):vt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):nr?/WebKit\/(\S+)/.exec(i):kt?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Mt&&(Le=Mt?Mt[1]:""),vt){var On=$e();if(null!=On&&On>parseFloat(Le)){St=String(On);break e}}St=Le}var Sn={};function or(i){return function(i,l){var v=Sn;return Object.prototype.hasOwnProperty.call(v,i)?v[i]:v[i]=l()}(i,function(){for(var l=0,v=Ae(String(St)).split("."),A=Ae(String(i)).split("."),V=Math.max(v.length,A.length),he=0;0==l&&he<V;he++){var Ie=v[he]||"",ot=A[he]||"";do{if(Ie=/(\d*)(\D*)(.*)/.exec(Ie)||["","","",""],ot=/(\d*)(\D*)(.*)/.exec(ot)||["","","",""],0==Ie[0].length&&0==ot[0].length)break;l=mn(0==Ie[1].length?0:parseInt(Ie[1],10),0==ot[1].length?0:parseInt(ot[1],10))||mn(0==Ie[2].length,0==ot[2].length)||mn(Ie[2],ot[2]),Ie=Ie[3],ot=ot[3]}while(0==l)}return 0<=l})}var si=G.document&&vt&&($e()||parseInt(St,10))||void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(i){}var gr=!vt||9<=Number(si);function br(i){var l=document;return"string"==typeof i?l.getElementById(i):i}function bi(i,l){dt(l,function(v,A){v&&"object"==typeof v&&v.ta&&(v=v.sa()),"style"==A?i.style.cssText=v:"class"==A?i.className=v:"for"==A?i.htmlFor=v:Si.hasOwnProperty(A)?i.setAttribute(Si[A],v):0==A.lastIndexOf("aria-",0)||0==A.lastIndexOf("data-",0)?i.setAttribute(A,v):i[A]=v})}var uo,Ys,Si={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Ai(i,l,v){function A(ot){ot&&l.appendChild("string"==typeof ot?i.createTextNode(ot):ot)}for(var V=2;V<v.length;V++){var he=v[V];if(!Ne(he)||ze(he)&&0<he.nodeType)A(he);else{e:{if(he&&"number"==typeof he.length){if(ze(he)){var Ie="function"==typeof he.item||"string"==typeof he.item;break e}if(Se(he)){Ie="function"==typeof he.item;break e}}Ie=!1}Zt(Ie?tn(he):he,A)}}}function So(i,l){return l=String(l),"application/xhtml+xml"===i.contentType&&(l=l.toLowerCase()),i.createElement(l)}function to(i){G.setTimeout(function(){throw i},0)}function lo(i,l){Ys||function(){if(G.Promise&&G.Promise.resolve){var i=G.Promise.resolve(void 0);Ys=function(){i.then(Qo)}}else Ys=function(){var l=Qo;!Se(G.setImmediate)||G.Window&&G.Window.prototype&&!We("Edge")&&G.Window.prototype.setImmediate==G.setImmediate?(uo||(uo=function(){var i=G.MessageChannel;if(void 0===i&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!We("Presto")&&(i=function(){var V=So(document,"IFRAME");V.style.display="none",document.documentElement.appendChild(V);var he=V.contentWindow;(V=he.document).open(),V.close();var Ie="callImmediate"+Math.random(),ot="file:"==he.location.protocol?"*":he.location.protocol+"//"+he.location.host;V=nt(function(dn){("*"==ot||dn.origin==ot)&&dn.data==Ie&&this.port1.onmessage()},this),he.addEventListener("message",V,!1),this.port1={},this.port2={postMessage:function(){he.postMessage(Ie,ot)}}}),void 0!==i&&!We("Trident")&&!We("MSIE")){var l=new i,v={},A=v;return l.port1.onmessage=function(){if(void 0!==v.next){var V=(v=v.next).Hb;v.Hb=null,V()}},function(V){A.next={Hb:V},A=A.next,l.port2.postMessage(0)}}return function(V){G.setTimeout(V,0)}}()),uo(l)):G.setImmediate(l)}}(),Ds||(Ys(),Ds=!0),qs.add(i,l)}var Ds=!1,qs=new Gt;function Qo(){for(var i;i=qt();){try{i.a.call(i.b)}catch(l){to(l)}At(Nt,i)}Ds=!1}function Or(i,l){if(this.a=Co,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,i!=Ce)try{var v=this;i.call(l,function(A){_n(v,fs,A)},function(A){if(!(A instanceof Y))try{throw A instanceof Error?A:Error("Promise rejected.")}catch(V){}_n(v,Ni,A)})}catch(A){_n(this,Ni,A)}}var Co=0,fs=2,Ni=3;function no(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}no.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var kr=new _t(function(){return new no},function(i){i.reset()});function Zo(i,l,v){var A=kr.get();return A.g=i,A.b=l,A.f=v,A}function rr(i){if(i instanceof Or)return i;var l=new Or(Ce);return _n(l,fs,i),l}function ci(i){return new Or(function(l,v){v(i)})}function re(i,l,v){Qn(i,l,v,null)||lo(et(l,i))}function Fe(i){return new Or(function(l){var v=i.length,A=[];if(v)for(var V=function(ot,dn,An){v--,A[ot]=dn?{Qb:!0,value:An}:{Qb:!1,reason:An},0==v&&l(A)},he=0;he<i.length;he++)re(i[he],et(V,he,!0),et(V,he,!1));else l(A)})}function lt(i,l){if(i.a==Co)if(i.c){var v=i.c;if(v.b){for(var A=0,V=null,he=null,Ie=v.b;Ie&&(Ie.c||(A++,Ie.a==i&&(V=Ie),!(V&&1<A)));Ie=Ie.next)V||(he=Ie);V&&(v.a==Co&&1==A?lt(v,l):(he?((A=he).next==v.f&&(v.f=A),A.next=A.next.next):sr(v),Zr(v,V,Ni,l)))}i.c=null}else _n(i,Ni,l)}function Dt(i,l){i.b||i.a!=fs&&i.a!=Ni||Xn(i),i.f?i.f.next=l:i.b=l,i.f=l}function Yt(i,l,v,A){var V=Zo(null,null,null);return V.a=new Or(function(he,Ie){V.g=l?function(ot){try{var dn=l.call(A,ot);he(dn)}catch(An){Ie(An)}}:he,V.b=v?function(ot){try{var dn=v.call(A,ot);void 0===dn&&ot instanceof Y?Ie(ot):he(dn)}catch(An){Ie(An)}}:Ie}),V.a.c=i,Dt(i,V),V.a}function _n(i,l,v){i.a==Co&&(i===v&&(l=Ni,v=new TypeError("Promise cannot resolve to itself")),i.a=1,Qn(v,i.$c,i.ad,i)||(i.i=v,i.a=l,i.c=null,Xn(i),l!=Ni||v instanceof Y||function(i,l){i.g=!0,lo(function(){i.g&&J.call(null,l)})}(i,v)))}function Qn(i,l,v,A){if(i instanceof Or)return Dt(i,Zo(l||Ce,v||null,A)),!0;if(wn(i))return i.then(l,v,A),!0;if(ze(i))try{var V=i.then;if(Se(V))return function(i,l,v,A,V){function he(dn){ot||(ot=!0,A.call(V,dn))}var ot=!1;try{l.call(i,function(dn){ot||(ot=!0,v.call(V,dn))},he)}catch(dn){he(dn)}}(i,V,l,v,A),!0}catch(he){return v.call(A,he),!0}return!1}function Xn(i){i.h||(i.h=!0,lo(i.gc,i))}function sr(i){var l=null;return i.b&&(i.b=(l=i.b).next,l.next=null),i.b||(i.f=null),l}function Zr(i,l,v,A){if(v==Ni&&l.b&&!l.c)for(;i&&i.g;i=i.c)i.g=!1;if(l.a)l.a.c=null,hi(l,v,A);else try{l.c?l.g.call(l.f):hi(l,v,A)}catch(V){J.call(null,V)}At(kr,l)}function hi(i,l,v){l==fs?i.g.call(i.f,v):i.b&&i.b.call(i.f,v)}Or.prototype.then=function(i,l,v){return Yt(this,Se(i)?i:null,Se(l)?l:null,v)},Or.prototype.$goog_Thenable=!0,(_=Or.prototype).oa=function(i,l){return(i=Zo(i,i,l)).c=!0,Dt(this,i),this},_.o=function(i,l){return Yt(this,null,i,l)},_.cancel=function(i){if(this.a==Co){var l=new Y(i);lo(function(){lt(this,l)},this)}},_.$c=function(i){this.a=Co,_n(this,fs,i)},_.ad=function(i){this.a=Co,_n(this,Ni,i)},_.gc=function(){for(var i;i=sr(this);)Zr(this,i,this.a,this.i);this.h=!1};var J=to;function Y(i){cn.call(this,i)}function j(){0!=be&&(Bt[Ut(this)]=this),this.ya=this.ya,this.pa=this.pa}ve(Y,cn),Y.prototype.name="cancel";var be=0,Bt={};function Wn(i){if(!i.ya&&(i.ya=!0,i.Da(),0!=be)){var l=Ut(i);if(0!=be&&i.pa&&0<i.pa.length)throw Error(i+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Bt[l]}}j.prototype.ya=!1,j.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var $r=Object.freeze||function(i){return i},Gi=!vt||9<=Number(si),Bo=vt&&!or("9"),Qs=function(){if(!G.addEventListener||!Object.defineProperty)return!1;var i=!1,l=Object.defineProperty({},"passive",{get:function(){i=!0}});try{G.addEventListener("test",Ce,l),G.removeEventListener("test",Ce,l)}catch(v){}return i}();function $(i,l){this.type=i,this.b=this.target=l,this.defaultPrevented=!1}function ye(i,l){if($.call(this,i?i.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,i){var v=this.type=i.type,A=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.b=l,l=i.relatedTarget){if(nn){e:{try{go(l.nodeName);var V=!0;break e}catch(he){}V=!1}V||(l=null)}}else"mouseover"==v?l=i.fromElement:"mouseout"==v&&(l=i.toElement);this.relatedTarget=l,A?(this.clientX=void 0!==A.clientX?A.clientX:A.pageX,this.clientY=void 0!==A.clientY?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:K[i.pointerType]||"",this.a=i,i.defaultPrevented&&this.preventDefault()}}$.prototype.preventDefault=function(){this.defaultPrevented=!0},ve(ye,$);var K=$r({2:"touch",3:"pen",4:"mouse"});ye.prototype.preventDefault=function(){ye.bb.preventDefault.call(this);var i=this.a;if(i.preventDefault)i.preventDefault();else if(i.returnValue=!1,Bo)try{(i.ctrlKey||112<=i.keyCode&&123>=i.keyCode)&&(i.keyCode=-1)}catch(l){}},ye.prototype.g=function(){return this.a};var Oe="closure_listenable_"+(1e6*Math.random()|0),ft=0;function on(i,l,v,A,V){this.listener=i,this.proxy=null,this.src=l,this.type=v,this.capture=!!A,this.Wa=V,this.key=++ft,this.wa=this.Qa=!1}function un(i){i.wa=!0,i.listener=null,i.proxy=null,i.src=null,i.Wa=null}function tr(i){this.src=i,this.a={},this.b=0}function Nr(i,l){var v=l.type;v in i.a&&Dn(i.a[v],l)&&(un(l),0==i.a[v].length&&(delete i.a[v],i.b--))}function Ri(i,l,v,A){for(var V=0;V<i.length;++V){var he=i[V];if(!he.wa&&he.listener==l&&he.capture==!!v&&he.Wa==A)return V}return-1}tr.prototype.add=function(i,l,v,A,V){var he=i.toString();(i=this.a[he])||(i=this.a[he]=[],this.b++);var Ie=Ri(i,l,A,V);return-1<Ie?(l=i[Ie],v||(l.Qa=!1)):((l=new on(l,this.src,he,!!A,V)).Qa=v,i.push(l)),l};var di="closure_lm_"+(1e6*Math.random()|0),Br={};function ti(i,l,v,A,V){if(A&&A.once)mo(i,l,v,A,V);else if(Array.isArray(l))for(var he=0;he<l.length;he++)ti(i,l[he],v,A,V);else v=sa(v),i&&i[Oe]?Tn(i,l,v,ze(A)?!!A.capture:!!A,V):ro(i,l,v,!1,A,V)}function ro(i,l,v,A,V,he){if(!l)throw Error("Invalid event type");var Ie=ze(V)?!!V.capture:!!V,ot=Ea(i);if(ot||(i[di]=ot=new tr(i)),!(v=ot.add(l,v,A,Ie,he)).proxy)if(A=function(){var i=oa,l=Gi?function(v){return i.call(l.src,l.listener,v)}:function(v){if(!(v=i.call(l.src,l.listener,v)))return v};return l}(),v.proxy=A,A.src=i,A.listener=v,i.addEventListener)Qs||(V=Ie),void 0===V&&(V=!1),i.addEventListener(l.toString(),A,V);else if(i.attachEvent)i.attachEvent(Cr(l.toString()),A);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(A)}}function mo(i,l,v,A,V){if(Array.isArray(l))for(var he=0;he<l.length;he++)mo(i,l[he],v,A,V);else v=sa(v),i&&i[Oe]?Wr(i,l,v,ze(A)?!!A.capture:!!A,V):ro(i,l,v,!0,A,V)}function Li(i,l,v,A,V){if(Array.isArray(l))for(var he=0;he<l.length;he++)Li(i,l[he],v,A,V);else A=ze(A)?!!A.capture:!!A,v=sa(v),i&&i[Oe]?(i=i.v,(l=String(l).toString())in i.a&&-1<(v=Ri(he=i.a[l],v,A,V))&&(un(he[v]),Array.prototype.splice.call(he,v,1),0==he.length&&(delete i.a[l],i.b--))):i&&(i=Ea(i))&&(l=i.a[l.toString()],i=-1,l&&(i=Ri(l,v,A,V)),(v=-1<i?l[i]:null)&&Ro(v))}function Ro(i){if("number"!=typeof i&&i&&!i.wa){var l=i.src;if(l&&l[Oe])Nr(l.v,i);else{var v=i.type,A=i.proxy;l.removeEventListener?l.removeEventListener(v,A,i.capture):l.detachEvent?l.detachEvent(Cr(v),A):l.addListener&&l.removeListener&&l.removeListener(A),(v=Ea(l))?(Nr(v,i),0==v.b&&(v.src=null,l[di]=null)):un(i)}}}function Cr(i){return i in Br?Br[i]:Br[i]="on"+i}function Ss(i,l,v,A){var V=!0;if((i=Ea(i))&&(l=i.a[l.toString()]))for(l=l.concat(),i=0;i<l.length;i++){var he=l[i];he&&he.capture==v&&!he.wa&&(he=Wu(he,A),V=V&&!1!==he)}return V}function Wu(i,l){var v=i.listener,A=i.Wa||i.src;return i.Qa&&Ro(i),v.call(A,l)}function oa(i,l){if(i.wa)return!0;if(!Gi){if(!l)e:{l=["window","event"];for(var v=G,A=0;A<l.length;A++)if(null==(v=v[l[A]])){l=null;break e}l=v}if(l=new ye(A=l,this),v=!0,!(0>A.keyCode||null!=A.returnValue)){e:{var V=!1;if(0==A.keyCode)try{A.keyCode=-1;break e}catch(Ie){V=!0}(V||null==A.returnValue)&&(A.returnValue=!0)}for(A=[],V=l.b;V;V=V.parentNode)A.push(V);for(i=i.type,V=A.length-1;0<=V;V--){l.b=A[V];var he=Ss(A[V],i,!0,l);v=v&&he}for(V=0;V<A.length;V++)l.b=A[V],he=Ss(A[V],i,!1,l),v=v&&he}return v}return Wu(i,new ye(l,this))}function Ea(i){return(i=i[di])instanceof tr?i:null}var tu="__closure_events_fn_"+(1e9*Math.random()>>>0);function sa(i){return Se(i)?i:(i[tu]||(i[tu]=function(l){return i.handleEvent(l)}),i[tu])}function zo(){j.call(this),this.v=new tr(this),this.bc=this,this.hb=null}function Tn(i,l,v,A,V){i.v.add(String(l),v,!1,A,V)}function Wr(i,l,v,A,V){i.v.add(String(l),v,!0,A,V)}function La(i,l,v,A){if(!(l=i.v.a[String(l)]))return!0;l=l.concat();for(var V=!0,he=0;he<l.length;++he){var Ie=l[he];if(Ie&&!Ie.wa&&Ie.capture==v){var ot=Ie.listener,dn=Ie.Wa||Ie.src;Ie.Qa&&Nr(i.v,Ie),V=!1!==ot.call(dn,A)&&V}}return V&&!A.defaultPrevented}function Yr(i,l,v){if(Se(i))v&&(i=nt(i,v));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=nt(i.handleEvent,i)}return 2147483647<Number(l)?-1:G.setTimeout(i,l||0)}function Zs(i){var l=null;return new Or(function(v,A){-1==(l=Yr(function(){v(void 0)},i))&&A(Error("Failed to schedule timer."))}).o(function(v){throw G.clearTimeout(l),v})}function yu(i){if(i.X&&"function"==typeof i.X)return i.X();if("string"==typeof i)return i.split("");if(Ne(i)){for(var l=[],v=i.length,A=0;A<v;A++)l.push(i[A]);return l}for(A in l=[],v=0,i)l[v++]=i[A];return l}function As(i){if(i.Y&&"function"==typeof i.Y)return i.Y();if(!i.X||"function"!=typeof i.X){if(Ne(i)||"string"==typeof i){var l=[];i=i.length;for(var v=0;v<i;v++)l.push(v);return l}for(var A in l=[],v=0,i)l[v++]=A;return l}}function I(i,l){this.b={},this.a=[],this.c=0;var v=arguments.length;if(1<v){if(v%2)throw Error("Uneven number of arguments");for(var A=0;A<v;A+=2)this.set(arguments[A],arguments[A+1])}else if(i)if(i instanceof I)for(v=i.Y(),A=0;A<v.length;A++)this.set(v[A],i.get(v[A]));else for(A in i)this.set(A,i[A])}function R(i){if(i.c!=i.a.length){for(var l=0,v=0;l<i.a.length;){var A=i.a[l];W(i.b,A)&&(i.a[v++]=A),l++}i.a.length=v}if(i.c!=i.a.length){var V={};for(v=l=0;l<i.a.length;)W(V,A=i.a[l])||(i.a[v++]=A,V[A]=1),l++;i.a.length=v}}function W(i,l){return Object.prototype.hasOwnProperty.call(i,l)}ve(zo,j),zo.prototype[Oe]=!0,zo.prototype.addEventListener=function(i,l,v,A){ti(this,i,l,v,A)},zo.prototype.removeEventListener=function(i,l,v,A){Li(this,i,l,v,A)},zo.prototype.dispatchEvent=function(i){var l,v=this.hb;if(v)for(l=[];v;v=v.hb)l.push(v);v=this.bc;var A=i.type||i;if("string"==typeof i)i=new $(i,v);else if(i instanceof $)i.target=i.target||v;else{var V=i;Ot(i=new $(A,v),V)}if(V=!0,l)for(var he=l.length-1;0<=he;he--){var Ie=i.b=l[he];V=La(Ie,A,!0,i)&&V}if(V=La(Ie=i.b=v,A,!0,i)&&V,V=La(Ie,A,!1,i)&&V,l)for(he=0;he<l.length;he++)V=La(Ie=i.b=l[he],A,!1,i)&&V;return V},zo.prototype.Da=function(){if(zo.bb.Da.call(this),this.v){var v,i=this.v;for(v in i.a){for(var A=i.a[v],V=0;V<A.length;V++)un(A[V]);delete i.a[v],i.b--}}this.hb=null},(_=I.prototype).X=function(){R(this);for(var i=[],l=0;l<this.a.length;l++)i.push(this.b[this.a[l]]);return i},_.Y=function(){return R(this),this.a.concat()},_.clear=function(){this.b={},this.c=this.a.length=0},_.get=function(i,l){return W(this.b,i)?this.b[i]:l},_.set=function(i,l){W(this.b,i)||(this.c++,this.a.push(i)),this.b[i]=l},_.forEach=function(i,l){for(var v=this.Y(),A=0;A<v.length;A++){var V=v[A],he=this.get(V);i.call(l,he,V,this)}};var pe=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function it(i,l){var v;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,i instanceof it?(this.i=void 0!==l?l:i.i,ct(this,i.c),this.l=i.l,this.a=i.a,Ht(this,i.g),this.f=i.f,an(this,nu(i.b)),this.h=i.h):i&&(v=String(i).match(pe))?(this.i=!!l,ct(this,v[1]||"",!0),this.l=dr(v[2]||""),this.a=dr(v[3]||"",!0),Ht(this,v[4]),this.f=dr(v[5]||"",!0),an(this,v[6]||"",!0),this.h=dr(v[7]||"")):(this.i=!!l,this.b=new _o(null,this.i))}function ct(i,l,v){i.c=v?dr(l,!0):l,i.c&&(i.c=i.c.replace(/:$/,""))}function Ht(i,l){if(l){if(l=Number(l),isNaN(l)||0>l)throw Error("Bad port number "+l);i.g=l}else i.g=null}function an(i,l,v){l instanceof _o?(i.b=l,function(i,l){l&&!i.f&&(Ti(i),i.c=null,i.a.forEach(function(v,A){var V=A.toLowerCase();A!=V&&(Qi(this,A),ml(this,V,v))},i)),i.f=l}(i.b,i.i)):(v||(l=ar(l,co)),i.b=new _o(l,i.i))}function vn(i,l,v){i.b.set(l,v)}function Yn(i,l){return i.b.get(l)}function cr(i){return i instanceof it?new it(i):new it(i,void 0)}function Jr(i,l,v,A){var V=new it(null,void 0);return i&&ct(V,i),l&&(V.a=l),v&&Ht(V,v),A&&(V.f=A),V}function dr(i,l){return i?l?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function ar(i,l,v){return"string"==typeof i?(i=encodeURI(i).replace(l,qr),v&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function qr(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}it.prototype.toString=function(){var i=[],l=this.c;l&&i.push(ar(l,Oi,!0),":");var v=this.a;return(v||"file"==l)&&(i.push("//"),(l=this.l)&&i.push(ar(l,Oi,!0),"@"),i.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(v=this.g)&&i.push(":",String(v))),(v=this.f)&&(this.a&&"/"!=v.charAt(0)&&i.push("/"),i.push(ar(v,"/"==v.charAt(0)?Ko:Bi,!0))),(v=this.b.toString())&&i.push("?",v),(v=this.h)&&i.push("#",ar(v,Ms)),i.join("")},it.prototype.resolve=function(i){var l=new it(this),v=!!i.c;v?ct(l,i.c):v=!!i.l,v?l.l=i.l:v=!!i.a,v?l.a=i.a:v=null!=i.g;var A=i.f;if(v)Ht(l,i.g);else if(v=!!i.f){if("/"!=A.charAt(0))if(this.a&&!this.f)A="/"+A;else{var V=l.f.lastIndexOf("/");-1!=V&&(A=l.f.substr(0,V+1)+A)}if(".."==(V=A)||"."==V)A="";else if(mt(V,"./")||mt(V,"/.")){A=0==V.lastIndexOf("/",0),V=V.split("/");for(var he=[],Ie=0;Ie<V.length;){var ot=V[Ie++];"."==ot?A&&Ie==V.length&&he.push(""):".."==ot?((1<he.length||1==he.length&&""!=he[0])&&he.pop(),A&&Ie==V.length&&he.push("")):(he.push(ot),A=!0)}A=he.join("/")}else A=V}return v?l.f=A:v=""!==i.b.toString(),v?an(l,nu(i.b)):v=!!i.h,v&&(l.h=i.h),l};var Oi=/[#\/\?@]/g,Bi=/[#\?:]/g,Ko=/[#\?]/g,co=/[#\?@]/g,Ms=/#/g;function _o(i,l){this.b=this.a=null,this.c=i||null,this.f=!!l}function Ti(i){i.a||(i.a=new I,i.b=0,i.c&&function(i,l){if(i){i=i.split("&");for(var v=0;v<i.length;v++){var A=i[v].indexOf("="),V=null;if(0<=A){var he=i[v].substring(0,A);V=i[v].substring(A+1)}else he=i[v];l(he,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}(i.c,function(l,v){i.add(decodeURIComponent(l.replace(/\+/g," ")),v)}))}function Rs(i){var l=As(i);if(void 0===l)throw Error("Keys are undefined");var v=new _o(null,void 0);i=yu(i);for(var A=0;A<l.length;A++){var V=l[A],he=i[A];Array.isArray(he)?ml(v,V,he):v.add(V,he)}return v}function Qi(i,l){Ti(i),l=mi(i,l),W(i.a.b,l)&&(i.c=null,i.b-=i.a.get(l).length,W((i=i.a).b,l)&&(delete i.b[l],i.c--,i.a.length>2*i.c&&R(i)))}function To(i,l){return Ti(i),l=mi(i,l),W(i.a.b,l)}function ml(i,l,v){Qi(i,l),0<v.length&&(i.c=null,i.a.set(mi(i,l),tn(v)),i.b+=v.length)}function nu(i){var l=new _o;return l.c=i.c,i.a&&(l.a=new I(i.a),l.b=i.b),l}function mi(i,l){return l=String(l),i.f&&(l=l.toLowerCase()),l}function Wi(i){var l=[];return Zn(new ir,i,l),l.join("")}function ir(){}function Zn(i,l,v){if(null==l)v.push("null");else{if("object"==typeof l){if(Array.isArray(l)){var A=l;l=A.length,v.push("[");for(var V="",he=0;he<l;he++)v.push(V),Zn(i,A[he],v),V=",";return void v.push("]")}if(!(l instanceof String||l instanceof Number||l instanceof Boolean)){for(A in v.push("{"),V="",l)Object.prototype.hasOwnProperty.call(l,A)&&"function"!=typeof(he=l[A])&&(v.push(V),_i(A,v),v.push(":"),Zn(i,he,v),V=",");return void v.push("}")}l=l.valueOf()}switch(typeof l){case"string":_i(l,v);break;case"number":v.push(isFinite(l)&&!isNaN(l)?String(l):"null");break;case"boolean":v.push(String(l));break;case"function":v.push("null");break;default:throw Error("Unknown type: "+typeof l)}}}(_=_o.prototype).add=function(i,l){Ti(this),this.c=null,i=mi(this,i);var v=this.a.get(i);return v||this.a.set(i,v=[]),v.push(l),this.b+=1,this},_.clear=function(){this.a=this.c=null,this.b=0},_.forEach=function(i,l){Ti(this),this.a.forEach(function(v,A){Zt(v,function(V){i.call(l,V,A,this)},this)},this)},_.Y=function(){Ti(this);for(var i=this.a.X(),l=this.a.Y(),v=[],A=0;A<l.length;A++)for(var V=i[A],he=0;he<V.length;he++)v.push(l[A]);return v},_.X=function(i){Ti(this);var l=[];if("string"==typeof i)To(this,i)&&(l=Pn(l,this.a.get(mi(this,i))));else{i=this.a.X();for(var v=0;v<i.length;v++)l=Pn(l,i[v])}return l},_.set=function(i,l){return Ti(this),this.c=null,To(this,i=mi(this,i))&&(this.b-=this.a.get(i).length),this.a.set(i,[l]),this.b+=1,this},_.get=function(i,l){return i&&0<(i=this.X(i)).length?String(i[0]):l},_.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var i=[],l=this.a.Y(),v=0;v<l.length;v++){var A=l[v],V=encodeURIComponent(String(A));A=this.X(A);for(var he=0;he<A.length;he++){var Ie=V;""!==A[he]&&(Ie+="="+encodeURIComponent(String(A[he]))),i.push(Ie)}}return this.c=i.join("&")};var Ar={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Rr=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function _i(i,l){l.push('"',i.replace(Rr,function(v){var A=Ar[v];return A||(A="\\u"+(65536|v.charCodeAt(0)).toString(16).substr(1),Ar[v]=A),A}),'"')}function io(){var i=Bn();return vt&&!!si&&11==si||/Edge\/\d+/.test(i)}function wi(){return G.window&&G.window.location.href||self&&self.location&&self.location.href||""}function Xo(i,l){l=l||G.window;var v="about:blank";i&&(v=Hr(ji(i)||Ir)),l.location.href=v}function Fi(i,l){var A,v=[];for(A in i)A in l?typeof i[A]!=typeof l[A]?v.push(A):"object"==typeof i[A]&&null!=i[A]&&null!=l[A]?0<Fi(i[A],l[A]).length&&v.push(A):i[A]!==l[A]&&v.push(A):v.push(A);for(A in l)A in i||v.push(A);return v}function Oo(i){return!!((i=(i||Bn()).toLowerCase()).match(/android/)||i.match(/webos/)||i.match(/iphone|ipad|ipod/)||i.match(/blackberry/)||i.match(/windows phone/)||i.match(/iemobile/))}function ps(i){i=i||G.window;try{i.close()}catch(l){}}function vo(i,l,v){var A=Math.floor(1e9*Math.random()).toString();l=l||500,v=v||600;var V=(window.screen.availHeight-v)/2,he=(window.screen.availWidth-l)/2;for(Ie in l={width:l,height:v,top:0<V?V:0,left:0<he?he:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},v=Bn().toLowerCase(),A&&(l.target=A,mt(v,"crios/")&&(l.target="_blank")),Va(Bn())==ho&&(i=i||"http://localhost",l.scrollbars=!0),v=i||"",(i=l)||(i={}),A=window,l=v instanceof hr?v:ji(void 0!==v.href?v.href:String(v))||Ir,v=i.target||v.target,V=[],i)switch(Ie){case"width":case"height":case"top":case"left":V.push(Ie+"="+i[Ie]);break;case"target":case"noopener":case"noreferrer":break;default:V.push(Ie+"="+(i[Ie]?1:0))}var Ie=V.join(",");if((We("iPhone")&&!We("iPod")&&!We("iPad")||We("iPad")||We("iPod"))&&A.navigator&&A.navigator.standalone&&v&&"_self"!=v?(zt(Ie=So(document,"A"),"HTMLAnchorElement"),l=l instanceof hr?l:Ci(l),Ie.href=Hr(l),Ie.setAttribute("target",v),i.noreferrer&&Ie.setAttribute("rel","noreferrer"),(i=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,A,1),Ie.dispatchEvent(i),Ie={}):i.noreferrer?(Ie=ao("",A,v,Ie),i=Hr(l),Ie&&(Lt&&mt(i,";")&&(i="'"+i.replace(/'/g,"%27")+"'"),Ie.opener=null,i='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Hi(i)+'">',i=new Gr(i=(A=qe())?A.createHTML(i):i,null,Yi),A=Ie.document)&&(A.write(function(i){return i instanceof Gr&&i.constructor===Gr?i.a:(Xt("expected object of type SafeHtml, got '"+i+"' of type "+Re(i)),"type_error:SafeHtml")}(i)),A.close())):(Ie=ao(l,A,v,Ie))&&i.noopener&&(Ie.opener=null),Ie)try{Ie.focus()}catch(ot){}return Ie}var Os=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$l=/^[^@]+@[^@]+$/;function ru(){var i=null;return new Or(function(l){"complete"==G.document.readyState?l():(i=function(){l()},mo(window,"load",i))}).o(function(l){throw Li(window,"load",i),l})}function gs(i){return i=i||Bn(),!("file:"!==iu()&&"ionic:"!==iu()||!i.toLowerCase().match(/iphone|ipad|ipod|android/))}function en(){var i=G.window;try{return!(!i||i==i.top)}catch(l){return!1}}function In(){return void 0!==G.WorkerGlobalScope&&"function"==typeof G.importScripts}function Uo(){return y.default.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":y.default.INTERNAL.hasOwnProperty("node")?"Node":In()?"Worker":"Browser"}function zu(){var i=Uo();return"ReactNative"===i||"Node"===i}var ho="Firefox";function Va(i){var l=i.toLowerCase();return mt(l,"opera/")||mt(l,"opr/")||mt(l,"opios/")?"Opera":mt(l,"iemobile")?"IEMobile":mt(l,"msie")||mt(l,"trident/")?"IE":mt(l,"edge/")?"Edge":mt(l,"firefox/")?ho:mt(l,"silk/")?"Silk":mt(l,"blackberry")?"Blackberry":mt(l,"webos")?"Webos":!mt(l,"safari/")||mt(l,"chrome/")||mt(l,"crios/")||mt(l,"android")?!mt(l,"chrome/")&&!mt(l,"crios/")||mt(l,"edge/")?mt(l,"android")?"Android":(i=i.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==i.length?i[1]:"Other":"Chrome":"Safari"}var fr={md:"FirebaseCore-web",od:"FirebaseUI-web"};function yr(i,l){l=l||[];var V,v=[],A={};for(V in fr)A[fr[V]]=!0;for(V=0;V<l.length;V++)void 0!==A[l[V]]&&(delete A[l[V]],v.push(l[V]));return v.sort(),(l=v).length||(l=["FirebaseCore-web"]),"Browser"===(v=Uo())?v=Va(A=Bn()):"Worker"===v&&(v=Va(A=Bn())+"-"+v),v+"/JsCore/"+i+"/"+l.join(",")}function Bn(){return G.navigator&&G.navigator.userAgent||""}function Pi(i,l){i=i.split("."),l=l||G;for(var v=0;v<i.length&&"object"==typeof l&&null!=l;v++)l=l[i[v]];return v!=i.length&&(l=void 0),l}function _l(){try{var i=G.localStorage,l=q();if(i)return i.setItem(l,"1"),i.removeItem(l),!io()||!!G.indexedDB}catch(v){return In()&&!!G.indexedDB}return!1}function Pr(){return(wa()||"chrome-extension:"===iu()||gs())&&!zu()&&_l()&&!In()}function wa(){return"http:"===iu()||"https:"===iu()}function iu(){return G.location&&G.location.protocol||null}function Po(i){return!(Oo(i=i||Bn())||Va(i)==ho)}function F(i){return void 0===i?null:Wi(i)}function k(i){var v,l={};for(v in i)i.hasOwnProperty(v)&&null!=i[v]&&(l[v]=i[v]);return l}function O(i){if(null!==i)return JSON.parse(i)}function q(i){return i||Math.floor(1e9*Math.random()).toString()}function ue(i){return!("Safari"==Va(i=i||Bn())||i.toLowerCase().match(/iphone|ipad|ipod/))}function Ee(){var i=G.___jsl;if(i&&i.H)for(var l in i.H)if(i.H[l].r=i.H[l].r||[],i.H[l].L=i.H[l].L||[],i.H[l].r=i.H[l].L.concat(),i.CP)for(var v=0;v<i.CP.length;v++)i.CP[v]=null}function st(i,l){if(i>l)throw Error("Short delay should be less than long delay!");this.a=i,this.c=l,i=Bn(),l=Uo(),this.b=Oo(i)||"ReactNative"===l}function Et(){var i=G.document;return!i||void 0===i.visibilityState||"visible"==i.visibilityState}function Gn(i){try{var l=new Date(parseInt(i,10));if(!isNaN(l.getTime())&&!/[^0-9]/.test(i))return l.toUTCString()}catch(v){}return null}function Dr(){return!(!Pi("fireauth.oauthhelper",G)&&!Pi("fireauth.iframe",G))}st.prototype.get=function(){var i=G.navigator;return!i||"boolean"!=typeof i.onLine||!wa()&&"chrome-extension:"!==iu()&&void 0===i.connection||i.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var ns,ni={};function ts(i){ni[i]||(ni[i]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(i))}try{var ms={};Object.defineProperty(ms,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(ms,"abcd",{configurable:!0,enumerable:!0,value:2}),ns=2==ms.abcd}catch(i){ns=!1}function er(i,l,v){ns?Object.defineProperty(i,l,{configurable:!0,enumerable:!0,value:v}):i[l]=v}function oo(i,l){if(l)for(var v in l)l.hasOwnProperty(v)&&er(i,v,l[v])}function Io(i){var l={};return oo(l,i),l}function ua(i){var l=i;if("object"==typeof i&&null!=i)for(var v in l="length"in i?[]:{},i)er(l,v,ua(i[v]));return l}function Ua(i){var l=i&&(i[Ta]?"phone":null);if(!(l&&i&&i[Yl]))throw new ce("internal-error","Internal assert: invalid MultiFactorInfo object");er(this,"uid",i[Yl]),er(this,"displayName",i[vl]||null);var v=null;i[Eu]&&(v=new Date(i[Eu]).toUTCString()),er(this,"enrollmentTime",v),er(this,"factorId",l)}function Ca(i){try{var l=new ql(i)}catch(v){l=null}return l}Ua.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var vl="displayName",Eu="enrolledAt",Yl="mfaEnrollmentId",Ta="phoneInfo";function ql(i){Ua.call(this,i),er(this,"phoneNumber",i[Ta])}function kf(i){var l={},v=i[yo],A=i[Fd],V=i[_s];if(i=Ca(i[Ia]),!V||V!=Ql&&V!=$u&&!v||V==$u&&!A||V==ih&&!i)throw Error("Invalid checkActionCode response!");V==$u?(l[Ff]=v||null,l[oh]=v||null,l[Nf]=A):(l[Ff]=A||null,l[oh]=A||null,l[Nf]=v||null),l[zh]=i||null,er(this,Da,V),er(this,wu,ua(l))}ve(ql,Ua),ql.prototype.w=function(){var i=ql.bb.w.call(this);return i.phoneNumber=this.phoneNumber,i};var ih="REVERT_SECOND_FACTOR_ADDITION",Ql="EMAIL_SIGNIN",$u="VERIFY_AND_CHANGE_EMAIL",yo="email",Ia="mfaInfo",Fd="newEmail",_s="requestType",Nf="email",Ff="fromEmail",zh="multiFactorInfo",oh="previousEmail",wu="data",Da="operation";function Ld(i){var l=Yn(i=cr(i),yl)||null,v=Yn(i,Yu)||null,A=Yn(i,sh)||null;if(A=A&&zp[A]||null,!l||!v||!A)throw new ce("argument-error",yl+", "+Yu+"and "+sh+" are required in a valid action code URL.");oo(this,{apiKey:l,operation:A,code:v,continueUrl:Yn(i,Kh)||null,languageCode:Yn(i,rs)||null,tenantId:Yn(i,$h)||null})}var yl="apiKey",Yu="oobCode",Kh="continueUrl",rs="languageCode",sh="mode",$h="tenantId",zp={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ih,signIn:Ql,verifyAndChangeEmail:$u,verifyEmail:"VERIFY_EMAIL"};function bl(i){try{return new Ld(i)}catch(l){return null}}function vs(i){var l=i[Iu];if(void 0===l)throw new ce("missing-continue-uri");if("string"!=typeof l||"string"==typeof l&&!l.length)throw new ce("invalid-continue-uri");this.h=l,this.b=this.a=null,this.g=!1;var v=i[xo];if(v&&"object"==typeof v){l=v[Yh];var A=v[ah];if(v=v[Zl],"string"==typeof l&&l.length){if(this.a=l,void 0!==A&&"boolean"!=typeof A)throw new ce("argument-error",ah+" property must be a boolean when specified.");if(this.g=!!A,void 0!==v&&("string"!=typeof v||"string"==typeof v&&!v.length))throw new ce("argument-error",Zl+" property must be a non empty string when specified.");this.b=v||null}else{if(void 0!==l)throw new ce("argument-error",Yh+" property must be a non empty string when specified.");if(void 0!==A||void 0!==v)throw new ce("missing-android-pkg-name")}}else if(void 0!==v)throw new ce("argument-error",xo+" property must be a non null object when specified.");if(this.f=null,(l=i[Tu])&&"object"==typeof l){if("string"==typeof(l=l[uh])&&l.length)this.f=l;else if(void 0!==l)throw new ce("argument-error",uh+" property must be a non empty string when specified.")}else if(void 0!==l)throw new ce("argument-error",Tu+" property must be a non null object when specified.");if(void 0!==(l=i[Cu])&&"boolean"!=typeof l)throw new ce("argument-error",Cu+" property must be a boolean when specified.");if(this.c=!!l,void 0!==(i=i[qu])&&("string"!=typeof i||"string"==typeof i&&!i.length))throw new ce("argument-error",qu+" property must be a non empty string when specified.");this.i=i||null}var xo="android",qu="dynamicLinkDomain",Cu="handleCodeInApp",Tu="iOS",Iu="url",ah="installApp",Zl="minimumVersion",Yh="packageName",uh="bundleId";function Du(i){var l={};for(var v in l.continueUrl=i.h,l.canHandleCodeInApp=i.c,(l.androidPackageName=i.a)&&(l.androidMinimumVersion=i.b,l.androidInstallApp=i.g),l.iOSBundleId=i.f,l.dynamicLinkDomain=i.i,l)null===l[v]&&delete l[v];return l}var la=null;function ou(i){var l=Ic(i);if(!(l&&l.sub&&l.iss&&l.aud&&l.exp))throw Error("Invalid JWT");this.h=i,this.a=l.exp,this.i=l.sub,i=Date.now()/1e3,this.g=l.iat||(i>this.a?this.a:i),this.b=l.provider_id||l.firebase&&l.firebase.sign_in_provider||null,this.f=l.firebase&&l.firebase.tenant||null,this.c=!!l.is_anonymous||"anonymous"==this.b}function El(i){try{return new ou(i)}catch(l){return null}}function Ic(i){if(!i||3!=(i=i.split(".")).length)return null;for(var l=(4-(i=i[1]).length%4)%4,v=0;v<l;v++)i+=".";try{var A=function(i){var l=[];return function(i,l){function v(dn){for(;A<i.length;){var An=i.charAt(A++),Fr=la[An];if(null!=Fr)return Fr;if(!/^[\s\xa0]*$/.test(An))throw Error("Unknown base64 encoding at char: "+An)}return dn}!function(){if(!la){la={};for(var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),l=["+/=","+/","-_=","-_.","-_"],v=0;5>v;v++)for(var A=i.concat(l[v].split("")),V=0;V<A.length;V++){var he=A[V];void 0===la[he]&&(la[he]=V)}}}();for(var A=0;;){var V=v(-1),he=v(0),Ie=v(64),ot=v(64);if(64===ot&&-1===V)break;l(V<<2|he>>4),64!=Ie&&(l(he<<4&240|Ie>>2),64!=ot&&l(Ie<<6&192|ot))}}(i,function(v){l.push(v)}),l}(i);for(i=[],v=l=0;l<A.length;){var V=A[l++];if(128>V)i[v++]=String.fromCharCode(V);else if(191<V&&224>V){var he=A[l++];i[v++]=String.fromCharCode((31&V)<<6|63&he)}else if(239<V&&365>V){he=A[l++];var Ie=A[l++],dn=((7&V)<<18|(63&he)<<12|(63&Ie)<<6|63&A[l++])-65536;i[v++]=String.fromCharCode(55296+(dn>>10)),i[v++]=String.fromCharCode(56320+(1023&dn))}else he=A[l++],Ie=A[l++],i[v++]=String.fromCharCode((15&V)<<12|(63&he)<<6|63&Ie)}return JSON.parse(i.join(""))}catch(An){}return null}ou.prototype.T=function(){return this.f},ou.prototype.l=function(){return this.c},ou.prototype.toString=function(){return this.h};var wl="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Jl=["client_id","response_type","scope","redirect_uri","state"],Xl={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:Jl},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:Jl},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:Jl},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:wl},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Su(i){for(var l in Xl)if(Xl[l].fa==i)return Xl[l];return null}function Dc(i){var l={};l["facebook.com"]=Vd,l["google.com"]=Tl,l["github.com"]=Cl,l["twitter.com"]=ch;var v=i&&i[Qu];try{if(v)return l[v]?new l[v](i):new Xs(i);if(void 0!==i[Bd])return new lh(i)}catch(A){}return null}var Bd="idToken",Qu="providerId";function lh(i){var l=i[Qu];if(!l&&i[Bd]){var v=El(i[Bd]);v&&v.b&&(l=v.b)}if(!l)throw Error("Invalid additional user info!");("anonymous"==l||"custom"==l)&&(l=null),v=!1,void 0!==i.isNewUser?v=!!i.isNewUser:"identitytoolkit#SignupNewUserResponse"===i.kind&&(v=!0),er(this,"providerId",l),er(this,"isNewUser",v)}function Xs(i){lh.call(this,i),er(this,"profile",ua((i=O(i.rawUserInfo||"{}"))||{}))}function Vd(i){if(Xs.call(this,i),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Cl(i){if(Xs.call(this,i),"github.com"!=this.providerId)throw Error("Invalid provider ID!");er(this,"username",this.profile&&this.profile.login||null)}function Tl(i){if(Xs.call(this,i),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function ch(i){if(Xs.call(this,i),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");er(this,"username",i.screenName||null)}function Il(i){var l=cr(i),v=Yn(l,"link"),A=Yn(cr(v),"link");return l=Yn(l,"deep_link_id"),Yn(cr(l),"link")||l||A||v||i}function Zu(i,l){if(!i&&!l)throw new ce("internal-error","Internal assert: no raw session string available");if(i&&l)throw new ce("internal-error","Internal assert: unable to determine the session type");this.a=i||null,this.b=l||null,this.type=this.a?Us:Ga}ve(Xs,lh),ve(Vd,Xs),ve(Cl,Xs),ve(Tl,Xs),ve(ch,Xs);var Us="enroll",Ga="signin";function Au(){}function Mi(i,l){return i.then(function(v){if(v[so]){var A=El(v[so]);if(!A||l!=A.i)throw new ce("user-mismatch");return v}throw new ce("user-mismatch")}).o(function(v){throw v&&v.code&&v.code==Rt+"user-not-found"?new ce("user-mismatch"):v})}function Mu(i,l){if(!l)throw new ce("internal-error","failed to construct a credential");this.a=l,er(this,"providerId",i),er(this,"signInMethod",i)}function is(i){return{pendingToken:i.a,requestUri:"http://localhost"}}function Ru(i){if(i&&i.providerId&&i.signInMethod&&0==i.providerId.indexOf("saml.")&&i.pendingToken)try{return new Mu(i.providerId,i.pendingToken)}catch(l){}return null}function os(i,l,v){if(this.a=null,l.idToken||l.accessToken)l.idToken&&er(this,"idToken",l.idToken),l.accessToken&&er(this,"accessToken",l.accessToken),l.nonce&&!l.pendingToken&&er(this,"nonce",l.nonce),l.pendingToken&&(this.a=l.pendingToken);else{if(!l.oauthToken||!l.oauthTokenSecret)throw new ce("internal-error","failed to construct a credential");er(this,"accessToken",l.oauthToken),er(this,"secret",l.oauthTokenSecret)}er(this,"providerId",i),er(this,"signInMethod",v)}function Qh(i){var l={};return i.idToken&&(l.id_token=i.idToken),i.accessToken&&(l.access_token=i.accessToken),i.secret&&(l.oauth_token_secret=i.secret),l.providerId=i.providerId,i.nonce&&!i.a&&(l.nonce=i.nonce),l={postBody:Rs(l).toString(),requestUri:"http://localhost"},i.a&&(delete l.postBody,l.pendingToken=i.a),l}function Zh(i){if(i&&i.providerId&&i.signInMethod){var l={idToken:i.oauthIdToken,accessToken:i.oauthTokenSecret?null:i.oauthAccessToken,oauthTokenSecret:i.oauthTokenSecret,oauthToken:i.oauthTokenSecret&&i.oauthAccessToken,nonce:i.nonce,pendingToken:i.pendingToken};try{return new os(i.providerId,l,i.signInMethod)}catch(v){}}return null}function Wa(i,l){this.Qc=l||[],oo(this,{providerId:i,isOAuthProvider:!0}),this.Jb={},this.qb=(Su(i)||{}).Ja||null,this.pb=null}function Jh(i){if("string"!=typeof i||0!=i.indexOf("saml."))throw new ce("argument-error",'SAML provider IDs must be prefixed with "saml."');Wa.call(this,i,[])}function ss(i){Wa.call(this,i,Jl),this.a=[]}function as(){ss.call(this,"facebook.com")}function za(i){if(!i)throw new ce("argument-error","credential failed: expected 1 argument (the OAuth access token).");var l=i;return ze(i)&&(l=i.accessToken),(new as).credential({accessToken:l})}function Ps(){ss.call(this,"github.com")}function Sc(i){if(!i)throw new ce("argument-error","credential failed: expected 1 argument (the OAuth access token).");var l=i;return ze(i)&&(l=i.accessToken),(new Ps).credential({accessToken:l})}function Ou(){ss.call(this,"google.com"),this.Ca("profile")}function ko(i,l){var v=i;return ze(i)&&(v=i.idToken,l=i.accessToken),(new Ou).credential({idToken:v,accessToken:l})}function Kr(){Wa.call(this,"twitter.com",wl)}function js(i,l){var v=i;if(ze(v)||(v={oauthToken:i,oauthTokenSecret:l}),!v.oauthToken||!v.oauthTokenSecret)throw new ce("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new os("twitter.com",v,"twitter.com")}function ca(i,l,v){this.a=i,this.f=l,er(this,"providerId","password"),er(this,"signInMethod",v===us.EMAIL_LINK_SIGN_IN_METHOD?us.EMAIL_LINK_SIGN_IN_METHOD:us.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Kp(i){return i&&i.email&&i.password?new ca(i.email,i.password,i.signInMethod):null}function us(){oo(this,{providerId:"password",isOAuthProvider:!1})}function Ju(i,l){if(!(l=ys(l)))throw new ce("argument-error","Invalid email link!");return new ca(i,l.code,us.EMAIL_LINK_SIGN_IN_METHOD)}function ys(i){return(i=bl(i=Il(i)))&&i.operation===Ql?i:null}function ha(i){if(!(i.fb&&i.eb||i.La&&i.ea))throw new ce("internal-error");this.a=i,er(this,"providerId","phone"),this.fa="phone",er(this,"signInMethod","phone")}function Sa(i){if(i&&"phone"===i.providerId&&(i.verificationId&&i.verificationCode||i.temporaryProof&&i.phoneNumber)){var l={};return Zt(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(v){i[v]&&(l[v]=i[v])}),new ha(l)}return null}function No(i){return i.a.La&&i.a.ea?{temporaryProof:i.a.La,phoneNumber:i.a.ea}:{sessionInfo:i.a.fb,code:i.a.eb}}function $o(i){try{this.a=i||y.default.auth()}catch(l){throw new ce("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}oo(this,{providerId:"phone",isOAuthProvider:!1})}function Ud(i,l){if(!i)throw new ce("missing-verification-id");if(!l)throw new ce("missing-verification-code");return new ha({fb:i,eb:l})}function da(i){if(i.temporaryProof&&i.phoneNumber)return new ha({La:i.temporaryProof,ea:i.phoneNumber});var l=i&&i.providerId;if(!l||"password"===l)return null;var v=i&&i.oauthAccessToken,A=i&&i.oauthTokenSecret,V=i&&i.nonce,he=i&&i.oauthIdToken,Ie=i&&i.pendingToken;try{switch(l){case"google.com":return ko(he,v);case"facebook.com":return za(v);case"github.com":return Sc(v);case"twitter.com":return js(v,A);default:return v||A||he||Ie?Ie?0==l.indexOf("saml.")?new Mu(l,Ie):new os(l,{pendingToken:Ie,idToken:i.oauthIdToken,accessToken:i.oauthAccessToken},l):new ss(l).credential({idToken:he,accessToken:v,rawNonce:V}):null}}catch(ot){return null}}function jd(i){if(!i.isOAuthProvider)throw new ce("invalid-oauth-provider")}function ls(i,l,v,A,V,he,Ie){if(this.c=i,this.b=l||null,this.g=v||null,this.f=A||null,this.i=he||null,this.h=Ie||null,this.a=V||null,!this.g&&!this.a)throw new ce("invalid-auth-event");if(this.g&&this.a)throw new ce("invalid-auth-event");if(this.g&&!this.f)throw new ce("invalid-auth-event")}function Ac(i){return(i=i||{}).type?new ls(i.type,i.eventId,i.urlResponse,i.sessionId,i.error&&pt(i.error),i.postBody,i.tenantId):null}function bs(){this.b=null,this.a=[]}Zu.prototype.Ha=function(){return rr(this.a?this.a:this.b)},Zu.prototype.w=function(){return this.type==Us?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},Au.prototype.ka=function(){},Au.prototype.b=function(){},Au.prototype.c=function(){},Au.prototype.w=function(){},Mu.prototype.ka=function(i){return Nc(i,is(this))},Mu.prototype.b=function(i,l){var v=is(this);return v.idToken=l,Cs(i,v)},Mu.prototype.c=function(i,l){return Mi(vh(i,is(this)),l)},Mu.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},os.prototype.ka=function(i){return Nc(i,Qh(this))},os.prototype.b=function(i,l){var v=Qh(this);return v.idToken=l,Cs(i,v)},os.prototype.c=function(i,l){return Mi(vh(i,Qh(this)),l)},os.prototype.w=function(){var i={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(i.oauthIdToken=this.idToken),this.accessToken&&(i.oauthAccessToken=this.accessToken),this.secret&&(i.oauthTokenSecret=this.secret),this.nonce&&(i.nonce=this.nonce),this.a&&(i.pendingToken=this.a),i},Wa.prototype.Ka=function(i){return this.Jb=Te(i),this},ve(Jh,Wa),ve(ss,Wa),ss.prototype.Ca=function(i){return ur(this.a,i)||this.a.push(i),this},ss.prototype.Rb=function(){return tn(this.a)},ss.prototype.credential=function(i,l){var v;if(!(v=ze(i)?{idToken:i.idToken||null,accessToken:i.accessToken||null,nonce:i.rawNonce||null}:{idToken:i||null,accessToken:l||null}).idToken&&!v.accessToken)throw new ce("argument-error","credential failed: must provide the ID token and/or the access token.");return new os(this.providerId,v,this.providerId)},ve(as,ss),er(as,"PROVIDER_ID","facebook.com"),er(as,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),ve(Ps,ss),er(Ps,"PROVIDER_ID","github.com"),er(Ps,"GITHUB_SIGN_IN_METHOD","github.com"),ve(Ou,ss),er(Ou,"PROVIDER_ID","google.com"),er(Ou,"GOOGLE_SIGN_IN_METHOD","google.com"),ve(Kr,Wa),er(Kr,"PROVIDER_ID","twitter.com"),er(Kr,"TWITTER_SIGN_IN_METHOD","twitter.com"),ca.prototype.ka=function(i){return this.signInMethod==us.EMAIL_LINK_SIGN_IN_METHOD?vi(i,xl,{email:this.a,oobCode:this.f}):vi(i,zf,{email:this.a,password:this.f})},ca.prototype.b=function(i,l){return this.signInMethod==us.EMAIL_LINK_SIGN_IN_METHOD?vi(i,fu,{idToken:l,email:this.a,oobCode:this.f}):vi(i,Fc,{idToken:l,email:this.a,password:this.f})},ca.prototype.c=function(i,l){return Mi(this.ka(i),l)},ca.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},oo(us,{PROVIDER_ID:"password"}),oo(us,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),oo(us,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),ha.prototype.ka=function(i){return i.gb(No(this))},ha.prototype.b=function(i,l){var v=No(this);return v.idToken=l,vi(i,sf,v)},ha.prototype.c=function(i,l){var v=No(this);return v.operation="REAUTH",Mi(i=vi(i,Jp,v),l)},ha.prototype.w=function(){var i={providerId:"phone"};return this.a.fb&&(i.verificationId=this.a.fb),this.a.eb&&(i.verificationCode=this.a.eb),this.a.La&&(i.temporaryProof=this.a.La),this.a.ea&&(i.phoneNumber=this.a.ea),i},$o.prototype.gb=function(i,l){var v=this.a.a;return rr(l.verify()).then(function(A){if("string"!=typeof A)throw new ce("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(l.type){case"recaptcha":var V=ze(i)?i.session:null,he=ze(i)?i.phoneNumber:i;return(V&&V.type==Us?V.Ha().then(function(ot){return function(i,l){return vi(i,ad,l).then(function(v){return v.phoneSessionInfo.sessionInfo})}(v,{idToken:ot,phoneEnrollmentInfo:{phoneNumber:he,recaptchaToken:A}})}):V&&V.type==Ga?V.Ha().then(function(ot){return function(i,l){return vi(i,Wf,l).then(function(v){return v.phoneResponseInfo.sessionInfo})}(v,{mfaPendingCredential:ot,mfaEnrollmentId:i.multiFactorHint&&i.multiFactorHint.uid||i.multiFactorUid,phoneSignInInfo:{recaptchaToken:A}})}):function(i,l){return vi(i,Fl,l)}(v,{phoneNumber:he,recaptchaToken:A})).then(function(ot){return"function"==typeof l.reset&&l.reset(),ot},function(ot){throw"function"==typeof l.reset&&l.reset(),ot});default:throw new ce("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})},oo($o,{PROVIDER_ID:"phone"}),oo($o,{PHONE_SIGN_IN_METHOD:"phone"}),ls.prototype.getUid=function(){var i=[];return i.push(this.c),this.b&&i.push(this.b),this.f&&i.push(this.f),this.h&&i.push(this.h),i.join("-")},ls.prototype.T=function(){return this.h},ls.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Xu,Xh=null;function Hd(i){var l="unauthorized-domain",v=void 0,A=cr(i);i=A.a,"chrome-extension"==(A=A.c)?v=gi("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",i):"http"==A||"https"==A?v=gi("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",i):l="operation-not-supported-in-this-environment",ce.call(this,l,v)}function su(i,l,v){ce.call(this,i,v),(i=l||{}).Kb&&er(this,"email",i.Kb),i.ea&&er(this,"phoneNumber",i.ea),i.credential&&er(this,"credential",i.credential),i.$b&&er(this,"tenantId",i.$b)}function Dl(i){if(i.code){var l=i.code||"";0==l.indexOf(Rt)&&(l=l.substring(Rt.length));var v={credential:da(i),$b:i.tenantId};if(i.email)v.Kb=i.email;else if(i.phoneNumber)v.ea=i.phoneNumber;else if(!v.credential)return new ce(l,i.message||void 0);return new su(l,v,i.message)}return null}function Sl(){}function Ka(){}function Gd(i){if(!i.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var l=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],v=0;v<l.length;v++){var A=l[v];try{return new ActiveXObject(A),i.f=A}catch(V){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return i.f}function hh(){}function Wd(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=nt(this.qc,this),this.a.onerror=nt(this.Tb,this),this.a.onprogress=nt(this.rc,this),this.a.ontimeout=nt(this.vc,this)}function Mc(i,l){i.readyState=l,i.onreadystatechange&&i.onreadystatechange()}function Rc(i,l,v){this.reset(i,l,v,void 0,void 0)}function Pu(i){this.f=i,this.b=this.c=this.a=null}function xu(i,l){this.name=i,this.value=l}ve(Hd,ce),ve(su,ce),su.prototype.w=function(){var i={code:this.code,message:this.message};this.email&&(i.email=this.email),this.phoneNumber&&(i.phoneNumber=this.phoneNumber),this.tenantId&&(i.tenantId=this.tenantId);var l=this.credential&&this.credential.w();return l&&Ot(i,l),i},su.prototype.toJSON=function(){return this.w()},Sl.prototype.c=null,ve(Ka,Sl),Ka.prototype.a=function(){var i=Gd(this);return i?new ActiveXObject(i):new XMLHttpRequest},Ka.prototype.b=function(){var i={};return Gd(this)&&(i[0]=!0,i[1]=!0),i},Xu=new Ka,ve(hh,Sl),hh.prototype.a=function(){var i=new XMLHttpRequest;if("withCredentials"in i)return i;if("undefined"!=typeof XDomainRequest)return new Wd;throw Error("Unsupported browser")},hh.prototype.b=function(){return{}},(_=Wd.prototype).open=function(i,l,v){if(null!=v&&!v)throw Error("Only async requests are supported.");this.a.open(i,l)},_.send=function(i){if(i){if("string"!=typeof i)throw Error("Only string data is supported");this.a.send(i)}else this.a.send()},_.abort=function(){this.a.abort()},_.setRequestHeader=function(){},_.getResponseHeader=function(i){return"content-type"==i.toLowerCase()?this.a.contentType:""},_.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Mc(this,4)},_.Tb=function(){this.status=500,this.response=this.responseText="",Mc(this,4)},_.vc=function(){this.Tb()},_.rc=function(){this.status=200,Mc(this,1)},_.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Rc.prototype.a=null,Rc.prototype.reset=function(i,l,v,A,V){A||Ze(),delete this.a},xu.prototype.toString=function(){return this.name};var zd=new xu("SEVERE",1e3),Kd=new xu("WARNING",900),cs=new xu("CONFIG",700),$d=new xu("FINE",500);function Yd(i){return i.c?i.c:i.a?Yd(i.a):(Xt("Root logger has no level set."),null)}Pu.prototype.log=function(i,l,v){if(i.value>=Yd(this).value)for(Se(l)&&(l=l()),i=new Rc(i,String(l),this.f),v&&(i.a=v),v=this;v;)v=v.a};var Al={},ea=null;function Oc(i){var l;if(ea||(ea=new Pu(""),Al[""]=ea,ea.c=cs),!(l=Al[i])){l=new Pu(i);var v=i.lastIndexOf("."),A=i.substr(v+1);(v=Oc(i.substr(0,v))).b||(v.b={}),v.b[A]=l,l.a=v,Al[i]=l}return l}function Aa(i,l){i&&i.log($d,l,void 0)}function Ml(i){this.f=i}function ed(i){zo.call(this),this.u=i,this.h=void 0,this.readyState=tl,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=Oc("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}ve(Ml,Sl),Ml.prototype.a=function(){return new ed(this.f)},Ml.prototype.b=function(i){return function(){return i}}({}),ve(ed,zo);var tl=0;function fa(i){i.c.read().then(i.pc.bind(i)).catch(i.Va.bind(i))}function nl(i){i.readyState=4,i.g=null,i.c=null,i.m=null,xs(i)}function xs(i){i.onreadystatechange&&i.onreadystatechange.call(i)}function Ma(i){zo.call(this),this.headers=new I,this.D=i||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=td,this.u=this.S=!1}(_=ed.prototype).open=function(i,l){if(this.readyState!=tl)throw this.abort(),Error("Error reopening a connection");this.s=i,this.f=l,this.readyState=1,xs(this)},_.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var l={headers:this.l,method:this.s,credentials:this.h,cache:void 0};i&&(l.body=i),this.u.fetch(new Request(this.f,l)).then(this.uc.bind(this),this.Va.bind(this))},_.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,nl(this)),this.readyState=tl},_.uc=function(i){this.a&&(this.g=i,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=i.headers,this.readyState=2,xs(this)),this.a&&(this.readyState=3,xs(this),this.a&&("arraybuffer"===this.responseType?i.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):void 0!==G.ReadableStream&&"body"in i?(this.response=this.responseText="",this.c=i.body.getReader(),this.m=new TextDecoder,fa(this)):i.text().then(this.tc.bind(this),this.Va.bind(this)))))},_.pc=function(i){if(this.a){var l=this.m.decode(i.value?i.value:new Uint8Array(0),{stream:!i.done});l&&(this.response=this.responseText+=l),i.done?nl(this):xs(this),3==this.readyState&&fa(this)}},_.tc=function(i){this.a&&(this.response=this.responseText=i,nl(this))},_.sc=function(i){this.a&&(this.response=i,nl(this))},_.Va=function(i){var l=this.i;l&&l.log(Kd,"Failed to fetch url "+this.f,i instanceof Error?i:Error(i)),this.a&&nl(this)},_.setRequestHeader=function(i,l){this.l.append(i,l)},_.getResponseHeader=function(i){return this.b?this.b.get(i.toLowerCase())||"":((i=this.i)&&i.log(Kd,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},_.getAllResponseHeaders=function(){if(!this.b){var i=this.i;return i&&i.log(Kd,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}i=[];for(var l=this.b.entries(),v=l.next();!v.done;)i.push((v=v.value)[0]+": "+v[1]),v=l.next();return i.join("\r\n")},Object.defineProperty(ed.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(i){this.h=i?"include":"same-origin"}}),ve(Ma,zo);var td="";Ma.prototype.b=Oc("goog.net.XhrIo");var Rl=/^https?$/i,qd=["POST","PUT"];function $p(i){return"content-type"==i.toLowerCase()}function tc(i,l){i.c=!1,i.a&&(i.f=!0,i.a.abort(),i.f=!1),i.h=l,au(i),Qd(i)}function au(i){i.J||(i.J=!0,i.dispatchEvent("complete"),i.dispatchEvent("error"))}function uu(i){if(i.c&&void 0!==ae)if(i.C[1]&&4==Ol(i)&&2==dh(i))Aa(i.b,ku(i,"Local request error detected and ignored"));else if(i.i&&4==Ol(i))Yr(i.Wb,0,i);else if(i.dispatchEvent("readystatechange"),4==Ol(i)){Aa(i.b,ku(i,"Request complete")),i.c=!1;try{var A,l=dh(i);e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}if(!(A=v)){var V;if(V=0===l){var he=String(i.l).match(pe)[1]||null;if(!he&&G.self&&G.self.location){var Ie=G.self.location.protocol;he=Ie.substr(0,Ie.length-1)}V=!Rl.test(he?he.toLowerCase():"")}A=V}if(A)i.dispatchEvent("complete"),i.dispatchEvent("success");else{try{var ot=2<Ol(i)?i.a.statusText:""}catch(dn){Aa(i.b,"Can not get status: "+dn.message),ot=""}i.h=ot+" ["+dh(i)+"]",au(i)}}finally{Qd(i)}}}function Qd(i,l){if(i.a){Yp(i);var v=i.a,A=i.C[0]?Ce:null;i.a=null,i.C=null,l||i.dispatchEvent("ready");try{v.onreadystatechange=A}catch(V){(i=i.b)&&i.log(zd,"Problem encountered resetting onreadystatechange: "+V.message,void 0)}}}function Yp(i){i.a&&i.u&&(i.a.ontimeout=null),i.s&&(G.clearTimeout(i.s),i.s=null)}function Ol(i){return i.a?i.a.readyState:0}function dh(i){try{return 2<Ol(i)?i.a.status:-1}catch(l){return-1}}function ku(i,l){return l+" ["+i.P+" "+i.l+" "+dh(i)+"]"}function rl(i){var l=ta;this.g=[],this.u=l,this.s=i||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function pa(i,l,v){i.a=!0,i.c=v,i.f=!l,jr(i)}function Es(i){if(i.a){if(!i.v)throw new nc(i);i.v=!1}}function hs(i,l,v,A){i.g.push([l,v,A]),i.a&&jr(i)}function Ji(i){return Un(i.g,function(l){return Se(l[1])})}function jr(i){if(i.h&&i.a&&Ji(i)){var l=i.h,v=Yo[l];v&&(G.clearTimeout(v.a),delete Yo[l]),i.h=0}i.b&&(i.b.l--,delete i.b),l=i.c;for(var A=v=!1;i.g.length&&!i.i;){var V=i.g.shift(),he=V[0],Ie=V[1];if(V=V[2],he=i.f?Ie:he)try{var ot=he.call(V||i.s,l);void 0!==ot&&(i.f=i.f&&(ot==l||ot instanceof Error),i.c=l=ot),(wn(l)||"function"==typeof G.Promise&&l instanceof G.Promise)&&(A=!0,i.i=!0)}catch(dn){l=dn,i.f=!0,Ji(i)||(v=!0)}}i.c=l,A&&(ot=nt(i.m,i,!0),A=nt(i.m,i,!1),l instanceof rl?(hs(l,ot,A),l.C=!0):l.then(ot,A)),v&&(l=new bo(l),Yo[l.a]=l,i.h=l.a)}function nc(){cn.call(this)}function Pc(){cn.call(this)}function bo(i){this.a=G.setTimeout(nt(this.c,this),0),this.b=i}(_=Ma.prototype).Ma=function(){void 0!==ae&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",Aa(this.b,ku(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},_.abort=function(){this.a&&this.c&&(Aa(this.b,ku(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Qd(this))},_.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Qd(this,!0)),Ma.bb.Da.call(this)},_.Wb=function(){this.ya||(this.N||this.i||this.f?uu(this):this.Jc())},_.Jc=function(){uu(this)},_.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case td:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var i=this.b;return i&&i.log(zd,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(l){return Aa(this.b,"Can not get response: "+l.message),null}},rl.prototype.cancel=function(i){if(this.a)this.c instanceof rl&&this.c.cancel();else{if(this.b){var l=this.b;delete this.b,i?l.cancel(i):(l.l--,0>=l.l&&l.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(i=new Pc(this),Es(this),pa(this,!1,i))}},rl.prototype.m=function(i,l){this.i=!1,pa(this,i,l)},rl.prototype.then=function(i,l,v){var A,V,he=new Or(function(Ie,ot){A=Ie,V=ot});return hs(this,A,function(Ie){Ie instanceof Pc?he.cancel():V(Ie)}),he.then(i,l,v)},rl.prototype.$goog_Thenable=!0,ve(nc,cn),nc.prototype.message="Deferred has already fired",nc.prototype.name="AlreadyCalledError",ve(Pc,cn),Pc.prototype.message="Deferred was canceled",Pc.prototype.name="CanceledError",bo.prototype.c=function(){throw delete Yo[this.a],this.b};var Yo={};function Hs(i){var l={},v=l.document||document,A=Ct(i).toString(),V=So(document,"SCRIPT"),he={Xb:V,Ma:void 0},Ie=new rl(he),ot=null,dn=null!=l.timeout?l.timeout:5e3;return 0<dn&&(ot=window.setTimeout(function(){Nu(V,!0);var An=new rc(fh,"Timeout reached for loading script "+A);Es(Ie),pa(Ie,!1,An)},dn),he.Ma=ot),V.onload=V.onreadystatechange=function(){V.readyState&&"loaded"!=V.readyState&&"complete"!=V.readyState||(Nu(V,l.xd||!1,ot),Es(Ie),pa(Ie,!0,null))},V.onerror=function(){Nu(V,!0,ot);var An=new rc(il,"Error while loading script "+A);Es(Ie),pa(Ie,!1,An)},Ot(he=l.attributes||{},{type:"text/javascript",charset:"UTF-8"}),bi(V,he),function(i,l){zt(i,"HTMLScriptElement"),i.src=Ct(l),(l=i.ownerDocument&&i.ownerDocument.defaultView)&&l!=G?l=fe(l.document):(null===oe&&(oe=fe(G.document)),l=oe),l&&i.setAttribute("nonce",l)}(V,i),function(i){var l;return(l=(i||document).getElementsByTagName("HEAD"))&&0!=l.length?l[0]:i.documentElement}(v).appendChild(V),Ie}function ta(){if(this&&this.Xb){var i=this.Xb;i&&"SCRIPT"==i.tagName&&Nu(i,!0,this.Ma)}}function Nu(i,l,v){null!=v&&G.clearTimeout(v),i.onload=Ce,i.onerror=Ce,i.onreadystatechange=Ce,l&&window.setTimeout(function(){i&&i.parentNode&&i.parentNode.removeChild(i)},0)}var il=0,fh=1;function rc(i,l){var v="Jsloader error (code #"+i+")";l&&(v+=": "+l),cn.call(this,v),this.code=i}function ol(i){this.f=i}function fo(i,l,v){if(this.c=i,this.l=(i=l||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=i.secureTokenTimeout||Vn,this.g=Te(i.secureTokenHeaders||ws),this.h=i.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=i.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=i.firebaseTimeout||lu,this.a=Te(i.firebaseHeaders||nd),v&&(this.a["X-Client-Version"]=v,this.g["X-Client-Version"]=v),v="Node"==Uo(),!(v=G.XMLHttpRequest||v&&y.default.INTERNAL.node&&y.default.INTERNAL.node.XMLHttpRequest)&&!In())throw new ce("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=In()?new Ml(self):zu()?new ol(v):new hh,this.b=null}ve(rc,cn),ve(ol,Sl),ol.prototype.a=function(){return new this.f},ol.prototype.b=function(){return{}};var Fu,so="idToken",Vn=new st(3e4,6e4),ws={"Content-Type":"application/x-www-form-urlencoded"},lu=new st(3e4,6e4),nd={"Content-Type":"application/json"};function ic(i,l){l?i.a["X-Firebase-Locale"]=l:delete i.a["X-Firebase-Locale"]}function qo(i,l){l&&(i.l=ph("https://securetoken.googleapis.com/v1/token",l),i.h=ph("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",l),i.i=ph("https://identitytoolkit.googleapis.com/v2/",l))}function ph(i,l){return i=cr(i),l=cr(l.url),i.f=i.a+i.f,ct(i,l.c),i.a=l.a,Ht(i,l.g),i.toString()}function Pl(i,l){l?(i.a["X-Client-Version"]=l,i.g["X-Client-Version"]=l):(delete i.a["X-Client-Version"],delete i.g["X-Client-Version"])}function rd(i,l,v,A,V,he,Ie){(function(){var i=Bn();return!((i="Chrome"!=Va(i)?null:(i=i.match(/\sChrome\/(\d+)/i))&&2==i.length?parseInt(i[1],10):null)&&30>i||vt&&si&&!(9<si))})()||In()?i=nt(i.u,i):(Fu||(Fu=new Or(function(ot,dn){!function(i,l){((window.gapi||{}).client||{}).request?i():(G[gh]=function(){((window.gapi||{}).client||{}).request?i():l(Error("CORS_UNSUPPORTED"))},function(i,l){hs(i,null,l,void 0)}(Hs(Wt(Zd,{onload:gh})),function(){l(Error("CORS_UNSUPPORTED"))}))}(ot,dn)})),i=nt(i.s,i)),i(l,v,A,V,he,Ie)}fo.prototype.T=function(){return this.b},fo.prototype.u=function(i,l,v,A,V,he){if(In()&&(void 0===G.fetch||void 0===G.Headers||void 0===G.Request))throw new ce("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var Ie=new Ma(this.f);if(he){Ie.g=Math.max(0,he);var ot=setTimeout(function(){Ie.dispatchEvent("timeout")},he)}Tn(Ie,"complete",function(){ot&&clearTimeout(ot);var dn=null;try{dn=JSON.parse(function(i){try{return i.a?i.a.responseText:""}catch(l){return Aa(i.b,"Can not get responseText: "+l.message),""}}(this))||null}catch(An){dn=null}l&&l(dn)}),Wr(Ie,"ready",function(){ot&&clearTimeout(ot),Wn(this)}),Wr(Ie,"timeout",function(){ot&&clearTimeout(ot),Wn(this),l&&l(null)}),function(i,l,v,A,V){if(i.a)throw Error("[goog.net.XhrIo] Object is active with another request="+i.l+"; newUri="+l);v=v?v.toUpperCase():"GET",i.l=l,i.h="",i.P=v,i.J=!1,i.c=!0,i.a=i.D?i.D.a():Xu.a(),i.C=function(i){return i.c||(i.c=i.b())}(i.D?i.D:Xu),i.a.onreadystatechange=nt(i.Wb,i);try{Aa(i.b,ku(i,"Opening Xhr")),i.N=!0,i.a.open(v,String(l),!0),i.N=!1}catch(Ie){return Aa(i.b,ku(i,"Error opening Xhr: "+Ie.message)),void tc(i,Ie)}l=A||"";var he=new I(i.headers);V&&function(i,l){if(i.forEach&&"function"==typeof i.forEach)i.forEach(l,void 0);else if(Ne(i)||"string"==typeof i)Zt(i,l,void 0);else for(var v=As(i),A=yu(i),V=A.length,he=0;he<V;he++)l.call(void 0,A[he],v&&v[he],i)}(V,function(Ie,ot){he.set(ot,Ie)}),V=function(i){e:{for(var l=$p,v=i.length,A="string"==typeof i?i.split(""):i,V=0;V<v;V++)if(V in A&&l.call(void 0,A[V],V,i)){l=V;break e}l=-1}return 0>l?null:"string"==typeof i?i.charAt(l):i[l]}(he.Y()),A=G.FormData&&l instanceof G.FormData,!ur(qd,v)||V||A||he.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),he.forEach(function(Ie,ot){this.a.setRequestHeader(ot,Ie)},i),i.m&&(i.a.responseType=i.m),"withCredentials"in i.a&&i.a.withCredentials!==i.S&&(i.a.withCredentials=i.S);try{Yp(i),0<i.g&&(i.u=function(i){return vt&&or(9)&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(i.a),Aa(i.b,ku(i,"Will abort after "+i.g+"ms if incomplete, xhr2 "+i.u)),i.u?(i.a.timeout=i.g,i.a.ontimeout=nt(i.Ma,i)):i.s=Yr(i.Ma,i.g,i)),Aa(i.b,ku(i,"Sending request")),i.i=!0,i.a.send(l),i.i=!1}catch(Ie){Aa(i.b,ku(i,"Send error: "+Ie.message)),tc(i,Ie)}}(Ie,i,v,A,V)};var Zd=new je(bt,"https://apis.google.com/js/client.js?onload=%{onload}"),gh="__fcb"+Math.floor(1e6*Math.random()).toString();function cu(i){if("string"!=typeof(i=i.email)||!$l.test(i))throw new ce("invalid-email")}function mh(i){"email"in i&&cu(i)}function na(i){if(!i[so])throw i.mfaPendingCredential?new ce("multi-factor-auth-required",null,Te(i)):new ce("internal-error")}function _h(i){if(i.phoneNumber||i.temporaryProof){if(!i.phoneNumber||!i.temporaryProof)throw new ce("internal-error")}else{if(!i.sessionInfo)throw new ce("missing-verification-id");if(!i.code)throw new ce("missing-verification-code")}}fo.prototype.s=function(i,l,v,A,V){var he=this;Fu.then(function(){window.gapi.client.setApiKey(he.c);var Ie=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:i,method:v,body:A,headers:V,authType:"none",callback:function(ot){window.gapi.auth.setToken(Ie),l&&l(ot)}})}).o(function(Ie){l&&l({error:{message:Ie&&Ie.message||"CORS_UNSUPPORTED"}})})},fo.prototype.Ab=function(){return vi(this,Ll,{})},fo.prototype.Cb=function(i,l){return vi(this,rf,{idToken:i,email:l})},fo.prototype.Db=function(i,l){return vi(this,Fc,{idToken:i,password:l})};var sl={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function hu(i){if(!i.phoneVerificationInfo)throw new ce("internal-error");if(!i.phoneVerificationInfo.sessionInfo)throw new ce("missing-verification-id");if(!i.phoneVerificationInfo.code)throw new ce("missing-verification-code")}function ef(i){if(!i.requestUri||!i.sessionId&&!i.postBody&&!i.pendingToken)throw new ce("internal-error")}function od(i,l){return l.oauthIdToken&&l.providerId&&0==l.providerId.indexOf("oidc.")&&!l.pendingToken&&(i.sessionId?l.nonce=i.sessionId:i.postBody&&To(i=new _o(i.postBody),"nonce")&&(l.nonce=i.get("nonce"))),l}function Ra(i){var l=null;if(i.needConfirmation?(i.code="account-exists-with-different-credential",l=Dl(i)):"FEDERATED_USER_ID_ALREADY_LINKED"==i.errorMessage?(i.code="credential-already-in-use",l=Dl(i)):"EMAIL_EXISTS"==i.errorMessage?(i.code="email-already-in-use",l=Dl(i)):i.errorMessage&&(l=ld(i.errorMessage)),l)throw l;na(i)}function Nc(i,l){return l.returnIdpCredential=!0,vi(i,im,l)}function Cs(i,l){return l.returnIdpCredential=!0,vi(i,Lu,l)}function vh(i,l){return l.returnIdpCredential=!0,l.autoCreate=!1,vi(i,sc,l)}function sd(i){if(!i.oobCode)throw new ce("invalid-action-code")}(_=fo.prototype).Eb=function(i,l){var v={idToken:i},A=[];return dt(sl,function(V,he){var Ie=l[he];null===Ie?A.push(V):he in l&&(v[he]=Ie)}),A.length&&(v.deleteAttribute=A),vi(this,rf,v)},_.wb=function(i,l){return Ot(i={requestType:"PASSWORD_RESET",email:i},l),vi(this,al,i)},_.xb=function(i,l){return Ot(i={requestType:"EMAIL_SIGNIN",email:i},l),vi(this,oc,i)},_.vb=function(i,l){return Ot(i={requestType:"VERIFY_EMAIL",idToken:i},l),vi(this,Zp,i)},_.Fb=function(i,l,v){return Ot(i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:i,newEmail:l},v),vi(this,Fs,i)},_.gb=function(i){return vi(this,ud,i)},_.ob=function(i,l){return vi(this,Nl,{oobCode:i,newPassword:l})},_.Sa=function(i){return vi(this,du,{oobCode:i})},_.kb=function(i){return vi(this,tf,{oobCode:i})};var tf={endpoint:"setAccountInfo",A:sd,Z:"email",B:!0},du={endpoint:"resetPassword",A:sd,G:function(i){var l=i.requestType;if(!l||!i.email&&"EMAIL_SIGNIN"!=l&&"VERIFY_AND_CHANGE_EMAIL"!=l)throw new ce("internal-error")},B:!0},qp={endpoint:"signupNewUser",A:function(i){if(cu(i),!i.password)throw new ce("weak-password")},G:na,V:!0,B:!0},yh={endpoint:"createAuthUri",B:!0},Qp={endpoint:"deleteAccount",O:["idToken"]},Hf={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(i){if(!Array.isArray(i.deleteProvider))throw new ce("internal-error")}},xl={endpoint:"emailLinkSignin",O:["email","oobCode"],A:cu,G:na,V:!0,B:!0},fu={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:cu,G:na,V:!0},pu={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:hu,G:na,B:!0,Na:!0},nf={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:hu,G:na,B:!0,Na:!0},rm={endpoint:"getAccountInfo"},oc={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(i){if("EMAIL_SIGNIN"!=i.requestType)throw new ce("internal-error");cu(i)},Z:"email",B:!0},Zp={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(i){if("VERIFY_EMAIL"!=i.requestType)throw new ce("internal-error")},Z:"email",B:!0},Fs={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(i){if("VERIFY_AND_CHANGE_EMAIL"!=i.requestType)throw new ce("internal-error")},Z:"email",B:!0},al={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(i){if("PASSWORD_RESET"!=i.requestType)throw new ce("internal-error");cu(i)},Z:"email",B:!0},kl={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},Gf={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(i){if(!i.recaptchaSiteKey)throw new ce("internal-error")}},Nl={endpoint:"resetPassword",A:sd,Z:"email",B:!0},Fl={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},rf={endpoint:"setAccountInfo",O:["idToken"],A:mh,V:!0},Fc={endpoint:"setAccountInfo",O:["idToken"],A:function(i){if(mh(i),!i.password)throw new ce("weak-password")},G:na,V:!0},Ll={endpoint:"signupNewUser",G:na,V:!0,B:!0},ad={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(i){if(!i.phoneEnrollmentInfo)throw new ce("internal-error");if(!i.phoneEnrollmentInfo.phoneNumber)throw new ce("missing-phone-number");if(!i.phoneEnrollmentInfo.recaptchaToken)throw new ce("missing-app-credential")},G:function(i){if(!i.phoneSessionInfo||!i.phoneSessionInfo.sessionInfo)throw new ce("internal-error")},B:!0,Na:!0},Wf={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(i){if(!i.phoneSignInInfo||!i.phoneSignInInfo.recaptchaToken)throw new ce("missing-app-credential")},G:function(i){if(!i.phoneResponseInfo||!i.phoneResponseInfo.sessionInfo)throw new ce("internal-error")},B:!0,Na:!0},im={endpoint:"verifyAssertion",A:ef,Za:od,G:Ra,V:!0,B:!0},sc={endpoint:"verifyAssertion",A:ef,Za:od,G:function(i){if(i.errorMessage&&"USER_NOT_FOUND"==i.errorMessage)throw new ce("user-not-found");if(i.errorMessage)throw ld(i.errorMessage);na(i)},V:!0,B:!0},Lu={endpoint:"verifyAssertion",A:function(i){if(ef(i),!i.idToken)throw new ce("internal-error")},Za:od,G:Ra,V:!0},bh={endpoint:"verifyCustomToken",A:function(i){if(!i.token)throw new ce("invalid-custom-token")},G:na,V:!0,B:!0},zf={endpoint:"verifyPassword",A:function(i){if(cu(i),!i.password)throw new ce("wrong-password")},G:na,V:!0,B:!0},ud={endpoint:"verifyPhoneNumber",A:_h,G:na,B:!0},sf={endpoint:"verifyPhoneNumber",A:function(i){if(!i.idToken)throw new ce("internal-error");_h(i)},G:function(i){if(i.temporaryProof)throw i.code="credential-already-in-use",Dl(i);na(i)}},Jp={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:_h,G:na,B:!0},Eh={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(i){if(!!i[so]^!!i.refreshToken)throw new ce("internal-error")},B:!0,Na:!0};function vi(i,l,v){if(!function(i,l){if(!l||!l.length)return!0;if(!i)return!1;for(var v=0;v<l.length;v++){var A=i[l[v]];if(null==A||""===A)return!1}return!0}(v,l.O))return ci(new ce("internal-error"));var he,A=!!l.Na,V=l.Vb||"POST";return rr(v).then(l.A).then(function(){return l.V&&(v.returnSecureToken=!0),l.B&&i.b&&void 0===v.tenantId&&(v.tenantId=i.b),function(i,l,v,A,V,he,Ie){var ot=cr(l+v);vn(ot,"key",i.c),Ie&&vn(ot,"cb",Date.now().toString());var dn="GET"==A;if(dn)for(var An in V)V.hasOwnProperty(An)&&vn(ot,An,V[An]);return new Or(function(Fr,ki){rd(i,ot.toString(),function(fi){fi?fi.error?ki(af(fi,he||{})):Fr(fi):ki(new ce("network-request-failed"))},A,dn?void 0:Wi(k(V)),i.a,i.v.get())})}(i,A?i.i:i.h,l.endpoint,V,v,l.Ib,l.mb||!1)}).then(function(Ie){return he=Ie,l.Za?l.Za(v,he):he}).then(l.G).then(function(){if(!l.Z)return he;if(!(l.Z in he))throw new ce("internal-error");return he[l.Z]})}function ld(i){return af({error:{errors:[{message:i}],code:400,message:i}})}function af(i,l){var v=(i.error&&i.error.errors&&i.error.errors[0]||{}).reason||"",A={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(v=A[v]?new ce(A[v]):null)return v;for(var V in v=i.error&&i.error.message||"",Ot(A={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},l||{}),l=(l=v.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<l.length?l[1]:void 0,A)if(0===v.indexOf(V))return new ce(A[V],l);return!l&&i&&(l=F(i)),new ce("internal-error",l)}function uf(i){this.b=i,this.a=null,this.sb=function(i){return(U||(U=new Or(function(i,l){function v(){Ee(),Pi("gapi.load")("gapi.iframes",{callback:i,ontimeout:function(){Ee(),l(Error("Network Error"))},timeout:b.get()})}if(Pi("gapi.iframes.Iframe"))i();else if(Pi("gapi.load"))v();else{var A="__iframefcb"+Math.floor(1e6*Math.random()).toString();G[A]=function(){Pi("gapi.load")?v():l(Error("Network Error"))},rr(Hs(A=Wt(p,{onload:A}))).o(function(){l(Error("Network Error"))})}}).o(function(i){throw U=null,i}))).then(function(){return new Or(function(l,v){Pi("gapi.iframes.getContext")().open({where:document.body,url:i.b,messageHandlersFilter:Pi("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(A){function V(){clearTimeout(he),l()}i.a=A,i.a.restyle({setHideOnLeave:!1});var he=setTimeout(function(){v(Error("Network Error"))},M.get());A.ping(V).then(V,function(){v(Error("Network Error"))})})})})}(this)}var p=new je(bt,"https://apis.google.com/js/api.js?onload=%{onload}"),b=new st(3e4,6e4),M=new st(5e3,15e3),U=null;function Me(i,l,v,A){this.l=i,this.h=l,this.i=v,this.g=A,this.f=null,i=this.g?Jr((i=cr(this.g.url)).c,i.a,i.g,"/emulator/auth/iframe"):Jr("https",this.l,null,"/__/auth/iframe"),this.a=i,vn(this.a,"apiKey",this.h),vn(this.a,"appName",this.i),this.b=null,this.c=[]}function Be(i,l,v,A,V,he){this.u=i,this.s=l,this.c=v,this.m=A,this.v=he,this.i=this.g=this.l=null,this.a=V,this.h=this.f=null}function tt(i){try{return y.default.app(i).auth().Ga()}catch(l){return[]}}function ht(i,l,v,A,V,he){this.s=i,this.g=l,this.b=v,this.f=he,this.c=A||null,this.i=V||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function $t(i){var l=wi();return function(i){return vi(i,kl,{}).then(function(l){return l.authorizedDomains||[]})}(i).then(function(v){e:{var A=cr(l),V=A.c;A=A.a;for(var he=0;he<v.length;he++){var Ie=v[he],ot=A,dn=V;if(0==Ie.indexOf("chrome-extension://")?ot=cr(Ie).a==ot&&"chrome-extension"==dn:"http"!=dn&&"https"!=dn?ot=!1:Os.test(Ie)?ot=ot==Ie:(Ie=Ie.split(".").join("\\."),ot=new RegExp("^(.+\\."+Ie+"|"+Ie+")$","i").test(ot)),ot){v=!0;break e}}v=!1}if(!v)throw new Hd(wi())})}function fn(i){return i.m||(i.m=ru().then(function(){if(!i.u){var l=i.c,v=i.i,A=tt(i.b),V=new Me(i.s,i.g,i.b,i.f);V.f=l,V.b=v,V.c=tn(A||[]),i.u=V.toString()}i.v=new uf(i.u),function(i){if(!i.v)throw Error("IfcHandler must be initialized!");!function(i,l){i.sb.then(function(){i.a.register("authEvent",l,Pi("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(i.v,function(l){var v={};if(l&&l.authEvent){var A=!1;for(l=Ac(l.authEvent),v=0;v<i.h.length;v++)A=i.h[v](l)||A;return(v={}).status=A?"ACK":"ERROR",rr(v)}return v.status="ERROR",rr(v)})}(i)})),i.m}function xn(i){return i.l||(i.C=i.c?yr(i.c,tt(i.b)):null,i.l=new fo(i.g,pn(i.i),i.C),i.f&&qo(i.l,i.f)),i.l}function qn(i,l,v,A,V,he,Ie,ot,dn,An,Fr,ki){return(i=new Be(i,l,v,A,V,ki)).l=he,i.g=Ie,i.i=ot,i.b=Te(dn||null),i.f=An,i.zb(Fr).toString()}function Qr(i){if(this.a=i||y.default.INTERNAL.reactNative&&y.default.INTERNAL.reactNative.AsyncStorage,!this.a)throw new ce("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function Do(i){this.b=i,this.a={},this.f=nt(this.c,this)}Me.prototype.toString=function(){return this.f?vn(this.a,"v",this.f):Qi(this.a.b,"v"),this.b?vn(this.a,"eid",this.b):Qi(this.a.b,"eid"),this.c.length?vn(this.a,"fw",this.c.join(",")):Qi(this.a.b,"fw"),this.a.toString()},Be.prototype.zb=function(i){return this.h=i,this},Be.prototype.toString=function(){if(this.v){var i=cr(this.v.url);i=Jr(i.c,i.a,i.g,"/emulator/auth/handler")}else i=Jr("https",this.u,null,"/__/auth/handler");if(vn(i,"apiKey",this.s),vn(i,"appName",this.c),vn(i,"authType",this.m),this.a.isOAuthProvider){var l=this.a;try{var v=y.default.app(this.c).auth().la()}catch(ot){v=null}for(var A in l.pb=v,vn(i,"providerId",this.a.providerId),l=k((v=this.a).Jb))l[A]=l[A].toString();A=v.Qc,l=Te(l);for(var V=0;V<A.length;V++){var he=A[V];he in l&&delete l[he]}v.qb&&v.pb&&!l[v.qb]&&(l[v.qb]=v.pb),It(l)||vn(i,"customParameters",F(l))}if("function"==typeof this.a.Rb&&(v=this.a.Rb()).length&&vn(i,"scopes",v.join(",")),this.l?vn(i,"redirectUrl",this.l):Qi(i.b,"redirectUrl"),this.g?vn(i,"eventId",this.g):Qi(i.b,"eventId"),this.i?vn(i,"v",this.i):Qi(i.b,"v"),this.b)for(var Ie in this.b)this.b.hasOwnProperty(Ie)&&!Yn(i,Ie)&&vn(i,Ie,this.b[Ie]);return this.h?vn(i,"tid",this.h):Qi(i.b,"tid"),this.f?vn(i,"eid",this.f):Qi(i.b,"eid"),(Ie=tt(this.c)).length&&vn(i,"fw",Ie.join(",")),i.toString()},(_=ht.prototype).Pb=function(i,l,v){var A=new ce("popup-closed-by-user"),V=new ce("web-storage-unsupported"),he=this,Ie=!1;return this.ma().then(function(){(function(i){var l={type:"webStorageSupport"};return fn(i).then(function(){return function(i,l){return i.sb.then(function(){return new Or(function(v){i.a.send(l.type,l,v,Pi("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}(i.v,l)}).then(function(v){if(v&&v.length&&void 0!==v[0].webStorageSupport)return v[0].webStorageSupport;throw Error()})})(he).then(function(ot){ot||(i&&ps(i),l(V),Ie=!0)})}).o(function(){}).then(function(){if(!Ie)return function(i){return new Or(function(l){return function v(){Zs(2e3).then(function(){if(i&&!i.closed)return v();l()})}()})}(i)}).then(function(){if(!Ie)return Zs(v).then(function(){l(A)})})},_.Yb=function(){var i=Bn();return!Po(i)&&!ue(i)},_.Ub=function(){return!1},_.Nb=function(i,l,v,A,V,he,Ie,ot){if(!i)return ci(new ce("popup-blocked"));if(Ie&&!Po())return this.ma().o(function(An){ps(i),V(An)}),A(),rr();this.a||(this.a=$t(xn(this)));var dn=this;return this.a.then(function(){var An=dn.ma().o(function(Fr){throw ps(i),V(Fr),Fr});return A(),An}).then(function(){jd(v),Ie||Xo(qn(dn.s,dn.g,dn.b,l,v,null,he,dn.c,void 0,dn.i,ot,dn.f),i)}).o(function(An){throw"auth/network-request-failed"==An.code&&(dn.a=null),An})},_.Ob=function(i,l,v,A){this.a||(this.a=$t(xn(this)));var V=this;return this.a.then(function(){jd(l),Xo(qn(V.s,V.g,V.b,i,l,wi(),v,V.c,void 0,V.i,A,V.f))}).o(function(he){throw"auth/network-request-failed"==he.code&&(V.a=null),he})},_.ma=function(){var i=this;return fn(this).then(function(){return i.v.sb}).o(function(){throw i.a=null,new ce("network-request-failed")})},_.ac=function(){return!0},_.Ea=function(i){this.h.push(i)},_.Ta=function(i){jn(this.h,function(l){return l==i})},(_=Qr.prototype).get=function(i){return rr(this.a.getItem(i)).then(function(l){return l&&O(l)})},_.set=function(i,l){return rr(this.a.setItem(i,F(l)))},_.U=function(i){return rr(this.a.removeItem(i))},_.ca=function(){},_.ia=function(){};var ma,Xi=[];function wh(i,l,v){It(i.a)&&i.b.addEventListener("message",i.f),void 0===i.a[l]&&(i.a[l]=[]),i.a[l].push(v)}function Bc(i){this.a=i}function Vc(i){this.c=i,this.b=!1,this.a=[]}function om(i,l,v,A){var V,Ie,ot,dn,he=v||{},An=null;if(i.b)return ci(Error("connection_unavailable"));var Fr=A?800:50,ki="undefined"!=typeof MessageChannel?new MessageChannel:null;return new Or(function(fi,Ho){ki?(V=Math.floor(Math.random()*Math.pow(10,20)).toString(),ki.port1.start(),ot=setTimeout(function(){Ho(Error("unsupported_event"))},Fr),i.a.push(An={messageChannel:ki,onMessage:Ie=function(Za){Za.data.eventId===V&&("ack"===Za.data.status?(clearTimeout(ot),dn=setTimeout(function(){Ho(Error("timeout"))},3e3)):"done"===Za.data.status?(clearTimeout(dn),void 0!==Za.data.response?fi(Za.data.response):Ho(Error("unknown_error"))):(clearTimeout(ot),clearTimeout(dn),Ho(Error("invalid_response"))))}}),ki.port1.addEventListener("message",Ie),i.c.postMessage({eventType:l,eventId:V,data:he},[ki.port2])):Ho(Error("connection_unavailable"))}).then(function(fi){return Kf(i,An),fi}).o(function(fi){throw Kf(i,An),fi})}function Kf(i,l){if(l){var v=l.messageChannel;v&&(v.port1.removeEventListener("message",l.onMessage),v.port1.close()),jn(i.a,function(V){return V==l})}}function sm(){if(!hd())throw new ce("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=G.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var i=this;In()&&self?(this.v=function(){var i=In()?self:null;if(Zt(Xi,function(v){v.b==i&&(l=v)}),!l){var l=new Do(i);Xi.push(l)}return l}(),wh(this.v,"keyChanged",function(l,v){return gu(i).then(function(A){return 0<A.length&&Zt(i.a,function(V){V(A)}),{keyProcessed:ur(A,v.key)}})}),wh(this.v,"ping",function(){return rr(["keyChanged"])})):function(){var i=G.navigator;return i&&i.serviceWorker?rr().then(function(){return i.serviceWorker.ready}).then(function(l){return l.active||null}).o(function(){return null}):rr(null)}().then(function(l){(i.h=l)&&(i.g=new Vc(new Bc(l)),om(i.g,"ping",null,!0).then(function(v){v[0].fulfilled&&ur(v[0].value,"keyChanged")&&(i.s=!0)}).o(function(){}))})}function cf(i){return new Or(function(l,v){var A=i.m.open("firebaseLocalStorageDb",1);A.onerror=function(V){try{V.preventDefault()}catch(he){}v(Error(V.target.error))},A.onupgradeneeded=function(V){V=V.target.result;try{V.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(he){v(he)}},A.onsuccess=function(V){(V=V.target.result).objectStoreNames.contains("firebaseLocalStorage")?l(V):function(i){return new Or(function(l,v){var A=i.m.deleteDatabase("firebaseLocalStorageDb");A.onsuccess=function(){l()},A.onerror=function(V){v(Error(V.target.error))}})}(i).then(function(){return cf(i)}).then(function(he){l(he)}).o(function(he){v(he)})}})}function cd(i){return i.i||(i.i=cf(i)),i.i}function $f(i,l){var A=0;return new Or(function v(V,he){cd(i).then(l).then(V).o(function(Ie){if(!(3<++A))return cd(i).then(function(ot){return ot.close(),i.i=void 0,v(V,he)}).o(function(ot){he(ot)});he(Ie)})})}function hd(){try{return!!G.indexedDB}catch(i){return!1}}function dd(i){return i.objectStore("firebaseLocalStorage")}function fd(i,l){return i.transaction(["firebaseLocalStorage"],l?"readwrite":"readonly")}function Uc(i){return new Or(function(l,v){i.onsuccess=function(A){A&&A.target?l(A.target.result):l()},i.onerror=function(A){v(A.target.error)}})}function Yf(i,l){return i.g&&i.h&&function(){var i=G.navigator;return i&&i.serviceWorker&&i.serviceWorker.controller||null}()===i.h?om(i.g,"keyChanged",{key:l},i.s).then(function(){}).o(function(){}):rr()}function gu(i){return cd(i).then(function(l){var v=dd(fd(l,!1));return v.getAll?Uc(v.getAll()):new Or(function(A,V){var he=[],Ie=v.openCursor();Ie.onsuccess=function(ot){(ot=ot.target.result)?(he.push(ot.value),ot.continue()):A(he)},Ie.onerror=function(ot){V(ot.target.error)}})}).then(function(l){var v={},A=[];if(0==i.b){for(A=0;A<l.length;A++)v[l[A].fbase_key]=l[A].value;A=Fi(i.c,v),i.c=v}return A})}function qf(i){i.l&&i.l.cancel("STOP_EVENT"),i.f&&(clearTimeout(i.f),i.f=null)}function am(i){var l=this,v=null;this.a=[],this.type="indexedDB",this.c=i,this.b=rr().then(function(){if(hd()){var A=q(),V="__sak"+A;return ma||(ma=new sm),(v=ma).set(V,A).then(function(){return v.get(V)}).then(function(he){if(he!==A)throw Error("indexedDB not supported!");return v.U(V)}).then(function(){return v}).o(function(){return l.c})}return l.c}).then(function(A){return l.type=A.type,A.ca(function(V){Zt(l.a,function(he){he(V)})}),A})}function hf(){this.a={},this.type="inMemory"}function Qf(){if(!function(){var i="Node"==Uo();if(!(i=eg()||i&&y.default.INTERNAL.node&&y.default.INTERNAL.node.localStorage))return!1;try{return i.setItem("__sak","1"),i.removeItem("__sak"),!0}catch(l){return!1}}())throw"Node"==Uo()?new ce("internal-error","The LocalStorage compatibility library was not found."):new ce("web-storage-unsupported");this.a=eg()||y.default.INTERNAL.node.localStorage,this.type="localStorage"}function eg(){try{var i=G.localStorage,l=q();return i&&(i.setItem(l,"1"),i.removeItem(l)),i}catch(v){return null}}function Ch(){this.type="nullStorage"}function ff(){if(!function(){var i="Node"==Uo();if(!(i=tg()||i&&y.default.INTERNAL.node&&y.default.INTERNAL.node.sessionStorage))return!1;try{return i.setItem("__sak","1"),i.removeItem("__sak"),!0}catch(l){return!1}}())throw"Node"==Uo()?new ce("internal-error","The SessionStorage compatibility library was not found."):new ce("web-storage-unsupported");this.a=tg()||y.default.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function tg(){try{var i=G.sessionStorage,l=q();return i&&(i.setItem(l,"1"),i.removeItem(l)),i}catch(v){return null}}function um(){var i={};i.Browser=Jf,i.Node=ul,i.ReactNative=pd,i.Worker=gd,this.a=i[Uo()]}Do.prototype.c=function(i){var l=i.data.eventType,v=i.data.eventId,A=this.a[l];if(A&&0<A.length){i.ports[0].postMessage({status:"ack",eventId:v,eventType:l,response:null});var V=[];Zt(A,function(he){V.push(rr().then(function(){return he(i.origin,i.data.data)}))}),Fe(V).then(function(he){var Ie=[];Zt(he,function(ot){Ie.push({fulfilled:ot.Qb,value:ot.value,reason:ot.reason?ot.reason.message:void 0})}),Zt(Ie,function(ot){for(var dn in ot)void 0===ot[dn]&&delete ot[dn]}),i.ports[0].postMessage({status:"done",eventId:v,eventType:l,response:Ie})})}},Bc.prototype.postMessage=function(i,l){this.a.postMessage(i,l)},Vc.prototype.close=function(){for(;0<this.a.length;)Kf(this,this.a[0]);this.b=!0},(_=sm.prototype).set=function(i,l){var v=this,A=!1;return $f(this,function(V){return Uc((V=dd(fd(V,!0))).get(i))}).then(function(V){return $f(v,function(he){if(he=dd(fd(he,!0)),V)return V.value=l,Uc(he.put(V));v.b++,A=!0;var Ie={};return Ie.fbase_key=i,Ie.value=l,Uc(he.add(Ie))})}).then(function(){return v.c[i]=l,Yf(v,i)}).oa(function(){A&&v.b--})},_.get=function(i){return $f(this,function(l){return Uc(dd(fd(l,!1)).get(i))}).then(function(l){return l&&l.value})},_.U=function(i){var l=this,v=!1;return $f(this,function(A){return v=!0,l.b++,Uc(dd(fd(A,!0)).delete(i))}).then(function(){return delete l.c[i],Yf(l,i)}).oa(function(){v&&l.b--})},_.ca=function(i){0==this.a.length&&function(i){qf(i),function l(){i.f=setTimeout(function(){i.l=gu(i).then(function(v){0<v.length&&Zt(i.a,function(A){A(v)})}).then(function(){l()}).o(function(v){"STOP_EVENT"!=v.message&&l()})},800)}()}(this),this.a.push(i)},_.ia=function(i){jn(this.a,function(l){return l==i}),0==this.a.length&&qf(this)},(_=am.prototype).get=function(i){return this.b.then(function(l){return l.get(i)})},_.set=function(i,l){return this.b.then(function(v){return v.set(i,l)})},_.U=function(i){return this.b.then(function(l){return l.U(i)})},_.ca=function(i){this.a.push(i)},_.ia=function(i){jn(this.a,function(l){return l==i})},(_=hf.prototype).get=function(i){return rr(this.a[i])},_.set=function(i,l){return this.a[i]=l,rr()},_.U=function(i){return delete this.a[i],rr()},_.ca=function(){},_.ia=function(){},(_=Qf.prototype).get=function(i){var l=this;return rr().then(function(){return O(l.a.getItem(i))})},_.set=function(i,l){var v=this;return rr().then(function(){var A=F(l);null===A?v.U(i):v.a.setItem(i,A)})},_.U=function(i){var l=this;return rr().then(function(){l.a.removeItem(i)})},_.ca=function(i){G.window&&ti(G.window,"storage",i)},_.ia=function(i){G.window&&Li(G.window,"storage",i)},(_=Ch.prototype).get=function(){return rr(null)},_.set=function(){return rr()},_.U=function(){return rr()},_.ca=function(){},_.ia=function(){},(_=ff.prototype).get=function(i){var l=this;return rr().then(function(){return O(l.a.getItem(i))})},_.set=function(i,l){var v=this;return rr().then(function(){var A=F(l);null===A?v.U(i):v.a.setItem(i,A)})},_.U=function(i){var l=this;return rr().then(function(){l.a.removeItem(i)})},_.ca=function(){},_.ia=function(){};var Zf,pf,Jf={F:Qf,cb:ff},ul={F:Qf,cb:ff},pd={F:Qr,cb:Ch},gd={F:Qf,cb:Ch},ll={rd:"local",NONE:"none",td:"session"};function md(){var i=!(ue(Bn())||!en()),l=Po(),v=_l();this.m=i,this.h=l,this.l=v,this.a={},Zf||(Zf=new um),i=Zf;try{this.g=!io()&&Dr()||!G.indexedDB?new i.a.F:new am(In()?new hf:new i.a.F)}catch(A){this.g=new hf,this.h=!0}try{this.i=new i.a.cb}catch(A){this.i=new hf}this.v=new hf,this.f=nt(this.Zb,this),this.b={}}function ac(){return pf||(pf=new md),pf}function jc(i,l){switch(l){case"session":return i.i;case"none":return i.v;default:return i.g}}function Ya(i,l){return"firebase:"+i.name+(l?":"+l:"")}function qa(i,l,v){return v=Ya(l,v),"local"==l.F&&(i.b[v]=null),jc(i,l.F).U(v)}function _d(i){i.c&&(clearInterval(i.c),i.c=null)}function vd(i){this.a=i,this.b=ac()}(_=md.prototype).get=function(i,l){return jc(this,i.F).get(Ya(i,l))},_.set=function(i,l,v){var A=Ya(i,v),V=this,he=jc(this,i.F);return he.set(A,l).then(function(){return he.get(A)}).then(function(Ie){"local"==i.F&&(V.b[A]=Ie)})},_.addListener=function(i,l,v){i=Ya(i,l),this.l&&(this.b[i]=G.localStorage.getItem(i)),It(this.a)&&(jc(this,"local").ca(this.f),this.h||(io()||!Dr())&&G.indexedDB||!this.l||function(i){_d(i),i.c=setInterval(function(){for(var l in i.a){var v=G.localStorage.getItem(l),A=i.b[l];v!=A&&(i.b[l]=v,v=new ye({type:"storage",key:l,target:window,oldValue:A,newValue:v,a:!0}),i.Zb(v))}},1e3)}(this)),this.a[i]||(this.a[i]=[]),this.a[i].push(v)},_.removeListener=function(i,l,v){i=Ya(i,l),this.a[i]&&(jn(this.a[i],function(A){return A==v}),0==this.a[i].length&&delete this.a[i]),It(this.a)&&(jc(this,"local").ia(this.f),_d(this))},_.Zb=function(i){if(i&&i.g){var l=i.a.key;if(null==l)for(var v in this.a){var A=this.b[v];void 0===A&&(A=null);var V=G.localStorage.getItem(v);V!==A&&(this.b[v]=V,this.nb(v))}else if(0==l.indexOf("firebase:")&&this.a[l]){if(void 0!==i.a.a?jc(this,"local").ia(this.f):_d(this),this.m)if(v=G.localStorage.getItem(l),(A=i.a.newValue)!==v)null!==A?G.localStorage.setItem(l,A):G.localStorage.removeItem(l);else if(this.b[l]===A&&void 0===i.a.a)return;var he=this;v=function(){(void 0!==i.a.a||he.b[l]!==G.localStorage.getItem(l))&&(he.b[l]=G.localStorage.getItem(l),he.nb(l))},vt&&si&&10==si&&G.localStorage.getItem(l)!==i.a.newValue&&i.a.newValue!==i.a.oldValue?setTimeout(v,10):v()}}else Zt(i,nt(this.nb,this))},_.nb=function(i){this.a[i]&&Zt(this.a[i],function(l){l()})};var ig,ng={name:"authEvent",F:"local"};function rg(){this.a=ac()}function ep(i,l){this.b=og,this.f=G.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=i,this.h=l,this.l=G.Int32Array?new Int32Array(64):Array(64),void 0===ig&&(ig=G.Int32Array?new Int32Array(hm):hm),this.reset()}ve(ep,function(){this.b=-1});for(var og=64,lm=og-1,tp=[],Bl=0;Bl<lm;Bl++)tp[Bl]=0;var Hc=Pn(128,tp);function cm(i){for(var l=i.f,v=i.l,A=0,V=0;V<l.length;)v[A++]=l[V]<<24|l[V+1]<<16|l[V+2]<<8|l[V+3],V=4*A;for(l=16;64>l;l++){var he=(0|v[l-16])+(((V=0|v[l-15])>>>7|V<<25)^(V>>>18|V<<14)^V>>>3)|0,Ie=(0|v[l-7])+(((A=0|v[l-2])>>>17|A<<15)^(A>>>19|A<<13)^A>>>10)|0;v[l]=he+Ie|0}A=0|i.a[0],V=0|i.a[1];var ot=0|i.a[2],dn=0|i.a[3],An=0|i.a[4],Fr=0|i.a[5],ki=0|i.a[6];for(he=0|i.a[7],l=0;64>l;l++){var fi=((A>>>2|A<<30)^(A>>>13|A<<19)^(A>>>22|A<<10))+(A&V^A&ot^V&ot)|0;Ie=(he=he+((An>>>6|An<<26)^(An>>>11|An<<21)^(An>>>25|An<<7))|0)+((Ie=(Ie=An&Fr^~An&ki)+(0|ig[l])|0)+(0|v[l])|0)|0,he=ki,ki=Fr,Fr=An,An=dn+Ie|0,dn=ot,ot=V,V=A,A=Ie+fi|0}i.a[0]=i.a[0]+A|0,i.a[1]=i.a[1]+V|0,i.a[2]=i.a[2]+ot|0,i.a[3]=i.a[3]+dn|0,i.a[4]=i.a[4]+An|0,i.a[5]=i.a[5]+Fr|0,i.a[6]=i.a[6]+ki|0,i.a[7]=i.a[7]+he|0}function Th(i,l,v){void 0===v&&(v=l.length);var A=0,V=i.c;if("string"==typeof l)for(;A<v;)i.f[V++]=l.charCodeAt(A++),V==i.b&&(cm(i),V=0);else{if(!Ne(l))throw Error("message must be string or array");for(;A<v;){var he=l[A++];if(!("number"==typeof he&&0<=he&&255>=he&&he==(0|he)))throw Error("message must be a byte array");i.f[V++]=he,V==i.b&&(cm(i),V=0)}}i.c=V,i.g+=v}ep.prototype.reset=function(){this.g=this.c=0,this.a=G.Int32Array?new Int32Array(this.h):tn(this.h)};var hm=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function dm(){ep.call(this,8,sg)}ve(dm,ep);var sg=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function I_(i,l,v,A,V,he){this.v=i,this.i=l,this.l=v,this.m=A||null,this.u=V||null,this.s=he,this.h=l+":"+v,this.C=new rg,this.g=new vd(this.h),this.f=null,this.b=[],this.a=this.c=null}function ag(i){return new ce("invalid-cordova-configuration",i)}function uc(i,l){for(var v=0;v<i.b.length;v++)try{i.b[v](l)}catch(A){}}function bd(i){return i.f||(i.f=i.ma().then(function(){return new Or(function(l){i.Ea(function v(A){return l(A),i.Ta(v),!1}),function(i){function l(Ie){A=!0,V&&V.cancel(),gf(i).then(function(ot){var dn=v;if(ot&&Ie&&Ie.url){var An=null;-1!=(dn=Il(Ie.url)).indexOf("/__/auth/callback")&&(An=(An="object"==typeof(An=O(Yn(An=cr(dn),"firebaseError")||null))?pt(An):null)?new ls(ot.c,ot.b,null,null,An,null,ot.T()):new ls(ot.c,ot.b,dn,ot.f,null,null,ot.T())),dn=An||v}uc(i,dn)})}var v=new ls("unknown",null,null,null,new ce("no-auth-event")),A=!1,V=Zs(500).then(function(){return gf(i).then(function(){A||uc(i,v)})}),he=G.handleOpenURL;G.handleOpenURL=function(Ie){if(0==Ie.toLowerCase().indexOf(Pi("BuildInfo.packageName",G).toLowerCase()+"://")&&l({url:Ie}),"function"==typeof he)try{he(Ie)}catch(ot){console.error(ot)}},Xh||(Xh=new bs),function(i){var l=Xh;l.a.push(i),l.b||(l.b=function(v){for(var A=0;A<l.a.length;A++)l.a[A](v)},"function"==typeof(i=Pi("universalLinks.subscribe",G))&&i(null,l.b))}(l)}(i)})})),i.f}function gf(i){var l=null;return function(i){return i.b.get(ng,i.a).then(function(l){return Ac(l)})}(i.g).then(function(v){return l=v,qa((v=i.g).b,ng,v.a)}).then(function(){return l})}function np(i){this.a=i,this.b=ac()}(_=I_.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(gs(void 0)?ru().then(function(){return new Or(function(i,l){var v=G.document,A=setTimeout(function(){l(Error("Cordova framework is not ready."))},1e3);v.addEventListener("deviceready",function(){clearTimeout(A),i()},!1)})}):ci(Error("Cordova must run in an Android or iOS file scheme."))).then(function(){if("function"!=typeof Pi("universalLinks.subscribe",G))throw ag("cordova-universal-links-plugin-fix is not installed");if(void 0===Pi("BuildInfo.packageName",G))throw ag("cordova-plugin-buildinfo is not installed");if("function"!=typeof Pi("cordova.plugins.browsertab.openUrl",G))throw ag("cordova-plugin-browsertab is not installed");if("function"!=typeof Pi("cordova.InAppBrowser.open",G))throw ag("cordova-plugin-inappbrowser is not installed")},function(){throw new ce("cordova-not-ready")})},_.Pb=function(i,l){return l(new ce("operation-not-supported-in-this-environment")),rr()},_.Nb=function(){return ci(new ce("operation-not-supported-in-this-environment"))},_.ac=function(){return!1},_.Yb=function(){return!0},_.Ub=function(){return!0},_.Ob=function(i,l,v,A){if(this.c)return ci(new ce("redirect-operation-pending"));var V=this,he=G.document,Ie=null,ot=null,dn=null,An=null;return this.c=rr().then(function(){return jd(l),bd(V)}).then(function(){return function(i,l,v,A,V){var he=function(){for(var i=20,l=[];0<i;)l.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),i--;return l.join("")}(),Ie=new ls(l,A,null,he,new ce("no-auth-event"),null,V),ot=Pi("BuildInfo.packageName",G);if("string"!=typeof ot)throw new ce("invalid-cordova-configuration");var dn=Pi("BuildInfo.displayName",G),An={};if(Bn().toLowerCase().match(/iphone|ipad|ipod/))An.ibi=ot;else{if(!Bn().toLowerCase().match(/android/))return ci(new ce("operation-not-supported-in-this-environment"));An.apn=ot}dn&&(An.appDisplayName=dn),he=function(i){var l=new dm;Th(l,i),i=[];var v=8*l.g;Th(l,Hc,56>l.c?56-l.c:l.b-(l.c-56));for(var A=63;56<=A;A--)l.f[A]=255&v,v/=256;for(cm(l),A=v=0;A<l.i;A++)for(var V=24;0<=V;V-=8)i[v++]=l.a[A]>>V&255;return function(i){return Rn(i,function(l){return 1<(l=l.toString(16)).length?l:"0"+l}).join("")}(i)}(he),An.sessionId=he;var Fr=qn(i.v,i.i,i.l,l,v,null,A,i.m,An,i.u,V,i.s);return i.ma().then(function(){var ki=i.h;return i.C.a.set(ng,Ie.w(),ki)}).then(function(){var ki=Pi("cordova.plugins.browsertab.isAvailable",G);if("function"!=typeof ki)throw new ce("invalid-cordova-configuration");var fi=null;ki(function(Ho){if(Ho){if("function"!=typeof(fi=Pi("cordova.plugins.browsertab.openUrl",G)))throw new ce("invalid-cordova-configuration");fi(Fr)}else{if("function"!=typeof(fi=Pi("cordova.InAppBrowser.open",G)))throw new ce("invalid-cordova-configuration");Ho=Bn(),i.a=fi(Fr,Ho.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||Ho.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}(V,i,l,v,A)}).then(function(){return new Or(function(Fr,ki){ot=function(){var fi=Pi("cordova.plugins.browsertab.close",G);return Fr(),"function"==typeof fi&&fi(),V.a&&"function"==typeof V.a.close&&(V.a.close(),V.a=null),!1},V.Ea(ot),An=function(){Et()&&dn()},he.addEventListener("resume",dn=function(){Ie||(Ie=Zs(2e3).then(function(){ki(new ce("redirect-cancelled-by-user"))}))},!1),Bn().toLowerCase().match(/android/)||he.addEventListener("visibilitychange",An,!1)}).o(function(Fr){return gf(V).then(function(){throw Fr})})}).oa(function(){dn&&he.removeEventListener("resume",dn,!1),An&&he.removeEventListener("visibilitychange",An,!1),Ie&&Ie.cancel(),ot&&V.Ta(ot),V.c=null})},_.Ea=function(i){this.b.push(i),bd(this).o(function(l){"auth/invalid-cordova-configuration"===l.code&&(l=new ls("unknown",null,null,null,new ce("no-auth-event")),i(l))})},_.Ta=function(i){jn(this.b,function(l){return l==i})};var rp={name:"pendingRedirect",F:"session"};function op(i){return qa(i.b,rp,i.a)}function Ed(i,l,v,A){this.i={},this.u=0,this.D=i,this.v=l,this.m=v,this.J=A,this.h=[],this.f=!1,this.l=nt(this.s,this),this.b=new Mh,this.C=new M_,this.g=new np(Ah(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=mm(this.D,this.v,this.m,Mn,this.J)}function mm(i,l,v,A,V){var he=y.default.SDK_VERSION||null;return gs()?new I_(i,l,v,he,A,V):new ht(i,l,v,he,A,V)}function D_(i){i.f||(i.f=!0,i.a.Ea(i.l));var l=i.a;return i.a.ma().o(function(v){throw i.a==l&&i.reset(),v})}function sp(i){i.a.Yb()&&D_(i).o(function(l){var v=new ls("unknown",null,null,null,new ce("operation-not-supported-in-this-environment"));cc(l)&&i.s(v)}),i.a.Ub()||Gc(i.b)}function ap(i,l){ur(i.h,l)||i.h.push(l),i.f||function(i){return i.b.get(rp,i.a).then(function(l){return"pending"==l})}(i.g).then(function(v){v?op(i.g).then(function(){D_(i).o(function(A){var V=new ls("unknown",null,null,null,new ce("operation-not-supported-in-this-environment"));cc(A)&&i.s(V)})}):sp(i)}).o(function(){sp(i)})}function wd(i,l){jn(i.h,function(v){return v==l})}Ed.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=mm(this.D,this.v,this.m,null,this.J),this.i={}},Ed.prototype.s=function(i){if(!i)throw new ce("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),i&&i.getUid()&&this.i.hasOwnProperty(i.getUid()))return!1;for(var l=!1,v=0;v<this.h.length;v++){var A=this.h[v];if(A.Gb(i.c,i.b)){(l=this.c[i.c])&&(l.h(i,A),i&&(i.f||i.b)&&(this.i[i.getUid()]=!0,this.u=Date.now())),l=!0;break}}return Gc(this.b),l};var S_=new st(2e3,1e4),A_=new st(3e4,6e4);function Ih(i,l,v,A,V,he,Ie){return i.a.Nb(l,v,A,function(){i.f||(i.f=!0,i.a.Ea(i.l))},function(){i.reset()},V,he,Ie)}function cc(i){return!(!i||"auth/cordova-not-ready"!=i.code)}function up(i,l,v,A,V){var he;return function(i){return i.b.set(rp,"pending",i.a)}(i.g).then(function(){return i.a.Ob(l,v,A,V).o(function(Ie){if(cc(Ie))throw new ce("operation-not-supported-in-this-environment");return he=Ie,op(i.g).then(function(){throw he})}).then(function(){return i.a.ac()?new Or(function(){}):op(i.g).then(function(){return i.ra()}).then(function(){}).o(function(){})})})}function Dh(i,l,v,A,V){return i.a.Pb(A,function(he){l.na(v,null,he,V)},S_.get())}Ed.prototype.ra=function(){return this.b.ra()};var Sh={};function Ah(i,l,v){return i=i+":"+l,v&&(i=i+":"+v.url),i}function mf(i,l,v,A){var V=Ah(l,v,A);return Sh[V]||(Sh[V]=new Ed(i,l,v,A)),Sh[V]}function Mh(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Gc(i){i.g||(i.g=!0,Oa(i,!1,null,null))}function Rh(i){i.g&&!i.i&&Oa(i,!1,null,null)}function Oh(i,l){if(i.b=function(){return rr(l)},i.f.length)for(var v=0;v<i.f.length;v++)i.f[v](l)}function Oa(i,l,v,A){l?A?function(i,l){if(i.b=function(){return ci(l)},i.c.length)for(var v=0;v<i.c.length;v++)i.c[v](l)}(i,A):Oh(i,v):Oh(i,{user:null}),i.f=[],i.c=[]}function M_(){}function ug(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(i){this.jb=i},enumerable:!1})}function lg(i,l){this.a=l,er(this,"verificationId",i)}function lp(i,l,v,A){return new $o(i).gb(l,v).then(function(V){return new lg(V,A)})}function bm(i){var l=Ic(i);if(!(l&&l.exp&&l.auth_time&&l.iat))throw new ce("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");oo(this,{token:i,expirationTime:Gn(1e3*l.exp),authTime:Gn(1e3*l.auth_time),issuedAtTime:Gn(1e3*l.iat),signInProvider:l.firebase&&l.firebase.sign_in_provider?l.firebase.sign_in_provider:null,signInSecondFactor:l.firebase&&l.firebase.sign_in_second_factor?l.firebase.sign_in_second_factor:null,claims:l})}function cp(i,l,v){var A=l&&l[Em];if(!A)throw new ce("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=i,this.f=Te(l),this.g=v,this.c=new Zu(null,A),this.b=[];var V=this;Zt(l[Qa]||[],function(he){(he=Ca(he))&&V.b.push(he)}),er(this,"auth",this.a),er(this,"session",this.c),er(this,"hints",this.b)}Mh.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Mh.prototype.h=function(i,l){if(i){this.reset(),this.g=!0;var v=i.c,A=i.b,V=i.a&&"auth/web-storage-unsupported"==i.a.code,he=i.a&&"auth/operation-not-supported-in-this-environment"==i.a.code;this.i=!(!V&&!he),"unknown"!=v||V||he?i.a?(Oa(this,!0,null,i.a),rr()):l.Fa(v,A)?function(i,l,v){v=v.Fa(l.c,l.b);var A=l.g,V=l.f,he=l.i,Ie=l.T(),ot=!!l.c.match(/Redirect$/);v(A,V,Ie,he).then(function(dn){Oa(i,ot,dn,null)}).o(function(dn){Oa(i,ot,null,dn)})}(this,i,l):ci(new ce("invalid-auth-event")):(Oa(this,!1,null,null),rr())}else ci(new ce("invalid-auth-event"))},Mh.prototype.ra=function(){var i=this;return new Or(function(l,v){i.b?i.b().then(l,v):(i.f.push(l),i.c.push(v),function(i){var l=new ce("timeout");i.a&&i.a.cancel(),i.a=Zs(A_.get()).then(function(){i.b||(i.g=!0,Oa(i,!0,null,l))})}(i))})},M_.prototype.h=function(i,l){if(i){var v=i.c,A=i.b;i.a?(l.na(i.c,null,i.a,i.b),rr()):l.Fa(v,A)?function(i,l){var v=i.b,A=i.c;l.Fa(A,v)(i.g,i.f,i.T(),i.i).then(function(V){l.na(A,V,null,v)}).o(function(V){l.na(A,null,V,v)})}(i,l):ci(new ce("invalid-auth-event"))}else ci(new ce("invalid-auth-event"))},lg.prototype.confirm=function(i){return i=Ud(this.verificationId,i),this.a(i)};var Qa="mfaInfo",Em="mfaPendingCredential";function cg(i,l,v,A){ce.call(this,"multi-factor-auth-required",A,l),this.b=new cp(i,l,v),er(this,"resolver",this.b)}function hg(i,l,v){if(i&&ze(i.serverResponse)&&"auth/multi-factor-auth-required"===i.code)try{return new cg(l,i.serverResponse,v,i.message)}catch(A){}return null}function dg(){}function hp(i){er(this,"factorId",i.fa),this.a=i}function dp(i){if(hp.call(this,i),this.a.fa!=$o.PROVIDER_ID)throw new ce("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function hc(i,l){for(var v in $.call(this,i),l)this[v]=l[v]}function fp(i,l){this.a=i,this.b=[],this.c=nt(this.yc,this),ti(this.a,"userReloaded",this.c);var v=[];l&&l.multiFactor&&l.multiFactor.enrolledFactors&&Zt(l.multiFactor.enrolledFactors,function(A){var V=null,he={};if(A){A.uid&&(he[Yl]=A.uid),A.displayName&&(he[vl]=A.displayName),A.enrollmentTime&&(he[Eu]=new Date(A.enrollmentTime).toISOString()),A.phoneNumber&&(he[Ta]=A.phoneNumber);try{V=new ql(he)}catch(Ie){}A=V}else A=null;A&&v.push(A)}),gp(this,v)}function gp(i,l){i.b=l,er(i,"enrolledFactors",l)}function mp(i,l,v){if(this.h=i,this.i=l,this.g=v,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function _p(i,l){i.stop(),i.b=Zs(function(i,l){return l?(i.a=i.c,i.g()):(l=i.a,i.a*=2,i.a>i.f&&(i.a=i.f),l)}(i,l)).then(function(){return function(){var i=G.document,l=null;return Et()||!i?rr():new Or(function(v){l=function(){Et()&&(i.removeEventListener("visibilitychange",l,!1),v())},i.addEventListener("visibilitychange",l,!1)}).o(function(v){throw i.removeEventListener("visibilitychange",l,!1),v})}()}).then(function(){return i.h()}).then(function(){_p(i,!0)}).o(function(v){i.i(v)&&_p(i,!1)})}function vp(i){this.f=i,this.b=this.a=null,this.c=Date.now()}function fg(i,l){void 0===l&&(l=i.b?(l=i.b).a-l.g:0),i.c=Date.now()+1e3*l}function vf(i,l){i.b=El(l[so]||""),i.a=l.refreshToken,fg(i,void 0!==(l=l.expiresIn)?Number(l):void 0)}function Pa(i,l){this.a=i||null,this.b=l||null,oo(this,{lastSignInTime:Gn(l||null),creationTime:Gn(i||null)})}function pg(i,l,v,A,V,he){oo(this,{uid:i,displayName:A||null,photoURL:V||null,email:v||null,phoneNumber:he||null,providerId:l})}function Gs(i,l,v){this.N=[],this.l=i.apiKey,this.m=i.appName,this.s=i.authDomain||null;var A=y.default.SDK_VERSION?yr(y.default.SDK_VERSION):null;this.a=new fo(this.l,pn(Mn),A),(this.u=i.emulatorConfig||null)&&qo(this.a,this.u),this.h=new vp(this.a),Ef(this,l[so]),vf(this.h,l),er(this,"refreshToken",this.h.a),Ep(this,v||{}),zo.call(this),this.P=!1,this.s&&Pr()&&(this.b=mf(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=function(i){return new mp(function(){return i.I(!0)},function(l){return!(!l||"auth/network-request-failed"!=l.code)},function(){var l=i.h.c-Date.now()-3e5;return 0<l?l:0})}(this),this.ba=nt(this.ib,this);var V=this;this.za=null,this.Pa=function(he){V.xa(he.h)},this.qa=null,this.Ba=function(he){gg(V,he.c)},this.$=null,this.aa=[],this.Oa=function(he){Wc(V,he.f)},this.ja=null,this.S=new fp(this,v),er(this,"multiFactor",this.S)}function gg(i,l){i.u=l,qo(i.a,l),i.b&&(l=i.b,i.b=mf(i.s,i.l,i.m,i.u),i.P&&(wd(l,i),ap(i.b,i)))}function bf(i,l){i.qa&&Li(i.qa,"languageCodeChanged",i.Pa),(i.qa=l)&&ti(l,"languageCodeChanged",i.Pa)}function mg(i,l){i.$&&Li(i.$,"emulatorConfigChanged",i.Ba),(i.$=l)&&ti(l,"emulatorConfigChanged",i.Ba)}function Wc(i,l){i.aa=l,Pl(i.a,y.default.SDK_VERSION?yr(y.default.SDK_VERSION,i.aa):null)}function bp(i,l){i.ja&&Li(i.ja,"frameworkChanged",i.Oa),(i.ja=l)&&ti(l,"frameworkChanged",i.Oa)}function Cd(i){try{return y.default.app(i.m).auth()}catch(l){throw new ce("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+i.m+"'!")}}function Im(i){i.J||i.D.b||(i.D.start(),Li(i,"tokenChanged",i.ba),ti(i,"tokenChanged",i.ba))}function Td(i){Li(i,"tokenChanged",i.ba),i.D.stop()}function Ef(i,l){i.Aa=l,er(i,"_lat",l)}function cl(i){for(var l=[],v=0;v<i.W.length;v++)l.push(i.W[v](i));return Fe(l).then(function(){return i})}function dc(i){i.b&&!i.P&&(i.P=!0,ap(i.b,i))}function Ep(i,l){oo(i,{uid:l.uid,displayName:l.displayName||null,photoURL:l.photoURL||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,isAnonymous:l.isAnonymous||!1,tenantId:l.tenantId||null,metadata:new Pa(l.createdAt,l.lastLoginAt),providerData:[]}),i.a.b=i.tenantId}function _g(){}function wp(i){return rr().then(function(){if(i.J)throw new ce("app-deleted")})}function zc(i){return Rn(i.providerData,function(l){return l.providerId})}function Vi(i,l){l&&(vg(i,l.providerId),i.providerData.push(l))}function vg(i,l){jn(i.providerData,function(v){return v.providerId==l})}function Vl(i,l,v){("uid"!=l||v)&&i.hasOwnProperty(l)&&er(i,l,v)}function fc(i,l){i!=l&&(oo(i,{uid:l.uid,displayName:l.displayName,photoURL:l.photoURL,email:l.email,emailVerified:l.emailVerified,phoneNumber:l.phoneNumber,isAnonymous:l.isAnonymous,tenantId:l.tenantId,providerData:[]}),er(i,"metadata",l.metadata?function(i){return new Pa(i.a,i.b)}(l.metadata):new Pa),Zt(l.providerData,function(v){Vi(i,v)}),function(i,l){i.b=l.b,i.a=l.a,i.c=l.c}(i.h,l.h),er(i,"refreshToken",i.h.a),gp(i.S,l.S.b))}function Ao(i){return i.I().then(function(l){var v=i.isAnonymous;return function(i,l){return vi(i.a,rm,{idToken:l}).then(nt(i.Kc,i))}(i,l).then(function(){return v||Vl(i,"isAnonymous",!1),l})})}function Vo(i,l){l[so]&&i.Aa!=l[so]&&(vf(i.h,l),i.dispatchEvent(new hc("tokenChanged")),Ef(i,l[so]),Vl(i,"refreshToken",i.h.a))}function jl(i,l){return Ao(i).then(function(){if(ur(zc(i),l))return cl(i).then(function(){throw new ce("provider-already-linked")})})}function Id(i,l,v){return Io({user:i,credential:da(l),additionalUserInfo:l=Dc(l),operationType:v})}function yg(i,l){return Vo(i,l),i.reload().then(function(){return i})}function x_(i,l,v,A,V){if(!Pr())return ci(new ce("operation-not-supported-in-this-environment"));if(i.i&&!V)return ci(i.i);var he=Su(v.providerId),Ie=q(i.uid+":::"),ot=null;(!Po()||en())&&i.s&&v.isOAuthProvider&&(ot=qn(i.s,i.l,i.m,l,v,null,Ie,y.default.SDK_VERSION||null,null,null,i.tenantId,i.u));var dn=vo(ot,he&&he.va,he&&he.ua);return A=A().then(function(){if(bg(i),!V)return i.I().then(function(){})}).then(function(){return Ih(i.b,dn,l,v,Ie,!!ot,i.tenantId)}).then(function(){return new Or(function(An,Fr){i.na(l,null,new ce("cancelled-popup-request"),i.g||null),i.f=An,i.C=Fr,i.g=Ie,i.c=Dh(i.b,i,l,dn,Ie)})}).then(function(An){return dn&&ps(dn),An?Io(An):null}).o(function(An){throw dn&&ps(dn),An}),jo(i,A,V)}function Bu(i,l,v,A,V){if(!Pr())return ci(new ce("operation-not-supported-in-this-environment"));if(i.i&&!V)return ci(i.i);var he=null,Ie=q(i.uid+":::");return A=A().then(function(){if(bg(i),!V)return i.I().then(function(){})}).then(function(){return i.ga=Ie,cl(i)}).then(function(ot){return i.ha&&(ot=(ot=i.ha).b.set(_u,i.w(),ot.a)),ot}).then(function(){return up(i.b,l,v,Ie,i.tenantId)}).o(function(ot){if(he=ot,i.ha)return Kc(i.ha);throw he}).then(function(){if(he)throw he}),jo(i,A,V)}function bg(i){if(!i.b||!i.P)throw new ce(i.b&&!i.P?"internal-error":"auth-domain-config-required")}function jo(i,l,v){var A=function(i,l,v){return i.i&&!v?(l.cancel(),ci(i.i)):l.o(function(A){throw!A||"auth/user-disabled"!=A.code&&"auth/user-token-expired"!=A.code||(i.i||i.dispatchEvent(new hc("userInvalidated")),i.i=A),A})}(i,l,v);return i.N.push(A),A.oa(function(){Dn(i.N,A)}),A.o(function(V){var he=null;throw V&&"auth/multi-factor-auth-required"===V.code&&(he=hg(V.w(),Cd(i),nt(i.jc,i))),he||V})}function Ls(i){if(!i.apiKey)return null;var l={apiKey:i.apiKey,authDomain:i.authDomain,appName:i.appName,emulatorConfig:i.emulatorConfig},v={};if(!i.stsTokenManager||!i.stsTokenManager.accessToken)return null;v[so]=i.stsTokenManager.accessToken,v.refreshToken=i.stsTokenManager.refreshToken||null;var A=i.stsTokenManager.expirationTime;A&&(v.expiresIn=(A-Date.now())/1e3);var V=new Gs(l,v,i);return i.providerData&&Zt(i.providerData,function(he){he&&Vi(V,Io(he))}),i.redirectEventId&&(V.ga=i.redirectEventId),V}function Dm(i){this.a=i,this.b=ac()}cp.prototype.Rc=function(i){var l=this;return i.tb(this.a.a,this.c).then(function(v){var A=Te(l.f);return delete A[Qa],delete A[Em],Ot(A,v),l.g(A)})},ve(cg,ce),dg.prototype.tb=function(i,l,v){return l.type==Us?function(i,l,v,A){return v.Ha().then(function(V){return V={idToken:V},void 0!==A&&(V.displayName=A),Ot(V,{phoneVerificationInfo:No(i.a)}),vi(l,pu,V)})}(this,i,l,v):function(i,l,v){return v.Ha().then(function(A){return Ot(A={mfaPendingCredential:A},{phoneVerificationInfo:No(i.a)}),vi(l,nf,A)})}(this,i,l)},ve(hp,dg),ve(dp,hp),ve(hc,$),(_=fp.prototype).yc=function(i){gp(this,function(i){var l=[];return Zt(i.mfaInfo||[],function(v){(v=Ca(v))&&l.push(v)}),l}(i.hd))},_.Sb=function(){return this.a.I().then(function(i){return new Zu(i,null)})},_.fc=function(i,l){var v=this,A=this.a.a;return this.Sb().then(function(V){return i.tb(A,V,l)}).then(function(V){return Vo(v.a,V),v.a.reload()})},_.bd=function(i){var l=this,v="string"==typeof i?i:i.uid,A=this.a.a;return this.a.I().then(function(V){return vi(A,Eh,{idToken:V,mfaEnrollmentId:v})}).then(function(V){var he=Jn(l.b,function(Ie){return Ie.uid!=v});return gp(l,he),Vo(l.a,V),l.a.reload().o(function(Ie){if("auth/user-token-expired"!=Ie.code)throw Ie})})},_.w=function(){return{multiFactor:{enrolledFactors:Rn(this.b,function(i){return i.w()})}}},mp.prototype.start=function(){this.a=this.c,_p(this,!0)},mp.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},vp.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},vp.prototype.getToken=function(i){return i=!!i,this.b&&!this.a?ci(new ce("user-token-expired")):i||!this.b||Date.now()>this.c-3e4?this.a?function(i,l){return function(i,l){return new Or(function(v,A){"refresh_token"==l.grant_type&&l.refresh_token||"authorization_code"==l.grant_type&&l.code?rd(i,i.l+"?key="+encodeURIComponent(i.c),function(V){V?V.error?A(af(V)):V.access_token&&V.refresh_token?v(V):A(new ce("internal-error")):A(new ce("network-request-failed"))},"POST",Rs(l).toString(),i.g,i.m.get()):A(new ce("internal-error"))})}(i.f,l).then(function(v){return i.b=El(v.access_token),i.a=v.refresh_token,fg(i,v.expires_in),{accessToken:i.b.toString(),refreshToken:i.a}}).o(function(v){throw"auth/user-token-expired"==v.code&&(i.a=null),v})}(this,{grant_type:"refresh_token",refresh_token:this.a}):rr(null):rr({accessToken:this.b.toString(),refreshToken:this.a})},Pa.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},ve(Gs,zo),Gs.prototype.xa=function(i){this.za=i,ic(this.a,i)},Gs.prototype.la=function(){return this.za},Gs.prototype.Ga=function(){return tn(this.aa)},Gs.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},er(Gs.prototype,"providerId","firebase"),(_=Gs.prototype).reload=function(){var i=this;return jo(this,wp(this).then(function(){return Ao(i).then(function(){return cl(i)}).then(_g)}))},_.oc=function(i){return this.I(i).then(function(l){return new bm(l)})},_.I=function(i){var l=this;return jo(this,wp(this).then(function(){return l.h.getToken(i)}).then(function(v){if(!v)throw new ce("internal-error");return v.accessToken!=l.Aa&&(Ef(l,v.accessToken),l.dispatchEvent(new hc("tokenChanged"))),Vl(l,"refreshToken",v.refreshToken),v.accessToken}))},_.Kc=function(i){if(!(i=i.users)||!i.length)throw new ce("internal-error");Ep(this,{uid:(i=i[0]).localId,displayName:i.displayName,photoURL:i.photoUrl,email:i.email,emailVerified:!!i.emailVerified,phoneNumber:i.phoneNumber,lastLoginAt:i.lastLoginAt,createdAt:i.createdAt,tenantId:i.tenantId});for(var l=function(i){return(i=i.providerUserInfo)&&i.length?Rn(i,function(l){return new pg(l.rawId,l.providerId,l.email,l.displayName,l.photoUrl,l.phoneNumber)}):[]}(i),v=0;v<l.length;v++)Vi(this,l[v]);Vl(this,"isAnonymous",!(this.email&&i.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new hc("userReloaded",{hd:i}))},_.Lc=function(i){return ts("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(i)},_.ub=function(i){var l=this,v=null;return jo(this,i.c(this.a,this.uid).then(function(A){return Vo(l,A),v=Id(l,A,"reauthenticate"),l.i=null,l.reload()}).then(function(){return v}),!0)},_.Cc=function(i){return ts("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(i)},_.rb=function(i){var l=this,v=null;return jo(this,jl(this,i.providerId).then(function(){return l.I()}).then(function(A){return i.b(l.a,A)}).then(function(A){return v=Id(l,A,"link"),yg(l,A)}).then(function(){return v}))},_.Dc=function(i,l){var v=this;return jo(this,jl(this,"phone").then(function(){return lp(Cd(v),i,l,nt(v.rb,v))}))},_.Mc=function(i,l){var v=this;return jo(this,rr().then(function(){return lp(Cd(v),i,l,nt(v.ub,v))}),!0)},_.Cb=function(i){var l=this;return jo(this,this.I().then(function(v){return l.a.Cb(v,i)}).then(function(v){return Vo(l,v),l.reload()}))},_.ed=function(i){var l=this;return jo(this,this.I().then(function(v){return i.b(l.a,v)}).then(function(v){return Vo(l,v),l.reload()}))},_.Db=function(i){var l=this;return jo(this,this.I().then(function(v){return l.a.Db(v,i)}).then(function(v){return Vo(l,v),l.reload()}))},_.Eb=function(i){if(void 0===i.displayName&&void 0===i.photoURL)return wp(this);var l=this;return jo(this,this.I().then(function(v){return l.a.Eb(v,{displayName:i.displayName,photoUrl:i.photoURL})}).then(function(v){return Vo(l,v),Vl(l,"displayName",v.displayName||null),Vl(l,"photoURL",v.photoUrl||null),Zt(l.providerData,function(A){"password"===A.providerId&&(er(A,"displayName",l.displayName),er(A,"photoURL",l.photoURL))}),cl(l)}).then(_g))},_.cd=function(i){var l=this;return jo(this,Ao(this).then(function(v){return ur(zc(l),i)?function(i,l,v){return vi(i,Hf,{idToken:l,deleteProvider:v})}(l.a,v,[i]).then(function(A){var V={};return Zt(A.providerUserInfo||[],function(he){V[he.providerId]=!0}),Zt(zc(l),function(he){V[he]||vg(l,he)}),V[$o.PROVIDER_ID]||er(l,"phoneNumber",null),cl(l)}):cl(l).then(function(){throw new ce("no-such-provider")})}))},_.delete=function(){var i=this;return jo(this,this.I().then(function(l){return vi(i.a,Qp,{idToken:l})}).then(function(){i.dispatchEvent(new hc("userDeleted"))})).then(function(){for(var l=0;l<i.N.length;l++)i.N[l].cancel("app-deleted");bf(i,null),mg(i,null),bp(i,null),i.N=[],i.J=!0,Td(i),er(i,"refreshToken",null),i.b&&wd(i.b,i)})},_.Gb=function(i,l){return!!("linkViaPopup"==i&&(this.g||null)==l&&this.f||"reauthViaPopup"==i&&(this.g||null)==l&&this.f||"linkViaRedirect"==i&&(this.ga||null)==l||"reauthViaRedirect"==i&&(this.ga||null)==l)},_.na=function(i,l,v,A){"linkViaPopup"!=i&&"reauthViaPopup"!=i||A!=(this.g||null)||(v&&this.C?this.C(v):l&&!v&&this.f&&this.f(l),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},_.Fa=function(i,l){return"linkViaPopup"==i&&l==(this.g||null)?nt(this.Lb,this):"reauthViaPopup"==i&&l==(this.g||null)?nt(this.Mb,this):"linkViaRedirect"==i&&(this.ga||null)==l?nt(this.Lb,this):"reauthViaRedirect"==i&&(this.ga||null)==l?nt(this.Mb,this):null},_.Ec=function(i){var l=this;return x_(this,"linkViaPopup",i,function(){return jl(l,i.providerId).then(function(){return cl(l)})},!1)},_.Nc=function(i){return x_(this,"reauthViaPopup",i,function(){return rr()},!0)},_.Fc=function(i){var l=this;return Bu(this,"linkViaRedirect",i,function(){return jl(l,i.providerId)},!1)},_.Oc=function(i){return Bu(this,"reauthViaRedirect",i,function(){return rr()},!0)},_.Lb=function(i,l,v,A){var V=this;this.c&&(this.c.cancel(),this.c=null);var he=null;return jo(this,this.I().then(function(Ie){return Cs(V.a,{requestUri:i,postBody:A,sessionId:l,idToken:Ie})}).then(function(Ie){return he=Id(V,Ie,"link"),yg(V,Ie)}).then(function(){return he}))},_.Mb=function(i,l,v,A){var V=this;this.c&&(this.c.cancel(),this.c=null);var he=null;return jo(this,rr().then(function(){return Mi(vh(V.a,{requestUri:i,sessionId:l,postBody:A,tenantId:v}),V.uid)}).then(function(ot){return he=Id(V,ot,"reauthenticate"),Vo(V,ot),V.i=null,V.reload()}).then(function(){return he}),!0)},_.vb=function(i){var l=this,v=null;return jo(this,this.I().then(function(A){return v=A,void 0===i||It(i)?{}:Du(new vs(i))}).then(function(A){return l.a.vb(v,A)}).then(function(A){if(l.email!=A)return l.reload()}).then(function(){}))},_.Fb=function(i,l){var v=this,A=null;return jo(this,this.I().then(function(V){return A=V,void 0===l||It(l)?{}:Du(new vs(l))}).then(function(V){return v.a.Fb(A,i,V)}).then(function(V){if(v.email!=V)return v.reload()}).then(function(){}))},_.jc=function(i){var l=null,v=this;return jo(this,i=Mi(rr(i),v.uid).then(function(A){return l=Id(v,A,"reauthenticate"),Vo(v,A),v.i=null,v.reload()}).then(function(){return l}),!0)},_.toJSON=function(){return this.w()},_.w=function(){var i={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&Ot(i,this.metadata.w()),Zt(this.providerData,function(l){i.providerData.push(function(i){var v,l={};for(v in i)i.hasOwnProperty(v)&&(l[v]=i[v]);return l}(l))}),Ot(i,this.S.w()),i};var _u={name:"redirectUser",F:"session"};function Kc(i){return qa(i.b,_u,i.a)}function Dd(i){this.a=i,this.b=ac(),this.c=null,this.f=function(i){var l=Vu("local"),v=Vu("session"),A=Vu("none");return function(i,l,v){var A=Ya(l,v),V=jc(i,l.F);return i.get(l,v).then(function(he){var Ie=null;try{Ie=O(G.localStorage.getItem(A))}catch(ot){}if(Ie&&!he)return G.localStorage.removeItem(A),i.set(l,Ie,v);Ie&&he&&"localStorage"!=V.type&&G.localStorage.removeItem(A)})}(i.b,l,i.a).then(function(){return i.b.get(v,i.a)}).then(function(V){return V?v:i.b.get(A,i.a).then(function(he){return he?A:i.b.get(l,i.a).then(function(Ie){return Ie?l:i.b.get(mc,i.a).then(function(ot){return ot?Vu(ot):l})})})}).then(function(V){return i.c=V,wg(i,V.F)}).o(function(){i.c||(i.c=l)})}(this),this.b.addListener(Vu("local"),this.a,nt(this.g,this))}function wg(i,l){var A,v=[];for(A in ll)ll[A]!==l&&v.push(qa(i.b,Vu(ll[A]),i.a));return v.push(qa(i.b,mc,i.a)),function(i){return new Or(function(l,v){var A=i.length,V=[];if(A)for(var he=function(An,Fr){A--,V[An]=Fr,0==A&&l(V)},Ie=function(An){v(An)},ot=0;ot<i.length;ot++)re(i[ot],et(he,ot),Ie);else l(V)})}(v)}Dd.prototype.g=function(){var i=this,l=Vu("local");$c(this,function(){return rr().then(function(){return i.c&&"local"!=i.c.F?i.b.get(l,i.a):null}).then(function(v){if(v)return wg(i,"local").then(function(){i.c=l})})})};var mc={name:"persistence",F:"session"};function Vu(i){return{name:"authUser",F:i}}function Mm(i,l){return $c(i,function(){return i.b.set(i.c,l.w(),i.a)})}function vu(i){return $c(i,function(){return qa(i.b,i.c,i.a)})}function wf(i,l,v){return $c(i,function(){return i.b.get(i.c,i.a).then(function(A){return A&&l&&(A.authDomain=l),A&&v&&(A.emulatorConfig=v),Ls(A||{})})})}function $c(i,l){return i.f=i.f.then(l,l),i.f}function Uu(i){if(this.l=!1,er(this,"settings",new ug),er(this,"app",i),!zi(this).options||!zi(this).options.apiKey)throw new ce("invalid-api-key");i=y.default.SDK_VERSION?yr(y.default.SDK_VERSION):null,this.a=new fo(zi(this).options&&zi(this).options.apiKey,pn(Mn),i),this.P=[],this.s=[],this.N=[],this.Pa=y.default.INTERNAL.createSubscribe(nt(this.zc,this)),this.W=void 0,this.ib=y.default.INTERNAL.createSubscribe(nt(this.Ac,this)),_c(this,null),this.i=new Dd(zi(this).options.apiKey+":"+zi(this).name),this.D=new Dm(zi(this).options.apiKey+":"+zi(this).name),this.$=Ki(this,function(i){var l=zi(i).options.authDomain,v=function(i){var l=function(i,l){return i.b.get(_u,i.a).then(function(v){return v&&l&&(v.authDomain=l),Ls(v||{})})}(i.D,zi(i).options.authDomain).then(function(v){return(i.m=v)&&(v.ha=i.D),Kc(i.D)});return Ki(i,l)}(i).then(function(){return wf(i.i,l,i.R)}).then(function(A){return A?(A.ha=i.D,i.m&&(i.m.ga||null)==(A.ga||null)?A:A.reload().then(function(){return Mm(i.i,A).then(function(){return A})}).o(function(V){return"auth/network-request-failed"==V.code?A:vu(i.i)})):null}).then(function(A){_c(i,A||null)});return Ki(i,v)}(this)),this.h=Ki(this,function(i){return i.$.then(function(){return _a(i)}).o(function(){}).then(function(){if(!i.l)return i.ja()}).o(function(){}).then(function(){if(!i.l){i.ba=!0;var l=i.i;l.b.addListener(Vu("local"),l.a,i.ja)}})}(this)),this.ba=!1,this.ja=nt(this.Zc,this),this.Ba=nt(this.da,this),this.qa=nt(this.mc,this),this.za=nt(this.wc,this),this.Aa=nt(this.xc,this),this.b=null,function(i){var l=zi(i).options.authDomain,v=zi(i).options.apiKey;l&&Pr()&&(i.Oa=i.$.then(function(){if(!i.l){if(i.b=mf(l,v,zi(i).name,i.R),ap(i.b,i),ai(i)&&dc(ai(i)),i.m){dc(i.m);var A=i.m;A.xa(i.la()),bf(A,i),Wc(A=i.m,i.J),bp(A,i),gg(A=i.m,i.R),mg(A,i),i.m=null}return i.b}}))}(this),this.INTERNAL={},this.INTERNAL.delete=nt(this.delete,this),this.INTERNAL.logFramework=nt(this.Gc,this),this.u=0,zo.call(this),function(i){Object.defineProperty(i,"lc",{get:function(){return this.la()},set:function(l){this.xa(l)},enumerable:!1}),i.aa=null,Object.defineProperty(i,"ti",{get:function(){return this.T()},set:function(l){this.zb(l)},enumerable:!1}),i.S=null,Object.defineProperty(i,"emulatorConfig",{get:function(){if(this.R){var l=cr(this.R.url);l=Io({protocol:l.c,host:l.a,port:l.g,options:Io({disableWarnings:this.R.ec})})}else l=null;return l},enumerable:!1})}(this),this.J=[],this.R=null}function Rm(i){$.call(this,"languageCodeChanged"),this.h=i}function k_(i){$.call(this,"emulatorConfigChanged"),this.c=i}function Om(i){$.call(this,"frameworkChanged"),this.f=i}function Ph(i){return i.Oa||ci(new ce("auth-domain-config-required"))}function _a(i){if(!Pr())return ci(new ce("operation-not-supported-in-this-environment"));var l=Ph(i).then(function(){return i.b.ra()}).then(function(v){return v?Io(v):null});return Ki(i,l)}function _c(i,l){ai(i)&&(function(i,l){jn(i.W,function(v){return v==l})}(ai(i),i.Ba),Li(ai(i),"tokenChanged",i.qa),Li(ai(i),"userDeleted",i.za),Li(ai(i),"userInvalidated",i.Aa),Td(ai(i))),l&&(l.W.push(i.Ba),ti(l,"tokenChanged",i.qa),ti(l,"userDeleted",i.za),ti(l,"userInvalidated",i.Aa),0<i.u&&Im(l)),er(i,"currentUser",l),l&&(l.xa(i.la()),bf(l,i),Wc(l,i.J),bp(l,i),gg(l,i.R),mg(l,i))}function Hl(i,l){var v=null,A=null;return Ki(i,l.then(function(V){return v=da(V),A=Dc(V),function(i,l){var v={};return v.apiKey=zi(i).options.apiKey,v.authDomain=zi(i).options.authDomain,v.appName=zi(i).name,i.R&&(v.emulatorConfig=i.R),i.$.then(function(){return function(i,l,v,A){var V=new Gs(i,l);return v&&(V.ha=v),A&&Wc(V,A),V.reload().then(function(){return V})}(v,l,i.D,i.Ga())}).then(function(A){return ai(i)&&A.uid==ai(i).uid?(fc(ai(i),A),i.da(A)):(_c(i,A),dc(A),i.da(A))}).then(function(){Cf(i)})}(i,V)},function(V){var he=null;throw V&&"auth/multi-factor-auth-required"===V.code&&(he=hg(V.w(),i,nt(i.kc,i))),he||V}).then(function(){return Io({user:ai(i),credential:v,additionalUserInfo:A,operationType:"signIn"})}))}function zi(i){return i.app}function ai(i){return i.currentUser}function vc(i){return ai(i)&&ai(i)._lat||null}function Cf(i){if(i.ba){for(var l=0;l<i.s.length;l++)i.s[l]&&i.s[l](vc(i));if(i.W!==i.getUid()&&i.N.length)for(i.W=i.getUid(),l=0;l<i.N.length;l++)i.N[l]&&i.N[l](vc(i))}}function Ki(i,l){return i.P.push(l),l.oa(function(){Dn(i.P,l)}),l}function xa(){}function hl(){this.a={},this.b=1e12}Dd.prototype.yb=function(i){var l=null,v=this;return function(i){var l=new ce("invalid-persistence-type"),v=new ce("unsupported-persistence-type");e:{for(A in ll)if(ll[A]==i){var A=!0;break e}A=!1}if(!A||"string"!=typeof i)throw l;switch(Uo()){case"ReactNative":if("session"===i)throw v;break;case"Node":if("none"!==i)throw v;break;case"Worker":if("session"===i||!hd()&&"none"!==i)throw v;break;default:if(!_l()&&"none"!==i)throw v}}(i),$c(this,function(){return i!=v.c.F?v.b.get(v.c,v.a).then(function(A){return l=A,wg(v,i)}).then(function(){if(v.c=Vu(i),l)return v.b.set(v.c,l,v.a)}):rr()})},ve(Uu,zo),ve(Rm,$),ve(k_,$),ve(Om,$),(_=Uu.prototype).yb=function(i){return Ki(this,i=this.i.yb(i))},_.xa=function(i){this.aa===i||this.l||(this.aa=i,ic(this.a,this.aa),this.dispatchEvent(new Rm(this.la())))},_.la=function(){return this.aa},_.fd=function(){var i=G.navigator;this.xa(i&&(i.languages&&i.languages[0]||i.language||i.userLanguage)||null)},_.gd=function(i,l){if(!this.R){if(!/^https?:\/\//.test(i))throw new ce("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(i){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),G.document&&!i&&ru().then(function(){var l=G.document.createElement("div");l.innerText="Running in emulator mode. Do not use with production credentials.",l.style.position="fixed",l.style.width="100%",l.style.backgroundColor="#ffffff",l.style.border=".1em solid #000000",l.style.color="#b50000",l.style.bottom="0px",l.style.left="0px",l.style.margin="0px",l.style.zIndex=1e4,l.style.textAlign="center",l.classList.add("firebase-emulator-warning"),G.document.body.appendChild(l)})})(l=!!l&&!!l.disableWarnings),this.R={url:i,ec:l},this.settings.jb=!0,qo(this.a,this.R),this.dispatchEvent(new k_(this.R))}},_.Gc=function(i){this.J.push(i),Pl(this.a,y.default.SDK_VERSION?yr(y.default.SDK_VERSION,this.J):null),this.dispatchEvent(new Om(this.J))},_.Ga=function(){return tn(this.J)},_.zb=function(i){this.S===i||this.l||(this.S=i,this.a.b=this.S)},_.T=function(){return this.S},_.toJSON=function(){return{apiKey:zi(this).options.apiKey,authDomain:zi(this).options.authDomain,appName:zi(this).name,currentUser:ai(this)&&ai(this).w()}},_.Gb=function(i,l){switch(i){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==l&&!!this.f;default:return!1}},_.na=function(i,l,v,A){"signInViaPopup"==i&&this.g==A&&(v&&this.C?this.C(v):l&&!v&&this.f&&this.f(l),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},_.Fa=function(i,l){return"signInViaRedirect"==i||"signInViaPopup"==i&&this.g==l&&this.f?nt(this.ic,this):null},_.ic=function(i,l,v,A){var V=this,he={requestUri:i,postBody:A,sessionId:l,tenantId:v};return this.c&&(this.c.cancel(),this.c=null),V.$.then(function(){return Hl(V,Nc(V.a,he))})},_.Xc=function(i){if(!Pr())return ci(new ce("operation-not-supported-in-this-environment"));var l=this,v=Su(i.providerId),A=q(),V=null;(!Po()||en())&&zi(this).options.authDomain&&i.isOAuthProvider&&(V=qn(zi(this).options.authDomain,zi(this).options.apiKey,zi(this).name,"signInViaPopup",i,null,A,y.default.SDK_VERSION||null,null,null,this.T(),this.R));var he=vo(V,v&&v.va,v&&v.ua);return Ki(this,v=Ph(this).then(function(Ie){return Ih(Ie,he,"signInViaPopup",i,A,!!V,l.T())}).then(function(){return new Or(function(Ie,ot){l.na("signInViaPopup",null,new ce("cancelled-popup-request"),l.g),l.f=Ie,l.C=ot,l.g=A,l.c=Dh(l.b,l,"signInViaPopup",he,A)})}).then(function(Ie){return he&&ps(he),Ie?Io(Ie):null}).o(function(Ie){throw he&&ps(he),Ie}))},_.Yc=function(i){if(!Pr())return ci(new ce("operation-not-supported-in-this-environment"));var l=this;return Ki(this,Ph(this).then(function(){return function(i){return $c(i,function(){return i.b.set(mc,i.c.F,i.a)})}(l.i)}).then(function(){return up(l.b,"signInViaRedirect",i,void 0,l.T())}))},_.ra=function(){var i=this;return _a(this).then(function(l){return i.b&&Rh(i.b.b),l}).o(function(l){throw i.b&&Rh(i.b.b),l})},_.dd=function(i){if(!i)return ci(new ce("null-user"));if(this.S!=i.tenantId)return ci(new ce("tenant-id-mismatch"));var l=this,v={};v.apiKey=zi(this).options.apiKey,v.authDomain=zi(this).options.authDomain,v.appName=zi(this).name;var A=function(i,l,v,A){var V=i.h,he={};return he[so]=V.b&&V.b.toString(),he.refreshToken=V.a,l=new Gs(l||{apiKey:i.l,authDomain:i.s,appName:i.m},he),v&&(l.ha=v),A&&Wc(l,A),fc(l,i),l}(i,v,l.D,l.Ga());return Ki(this,this.h.then(function(){if(zi(l).options.apiKey!=i.l)return A.reload()}).then(function(){return ai(l)&&i.uid==ai(l).uid?(fc(ai(l),i),l.da(i)):(_c(l,A),dc(A),l.da(A))}).then(function(){Cf(l)}))},_.Bb=function(){var i=this;return Ki(this,this.h.then(function(){return i.b&&Rh(i.b.b),ai(i)?(_c(i,null),vu(i.i).then(function(){Cf(i)})):rr()}))},_.Zc=function(){var i=this;return wf(this.i,zi(this).options.authDomain).then(function(l){if(!i.l){var v;if(v=ai(i)&&l){v=ai(i).uid;var A=l.uid;v=null!=v&&""!==v&&null!=A&&""!==A&&v==A}if(v)return fc(ai(i),l),ai(i).I();(ai(i)||l)&&(_c(i,l),l&&(dc(l),l.ha=i.D),i.b&&ap(i.b,i),Cf(i))}})},_.da=function(i){return Mm(this.i,i)},_.mc=function(){Cf(this),this.da(ai(this))},_.wc=function(){this.Bb()},_.xc=function(){this.Bb()},_.kc=function(i){var l=this;return this.h.then(function(){return Hl(l,rr(i))})},_.zc=function(i){var l=this;this.addAuthTokenListener(function(){i.next(ai(l))})},_.Ac=function(i){var l=this;!function(i,l){i.N.push(l),Ki(i,i.h.then(function(){!i.l&&ur(i.N,l)&&i.W!==i.getUid()&&(i.W=i.getUid(),l(vc(i)))}))}(this,function(){i.next(ai(l))})},_.Ic=function(i,l,v){var A=this;return this.ba&&Promise.resolve().then(function(){"function"==typeof i?i(ai(A)):"function"==typeof i.next&&i.next(ai(A))}),this.Pa(i,l,v)},_.Hc=function(i,l,v){var A=this;return this.ba&&Promise.resolve().then(function(){A.W=A.getUid(),"function"==typeof i?i(ai(A)):"function"==typeof i.next&&i.next(ai(A))}),this.ib(i,l,v)},_.nc=function(i){var l=this;return Ki(this,this.h.then(function(){return ai(l)?ai(l).I(i).then(function(A){return{accessToken:A}}):null}))},_.Tc=function(i){var l=this;return this.h.then(function(){return Hl(l,vi(l.a,bh,{token:i}))}).then(function(v){var A=v.user;return Vl(A,"isAnonymous",!1),l.da(A),v})},_.Uc=function(i,l){var v=this;return this.h.then(function(){return Hl(v,vi(v.a,zf,{email:i,password:l}))})},_.dc=function(i,l){var v=this;return this.h.then(function(){return Hl(v,vi(v.a,qp,{email:i,password:l}))})},_.ab=function(i){var l=this;return this.h.then(function(){return Hl(l,i.ka(l.a))})},_.Sc=function(i){return ts("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(i)},_.Ab=function(){var i=this;return this.h.then(function(){var l=ai(i);if(l&&l.isAnonymous){var v=Io({providerId:null,isNewUser:!1});return Io({user:l,credential:null,additionalUserInfo:v,operationType:"signIn"})}return Hl(i,i.a.Ab()).then(function(A){var V=A.user;return Vl(V,"isAnonymous",!0),i.da(V),A})})},_.getUid=function(){return ai(this)&&ai(this).uid||null},_.cc=function(i){this.addAuthTokenListener(i),this.u++,0<this.u&&ai(this)&&Im(ai(this))},_.Pc=function(i){var l=this;Zt(this.s,function(v){v==i&&l.u--}),0>this.u&&(this.u=0),0==this.u&&ai(this)&&Td(ai(this)),this.removeAuthTokenListener(i)},_.addAuthTokenListener=function(i){var l=this;this.s.push(i),Ki(this,this.h.then(function(){l.l||ur(l.s,i)&&i(vc(l))}))},_.removeAuthTokenListener=function(i){jn(this.s,function(l){return l==i})},_.delete=function(){this.l=!0;for(var i=0;i<this.P.length;i++)this.P[i].cancel("app-deleted");return this.P=[],this.i&&(i=this.i).b.removeListener(Vu("local"),i.a,this.ja),this.b&&(wd(this.b,this),Rh(this.b.b)),Promise.resolve()},_.hc=function(i){return Ki(this,function(i,l){return vi(i,yh,{identifier:l,continueUri:wa()?wi():"http://localhost"}).then(function(v){return v.signinMethods||[]})}(this.a,i))},_.Bc=function(i){return!!ys(i)},_.xb=function(i,l){var v=this;return Ki(this,rr().then(function(){var A=new vs(l);if(!A.c)throw new ce("argument-error",Cu+" must be true when sending sign in link to email");return Du(A)}).then(function(A){return v.a.xb(i,A)}).then(function(){}))},_.jd=function(i){return this.Sa(i).then(function(l){return l.data.email})},_.ob=function(i,l){return Ki(this,this.a.ob(i,l).then(function(){}))},_.Sa=function(i){return Ki(this,this.a.Sa(i).then(function(l){return new kf(l)}))},_.kb=function(i){return Ki(this,this.a.kb(i).then(function(){}))},_.wb=function(i,l){var v=this;return Ki(this,rr().then(function(){return void 0===l||It(l)?{}:Du(new vs(l))}).then(function(A){return v.a.wb(i,A)}).then(function(){}))},_.Wc=function(i,l){return Ki(this,lp(this,i,l,nt(this.ab,this)))},_.Vc=function(i,l){var v=this;return Ki(this,rr().then(function(){var A=l||wi(),V=Ju(i,A);if(!(A=ys(A)))throw new ce("argument-error","Invalid email link!");if(A.tenantId!==v.T())throw new ce("tenant-id-mismatch");return v.ab(V)}))},xa.prototype.render=function(){},xa.prototype.reset=function(){},xa.prototype.getResponse=function(){},xa.prototype.execute=function(){};var dl=null;function Dp(i,l){return(l=Sp(l))&&i.a[l]||null}function Sp(i){return(i=void 0===i?1e12:i)?i.toString():null}function Tf(i,l){this.g=!1,this.c=l,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=br(i);var v=this;this.i=function(){v.execute()},this.h?this.execute():ti(this.f,"click",this.i)}function xh(i){if(i.g)throw Error("reCAPTCHA mock was already deleted!")}function Gl(){}function Tg(){}hl.prototype.render=function(i,l){return this.a[this.b.toString()]=new Tf(i,l),this.b++},hl.prototype.reset=function(i){var l=Dp(this,i);i=Sp(i),l&&i&&(l.delete(),delete this.a[i])},hl.prototype.getResponse=function(i){return(i=Dp(this,i))?i.getResponse():null},hl.prototype.execute=function(i){(i=Dp(this,i))&&i.execute()},Tf.prototype.getResponse=function(){return xh(this),this.b},Tf.prototype.execute=function(){xh(this);var i=this;this.a||(this.a=setTimeout(function(){i.b=function(){for(var i=50,l=[];0<i;)l.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),i--;return l.join("")}();var l=i.c.callback,v=i.c["expired-callback"];if(l)try{l(i.b)}catch(A){}i.a=setTimeout(function(){if(i.a=null,i.b=null,v)try{v()}catch(A){}i.h&&i.execute()},6e4)},500))},Tf.prototype.delete=function(){xh(this),this.g=!0,clearTimeout(this.a),this.a=null,Li(this.f,"click",this.i)},er(Gl,"FACTOR_ID","phone"),Tg.prototype.g=function(){return dl||(dl=new hl),rr(dl)},Tg.prototype.c=function(){};var Ap=null;function Ig(){this.b=G.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Dg=new je(bt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),km=new st(3e4,6e4);Ig.prototype.g=function(i){var l=this;return new Or(function(v,A){var V=setTimeout(function(){A(new ce("network-request-failed"))},km.get());!G.grecaptcha||i!==l.f&&!l.b?(G[l.a]=function(){if(G.grecaptcha){l.f=i;var Ie=G.grecaptcha.render;G.grecaptcha.render=function(ot,dn){return ot=Ie(ot,dn),l.b++,ot},clearTimeout(V),v(G.grecaptcha)}else clearTimeout(V),A(new ce("internal-error"));delete G[l.a]},rr(Hs(Wt(Dg,{onload:l.a,hl:i||""}))).o(function(){clearTimeout(V),A(new ce("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(V),v(G.grecaptcha))})},Ig.prototype.c=function(){this.b--};var Mp=null;function Sg(i,l,v,A,V,he,Ie){if(er(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=l,this.g=null,Ie?(Ap||(Ap=new Tg),Ie=Ap):(Mp||(Mp=new Ig),Ie=Mp),this.m=Ie,this.a=v||{theme:"light",type:"image"},this.h=[],this.a[Rp])throw new ce("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Df],!G.document)throw new ce("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!br(l)||!this.i&&br(l).hasChildNodes())throw new ce("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new fo(i,he||null,V||null),this.u=A||function(){return null};var ot=this;this.l=[];var dn=this.a[Nm];this.a[Nm]=function(Fr){if(Ag(ot,Fr),"function"==typeof dn)dn(Fr);else if("string"==typeof dn){var ki=Pi(dn,G);"function"==typeof ki&&ki(Fr)}};var An=this.a[If];this.a[If]=function(){if(Ag(ot,null),"function"==typeof An)An();else if("string"==typeof An){var Fr=Pi(An,G);"function"==typeof Fr&&Fr()}}}var Nm="callback",If="expired-callback",Rp="sitekey",Df="size";function Ag(i,l){for(var v=0;v<i.l.length;v++)try{i.l[v](l)}catch(A){}}function Ts(i,l){return i.h.push(l),l.oa(function(){Dn(i.h,l)}),l}function yc(i){if(i.J)throw new ce("internal-error","RecaptchaVerifier instance has been destroyed.")}function Mg(i,l,v){var A=!1;try{this.b=v||y.default.app()}catch(Ie){throw new ce("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new ce("invalid-api-key");v=this.b.options.apiKey;var V=this,he=null;try{he=this.b.auth().Ga()}catch(Ie){}try{A=this.b.auth().settings.appVerificationDisabledForTesting}catch(Ie){}he=y.default.SDK_VERSION?yr(y.default.SDK_VERSION,he):null,Sg.call(this,v,i,l,function(){try{var Ie=V.b.auth().la()}catch(ot){Ie=null}return Ie},he,pn(Mn),A)}function Fm(i,l,v,A){e:{v=Array.prototype.slice.call(v);for(var V=0,he=!1,Ie=0;Ie<l.length;Ie++)if(l[Ie].optional)he=!0;else{if(he)throw new ce("internal-error","Argument validator encountered a required argument after an optional argument.");V++}if(he=l.length,v.length<V||he<v.length)A="Expected "+(V==he?1==V?"1 argument":V+" arguments":V+"-"+he+" arguments")+" but got "+v.length+".";else{for(V=0;V<v.length;V++)if(he=l[V].optional&&void 0===v[V],!l[V].M(v[V])&&!he){if(l=l[V],0>V||V>=kh.length)throw new ce("internal-error","Argument validator received an unsupported number of arguments.");v=kh[V],A=(A?"":v+" argument ")+(l.name?'"'+l.name+'" ':"")+"must be "+l.K+".";break e}A=null}}if(A)throw new ce("argument-error",i+" failed: "+A)}(_=Sg.prototype).Ia=function(){var i=this;return this.f?this.f:this.f=Ts(this,rr().then(function(){if(wa()&&!In())return ru();throw new ce("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return i.m.g(i.u())}).then(function(l){return i.g=l,vi(i.s,Gf,{})}).then(function(l){i.a[Rp]=l.recaptchaSiteKey}).o(function(l){throw i.f=null,l}))},_.render=function(){yc(this);var i=this;return Ts(this,this.Ia().then(function(){if(null===i.c){var l=i.v;if(!i.i){var v=br(l);l=function(i,l,v){var A=arguments,V=document,he=String(A[0]),Ie=A[1];if(!gr&&Ie&&(Ie.name||Ie.type)){if(he=["<",he],Ie.name&&he.push(' name="',Hi(Ie.name),'"'),Ie.type){he.push(' type="',Hi(Ie.type),'"');var ot={};Ot(ot,Ie),delete ot.type,Ie=ot}he.push(">"),he=he.join("")}return he=So(V,he),Ie&&("string"==typeof Ie?he.className=Ie:Array.isArray(Ie)?he.className=Ie.join(" "):bi(he,Ie)),2<A.length&&Ai(V,he,A),he}("DIV"),v.appendChild(l)}i.c=i.g.render(l,i.a)}return i.c}))},_.verify=function(){yc(this);var i=this;return Ts(this,this.render().then(function(l){return new Or(function(v){var A=i.g.getResponse(l);if(A)v(A);else{var V=function(he){he&&(function(i,l){jn(i.l,function(v){return v==l})}(i,V),v(he))};i.l.push(V),i.i&&i.g.execute(i.c)}})}))},_.reset=function(){yc(this),null!==this.c&&this.g.reset(this.c)},_.clear=function(){yc(this),this.J=!0,this.m.c();for(var i=0;i<this.h.length;i++)this.h[i].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){i=br(this.v);for(var l;l=i.firstChild;)i.removeChild(l)}},ve(Mg,Sg);var kh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function lr(i,l){return{name:i||"",K:"a valid string",optional:!!l,M:function(v){return"string"==typeof v}}}function Op(i,l){return{name:i||"",K:"a boolean",optional:!!l,M:function(v){return"boolean"==typeof v}}}function ds(i,l){return{name:i||"",K:"a valid object",optional:!!l,M:ze}}function Sd(i,l){return{name:i||"",K:"a function",optional:!!l,M:function(v){return"function"==typeof v}}}function ju(i,l){return{name:i||"",K:"null",optional:!!l,M:function(v){return null===v}}}function Yc(i){return{name:i?i+"Credential":"credential",K:i?"a valid "+i+" credential":"a valid credential",optional:!1,M:function(l){return!!l&&!(!l.ka||i&&l.providerId!==i)}}}function Md(i,l){return ze(i)&&"string"==typeof i.type&&i.type===l&&"function"==typeof i.Ha}function qc(i){return ze(i)&&"string"==typeof i.uid}function Lo(i,l,v,A){return{name:v||"",K:i.K+" or "+l.K,optional:!!A,M:function(V){return i.M(V)||l.M(V)}}}function po(i,l){for(var v in l){var A=l[v].name;i[A]=Wl(A,i[v],l[v].j)}}function Fh(i,l){for(var v in l){var A=l[v].name;A!==v&&Object.defineProperty(i,A,{get:et(function(V){return this[V]},v),set:et(function(V,he,Ie,ot){Fm(V,[Ie],[ot],!0),this[he]=ot},A,v,l[v].lb),enumerable:!0})}}function xi(i,l,v,A){i[l]=Wl(l,v,A)}function Wl(i,l,v){function A(){var Ie=Array.prototype.slice.call(arguments);return Fm(V,v,Ie),l.apply(this,Ie)}if(!v)return l;var he,V=function(i){return(i=i.split("."))[i.length-1]}(i);for(he in l)A[he]=l[he];for(he in l.prototype)A.prototype[he]=l.prototype[he];return A}po(Uu.prototype,{kb:{name:"applyActionCode",j:[lr("code")]},Sa:{name:"checkActionCode",j:[lr("code")]},ob:{name:"confirmPasswordReset",j:[lr("code"),lr("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[lr("email"),lr("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[lr("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[lr("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Lo(ds(),Sd(),"nextOrObserver"),Sd("opt_error",!0),Sd("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Lo(ds(),Sd(),"nextOrObserver"),Sd("opt_error",!0),Sd("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[lr("email"),Lo(ds("opt_actionCodeSettings",!0),ju(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[lr("email"),ds("actionCodeSettings")]},yb:{name:"setPersistence",j:[lr("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Yc()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[Yc()]},Tc:{name:"signInWithCustomToken",j:[lr("token")]},Uc:{name:"signInWithEmailAndPassword",j:[lr("email"),lr("password")]},Vc:{name:"signInWithEmailLink",j:[lr("email"),lr("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[lr("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(i){return!(!i||"string"!=typeof i.type||"function"!=typeof i.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(i){return!!(i&&i.providerId&&i.hasOwnProperty&&i.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(i){return!!(i&&i.providerId&&i.hasOwnProperty&&i.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[Lo({name:"user",K:"an instance of Firebase User",optional:!1,M:function(l){return!!(l&&l instanceof Gs)}},ju(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[lr(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[lr("url"),ds("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[lr("code")]}}),Fh(Uu.prototype,{lc:{name:"languageCode",lb:Lo(lr(),ju(),"languageCode")},ti:{name:"tenantId",lb:Lo(lr(),ju(),"tenantId")}}),(Uu.Persistence=ll).LOCAL="local",Uu.Persistence.SESSION="session",Uu.Persistence.NONE="none",po(Gs.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Op("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Op("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Yc()]},rb:{name:"linkWithCredential",j:[Yc()]},Dc:{name:"linkWithPhoneNumber",j:[lr("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(i){return!(!i||"string"!=typeof i.type||"function"!=typeof i.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(i){return!!(i&&i.providerId&&i.hasOwnProperty&&i.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(i){return!!(i&&i.providerId&&i.hasOwnProperty&&i.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Yc()]},ub:{name:"reauthenticateWithCredential",j:[Yc()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[lr("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(i){return!(!i||"string"!=typeof i.type||"function"!=typeof i.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(i){return!!(i&&i.providerId&&i.hasOwnProperty&&i.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(i){return!!(i&&i.providerId&&i.hasOwnProperty&&i.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[Lo(ds("opt_actionCodeSettings",!0),ju(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[lr(null,!0)]},cd:{name:"unlink",j:[lr("provider")]},Cb:{name:"updateEmail",j:[lr("email")]},Db:{name:"updatePassword",j:[lr("password")]},ed:{name:"updatePhoneNumber",j:[Yc("phone")]},Eb:{name:"updateProfile",j:[ds("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[lr("email"),Lo(ds("opt_actionCodeSettings",!0),ju(null,!0),"opt_actionCodeSettings",!0)]}}),po(hl.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),po(xa.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),po(Or.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Fh(ug.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:Op("appVerificationDisabledForTesting")}}),po(lg.prototype,{confirm:{name:"confirm",j:[lr("verificationCode")]}}),xi(Au,"fromJSON",function(i){i="string"==typeof i?JSON.parse(i):i;for(var l,v=[Zh,Kp,Sa,Ru],A=0;A<v.length;A++)if(l=v[A](i))return l;return null},[Lo(lr(),ds(),"json")]),xi(us,"credential",function(i,l){return new ca(i,l)},[lr("email"),lr("password")]),po(ca.prototype,{w:{name:"toJSON",j:[lr(null,!0)]}}),po(as.prototype,{Ca:{name:"addScope",j:[lr("scope")]},Ka:{name:"setCustomParameters",j:[ds("customOAuthParameters")]}}),xi(as,"credential",za,[Lo(lr(),ds(),"token")]),xi(us,"credentialWithLink",Ju,[lr("email"),lr("emailLink")]),po(Ps.prototype,{Ca:{name:"addScope",j:[lr("scope")]},Ka:{name:"setCustomParameters",j:[ds("customOAuthParameters")]}}),xi(Ps,"credential",Sc,[Lo(lr(),ds(),"token")]),po(Ou.prototype,{Ca:{name:"addScope",j:[lr("scope")]},Ka:{name:"setCustomParameters",j:[ds("customOAuthParameters")]}}),xi(Ou,"credential",ko,[Lo(lr(),Lo(ds(),ju()),"idToken"),Lo(lr(),ju(),"accessToken",!0)]),po(Kr.prototype,{Ka:{name:"setCustomParameters",j:[ds("customOAuthParameters")]}}),xi(Kr,"credential",js,[Lo(lr(),ds(),"token"),lr("secret",!0)]),po(ss.prototype,{Ca:{name:"addScope",j:[lr("scope")]},credential:{name:"credential",j:[Lo(lr(),Lo(ds(),ju()),"optionsOrIdToken"),Lo(lr(),ju(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[ds("customOAuthParameters")]}}),po(os.prototype,{w:{name:"toJSON",j:[lr(null,!0)]}}),po(Mu.prototype,{w:{name:"toJSON",j:[lr(null,!0)]}}),xi($o,"credential",Ud,[lr("verificationId"),lr("verificationCode")]),po($o.prototype,{gb:{name:"verifyPhoneNumber",j:[Lo(lr(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(v){return!!v&&(v.session&&v.phoneNumber?Md(v.session,Us)&&"string"==typeof v.phoneNumber:v.session&&v.multiFactorHint?Md(v.session,Ga)&&qc(v.multiFactorHint):v.session&&v.multiFactorUid?Md(v.session,Ga)&&"string"==typeof v.multiFactorUid:!!v.phoneNumber&&"string"==typeof v.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(i){return!(!i||"string"!=typeof i.type||"function"!=typeof i.verify)}}]}}),po(ha.prototype,{w:{name:"toJSON",j:[lr(null,!0)]}}),po(ce.prototype,{toJSON:{name:"toJSON",j:[lr(null,!0)]}}),po(su.prototype,{toJSON:{name:"toJSON",j:[lr(null,!0)]}}),po(Hd.prototype,{toJSON:{name:"toJSON",j:[lr(null,!0)]}}),po(cg.prototype,{toJSON:{name:"toJSON",j:[lr(null,!0)]}}),po(cp.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(i){return!!i&&!!i.tb}}]}}),po(fp.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(i){return!!i&&!!i.tb}},lr("displayName",!0)]},bd:{name:"unenroll",j:[Lo({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:qc},lr(),"multiFactorInfoIdentifier")]}}),po(Mg.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),xi(Ld,"parseLink",bl,[lr("link")]),xi(Gl,"assertion",function(i){return new dp(i)},[Yc("phone")]),function(){if(void 0===y.default||!y.default.INTERNAL||!y.default.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var i={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Ql,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ih,VERIFY_AND_CHANGE_EMAIL:$u,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Uu,AuthCredential:Au,Error:ce};xi(i,"EmailAuthProvider",us,[]),xi(i,"FacebookAuthProvider",as,[]),xi(i,"GithubAuthProvider",Ps,[]),xi(i,"GoogleAuthProvider",Ou,[]),xi(i,"TwitterAuthProvider",Kr,[]),xi(i,"OAuthProvider",ss,[lr("providerId")]),xi(i,"SAMLAuthProvider",Jh,[lr("providerId")]),xi(i,"PhoneAuthProvider",$o,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(i){return!!(i&&i instanceof Uu)}}]),xi(i,"RecaptchaVerifier",Mg,[Lo(lr(),{name:"",K:"an HTML element",optional:!1,M:function(i){return!!(i&&i instanceof Element)}},"recaptchaContainer"),ds("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(i){return!!(i&&i instanceof y.default.app.App)}}]),xi(i,"ActionCodeURL",Ld,[]),xi(i,"PhoneMultiFactorGenerator",Gl,[]),y.default.INTERNAL.registerComponent({name:"auth",instanceFactory:function(l){return new Uu(l=l.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:i,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(l){l.getProvider("auth-internal").initialize()}}),y.default.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(l){return{getUid:nt((l=l.getProvider("auth").getImmediate()).getUid,l),getToken:nt(l.nc,l),addAuthTokenListener:nt(l.cc,l),removeAuthTokenListener:nt(l.Pc,l)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),y.default.registerVersion("@firebase/auth","0.16.8"),y.default.INTERNAL.extendNamespace({User:Gs})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},6034:(ln,ut,P)=>{"use strict";P.r(ut),P.d(ut,{Component:()=>D,ComponentContainer:()=>ie,Provider:()=>_e});var y=P(4762),_=P(4685),D=function(){function ae(G,se,oe){this.name=G,this.instanceFactory=se,this.type=oe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return ae.prototype.setInstantiationMode=function(G){return this.instantiationMode=G,this},ae.prototype.setMultipleInstances=function(G){return this.multipleInstances=G,this},ae.prototype.setServiceProps=function(G){return this.serviceProps=G,this},ae.prototype.setInstanceCreatedCallback=function(G){return this.onInstanceCreated=G,this},ae}(),C="[DEFAULT]",_e=function(){function ae(G,se){this.name=G,this.container=se,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Map}return ae.prototype.get=function(G){var se=this.normalizeInstanceIdentifier(G);if(!this.instancesDeferred.has(se)){var oe=new _.Deferred;if(this.instancesDeferred.set(se,oe),this.isInitialized(se)||this.shouldAutoInitialize())try{var fe=this.getOrInitializeService({instanceIdentifier:se});fe&&oe.resolve(fe)}catch(Ce){}}return this.instancesDeferred.get(se).promise},ae.prototype.getImmediate=function(G){var se,oe=this.normalizeInstanceIdentifier(null==G?void 0:G.identifier),fe=null!==(se=null==G?void 0:G.optional)&&void 0!==se&&se;if(!this.isInitialized(oe)&&!this.shouldAutoInitialize()){if(fe)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:oe})}catch(Ce){if(fe)return null;throw Ce}},ae.prototype.getComponent=function(){return this.component},ae.prototype.setComponent=function(G){var se,oe;if(G.name!==this.name)throw Error("Mismatching Component "+G.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=G,this.shouldAutoInitialize()){if(function(ae){return"EAGER"===ae.instantiationMode}(G))try{this.getOrInitializeService({instanceIdentifier:C})}catch(Qt){}try{for(var fe=(0,y.__values)(this.instancesDeferred.entries()),Ce=fe.next();!Ce.done;Ce=fe.next()){var Re=(0,y.__read)(Ce.value,2),Se=Re[1],ze=this.normalizeInstanceIdentifier(Re[0]);try{var Ut=this.getOrInitializeService({instanceIdentifier:ze});Se.resolve(Ut)}catch(Qt){}}}catch(Qt){se={error:Qt}}finally{try{Ce&&!Ce.done&&(oe=fe.return)&&oe.call(fe)}finally{if(se)throw se.error}}}},ae.prototype.clearInstance=function(G){void 0===G&&(G=C),this.instancesDeferred.delete(G),this.instances.delete(G)},ae.prototype.delete=function(){return(0,y.__awaiter)(this,void 0,void 0,function(){var G;return(0,y.__generator)(this,function(se){switch(se.label){case 0:return G=Array.from(this.instances.values()),[4,Promise.all((0,y.__spreadArray)((0,y.__spreadArray)([],(0,y.__read)(G.filter(function(oe){return"INTERNAL"in oe}).map(function(oe){return oe.INTERNAL.delete()}))),(0,y.__read)(G.filter(function(oe){return"_delete"in oe}).map(function(oe){return oe._delete()}))))];case 1:return se.sent(),[2]}})})},ae.prototype.isComponentSet=function(){return null!=this.component},ae.prototype.isInitialized=function(G){return void 0===G&&(G=C),this.instances.has(G)},ae.prototype.initialize=function(G){var se,oe;void 0===G&&(G={});var fe=G.options,Ce=void 0===fe?{}:fe,Re=this.normalizeInstanceIdentifier(G.instanceIdentifier);if(this.isInitialized(Re))throw Error(this.name+"("+Re+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var Ne=this.getOrInitializeService({instanceIdentifier:Re,options:Ce});try{for(var Se=(0,y.__values)(this.instancesDeferred.entries()),ze=Se.next();!ze.done;ze=Se.next()){var Ut=(0,y.__read)(ze.value,2),gt=Ut[1];Re===this.normalizeInstanceIdentifier(Ut[0])&&gt.resolve(Ne)}}catch(at){se={error:at}}finally{try{ze&&!ze.done&&(oe=Se.return)&&oe.call(Se)}finally{if(se)throw se.error}}return Ne},ae.prototype.onInit=function(G,se){var oe,fe=this.normalizeInstanceIdentifier(se),Ce=null!==(oe=this.onInitCallbacks.get(fe))&&void 0!==oe?oe:new Set;Ce.add(G),this.onInitCallbacks.set(fe,Ce);var Re=this.instances.get(fe);return Re&&G(Re,fe),function(){Ce.delete(G)}},ae.prototype.invokeOnInitCallbacks=function(G,se){var oe,fe,Ce=this.onInitCallbacks.get(se);if(Ce)try{for(var Re=(0,y.__values)(Ce),Ne=Re.next();!Ne.done;Ne=Re.next()){var Se=Ne.value;try{Se(G,se)}catch(ze){}}}catch(ze){oe={error:ze}}finally{try{Ne&&!Ne.done&&(fe=Re.return)&&fe.call(Re)}finally{if(oe)throw oe.error}}},ae.prototype.getOrInitializeService=function(G){var se=G.instanceIdentifier,oe=G.options,fe=void 0===oe?{}:oe,Ce=this.instances.get(se);if(!Ce&&this.component&&(Ce=this.component.instanceFactory(this.container,{instanceIdentifier:ee(se),options:fe}),this.instances.set(se,Ce),this.invokeOnInitCallbacks(Ce,se),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,se,Ce)}catch(Re){}return Ce||null},ae.prototype.normalizeInstanceIdentifier=function(G){return void 0===G&&(G=C),this.component?this.component.multipleInstances?G:C:G},ae.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},ae}();function ee(ae){return ae===C?void 0:ae}var ie=function(){function ae(G){this.name=G,this.providers=new Map}return ae.prototype.addComponent=function(G){var se=this.getProvider(G.name);if(se.isComponentSet())throw new Error("Component "+G.name+" has already been registered with "+this.name);se.setComponent(G)},ae.prototype.addOrOverwriteComponent=function(G){this.getProvider(G.name).isComponentSet()&&this.providers.delete(G.name),this.addComponent(G)},ae.prototype.getProvider=function(G){if(this.providers.has(G))return this.providers.get(G);var se=new _e(G,this);return this.providers.set(G,se),se},ae.prototype.getProviders=function(){return Array.from(this.providers.values())},ae}()},9192:(ln,ut,P)=>{"use strict";var y=P(9759),_=P(6034),D=P(4685),C=P(4762),_e=P(300);ln=P.hmd(ln);var ie="";function ae(d){ie=d}var d,G=function(){function d(h){this.domStorage_=h,this.prefix_="firebase:"}return d.prototype.set=function(h,p){null==p?this.domStorage_.removeItem(this.prefixedName_(h)):this.domStorage_.setItem(this.prefixedName_(h),(0,D.stringify)(p))},d.prototype.get=function(h){var p=this.domStorage_.getItem(this.prefixedName_(h));return null==p?null:(0,D.jsonEval)(p)},d.prototype.remove=function(h){this.domStorage_.removeItem(this.prefixedName_(h))},d.prototype.prefixedName_=function(h){return this.prefix_+h},d.prototype.toString=function(){return this.domStorage_.toString()},d}(),se=function(){function d(){this.cache_={},this.isInMemoryStorage=!0}return d.prototype.set=function(h,p){null==p?delete this.cache_[h]:this.cache_[h]=p},d.prototype.get=function(h){return(0,D.contains)(this.cache_,h)?this.cache_[h]:null},d.prototype.remove=function(h){delete this.cache_[h]},d}(),oe=function(d){try{if("undefined"!=typeof window&&void 0!==window[d]){var h=window[d];return h.setItem("firebase:sentinel","cache"),h.removeItem("firebase:sentinel"),new G(h)}}catch(p){}return new se},fe=oe("localStorage"),Ce=oe("sessionStorage"),Re=new _e.Logger("@firebase/database"),Ne=(d=1,function(){return d++}),Se=function(d){var h=(0,D.stringToByteArray)(d),p=new D.Sha1;p.update(h);var b=p.digest();return D.base64.encodeByteArray(b)},ze=function(){for(var d=[],h=0;h<arguments.length;h++)d[h]=arguments[h];for(var p="",b=0;b<d.length;b++){var M=d[b];Array.isArray(M)||M&&"object"==typeof M&&"number"==typeof M.length?p+=ze.apply(null,M):p+="object"==typeof M?(0,D.stringify)(M):M,p+=" "}return p},Ut=null,Qt=!0,gt=function(d,h){(0,D.assert)(!h||!0===d||!1===d,"Can't turn on custom loggers persistently."),!0===d?(Re.logLevel=_e.LogLevel.VERBOSE,Ut=Re.log.bind(Re),h&&Ce.set("logging_enabled",!0)):"function"==typeof d?Ut=d:(Ut=null,Ce.remove("logging_enabled"))},Ge=function(){for(var d=[],h=0;h<arguments.length;h++)d[h]=arguments[h];if(!0===Qt&&(Qt=!1,null===Ut&&!0===Ce.get("logging_enabled")&&gt(!0)),Ut){var p=ze.apply(null,d);Ut(p)}},at=function(d){return function(){for(var h=[],p=0;p<arguments.length;p++)h[p]=arguments[p];Ge.apply(void 0,(0,C.__spreadArray)([d],(0,C.__read)(h)))}},nt=function(){for(var d=[],h=0;h<arguments.length;h++)d[h]=arguments[h];var p="FIREBASE INTERNAL ERROR: "+ze.apply(void 0,(0,C.__spreadArray)([],(0,C.__read)(d)));Re.error(p)},et=function(){for(var d=[],h=0;h<arguments.length;h++)d[h]=arguments[h];var p="FIREBASE FATAL ERROR: "+ze.apply(void 0,(0,C.__spreadArray)([],(0,C.__read)(d)));throw Re.error(p),new Error(p)},Ze=function(){for(var d=[],h=0;h<arguments.length;h++)d[h]=arguments[h];var p="FIREBASE WARNING: "+ze.apply(void 0,(0,C.__spreadArray)([],(0,C.__read)(d)));Re.warn(p)},De=function(d){return"number"==typeof d&&(d!=d||d===Number.POSITIVE_INFINITY||d===Number.NEGATIVE_INFINITY)},pt="[MIN_NAME]",Rt="[MAX_NAME]",Tt=function(d,h){if(d===h)return 0;if(d===pt||h===Rt)return-1;if(h===pt||d===Rt)return 1;var p=Pt(d),b=Pt(h);return null!==p?null!==b?p-b==0?d.length-h.length:p-b:-1:null!==b?1:d<h?-1:1},gn=function(d,h){return d===h?0:d<h?-1:1},pn=function(d,h){if(h&&d in h)return h[d];throw new Error("Missing required key ("+d+") in object: "+(0,D.stringify)(h))},Mn=function(d){if("object"!=typeof d||null===d)return(0,D.stringify)(d);var h=[];for(var p in d)h.push(p);h.sort();for(var b="{",M=0;M<h.length;M++)0!==M&&(b+=","),b+=(0,D.stringify)(h[M]),b+=":",b+=Mn(d[h[M]]);return b+"}"},wn=function(d,h){var p=d.length;if(p<=h)return[d];for(var b=[],M=0;M<p;M+=h)b.push(d.substring(M,M+h>p?p:M+h));return b};function cn(d,h){for(var p in d)d.hasOwnProperty(p)&&h(p,d[p])}var jt=function(d){(0,D.assert)(!De(d),"Invalid JSON number");var M,U,X,Me,Be,b=1023;0===d?(U=0,X=0,M=1/d==-1/0?1:0):(M=d<0,(d=Math.abs(d))>=Math.pow(2,1-b)?(U=(Me=Math.min(Math.floor(Math.log(d)/Math.LN2),b))+b,X=Math.round(d*Math.pow(2,52-Me)-Math.pow(2,52))):(U=0,X=Math.round(d/Math.pow(2,-1074))));var tt=[];for(Be=52;Be;Be-=1)tt.push(X%2?1:0),X=Math.floor(X/2);for(Be=11;Be;Be-=1)tt.push(U%2?1:0),U=Math.floor(U/2);tt.push(M?1:0),tt.reverse();var ht=tt.join(""),$t="";for(Be=0;Be<64;Be+=8){var fn=parseInt(ht.substr(Be,8),2).toString(16);1===fn.length&&(fn="0"+fn),$t+=fn}return $t.toLowerCase()},Gt=new RegExp("^-?(0*)\\d{1,10}$"),Nt=-2147483648,qt=2147483647,Pt=function(d){if(Gt.test(d)){var h=Number(d);if(h>=Nt&&h<=qt)return h}return null},sn=function(d){try{d()}catch(h){setTimeout(function(){throw Ze("Exception was thrown by user callback.",h.stack||""),h},Math.floor(0))}},bn=function(d,h){var p=setTimeout(d,h);return"object"==typeof p&&p.unref&&p.unref(),p},Jn=function(){function d(h,p){var b=this;this.appName_=h,this.appCheckProvider=p,this.appCheck=null==p?void 0:p.getImmediate({optional:!0}),this.appCheck||null==p||p.get().then(function(M){return b.appCheck=M})}return d.prototype.getToken=function(h){var p=this;return this.appCheck?this.appCheck.getToken(h):new Promise(function(b,M){setTimeout(function(){p.appCheck?p.getToken(h).then(b,M):b(null)},0)})},d.prototype.addTokenChangeListener=function(h){var p;null===(p=this.appCheckProvider)||void 0===p||p.get().then(function(b){return b.addTokenListener(h)})},d.prototype.notifyForInvalidToken=function(){Ze('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},d}(),Rn=function(){function d(h,p,b){var M=this;this.appName_=h,this.firebaseOptions_=p,this.authProvider_=b,this.auth_=null,this.auth_=b.getImmediate({optional:!0}),this.auth_||b.onInit(function(U){return M.auth_=U})}return d.prototype.getToken=function(h){var p=this;return this.auth_?this.auth_.getToken(h).catch(function(b){return b&&"auth/token-not-initialized"===b.code?(Ge("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(b)}):new Promise(function(b,M){setTimeout(function(){p.auth_?p.getToken(h).then(b,M):b(null)},0)})},d.prototype.addTokenChangeListener=function(h){this.auth_?this.auth_.addAuthTokenListener(h):this.authProvider_.get().then(function(p){return p.addAuthTokenListener(h)})},d.prototype.removeTokenChangeListener=function(h){this.authProvider_.get().then(function(p){return p.removeAuthTokenListener(h)})},d.prototype.notifyForInvalidToken=function(){var h='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';Ze(h+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},d}(),Un=function(){function d(h){this.accessToken=h}return d.prototype.getToken=function(h){return Promise.resolve({accessToken:this.accessToken})},d.prototype.addTokenChangeListener=function(h){h(this.accessToken)},d.prototype.removeTokenChangeListener=function(h){},d.prototype.notifyForInvalidToken=function(){},d.OWNER="owner",d}(),tn=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,N="websocket",B="long_polling",ne=function(){function d(h,p,b,M,U,X,Me){void 0===U&&(U=!1),void 0===X&&(X=""),void 0===Me&&(Me=!1),this.secure=p,this.namespace=b,this.webSocketOnly=M,this.nodeAdmin=U,this.persistenceKey=X,this.includeNamespaceInQueryParams=Me,this._host=h.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=fe.get("host:"+h)||this._host}return d.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},d.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(d.prototype,"host",{get:function(){return this._host},set:function(h){h!==this.internalHost&&(this.internalHost=h,this.isCacheableHost()&&fe.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),d.prototype.toString=function(){var h=this.toURLString();return this.persistenceKey&&(h+="<"+this.persistenceKey+">"),h},d.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host+"/"+(this.includeNamespaceInQueryParams?"?ns="+this.namespace:"")},d}();function Ye(d,h,p){var b;if((0,D.assert)("string"==typeof h,"typeof type must == string"),(0,D.assert)("object"==typeof p,"typeof params must == object"),h===N)b=(d.secure?"wss://":"ws://")+d.internalHost+"/.ws?";else{if(h!==B)throw new Error("Unknown connection type: "+h);b=(d.secure?"https://":"http://")+d.internalHost+"/.lp?"}(function(d){return d.host!==d.internalHost||d.isCustomHost()||d.includeNamespaceInQueryParams})(d)&&(p.ns=d.namespace);var M=[];return cn(p,function(U,X){M.push(U+"="+X)}),b+M.join("&")}var mt=function(){function d(){this.counters_={}}return d.prototype.incrementCounter=function(h,p){void 0===p&&(p=1),(0,D.contains)(this.counters_,h)||(this.counters_[h]=0),this.counters_[h]+=p},d.prototype.get=function(){return(0,D.deepCopy)(this.counters_)},d}(),mn={},Nn={};function yn(d){var h=d.toString();return mn[h]||(mn[h]=new mt),mn[h]}var We=function(){function d(h){this.onMessage_=h,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return d.prototype.closeAfter=function(h,p){this.closeAfterResponse=h,this.onClose=p,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},d.prototype.handleResponse=function(h,p){var b=this;this.pendingResponses[h]=p;for(var M=function(){var Me=U.pendingResponses[U.currentResponseNum];delete U.pendingResponses[U.currentResponseNum];for(var Be=function(ht){Me[ht]&&sn(function(){b.onMessage_(Me[ht])})},tt=0;tt<Me.length;++tt)Be(tt);if(U.currentResponseNum===U.closeAfterResponse)return U.onClose&&(U.onClose(),U.onClose=null),"break";U.currentResponseNum++},U=this;this.pendingResponses[this.currentResponseNum]&&"break"!==M(););},d}(),_r=function(){function d(h,p,b,M,U,X,Me){var Be=this;this.connId=h,this.repoInfo=p,this.applicationId=b,this.appCheckToken=M,this.authToken=U,this.transportSessionId=X,this.lastSessionId=Me,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=at(h),this.stats_=yn(p),this.urlFn=function(tt){return Be.appCheckToken&&(tt.ac=Be.appCheckToken),Ye(p,B,tt)}}return d.prototype.open=function(h,p){var b=this;this.curSegmentNum=0,this.onDisconnect_=p,this.myPacketOrderer=new We(h),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){b.log_("Timed out trying to connect."),b.onClosed_(),b.connectTimeoutTimer_=null},Math.floor(3e4)),function(d){if((0,D.isNodeSdk)()||"complete"===document.readyState)d();else{var h=!1,p=function(){document.body?h||(h=!0,d()):setTimeout(p,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",p,!1),window.addEventListener("load",p,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&p()}),window.attachEvent("onload",p))}}(function(){if(!b.isClosed_){b.scriptTagHolder=new Lr(function(){for(var X=[],Me=0;Me<arguments.length;Me++)X[Me]=arguments[Me];var Be=(0,C.__read)(X,5),tt=Be[0],ht=Be[1],$t=Be[2];if(b.incrementIncomingBytes_(X),b.scriptTagHolder)if(b.connectTimeoutTimer_&&(clearTimeout(b.connectTimeoutTimer_),b.connectTimeoutTimer_=null),b.everConnected_=!0,"start"===tt)b.id=ht,b.password=$t;else{if("close"!==tt)throw new Error("Unrecognized command received: "+tt);ht?(b.scriptTagHolder.sendNewPolls=!1,b.myPacketOrderer.closeAfter(ht,function(){b.onClosed_()})):b.onClosed_()}},function(){for(var X=[],Me=0;Me<arguments.length;Me++)X[Me]=arguments[Me];var Be=(0,C.__read)(X,2),tt=Be[0],ht=Be[1];b.incrementIncomingBytes_(X),b.myPacketOrderer.handleResponse(tt,ht)},function(){b.onClosed_()},b.urlFn);var M={start:"t"};M.ser=Math.floor(1e8*Math.random()),b.scriptTagHolder.uniqueCallbackIdentifier&&(M.cb=b.scriptTagHolder.uniqueCallbackIdentifier),M.v="5",b.transportSessionId&&(M.s=b.transportSessionId),b.lastSessionId&&(M.ls=b.lastSessionId),b.applicationId&&(M.p=b.applicationId),b.appCheckToken&&(M.ac=b.appCheckToken),"undefined"!=typeof location&&location.hostname&&tn.test(location.hostname)&&(M.r="f");var U=b.urlFn(M);b.log_("Connecting via long-poll to "+U),b.scriptTagHolder.addTag(U,function(){})}})},d.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},d.forceAllow=function(){d.forceAllow_=!0},d.forceDisallow=function(){d.forceDisallow_=!0},d.isAvailable=function(){return!((0,D.isNodeSdk)()||!d.forceAllow_&&(d.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},d.prototype.markConnectionHealthy=function(){},d.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},d.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},d.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},d.prototype.send=function(h){var p=(0,D.stringify)(h);this.bytesSent+=p.length,this.stats_.incrementCounter("bytes_sent",p.length);for(var b=(0,D.base64Encode)(p),M=wn(b,1840),U=0;U<M.length;U++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,M.length,M[U]),this.curSegmentNum++},d.prototype.addDisconnectPingFrame=function(h,p){if(!(0,D.isNodeSdk)()){this.myDisconnFrame=document.createElement("iframe");var b={dframe:"t"};b.id=h,b.pw=p,this.myDisconnFrame.src=this.urlFn(b),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},d.prototype.incrementIncomingBytes_=function(h){var p=(0,D.stringify)(h).length;this.bytesReceived+=p,this.stats_.incrementCounter("bytes_received",p)},d}(),Lr=function(){function d(h,p,b,M){if(this.onDisconnect=b,this.urlFn=M,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,D.isNodeSdk)())this.commandCB=h,this.onMessageCB=p;else{this.uniqueCallbackIdentifier=Ne(),window["pLPCommand"+this.uniqueCallbackIdentifier]=h,window["pRTLPCB"+this.uniqueCallbackIdentifier]=p,this.myIFrame=d.createIFrame_();var U="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(U='<script>document.domain="'+document.domain+'";<\/script>');var Me="<html><body>"+U+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(Me),this.myIFrame.doc.close()}catch(Be){Ge("frame writing exception"),Be.stack&&Ge(Be.stack),Ge(Be)}}}return d.createIFrame_=function(){var h=document.createElement("iframe");if(h.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(h);try{h.contentWindow.document||Ge("No IE domain setting required")}catch(M){var b=document.domain;h.src="javascript:void((function(){document.open();document.domain='"+b+"';document.close();})())"}return h.contentDocument?h.doc=h.contentDocument:h.contentWindow?h.doc=h.contentWindow.document:h.document&&(h.doc=h.document),h},d.prototype.close=function(){var h=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==h.myIFrame&&(document.body.removeChild(h.myIFrame),h.myIFrame=null)},Math.floor(0)));var p=this.onDisconnect;p&&(this.onDisconnect=null,p())},d.prototype.startLongPoll=function(h,p){for(this.myID=h,this.myPW=p,this.alive=!0;this.newRequest_(););},d.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var h={};h.id=this.myID,h.pw=this.myPW,h.ser=this.currentSerial;for(var p=this.urlFn(h),b="",M=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+b.length<=1870;){var X=this.pendingSegs.shift();b=b+"&seg"+M+"="+X.seg+"&ts"+M+"="+X.ts+"&d"+M+"="+X.d,M++}return this.addLongPollTag_(p+=b,this.currentSerial),!0}return!1},d.prototype.enqueueSegment=function(h,p,b){this.pendingSegs.push({seg:h,ts:p,d:b}),this.alive&&this.newRequest_()},d.prototype.addLongPollTag_=function(h,p){var b=this;this.outstandingRequests.add(p);var M=function(){b.outstandingRequests.delete(p),b.newRequest_()},U=setTimeout(M,Math.floor(25e3));this.addTag(h,function(){clearTimeout(U),M()})},d.prototype.addTag=function(h,p){var b=this;(0,D.isNodeSdk)()?this.doNodeLongPoll(h,p):setTimeout(function(){try{if(!b.sendNewPolls)return;var M=b.myIFrame.doc.createElement("script");M.type="text/javascript",M.async=!0,M.src=h,M.onload=M.onreadystatechange=function(){var U=M.readyState;(!U||"loaded"===U||"complete"===U)&&(M.onload=M.onreadystatechange=null,M.parentNode&&M.parentNode.removeChild(M),p())},M.onerror=function(){Ge("Long-poll script failed to load: "+h),b.sendNewPolls=!1,b.close()},b.myIFrame.doc.body.appendChild(M)}catch(U){}},Math.floor(1))},d}(),ui=null;"undefined"!=typeof MozWebSocket?ui=MozWebSocket:"undefined"!=typeof WebSocket&&(ui=WebSocket);var Ii=function(){function d(h,p,b,M,U,X,Me){this.connId=h,this.applicationId=b,this.appCheckToken=M,this.authToken=U,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=at(this.connId),this.stats_=yn(p),this.connURL=d.connectionURL_(p,X,Me,M),this.nodeAdmin=p.nodeAdmin}return d.connectionURL_=function(h,p,b,M){var U={v:"5"};return!(0,D.isNodeSdk)()&&"undefined"!=typeof location&&location.hostname&&tn.test(location.hostname)&&(U.r="f"),p&&(U.s=p),b&&(U.ls=b),M&&(U.ac=M),Ye(h,N,U)},d.prototype.open=function(h,p){var b=this;this.onDisconnect=p,this.onMessage=h,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,fe.set("previous_websocket_failure",!0);try{if((0,D.isNodeSdk)()){var U={headers:{"User-Agent":"Firebase/5/"+ie+"/"+process.platform+"/"+(this.nodeAdmin?"AdminNode":"Node"),"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(U.headers.Authorization=this.authToken),this.appCheckToken&&(U.headers["X-Firebase-AppCheck"]=this.appCheckToken);var X=process.env,Me=0===this.connURL.indexOf("wss://")?X.HTTPS_PROXY||X.https_proxy:X.HTTP_PROXY||X.http_proxy;Me&&(U.proxy={origin:Me}),this.mySock=new ui(this.connURL,[],U)}else this.mySock=new ui(this.connURL,[],U={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(tt){this.log_("Error instantiating WebSocket.");var Be=tt.message||tt.data;return Be&&this.log_(Be),void this.onClosed_()}this.mySock.onopen=function(){b.log_("Websocket connected."),b.everConnected_=!0},this.mySock.onclose=function(){b.log_("Websocket connection was disconnected."),b.mySock=null,b.onClosed_()},this.mySock.onmessage=function(tt){b.handleIncomingFrame(tt)},this.mySock.onerror=function(tt){b.log_("WebSocket error.  Closing connection.");var ht=tt.message||tt.data;ht&&b.log_(ht),b.onClosed_()}},d.prototype.start=function(){},d.forceDisallow=function(){d.forceDisallow_=!0},d.isAvailable=function(){var h=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var b=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);b&&b.length>1&&parseFloat(b[1])<4.4&&(h=!0)}return!h&&null!==ui&&!d.forceDisallow_},d.previouslyFailed=function(){return fe.isInMemoryStorage||!0===fe.get("previous_websocket_failure")},d.prototype.markConnectionHealthy=function(){fe.remove("previous_websocket_failure")},d.prototype.appendFrame_=function(h){if(this.frames.push(h),this.frames.length===this.totalFrames){var p=this.frames.join("");this.frames=null;var b=(0,D.jsonEval)(p);this.onMessage(b)}},d.prototype.handleNewFrameCount_=function(h){this.totalFrames=h,this.frames=[]},d.prototype.extractFrameCount_=function(h){if((0,D.assert)(null===this.frames,"We already have a frame buffer"),h.length<=6){var p=Number(h);if(!isNaN(p))return this.handleNewFrameCount_(p),null}return this.handleNewFrameCount_(1),h},d.prototype.handleIncomingFrame=function(h){if(null!==this.mySock){var p=h.data;if(this.bytesReceived+=p.length,this.stats_.incrementCounter("bytes_received",p.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(p);else{var b=this.extractFrameCount_(p);null!==b&&this.appendFrame_(b)}}},d.prototype.send=function(h){this.resetKeepAlive();var p=(0,D.stringify)(h);this.bytesSent+=p.length,this.stats_.incrementCounter("bytes_sent",p.length);var b=wn(p,16384);b.length>1&&this.sendString_(String(b.length));for(var M=0;M<b.length;M++)this.sendString_(b[M])},d.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},d.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},d.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},d.prototype.resetKeepAlive=function(){var h=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){h.mySock&&h.sendString_("0"),h.resetKeepAlive()},Math.floor(45e3))},d.prototype.sendString_=function(h){try{this.mySock.send(h)}catch(p){this.log_("Exception thrown from WebSocket.send():",p.message||p.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},d.responsesRequiredToBeHealthy=2,d.healthyTimeout=3e4,d}(),ei=function(){function d(h){this.initTransports_(h)}return Object.defineProperty(d,"ALL_TRANSPORTS",{get:function(){return[_r,Ii]},enumerable:!1,configurable:!0}),d.prototype.initTransports_=function(h){var p,b,M=Ii&&Ii.isAvailable(),U=M&&!Ii.previouslyFailed();if(h.webSocketOnly&&(M||Ze("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),U=!0),U)this.transports_=[Ii];else{var X=this.transports_=[];try{for(var Me=(0,C.__values)(d.ALL_TRANSPORTS),Be=Me.next();!Be.done;Be=Me.next()){var tt=Be.value;tt&&tt.isAvailable()&&X.push(tt)}}catch(ht){p={error:ht}}finally{try{Be&&!Be.done&&(b=Me.return)&&b.call(Me)}finally{if(p)throw p.error}}}},d.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},d.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},d}(),vt=function(){function d(h,p,b,M,U,X,Me,Be,tt,ht){this.id=h,this.repoInfo_=p,this.applicationId_=b,this.appCheckToken_=M,this.authToken_=U,this.onMessage_=X,this.onReady_=Me,this.onDisconnect_=Be,this.onKill_=tt,this.lastSessionId=ht,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=at("c:"+this.id+":"),this.transportManager_=new ei(p),this.log_("Connection created"),this.start_()}return d.prototype.start_=function(){var h=this,p=this.transportManager_.initialTransport();this.conn_=new p(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.lastSessionId),this.primaryResponsesRequired_=p.responsesRequiredToBeHealthy||0;var b=this.connReceiver_(this.conn_),M=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){h.conn_&&h.conn_.open(b,M)},Math.floor(0));var U=p.healthyTimeout||0;U>0&&(this.healthyTimeout_=bn(function(){h.healthyTimeout_=null,h.isHealthy_||(h.conn_&&h.conn_.bytesReceived>102400?(h.log_("Connection exceeded healthy timeout but has received "+h.conn_.bytesReceived+" bytes.  Marking connection healthy."),h.isHealthy_=!0,h.conn_.markConnectionHealthy()):h.conn_&&h.conn_.bytesSent>10240?h.log_("Connection exceeded healthy timeout but has sent "+h.conn_.bytesSent+" bytes.  Leaving connection alive."):(h.log_("Closing unhealthy connection after timeout."),h.close()))},Math.floor(U)))},d.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},d.prototype.disconnReceiver_=function(h){var p=this;return function(b){h===p.conn_?p.onConnectionLost_(b):h===p.secondaryConn_?(p.log_("Secondary connection lost."),p.onSecondaryConnectionLost_()):p.log_("closing an old connection")}},d.prototype.connReceiver_=function(h){var p=this;return function(b){2!==p.state_&&(h===p.rx_?p.onPrimaryMessageReceived_(b):h===p.secondaryConn_?p.onSecondaryMessageReceived_(b):p.log_("message on old connection"))}},d.prototype.sendRequest=function(h){this.sendData_({t:"d",d:h})},d.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},d.prototype.onSecondaryControl_=function(h){if("t"in h){var p=h.t;"a"===p?this.upgradeIfSecondaryHealthy_():"r"===p?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===p&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},d.prototype.onSecondaryMessageReceived_=function(h){var p=pn("t",h),b=pn("d",h);if("c"===p)this.onSecondaryControl_(b);else{if("d"!==p)throw new Error("Unknown protocol layer: "+p);this.pendingDataMessages.push(b)}},d.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},d.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},d.prototype.onPrimaryMessageReceived_=function(h){var p=pn("t",h),b=pn("d",h);"c"===p?this.onControl_(b):"d"===p&&this.onDataMessage_(b)},d.prototype.onDataMessage_=function(h){this.onPrimaryResponse_(),this.onMessage_(h)},d.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},d.prototype.onControl_=function(h){var p=pn("t",h);if("d"in h){var b=h.d;if("h"===p)this.onHandshake_(b);else if("n"===p){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var M=0;M<this.pendingDataMessages.length;++M)this.onDataMessage_(this.pendingDataMessages[M]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===p?this.onConnectionShutdown_(b):"r"===p?this.onReset_(b):"e"===p?nt("Server Error: "+b):"o"===p?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):nt("Unknown control packet command: "+p)}},d.prototype.onHandshake_=function(h){var p=h.ts,b=h.v,M=h.h;this.sessionId=h.s,this.repoInfo_.host=M,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,p),"5"!==b&&Ze("Protocol version mismatch detected"),this.tryStartUpgrade_())},d.prototype.tryStartUpgrade_=function(){var h=this.transportManager_.upgradeTransport();h&&this.startUpgrade_(h)},d.prototype.startUpgrade_=function(h){var p=this;this.secondaryConn_=new h(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=h.responsesRequiredToBeHealthy||0;var b=this.connReceiver_(this.secondaryConn_),M=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(b,M),bn(function(){p.secondaryConn_&&(p.log_("Timed out trying to upgrade."),p.secondaryConn_.close())},Math.floor(6e4))},d.prototype.onReset_=function(h){this.log_("Reset packet received.  New host: "+h),this.repoInfo_.host=h,1===this.state_?this.close():(this.closeConnections_(),this.start_())},d.prototype.onConnectionEstablished_=function(h,p){var b=this;this.log_("Realtime connection established."),this.conn_=h,this.state_=1,this.onReady_&&(this.onReady_(p,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):bn(function(){b.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},d.prototype.sendPingOnPrimaryIfNecessary_=function(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},d.prototype.onSecondaryConnectionLost_=function(){var h=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===h||this.rx_===h)&&this.close()},d.prototype.onConnectionLost_=function(h){this.conn_=null,h||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(fe.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},d.prototype.onConnectionShutdown_=function(h){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(h),this.onKill_=null),this.onDisconnect_=null,this.close()},d.prototype.sendData_=function(h){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(h)},d.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},d.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},d}(),Je=function(){function d(){}return d.prototype.put=function(h,p,b,M){},d.prototype.merge=function(h,p,b,M){},d.prototype.refreshAuthToken=function(h){},d.prototype.refreshAppCheckToken=function(h){},d.prototype.onDisconnectPut=function(h,p,b){},d.prototype.onDisconnectMerge=function(h,p,b){},d.prototype.onDisconnectCancel=function(h,p){},d.prototype.reportStats=function(h){},d}(),Lt=function(){function d(h){this.allowedEvents_=h,this.listeners_={},(0,D.assert)(Array.isArray(h)&&h.length>0,"Requires a non-empty array")}return d.prototype.trigger=function(h){for(var p=[],b=1;b<arguments.length;b++)p[b-1]=arguments[b];if(Array.isArray(this.listeners_[h]))for(var M=(0,C.__spreadArray)([],(0,C.__read)(this.listeners_[h])),U=0;U<M.length;U++)M[U].callback.apply(M[U].context,p)},d.prototype.on=function(h,p,b){this.validateEventType_(h),this.listeners_[h]=this.listeners_[h]||[],this.listeners_[h].push({callback:p,context:b});var M=this.getInitialEvent(h);M&&p.apply(b,M)},d.prototype.off=function(h,p,b){this.validateEventType_(h);for(var M=this.listeners_[h]||[],U=0;U<M.length;U++)if(M[U].callback===p&&(!b||b===M[U].context))return void M.splice(U,1)},d.prototype.validateEventType_=function(h){(0,D.assert)(this.allowedEvents_.find(function(p){return p===h}),"Unknown event: "+h)},d}(),nn=function(d){function h(){var p=d.call(this,["online"])||this;return p.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,D.isMobileCordova)()&&(window.addEventListener("online",function(){p.online_||(p.online_=!0,p.trigger("online",!0))},!1),window.addEventListener("offline",function(){p.online_&&(p.online_=!1,p.trigger("online",!1))},!1)),p}return(0,C.__extends)(h,d),h.getInstance=function(){return new h},h.prototype.getInitialEvent=function(p){return(0,D.assert)("online"===p,"Unknown event type: "+p),[this.online_]},h.prototype.currentlyOnline=function(){return this.online_},h}(Lt),St=function(){function d(h,p){if(void 0===p){this.pieces_=h.split("/");for(var b=0,M=0;M<this.pieces_.length;M++)this.pieces_[M].length>0&&(this.pieces_[b]=this.pieces_[M],b++);this.pieces_.length=b,this.pieceNum_=0}else this.pieces_=h,this.pieceNum_=p}return d.prototype.toString=function(){for(var h="",p=this.pieceNum_;p<this.pieces_.length;p++)""!==this.pieces_[p]&&(h+="/"+this.pieces_[p]);return h||"/"},d}();function Le(){return new St("")}function Mt(d){return d.pieceNum_>=d.pieces_.length?null:d.pieces_[d.pieceNum_]}function On(d){return d.pieces_.length-d.pieceNum_}function Sn(d){var h=d.pieceNum_;return h<d.pieces_.length&&h++,new St(d.pieces_,h)}function or(d){return d.pieceNum_<d.pieces_.length?d.pieces_[d.pieces_.length-1]:null}function li(d,h){return void 0===h&&(h=0),d.pieces_.slice(d.pieceNum_+h)}function si(d){if(d.pieceNum_>=d.pieces_.length)return null;for(var h=[],p=d.pieceNum_;p<d.pieces_.length-1;p++)h.push(d.pieces_[p]);return new St(h,0)}function gr(d,h){for(var p=[],b=d.pieceNum_;b<d.pieces_.length;b++)p.push(d.pieces_[b]);if(h instanceof St)for(b=h.pieceNum_;b<h.pieces_.length;b++)p.push(h.pieces_[b]);else{var M=h.split("/");for(b=0;b<M.length;b++)M[b].length>0&&p.push(M[b])}return new St(p,0)}function br(d){return d.pieceNum_>=d.pieces_.length}function bi(d,h){var p=Mt(d),b=Mt(h);if(null===p)return h;if(p===b)return bi(Sn(d),Sn(h));throw new Error("INTERNAL ERROR: innerPath ("+h+") is not within outerPath ("+d+")")}function Si(d,h){for(var p=li(d,0),b=li(h,0),M=0;M<p.length&&M<b.length;M++){var U=Tt(p[M],b[M]);if(0!==U)return U}return p.length===b.length?0:p.length<b.length?-1:1}function Go(d,h){if(On(d)!==On(h))return!1;for(var p=d.pieceNum_,b=h.pieceNum_;p<=d.pieces_.length;p++,b++)if(d.pieces_[p]!==h.pieces_[b])return!1;return!0}function Ai(d,h){var p=d.pieceNum_,b=h.pieceNum_;if(On(d)>On(h))return!1;for(;p<d.pieces_.length;){if(d.pieces_[p]!==h.pieces_[b])return!1;++p,++b}return!0}var So=function(h,p){this.errorPrefix_=p,this.parts_=li(h,0),this.byteLength_=Math.max(1,this.parts_.length);for(var b=0;b<this.parts_.length;b++)this.byteLength_+=(0,D.stringLength)(this.parts_[b]);Vs(this)};function Vs(d){if(d.byteLength_>768)throw new Error(d.errorPrefix_+"has a key path longer than 768 bytes ("+d.byteLength_+").");if(d.parts_.length>32)throw new Error(d.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+lo(d))}function lo(d){return 0===d.parts_.length?"":"in property '"+d.parts_.join(".")+"'"}var rr,Qn,Ys=function(d){function h(){var b,M,p=d.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(M="visibilitychange",b="hidden"):void 0!==document.mozHidden?(M="mozvisibilitychange",b="mozHidden"):void 0!==document.msHidden?(M="msvisibilitychange",b="msHidden"):void 0!==document.webkitHidden&&(M="webkitvisibilitychange",b="webkitHidden")),p.visible_=!0,M&&document.addEventListener(M,function(){var U=!document[b];U!==p.visible_&&(p.visible_=U,p.trigger("visible",U))},!1),p}return(0,C.__extends)(h,d),h.getInstance=function(){return new h},h.prototype.getInitialEvent=function(p){return(0,D.assert)("visible"===p,"Unknown event type: "+p),[this.visible_]},h}(Lt),Wo=1e3,no=function(d){function h(p,b,M,U,X,Me,Be,tt){var ht=d.call(this)||this;if(ht.repoInfo_=p,ht.applicationId_=b,ht.onDataUpdate_=M,ht.onConnectStatus_=U,ht.onServerInfoUpdate_=X,ht.authTokenProvider_=Me,ht.appCheckTokenProvider_=Be,ht.authOverride_=tt,ht.id=h.nextPersistentConnectionId_++,ht.log_=at("p:"+ht.id+":"),ht.interruptReasons_={},ht.listens=new Map,ht.outstandingPuts_=[],ht.outstandingGets_=[],ht.outstandingPutCount_=0,ht.outstandingGetCount_=0,ht.onDisconnectRequestQueue_=[],ht.connected_=!1,ht.reconnectDelay_=Wo,ht.maxReconnectDelay_=3e5,ht.securityDebugCallback_=null,ht.lastSessionId=null,ht.establishConnectionTimer_=null,ht.visible_=!1,ht.requestCBHash_={},ht.requestNumber_=0,ht.realtime_=null,ht.authToken_=null,ht.appCheckToken_=null,ht.forceTokenRefresh_=!1,ht.invalidAuthTokenCount_=0,ht.invalidAppCheckTokenCount_=0,ht.firstConnection_=!0,ht.lastConnectionAttemptTime_=null,ht.lastConnectionEstablishedTime_=null,tt&&!(0,D.isNodeSdk)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return Ys.getInstance().on("visible",ht.onVisible_,ht),-1===p.host.indexOf("fblocal")&&nn.getInstance().on("online",ht.onOnline_,ht),ht}return(0,C.__extends)(h,d),h.prototype.sendRequest=function(p,b,M){var U=++this.requestNumber_,X={r:U,a:p,b};this.log_((0,D.stringify)(X)),(0,D.assert)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(X),M&&(this.requestCBHash_[U]=M)},h.prototype.get=function(p){var b=this;this.initConnection_();var M=new D.Deferred,U={p:p._path.toString(),q:p._queryObject},X={action:"g",request:U,onComplete:function(Be){var tt=Be.d;"ok"===Be.s?(b.onDataUpdate_(U.p,tt,!1,null),M.resolve(tt)):M.reject(tt)}};this.outstandingGets_.push(X),this.outstandingGetCount_++;var Me=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var Be=b.outstandingGets_[Me];void 0===Be||X!==Be||(delete b.outstandingGets_[Me],b.outstandingGetCount_--,0===b.outstandingGetCount_&&(b.outstandingGets_=[]),b.log_("get "+Me+" timed out on connection"),M.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(Me),M.promise},h.prototype.listen=function(p,b,M,U){this.initConnection_();var X=p._queryIdentifier,Me=p._path.toString();this.log_("Listen called for "+Me+" "+X),this.listens.has(Me)||this.listens.set(Me,new Map),(0,D.assert)(p._queryParams.isDefault()||!p._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,D.assert)(!this.listens.get(Me).has(X),"listen() called twice for same path/queryId.");var Be={onComplete:U,hashFn:b,query:p,tag:M};this.listens.get(Me).set(X,Be),this.connected_&&this.sendListen_(Be)},h.prototype.sendGet_=function(p){var b=this,M=this.outstandingGets_[p];this.sendRequest("g",M.request,function(U){delete b.outstandingGets_[p],b.outstandingGetCount_--,0===b.outstandingGetCount_&&(b.outstandingGets_=[]),M.onComplete&&M.onComplete(U)})},h.prototype.sendListen_=function(p){var b=this,M=p.query,U=M._path.toString(),X=M._queryIdentifier;this.log_("Listen on "+U+" for "+X);var Me={p:U};p.tag&&(Me.q=M._queryObject,Me.t=p.tag),Me.h=p.hashFn(),this.sendRequest("q",Me,function(tt){var ht=tt.d,$t=tt.s;h.warnOnListenWarnings_(ht,M),(b.listens.get(U)&&b.listens.get(U).get(X))===p&&(b.log_("listen response",tt),"ok"!==$t&&b.removeListen_(U,X),p.onComplete&&p.onComplete($t,ht))})},h.warnOnListenWarnings_=function(p,b){if(p&&"object"==typeof p&&(0,D.contains)(p,"w")){var M=(0,D.safeGet)(p,"w");if(Array.isArray(M)&&~M.indexOf("no_index")){var U='".indexOn": "'+b._queryParams.getIndex().toString()+'"',X=b._path.toString();Ze("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+U+" at "+X+" to your security rules for better performance.")}}},h.prototype.refreshAuthToken=function(p){this.authToken_=p,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(p)},h.prototype.reduceReconnectDelayIfAdminCredential_=function(p){(p&&40===p.length||(0,D.isAdmin)(p))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},h.prototype.refreshAppCheckToken=function(p){this.appCheckToken_=p,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},function(){})},h.prototype.tryAuth=function(){var p=this;if(this.connected_&&this.authToken_){var b=this.authToken_,M=(0,D.isValidFormat)(b)?"auth":"gauth",U={cred:b};null===this.authOverride_?U.noauth=!0:"object"==typeof this.authOverride_&&(U.authvar=this.authOverride_),this.sendRequest(M,U,function(X){var Me=X.s,Be=X.d||"error";p.authToken_===b&&("ok"===Me?p.invalidAuthTokenCount_=0:p.onAuthRevoked_(Me,Be))})}},h.prototype.tryAppCheck=function(){var p=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},function(b){var M=b.s,U=b.d||"error";"ok"===M?p.invalidAppCheckTokenCount_=0:p.onAppCheckRevoked_(M,U)})},h.prototype.unlisten=function(p,b){var M=p._path.toString(),U=p._queryIdentifier;this.log_("Unlisten called for "+M+" "+U),(0,D.assert)(p._queryParams.isDefault()||!p._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(M,U)&&this.connected_&&this.sendUnlisten_(M,U,p._queryObject,b)},h.prototype.sendUnlisten_=function(p,b,M,U){this.log_("Unlisten on "+p+" for "+b);var X={p};U&&(X.q=M,X.t=U),this.sendRequest("n",X)},h.prototype.onDisconnectPut=function(p,b,M){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",p,b,M):this.onDisconnectRequestQueue_.push({pathString:p,action:"o",data:b,onComplete:M})},h.prototype.onDisconnectMerge=function(p,b,M){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",p,b,M):this.onDisconnectRequestQueue_.push({pathString:p,action:"om",data:b,onComplete:M})},h.prototype.onDisconnectCancel=function(p,b){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",p,null,b):this.onDisconnectRequestQueue_.push({pathString:p,action:"oc",data:null,onComplete:b})},h.prototype.sendOnDisconnect_=function(p,b,M,U){var X={p:b,d:M};this.log_("onDisconnect "+p,X),this.sendRequest(p,X,function(Me){U&&setTimeout(function(){U(Me.s,Me.d)},Math.floor(0))})},h.prototype.put=function(p,b,M,U){this.putInternal("p",p,b,M,U)},h.prototype.merge=function(p,b,M,U){this.putInternal("m",p,b,M,U)},h.prototype.putInternal=function(p,b,M,U,X){this.initConnection_();var Me={p:b,d:M};void 0!==X&&(Me.h=X),this.outstandingPuts_.push({action:p,request:Me,onComplete:U}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+b)},h.prototype.sendPut_=function(p){var b=this,M=this.outstandingPuts_[p].action,U=this.outstandingPuts_[p].request,X=this.outstandingPuts_[p].onComplete;this.outstandingPuts_[p].queued=this.connected_,this.sendRequest(M,U,function(Me){b.log_(M+" response",Me),delete b.outstandingPuts_[p],b.outstandingPutCount_--,0===b.outstandingPutCount_&&(b.outstandingPuts_=[]),X&&X(Me.s,Me.d)})},h.prototype.reportStats=function(p){var b=this;if(this.connected_){var M={c:p};this.log_("reportStats",M),this.sendRequest("s",M,function(U){"ok"!==U.s&&b.log_("reportStats","Error sending stats: "+U.d)})}},h.prototype.onDataMessage_=function(p){if("r"in p){this.log_("from server: "+(0,D.stringify)(p));var b=p.r,M=this.requestCBHash_[b];M&&(delete this.requestCBHash_[b],M(p.b))}else{if("error"in p)throw"A server-side error has occurred: "+p.error;"a"in p&&this.onDataPush_(p.a,p.b)}},h.prototype.onDataPush_=function(p,b){this.log_("handleServerMessage",p,b),"d"===p?this.onDataUpdate_(b.p,b.d,!1,b.t):"m"===p?this.onDataUpdate_(b.p,b.d,!0,b.t):"c"===p?this.onListenRevoked_(b.p,b.q):"ac"===p?this.onAuthRevoked_(b.s,b.d):"apc"===p?this.onAppCheckRevoked_(b.s,b.d):"sd"===p?this.onSecurityDebugPacket_(b):nt("Unrecognized action received from server: "+(0,D.stringify)(p)+"\nAre you using the latest client?")},h.prototype.onReady_=function(p,b){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(p),this.lastSessionId=b,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},h.prototype.scheduleConnect_=function(p){var b=this;(0,D.assert)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){b.establishConnectionTimer_=null,b.establishConnection_()},Math.floor(p))},h.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},h.prototype.onVisible_=function(p){p&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Wo,this.realtime_||this.scheduleConnect_(0)),this.visible_=p},h.prototype.onOnline_=function(p){p?(this.log_("Browser went online."),this.reconnectDelay_=Wo,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},h.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Wo),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var b=(new Date).getTime()-this.lastConnectionAttemptTime_,M=Math.max(0,this.reconnectDelay_-b);M=Math.random()*M,this.log_("Trying to reconnect in "+M+"ms"),this.scheduleConnect_(M),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},h.prototype.establishConnection_=function(){return(0,C.__awaiter)(this,void 0,void 0,function(){var p,b,M,U,X,Me,Be,tt,$t,fn,xn,qn,xr,Sr=this;return(0,C.__generator)(this,function(Qr){switch(Qr.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,p=this.onDataMessage_.bind(this),b=this.onReady_.bind(this),M=this.onRealtimeDisconnect_.bind(this),U=this.id+":"+h.nextConnectionId_++,X=this.lastSessionId,Me=!1,Be=null,this.realtime_={close:tt=function(){Be?Be.close():(Me=!0,M())},sendRequest:function(Do){(0,D.assert)(Be,"sendRequest call when we're not connected not allowed."),Be.sendRequest(Do)}},$t=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,Qr.label=1;case 1:return Qr.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken($t),this.appCheckTokenProvider_.getToken($t)])];case 2:return fn=C.__read.apply(void 0,[Qr.sent(),2]),xn=fn[0],qn=fn[1],Me?Ge("getToken() completed but was canceled"):(Ge("getToken() completed. Creating connection."),this.authToken_=xn&&xn.accessToken,this.appCheckToken_=qn&&qn.token,Be=new vt(U,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,p,b,M,function(Do){Ze(Do+" ("+Sr.repoInfo_.toString()+")"),Sr.interrupt("server_kill")},X)),[3,4];case 3:return xr=Qr.sent(),this.log_("Failed to get token: "+xr),Me||(this.repoInfo_.nodeAdmin&&Ze(xr),tt()),[3,4];case 4:return[2]}})})},h.prototype.interrupt=function(p){Ge("Interrupting connection for reason: "+p),this.interruptReasons_[p]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},h.prototype.resume=function(p){Ge("Resuming connection for reason: "+p),delete this.interruptReasons_[p],(0,D.isEmpty)(this.interruptReasons_)&&(this.reconnectDelay_=Wo,this.realtime_||this.scheduleConnect_(0))},h.prototype.handleTimestamp_=function(p){var b=p-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:b})},h.prototype.cancelSentTransactions_=function(){for(var p=0;p<this.outstandingPuts_.length;p++){var b=this.outstandingPuts_[p];b&&"h"in b.request&&b.queued&&(b.onComplete&&b.onComplete("disconnect"),delete this.outstandingPuts_[p],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},h.prototype.onListenRevoked_=function(p,b){var M;M=b?b.map(function(X){return Mn(X)}).join("$"):"default";var U=this.removeListen_(p,M);U&&U.onComplete&&U.onComplete("permission_denied")},h.prototype.removeListen_=function(p,b){var U,M=new St(p).toString();if(this.listens.has(M)){var X=this.listens.get(M);U=X.get(b),X.delete(b),0===X.size&&this.listens.delete(M)}else U=void 0;return U},h.prototype.onAuthRevoked_=function(p,b){Ge("Auth token revoked: "+p+"/"+b),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===p||"permission_denied"===p)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},h.prototype.onAppCheckRevoked_=function(p,b){Ge("App check token revoked: "+p+"/"+b),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===p||"permission_denied"===p)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},h.prototype.onSecurityDebugPacket_=function(p){this.securityDebugCallback_?this.securityDebugCallback_(p):"msg"in p&&console.log("FIREBASE: "+p.msg.replace("\n","\nFIREBASE: "))},h.prototype.restoreState_=function(){var p,b,M,U;this.tryAuth(),this.tryAppCheck();try{for(var X=(0,C.__values)(this.listens.values()),Me=X.next();!Me.done;Me=X.next()){var Be=Me.value;try{for(var tt=(M=void 0,(0,C.__values)(Be.values())),ht=tt.next();!ht.done;ht=tt.next())this.sendListen_(ht.value)}catch(qn){M={error:qn}}finally{try{ht&&!ht.done&&(U=tt.return)&&U.call(tt)}finally{if(M)throw M.error}}}}catch(qn){p={error:qn}}finally{try{Me&&!Me.done&&(b=X.return)&&b.call(X)}finally{if(p)throw p.error}}for(var fn=0;fn<this.outstandingPuts_.length;fn++)this.outstandingPuts_[fn]&&this.sendPut_(fn);for(;this.onDisconnectRequestQueue_.length;){var xn=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(xn.action,xn.pathString,xn.data,xn.onComplete)}for(fn=0;fn<this.outstandingGets_.length;fn++)this.outstandingGets_[fn]&&this.sendGet_(fn)},h.prototype.sendConnectStats_=function(){var p={},b="js";(0,D.isNodeSdk)()&&(b=this.repoInfo_.nodeAdmin?"admin_node":"node"),p["sdk."+b+"."+ie.replace(/\./g,"-")]=1,(0,D.isMobileCordova)()?p["framework.cordova"]=1:(0,D.isReactNative)()&&(p["framework.reactnative"]=1),this.reportStats(p)},h.prototype.shouldReconnect_=function(){var p=nn.getInstance().currentlyOnline();return(0,D.isEmpty)(this.interruptReasons_)&&p},h.nextPersistentConnectionId_=0,h.nextConnectionId_=0,h}(Je),kr=function(){function d(h,p){this.name=h,this.node=p}return d.Wrap=function(h,p){return new d(h,p)},d}(),Zo=function(){function d(){}return d.prototype.getCompare=function(){return this.compare.bind(this)},d.prototype.indexedValueChanged=function(h,p){var b=new kr(pt,h),M=new kr(pt,p);return 0!==this.compare(b,M)},d.prototype.minPost=function(){return kr.MIN},d}(),ci=function(d){function h(){return null!==d&&d.apply(this,arguments)||this}return(0,C.__extends)(h,d),Object.defineProperty(h,"__EMPTY_NODE",{get:function(){return rr},set:function(p){rr=p},enumerable:!1,configurable:!0}),h.prototype.compare=function(p,b){return Tt(p.name,b.name)},h.prototype.isDefinedOn=function(p){throw(0,D.assertionError)("KeyIndex.isDefinedOn not expected to be called.")},h.prototype.indexedValueChanged=function(p,b){return!1},h.prototype.minPost=function(){return kr.MIN},h.prototype.maxPost=function(){return new kr(Rt,rr)},h.prototype.makePost=function(p,b){return(0,D.assert)("string"==typeof p,"KeyIndex indexValue must always be a string."),new kr(p,rr)},h.prototype.toString=function(){return".key"},h}(Zo),re=new ci,Q=function(){function d(h,p,b,M,U){void 0===U&&(U=null),this.isReverse_=M,this.resultGenerator_=U,this.nodeStack_=[];for(var X=1;!h.isEmpty();)if(h=h,X=p?b(h.key,p):1,M&&(X*=-1),X<0)h=this.isReverse_?h.left:h.right;else{if(0===X){this.nodeStack_.push(h);break}this.nodeStack_.push(h),h=this.isReverse_?h.right:h.left}}return d.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var p,h=this.nodeStack_.pop();if(p=this.resultGenerator_?this.resultGenerator_(h.key,h.value):{key:h.key,value:h.value},this.isReverse_)for(h=h.left;!h.isEmpty();)this.nodeStack_.push(h),h=h.right;else for(h=h.right;!h.isEmpty();)this.nodeStack_.push(h),h=h.left;return p},d.prototype.hasNext=function(){return this.nodeStack_.length>0},d.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var h=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(h.key,h.value):{key:h.key,value:h.value}},d}(),Fe=function(){function d(h,p,b,M,U){this.key=h,this.value=p,this.color=null!=b?b:d.RED,this.left=null!=M?M:Dt.EMPTY_NODE,this.right=null!=U?U:Dt.EMPTY_NODE}return d.prototype.copy=function(h,p,b,M,U){return new d(null!=h?h:this.key,null!=p?p:this.value,null!=b?b:this.color,null!=M?M:this.left,null!=U?U:this.right)},d.prototype.count=function(){return this.left.count()+1+this.right.count()},d.prototype.isEmpty=function(){return!1},d.prototype.inorderTraversal=function(h){return this.left.inorderTraversal(h)||!!h(this.key,this.value)||this.right.inorderTraversal(h)},d.prototype.reverseTraversal=function(h){return this.right.reverseTraversal(h)||h(this.key,this.value)||this.left.reverseTraversal(h)},d.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},d.prototype.minKey=function(){return this.min_().key},d.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},d.prototype.insert=function(h,p,b){var M=this,U=b(h,M.key);return(M=U<0?M.copy(null,null,null,M.left.insert(h,p,b),null):0===U?M.copy(null,p,null,null,null):M.copy(null,null,null,null,M.right.insert(h,p,b))).fixUp_()},d.prototype.removeMin_=function(){if(this.left.isEmpty())return Dt.EMPTY_NODE;var h=this;return!h.left.isRed_()&&!h.left.left.isRed_()&&(h=h.moveRedLeft_()),(h=h.copy(null,null,null,h.left.removeMin_(),null)).fixUp_()},d.prototype.remove=function(h,p){var b,M;if(p(h,(b=this).key)<0)!b.left.isEmpty()&&!b.left.isRed_()&&!b.left.left.isRed_()&&(b=b.moveRedLeft_()),b=b.copy(null,null,null,b.left.remove(h,p),null);else{if(b.left.isRed_()&&(b=b.rotateRight_()),!b.right.isEmpty()&&!b.right.isRed_()&&!b.right.left.isRed_()&&(b=b.moveRedRight_()),0===p(h,b.key)){if(b.right.isEmpty())return Dt.EMPTY_NODE;M=b.right.min_(),b=b.copy(M.key,M.value,null,null,b.right.removeMin_())}b=b.copy(null,null,null,null,b.right.remove(h,p))}return b.fixUp_()},d.prototype.isRed_=function(){return this.color},d.prototype.fixUp_=function(){var h=this;return h.right.isRed_()&&!h.left.isRed_()&&(h=h.rotateLeft_()),h.left.isRed_()&&h.left.left.isRed_()&&(h=h.rotateRight_()),h.left.isRed_()&&h.right.isRed_()&&(h=h.colorFlip_()),h},d.prototype.moveRedLeft_=function(){var h=this.colorFlip_();return h.right.left.isRed_()&&(h=(h=(h=h.copy(null,null,null,null,h.right.rotateRight_())).rotateLeft_()).colorFlip_()),h},d.prototype.moveRedRight_=function(){var h=this.colorFlip_();return h.left.left.isRed_()&&(h=(h=h.rotateRight_()).colorFlip_()),h},d.prototype.rotateLeft_=function(){var h=this.copy(null,null,d.RED,null,this.right.left);return this.right.copy(null,null,this.color,h,null)},d.prototype.rotateRight_=function(){var h=this.copy(null,null,d.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,h)},d.prototype.colorFlip_=function(){var h=this.left.copy(null,null,!this.left.color,null,null),p=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,h,p)},d.prototype.checkMaxDepth_=function(){var h=this.check_();return Math.pow(2,h)<=this.count()+1},d.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var h=this.left.check_();if(h!==this.right.check_())throw new Error("Black depths differ");return h+(this.isRed_()?0:1)},d.RED=!0,d.BLACK=!1,d}(),lt=function(){function d(){}return d.prototype.copy=function(h,p,b,M,U){return this},d.prototype.insert=function(h,p,b){return new Fe(h,p,null)},d.prototype.remove=function(h,p){return this},d.prototype.count=function(){return 0},d.prototype.isEmpty=function(){return!0},d.prototype.inorderTraversal=function(h){return!1},d.prototype.reverseTraversal=function(h){return!1},d.prototype.minKey=function(){return null},d.prototype.maxKey=function(){return null},d.prototype.check_=function(){return 0},d.prototype.isRed_=function(){return!1},d}(),Dt=function(){function d(h,p){void 0===p&&(p=d.EMPTY_NODE),this.comparator_=h,this.root_=p}return d.prototype.insert=function(h,p){return new d(this.comparator_,this.root_.insert(h,p,this.comparator_).copy(null,null,Fe.BLACK,null,null))},d.prototype.remove=function(h){return new d(this.comparator_,this.root_.remove(h,this.comparator_).copy(null,null,Fe.BLACK,null,null))},d.prototype.get=function(h){for(var p,b=this.root_;!b.isEmpty();){if(0===(p=this.comparator_(h,b.key)))return b.value;p<0?b=b.left:p>0&&(b=b.right)}return null},d.prototype.getPredecessorKey=function(h){for(var p,b=this.root_,M=null;!b.isEmpty();){if(0===(p=this.comparator_(h,b.key))){if(b.left.isEmpty())return M?M.key:null;for(b=b.left;!b.right.isEmpty();)b=b.right;return b.key}p<0?b=b.left:p>0&&(M=b,b=b.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},d.prototype.isEmpty=function(){return this.root_.isEmpty()},d.prototype.count=function(){return this.root_.count()},d.prototype.minKey=function(){return this.root_.minKey()},d.prototype.maxKey=function(){return this.root_.maxKey()},d.prototype.inorderTraversal=function(h){return this.root_.inorderTraversal(h)},d.prototype.reverseTraversal=function(h){return this.root_.reverseTraversal(h)},d.prototype.getIterator=function(h){return new Q(this.root_,null,this.comparator_,!1,h)},d.prototype.getIteratorFrom=function(h,p){return new Q(this.root_,h,this.comparator_,!1,p)},d.prototype.getReverseIteratorFrom=function(h,p){return new Q(this.root_,h,this.comparator_,!0,p)},d.prototype.getReverseIterator=function(h){return new Q(this.root_,null,this.comparator_,!0,h)},d.EMPTY_NODE=new lt,d}();function Yt(d,h){return Tt(d.name,h.name)}function _n(d,h){return Tt(d,h)}var Zr,qi,J,Bo,ye,Xn=function(d){return"number"==typeof d?"number:"+jt(d):"string:"+d},sr=function(d){if(d.isLeafNode()){var h=d.val();(0,D.assert)("string"==typeof h||"number"==typeof h||"object"==typeof h&&(0,D.contains)(h,".sv"),"Priority must be a string or number.")}else(0,D.assert)(d===Qn||d.isEmpty(),"priority of unexpected type.");(0,D.assert)(d===Qn||d.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},hi=function(){function d(h,p){void 0===p&&(p=d.__childrenNodeConstructor.EMPTY_NODE),this.value_=h,this.priorityNode_=p,this.lazyHash_=null,(0,D.assert)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),sr(this.priorityNode_)}return Object.defineProperty(d,"__childrenNodeConstructor",{get:function(){return Zr},set:function(h){Zr=h},enumerable:!1,configurable:!0}),d.prototype.isLeafNode=function(){return!0},d.prototype.getPriority=function(){return this.priorityNode_},d.prototype.updatePriority=function(h){return new d(this.value_,h)},d.prototype.getImmediateChild=function(h){return".priority"===h?this.priorityNode_:d.__childrenNodeConstructor.EMPTY_NODE},d.prototype.getChild=function(h){return br(h)?this:".priority"===Mt(h)?this.priorityNode_:d.__childrenNodeConstructor.EMPTY_NODE},d.prototype.hasChild=function(){return!1},d.prototype.getPredecessorChildName=function(h,p){return null},d.prototype.updateImmediateChild=function(h,p){return".priority"===h?this.updatePriority(p):p.isEmpty()&&".priority"!==h?this:d.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(h,p).updatePriority(this.priorityNode_)},d.prototype.updateChild=function(h,p){var b=Mt(h);return null===b?p:p.isEmpty()&&".priority"!==b?this:((0,D.assert)(".priority"!==b||1===On(h),".priority must be the last token in a path"),this.updateImmediateChild(b,d.__childrenNodeConstructor.EMPTY_NODE.updateChild(Sn(h),p)))},d.prototype.isEmpty=function(){return!1},d.prototype.numChildren=function(){return 0},d.prototype.forEachChild=function(h,p){return!1},d.prototype.val=function(h){return h&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},d.prototype.hash=function(){if(null===this.lazyHash_){var h="";this.priorityNode_.isEmpty()||(h+="priority:"+Xn(this.priorityNode_.val())+":");var p=typeof this.value_;h+=p+":",h+="number"===p?jt(this.value_):this.value_,this.lazyHash_=Se(h)}return this.lazyHash_},d.prototype.getValue=function(){return this.value_},d.prototype.compareTo=function(h){return h===d.__childrenNodeConstructor.EMPTY_NODE?1:h instanceof d.__childrenNodeConstructor?-1:((0,D.assert)(h.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(h))},d.prototype.compareToLeafNode_=function(h){var p=typeof h.value_,b=typeof this.value_,M=d.VALUE_TYPE_ORDER.indexOf(p),U=d.VALUE_TYPE_ORDER.indexOf(b);return(0,D.assert)(M>=0,"Unknown leaf type: "+p),(0,D.assert)(U>=0,"Unknown leaf type: "+b),M===U?"object"===b?0:this.value_<h.value_?-1:this.value_===h.value_?0:1:U-M},d.prototype.withIndex=function(){return this},d.prototype.isIndexed=function(){return!0},d.prototype.equals=function(h){return h===this||!!h.isLeafNode()&&(this.value_===h.value_&&this.priorityNode_.equals(h.priorityNode_))},d.VALUE_TYPE_ORDER=["object","boolean","number","string"],d}(),Bt=new(function(d){function h(){return null!==d&&d.apply(this,arguments)||this}return(0,C.__extends)(h,d),h.prototype.compare=function(p,b){var M=p.node.getPriority(),U=b.node.getPriority(),X=M.compareTo(U);return 0===X?Tt(p.name,b.name):X},h.prototype.isDefinedOn=function(p){return!p.getPriority().isEmpty()},h.prototype.indexedValueChanged=function(p,b){return!p.getPriority().equals(b.getPriority())},h.prototype.minPost=function(){return kr.MIN},h.prototype.maxPost=function(){return new kr(Rt,new hi("[PRIORITY-POST]",J))},h.prototype.makePost=function(p,b){var M=qi(p);return new kr(b,new hi("[PRIORITY-POST]",M))},h.prototype.toString=function(){return".priority"},h}(Zo)),Wn=Math.log(2),$r=function(){function d(h){this.count=parseInt(Math.log(h+1)/Wn,10),this.current_=this.count-1;var M=parseInt(Array(this.count+1).join("1"),2);this.bits_=h+1&M}return d.prototype.nextBitIsOne=function(){var h=!(this.bits_&1<<this.current_);return this.current_--,h},d}(),Gi=function(d,h,p,b){d.sort(h);var M=function(Be,tt){var $t,fn,ht=tt-Be;if(0===ht)return null;if(1===ht)return $t=d[Be],fn=p?p($t):$t,new Fe(fn,$t.node,Fe.BLACK,null,null);var xn=parseInt(ht/2,10)+Be,qn=M(Be,xn),xr=M(xn+1,tt);return $t=d[xn],fn=p?p($t):$t,new Fe(fn,$t.node,Fe.BLACK,qn,xr)},Me=function(Be){for(var tt=null,ht=null,$t=d.length,fn=function(Qr,Do){var Xi=$t-Qr,Lc=$t;$t-=Qr;var wh=M(Xi+1,Lc),Bc=d[Xi],Vc=p?p(Bc):Bc;xn(new Fe(Vc,Bc.node,Do,null,wh))},xn=function(Qr){tt?(tt.left=Qr,tt=Qr):(ht=Qr,tt=Qr)},qn=0;qn<Be.count;++qn){var xr=Be.nextBitIsOne(),Sr=Math.pow(2,Be.count-(qn+1));xr?fn(Sr,Fe.BLACK):(fn(Sr,Fe.BLACK),fn(Sr,Fe.RED))}return ht}(new $r(d.length));return new Dt(b||h,Me)},Qs={},$=function(){function d(h,p){this.indexes_=h,this.indexSet_=p}return Object.defineProperty(d,"Default",{get:function(){return(0,D.assert)(Qs&&Bt,"ChildrenNode.ts has not been loaded"),Bo=Bo||new d({".priority":Qs},{".priority":Bt})},enumerable:!1,configurable:!0}),d.prototype.get=function(h){var p=(0,D.safeGet)(this.indexes_,h);if(!p)throw new Error("No index defined for "+h);return p instanceof Dt?p:null},d.prototype.hasIndex=function(h){return(0,D.contains)(this.indexSet_,h.toString())},d.prototype.addIndex=function(h,p){(0,D.assert)(h!==re,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var b=[],M=!1,U=p.getIterator(kr.Wrap),X=U.getNext();X;)M=M||h.isDefinedOn(X.node),b.push(X),X=U.getNext();var Me;Me=M?Gi(b,h.getCompare()):Qs;var Be=h.toString(),tt=(0,C.__assign)({},this.indexSet_);tt[Be]=h;var ht=(0,C.__assign)({},this.indexes_);return ht[Be]=Me,new d(ht,tt)},d.prototype.addToIndexes=function(h,p){var b=this;return new d((0,D.map)(this.indexes_,function(U,X){var Me=(0,D.safeGet)(b.indexSet_,X);if((0,D.assert)(Me,"Missing index implementation for "+X),U===Qs){if(Me.isDefinedOn(h.node)){for(var Be=[],tt=p.getIterator(kr.Wrap),ht=tt.getNext();ht;)ht.name!==h.name&&Be.push(ht),ht=tt.getNext();return Be.push(h),Gi(Be,Me.getCompare())}return Qs}var $t=p.get(h.name),fn=U;return $t&&(fn=fn.remove(new kr(h.name,$t))),fn.insert(h,h.node)}),this.indexSet_)},d.prototype.removeFromIndexes=function(h,p){return new d((0,D.map)(this.indexes_,function(M){if(M===Qs)return M;var U=p.get(h.name);return U?M.remove(new kr(h.name,U)):M}),this.indexSet_)},d}(),K=function(){function d(h,p,b){this.children_=h,this.priorityNode_=p,this.indexMap_=b,this.lazyHash_=null,this.priorityNode_&&sr(this.priorityNode_),this.children_.isEmpty()&&(0,D.assert)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(d,"EMPTY_NODE",{get:function(){return ye||(ye=new d(new Dt(_n),null,$.Default))},enumerable:!1,configurable:!0}),d.prototype.isLeafNode=function(){return!1},d.prototype.getPriority=function(){return this.priorityNode_||ye},d.prototype.updatePriority=function(h){return this.children_.isEmpty()?this:new d(this.children_,h,this.indexMap_)},d.prototype.getImmediateChild=function(h){if(".priority"===h)return this.getPriority();var p=this.children_.get(h);return null===p?ye:p},d.prototype.getChild=function(h){var p=Mt(h);return null===p?this:this.getImmediateChild(p).getChild(Sn(h))},d.prototype.hasChild=function(h){return null!==this.children_.get(h)},d.prototype.updateImmediateChild=function(h,p){if((0,D.assert)(p,"We should always be passing snapshot nodes"),".priority"===h)return this.updatePriority(p);var b=new kr(h,p),M=void 0,U=void 0;p.isEmpty()?(M=this.children_.remove(h),U=this.indexMap_.removeFromIndexes(b,this.children_)):(M=this.children_.insert(h,p),U=this.indexMap_.addToIndexes(b,this.children_));var X=M.isEmpty()?ye:this.priorityNode_;return new d(M,X,U)},d.prototype.updateChild=function(h,p){var b=Mt(h);if(null===b)return p;(0,D.assert)(".priority"!==Mt(h)||1===On(h),".priority must be the last token in a path");var M=this.getImmediateChild(b).updateChild(Sn(h),p);return this.updateImmediateChild(b,M)},d.prototype.isEmpty=function(){return this.children_.isEmpty()},d.prototype.numChildren=function(){return this.children_.count()},d.prototype.val=function(h){if(this.isEmpty())return null;var p={},b=0,M=0,U=!0;if(this.forEachChild(Bt,function(Be,tt){p[Be]=tt.val(h),b++,U&&d.INTEGER_REGEXP_.test(Be)?M=Math.max(M,Number(Be)):U=!1}),!h&&U&&M<2*b){var X=[];for(var Me in p)X[Me]=p[Me];return X}return h&&!this.getPriority().isEmpty()&&(p[".priority"]=this.getPriority().val()),p},d.prototype.hash=function(){if(null===this.lazyHash_){var h="";this.getPriority().isEmpty()||(h+="priority:"+Xn(this.getPriority().val())+":"),this.forEachChild(Bt,function(p,b){var M=b.hash();""!==M&&(h+=":"+p+":"+M)}),this.lazyHash_=""===h?"":Se(h)}return this.lazyHash_},d.prototype.getPredecessorChildName=function(h,p,b){var M=this.resolveIndex_(b);if(M){var U=M.getPredecessorKey(new kr(h,p));return U?U.name:null}return this.children_.getPredecessorKey(h)},d.prototype.getFirstChildName=function(h){var p=this.resolveIndex_(h);if(p){var b=p.minKey();return b&&b.name}return this.children_.minKey()},d.prototype.getFirstChild=function(h){var p=this.getFirstChildName(h);return p?new kr(p,this.children_.get(p)):null},d.prototype.getLastChildName=function(h){var p=this.resolveIndex_(h);if(p){var b=p.maxKey();return b&&b.name}return this.children_.maxKey()},d.prototype.getLastChild=function(h){var p=this.getLastChildName(h);return p?new kr(p,this.children_.get(p)):null},d.prototype.forEachChild=function(h,p){var b=this.resolveIndex_(h);return b?b.inorderTraversal(function(M){return p(M.name,M.node)}):this.children_.inorderTraversal(p)},d.prototype.getIterator=function(h){return this.getIteratorFrom(h.minPost(),h)},d.prototype.getIteratorFrom=function(h,p){var b=this.resolveIndex_(p);if(b)return b.getIteratorFrom(h,function(X){return X});for(var M=this.children_.getIteratorFrom(h.name,kr.Wrap),U=M.peek();null!=U&&p.compare(U,h)<0;)M.getNext(),U=M.peek();return M},d.prototype.getReverseIterator=function(h){return this.getReverseIteratorFrom(h.maxPost(),h)},d.prototype.getReverseIteratorFrom=function(h,p){var b=this.resolveIndex_(p);if(b)return b.getReverseIteratorFrom(h,function(X){return X});for(var M=this.children_.getReverseIteratorFrom(h.name,kr.Wrap),U=M.peek();null!=U&&p.compare(U,h)>0;)M.getNext(),U=M.peek();return M},d.prototype.compareTo=function(h){return this.isEmpty()?h.isEmpty()?0:-1:h.isLeafNode()||h.isEmpty()?1:h===ft?-1:0},d.prototype.withIndex=function(h){if(h===re||this.indexMap_.hasIndex(h))return this;var p=this.indexMap_.addIndex(h,this.children_);return new d(this.children_,this.priorityNode_,p)},d.prototype.isIndexed=function(h){return h===re||this.indexMap_.hasIndex(h)},d.prototype.equals=function(h){if(h===this)return!0;if(h.isLeafNode())return!1;var p=h;if(this.getPriority().equals(p.getPriority())){if(this.children_.count()===p.children_.count()){for(var b=this.getIterator(Bt),M=p.getIterator(Bt),U=b.getNext(),X=M.getNext();U&&X;){if(U.name!==X.name||!U.node.equals(X.node))return!1;U=b.getNext(),X=M.getNext()}return null===U&&null===X}return!1}return!1},d.prototype.resolveIndex_=function(h){return h===re?null:this.indexMap_.get(h.toString())},d.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,d}(),ft=new(function(d){function h(){return d.call(this,new Dt(_n),K.EMPTY_NODE,$.Default)||this}return(0,C.__extends)(h,d),h.prototype.compareTo=function(p){return p===this?0:1},h.prototype.equals=function(p){return p===this},h.prototype.getPriority=function(){return this},h.prototype.getImmediateChild=function(p){return K.EMPTY_NODE},h.prototype.isEmpty=function(){return!1},h}(K));function un(d,h){if(void 0===h&&(h=null),null===d)return K.EMPTY_NODE;if("object"==typeof d&&".priority"in d&&(h=d[".priority"]),(0,D.assert)(null===h||"string"==typeof h||"number"==typeof h||"object"==typeof h&&".sv"in h,"Invalid priority type found: "+typeof h),"object"==typeof d&&".value"in d&&null!==d[".value"]&&(d=d[".value"]),"object"!=typeof d||".sv"in d)return new hi(d,un(h));if(d instanceof Array){var Be=K.EMPTY_NODE;return cn(d,function(tt,ht){if((0,D.contains)(d,tt)&&"."!==tt.substring(0,1)){var $t=un(ht);($t.isLeafNode()||!$t.isEmpty())&&(Be=Be.updateImmediateChild(tt,$t))}}),Be.updatePriority(un(h))}var b=[],M=!1;if(cn(d,function(tt,ht){if("."!==tt.substring(0,1)){var $t=un(ht);$t.isEmpty()||(M=M||!$t.getPriority().isEmpty(),b.push(new kr(tt,$t)))}}),0===b.length)return K.EMPTY_NODE;var X=Gi(b,Yt,function(tt){return tt.name},_n);if(M){var Me=Gi(b,Bt.getCompare());return new K(X,un(h),new $({".priority":Me},{".priority":Bt}))}return new K(X,un(h),$.Default)}Object.defineProperties(kr,{MIN:{value:new kr(pt,K.EMPTY_NODE)},MAX:{value:new kr(Rt,ft)}}),ci.__EMPTY_NODE=K.EMPTY_NODE,hi.__childrenNodeConstructor=K,function(d){Qn=d}(ft),function(d){J=d}(ft),function(d){qi=d}(un);var tr=function(d){function h(p){var b=d.call(this)||this;return b.indexPath_=p,(0,D.assert)(!br(p)&&".priority"!==Mt(p),"Can't create PathIndex with empty path or .priority key"),b}return(0,C.__extends)(h,d),h.prototype.extractChild=function(p){return p.getChild(this.indexPath_)},h.prototype.isDefinedOn=function(p){return!p.getChild(this.indexPath_).isEmpty()},h.prototype.compare=function(p,b){var M=this.extractChild(p.node),U=this.extractChild(b.node),X=M.compareTo(U);return 0===X?Tt(p.name,b.name):X},h.prototype.makePost=function(p,b){var M=un(p),U=K.EMPTY_NODE.updateChild(this.indexPath_,M);return new kr(b,U)},h.prototype.maxPost=function(){var p=K.EMPTY_NODE.updateChild(this.indexPath_,ft);return new kr(Rt,p)},h.prototype.toString=function(){return li(this.indexPath_,0).join("/")},h}(Zo),Ri=new(function(d){function h(){return null!==d&&d.apply(this,arguments)||this}return(0,C.__extends)(h,d),h.prototype.compare=function(p,b){var M=p.node.compareTo(b.node);return 0===M?Tt(p.name,b.name):M},h.prototype.isDefinedOn=function(p){return!0},h.prototype.indexedValueChanged=function(p,b){return!p.equals(b)},h.prototype.minPost=function(){return kr.MIN},h.prototype.maxPost=function(){return kr.MAX},h.prototype.makePost=function(p,b){var M=un(p);return new kr(b,M)},h.prototype.toString=function(){return".value"},h}(Zo)),di="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",ro=function(){var d=0,h=[];return function(p){var b=p===d;d=p;var M,U=new Array(8);for(M=7;M>=0;M--)U[M]=di.charAt(p%64),p=Math.floor(p/64);(0,D.assert)(0===p,"Cannot push at time == 0");var X=U.join("");if(b){for(M=11;M>=0&&63===h[M];M--)h[M]=0;h[M]++}else for(M=0;M<12;M++)h[M]=Math.floor(64*Math.random());for(M=0;M<12;M++)X+=di.charAt(h[M]);return(0,D.assert)(20===X.length,"nextPushId: Length should be 20."),X}}(),ia=function(d){if(d===""+qt)return"-";var h=Pt(d);if(null!=h)return""+(h+1);for(var p=new Array(d.length),b=0;b<p.length;b++)p[b]=d.charAt(b);if(p.length<786)return p.push("-"),p.join("");for(var M=p.length-1;M>=0&&"z"===p[M];)M--;if(-1===M)return Rt;var X=di.charAt(di.indexOf(p[M])+1);return p[M]=X,p.slice(0,M+1).join("")},mo=function(d){if(d===""+Nt)return pt;var h=Pt(d);if(null!=h)return""+(h-1);for(var p=new Array(d.length),b=0;b<p.length;b++)p[b]=d.charAt(b);return"-"===p[p.length-1]?1===p.length?""+qt:(delete p[p.length-1],p.join("")):(p[p.length-1]=di.charAt(di.indexOf(p[p.length-1])-1),p.join("")+"z".repeat(786-p.length))};function Li(d){return{type:"value",snapshotNode:d}}function Ro(d,h){return{type:"child_added",snapshotNode:h,childName:d}}function Cr(d,h){return{type:"child_removed",snapshotNode:h,childName:d}}function Ss(d,h,p){return{type:"child_changed",snapshotNode:h,childName:d,oldSnap:p}}var oa=function(){function d(h){this.index_=h}return d.prototype.updateChild=function(h,p,b,M,U,X){(0,D.assert)(h.isIndexed(this.index_),"A node must be indexed if only a child is updated");var Me=h.getImmediateChild(p);return Me.getChild(M).equals(b.getChild(M))&&Me.isEmpty()===b.isEmpty()||(null!=X&&(b.isEmpty()?h.hasChild(p)?X.trackChildChange(Cr(p,Me)):(0,D.assert)(h.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):Me.isEmpty()?X.trackChildChange(Ro(p,b)):X.trackChildChange(Ss(p,b,Me))),h.isLeafNode()&&b.isEmpty())?h:h.updateImmediateChild(p,b).withIndex(this.index_)},d.prototype.updateFullNode=function(h,p,b){return null!=b&&(h.isLeafNode()||h.forEachChild(Bt,function(M,U){p.hasChild(M)||b.trackChildChange(Cr(M,U))}),p.isLeafNode()||p.forEachChild(Bt,function(M,U){if(h.hasChild(M)){var X=h.getImmediateChild(M);X.equals(U)||b.trackChildChange(Ss(M,U,X))}else b.trackChildChange(Ro(M,U))})),p.withIndex(this.index_)},d.prototype.updatePriority=function(h,p){return h.isEmpty()?K.EMPTY_NODE:h.updatePriority(p)},d.prototype.filtersNodes=function(){return!1},d.prototype.getIndexedFilter=function(){return this},d.prototype.getIndex=function(){return this.index_},d}(),Ea=function(){function d(h){this.indexedFilter_=new oa(h.getIndex()),this.index_=h.getIndex(),this.startPost_=d.getStartPost_(h),this.endPost_=d.getEndPost_(h)}return d.prototype.getStartPost=function(){return this.startPost_},d.prototype.getEndPost=function(){return this.endPost_},d.prototype.matches=function(h){return this.index_.compare(this.getStartPost(),h)<=0&&this.index_.compare(h,this.getEndPost())<=0},d.prototype.updateChild=function(h,p,b,M,U,X){return this.matches(new kr(p,b))||(b=K.EMPTY_NODE),this.indexedFilter_.updateChild(h,p,b,M,U,X)},d.prototype.updateFullNode=function(h,p,b){p.isLeafNode()&&(p=K.EMPTY_NODE);var M=p.withIndex(this.index_);M=M.updatePriority(K.EMPTY_NODE);var U=this;return p.forEachChild(Bt,function(X,Me){U.matches(new kr(X,Me))||(M=M.updateImmediateChild(X,K.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(h,M,b)},d.prototype.updatePriority=function(h,p){return h},d.prototype.filtersNodes=function(){return!0},d.prototype.getIndexedFilter=function(){return this.indexedFilter_},d.prototype.getIndex=function(){return this.index_},d.getStartPost_=function(h){if(h.hasStart()){var p=h.getIndexStartName();return h.getIndex().makePost(h.getIndexStartValue(),p)}return h.getIndex().minPost()},d.getEndPost_=function(h){if(h.hasEnd()){var p=h.getIndexEndName();return h.getIndex().makePost(h.getIndexEndValue(),p)}return h.getIndex().maxPost()},d}(),tu=function(){function d(h){this.rangedFilter_=new Ea(h),this.index_=h.getIndex(),this.limit_=h.getLimit(),this.reverse_=!h.isViewFromLeft()}return d.prototype.updateChild=function(h,p,b,M,U,X){return this.rangedFilter_.matches(new kr(p,b))||(b=K.EMPTY_NODE),h.getImmediateChild(p).equals(b)?h:h.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(h,p,b,M,U,X):this.fullLimitUpdateChild_(h,p,b,U,X)},d.prototype.updateFullNode=function(h,p,b){var M;if(p.isLeafNode()||p.isEmpty())M=K.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<p.numChildren()&&p.isIndexed(this.index_)){M=K.EMPTY_NODE.withIndex(this.index_);var U=void 0;U=this.reverse_?p.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):p.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var X=0;U.hasNext()&&X<this.limit_;){var Me=U.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),Me)<=0:this.index_.compare(Me,this.rangedFilter_.getEndPost())<=0))break;M=M.updateImmediateChild(Me.name,Me.node),X++}}else{M=(M=p.withIndex(this.index_)).updatePriority(K.EMPTY_NODE);var tt=void 0,ht=void 0,$t=void 0;if(U=void 0,this.reverse_){U=M.getReverseIterator(this.index_),tt=this.rangedFilter_.getEndPost(),ht=this.rangedFilter_.getStartPost();var fn=this.index_.getCompare();$t=function(Sr,Qr){return fn(Qr,Sr)}}else U=M.getIterator(this.index_),tt=this.rangedFilter_.getStartPost(),ht=this.rangedFilter_.getEndPost(),$t=this.index_.getCompare();X=0;for(var xn=!1;U.hasNext();)Me=U.getNext(),!xn&&$t(tt,Me)<=0&&(xn=!0),xn&&X<this.limit_&&$t(Me,ht)<=0?X++:M=M.updateImmediateChild(Me.name,K.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(h,M,b)},d.prototype.updatePriority=function(h,p){return h},d.prototype.filtersNodes=function(){return!0},d.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},d.prototype.getIndex=function(){return this.index_},d.prototype.fullLimitUpdateChild_=function(h,p,b,M,U){var X;if(this.reverse_){var Me=this.index_.getCompare();X=function(Do,Xi){return Me(Xi,Do)}}else X=this.index_.getCompare();var Be=h;(0,D.assert)(Be.numChildren()===this.limit_,"");var tt=new kr(p,b),ht=this.reverse_?Be.getFirstChild(this.index_):Be.getLastChild(this.index_),$t=this.rangedFilter_.matches(tt);if(Be.hasChild(p)){for(var fn=Be.getImmediateChild(p),xn=M.getChildAfterChild(this.index_,ht,this.reverse_);null!=xn&&(xn.name===p||Be.hasChild(xn.name));)xn=M.getChildAfterChild(this.index_,xn,this.reverse_);var qn=null==xn?1:X(xn,tt);if($t&&!b.isEmpty()&&qn>=0)return null!=U&&U.trackChildChange(Ss(p,b,fn)),Be.updateImmediateChild(p,b);null!=U&&U.trackChildChange(Cr(p,fn));var Sr=Be.updateImmediateChild(p,K.EMPTY_NODE);return null!=xn&&this.rangedFilter_.matches(xn)?(null!=U&&U.trackChildChange(Ro(xn.name,xn.node)),Sr.updateImmediateChild(xn.name,xn.node)):Sr}return b.isEmpty()?h:$t&&X(ht,tt)>=0?(null!=U&&(U.trackChildChange(Cr(ht.name,ht.node)),U.trackChildChange(Ro(p,b))),Be.updateImmediateChild(p,b).updateImmediateChild(ht.name,K.EMPTY_NODE)):h},d}(),sa=function(){function d(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Bt}return d.prototype.hasStart=function(){return this.startSet_},d.prototype.hasStartAfter=function(){return this.startAfterSet_},d.prototype.hasEndBefore=function(){return this.endBeforeSet_},d.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},d.prototype.getIndexStartValue=function(){return(0,D.assert)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},d.prototype.getIndexStartName=function(){return(0,D.assert)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:pt},d.prototype.hasEnd=function(){return this.endSet_},d.prototype.getIndexEndValue=function(){return(0,D.assert)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},d.prototype.getIndexEndName=function(){return(0,D.assert)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Rt},d.prototype.hasLimit=function(){return this.limitSet_},d.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},d.prototype.getLimit=function(){return(0,D.assert)(this.limitSet_,"Only valid if limit has been set"),this.limit_},d.prototype.getIndex=function(){return this.index_},d.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},d.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Bt},d.prototype.copy=function(){var h=new d;return h.limitSet_=this.limitSet_,h.limit_=this.limit_,h.startSet_=this.startSet_,h.indexStartValue_=this.indexStartValue_,h.startNameSet_=this.startNameSet_,h.indexStartName_=this.indexStartName_,h.endSet_=this.endSet_,h.indexEndValue_=this.indexEndValue_,h.endNameSet_=this.endNameSet_,h.indexEndName_=this.indexEndName_,h.index_=this.index_,h.viewFrom_=this.viewFrom_,h},d}();function La(d,h,p){var b=d.copy();return b.startSet_=!0,void 0===h&&(h=null),b.indexStartValue_=h,null!=p?(b.startNameSet_=!0,b.indexStartName_=p):(b.startNameSet_=!1,b.indexStartName_=""),b}function Zs(d,h,p){var b=d.copy();return b.endSet_=!0,void 0===h&&(h=null),b.indexEndValue_=h,void 0!==p?(b.endNameSet_=!0,b.indexEndName_=p):(b.endNameSet_=!1,b.indexEndName_=""),b}function As(d,h){var p=d.copy();return p.index_=h,p}function ge(d){var p,h={};return d.isDefault()||(d.index_===Bt?p="$priority":d.index_===Ri?p="$value":d.index_===re?p="$key":((0,D.assert)(d.index_ instanceof tr,"Unrecognized index type!"),p=d.index_.toString()),h.orderBy=(0,D.stringify)(p),d.startSet_&&(h.startAt=(0,D.stringify)(d.indexStartValue_),d.startNameSet_&&(h.startAt+=","+(0,D.stringify)(d.indexStartName_))),d.endSet_&&(h.endAt=(0,D.stringify)(d.indexEndValue_),d.endNameSet_&&(h.endAt+=","+(0,D.stringify)(d.indexEndName_))),d.limitSet_&&(d.isViewFromLeft()?h.limitToFirst=d.limit_:h.limitToLast=d.limit_)),h}function I(d){var h={};if(d.startSet_&&(h.sp=d.indexStartValue_,d.startNameSet_&&(h.sn=d.indexStartName_)),d.endSet_&&(h.ep=d.indexEndValue_,d.endNameSet_&&(h.en=d.indexEndName_)),d.limitSet_){h.l=d.limit_;var p=d.viewFrom_;""===p&&(p=d.isViewFromLeft()?"l":"r"),h.vf=p}return d.index_!==Bt&&(h.i=d.index_.toString()),h}var R=function(d){function h(p,b,M,U){var X=d.call(this)||this;return X.repoInfo_=p,X.onDataUpdate_=b,X.authTokenProvider_=M,X.appCheckTokenProvider_=U,X.log_=at("p:rest:"),X.listens_={},X}return(0,C.__extends)(h,d),h.prototype.reportStats=function(p){throw new Error("Method not implemented.")},h.getListenId_=function(p,b){return void 0!==b?"tag$"+b:((0,D.assert)(p._queryParams.isDefault(),"should have a tag if it's not a default query."),p._path.toString())},h.prototype.listen=function(p,b,M,U){var X=this,Me=p._path.toString();this.log_("Listen called for "+Me+" "+p._queryIdentifier);var Be=h.getListenId_(p,M),tt={};this.listens_[Be]=tt;var ht=ge(p._queryParams);this.restRequest_(Me+".json",ht,function($t,fn){var xn=fn;404===$t&&(xn=null,$t=null),null===$t&&X.onDataUpdate_(Me,xn,!1,M),(0,D.safeGet)(X.listens_,Be)===tt&&U($t?401===$t?"permission_denied":"rest_error:"+$t:"ok",null)})},h.prototype.unlisten=function(p,b){var M=h.getListenId_(p,b);delete this.listens_[M]},h.prototype.get=function(p){var b=this,M=ge(p._queryParams),U=p._path.toString(),X=new D.Deferred;return this.restRequest_(U+".json",M,function(Me,Be){var tt=Be;404===Me&&(tt=null,Me=null),null===Me?(b.onDataUpdate_(U,tt,!1,null),X.resolve(tt)):X.reject(new Error(tt))}),X.promise},h.prototype.refreshAuthToken=function(p){},h.prototype.restRequest_=function(p,b,M){var U=this;return void 0===b&&(b={}),b.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(function(X){var Me=(0,C.__read)(X,2),Be=Me[0],tt=Me[1];Be&&Be.accessToken&&(b.auth=Be.accessToken),tt&&tt.token&&(b.ac=tt.token);var ht=(U.repoInfo_.secure?"https://":"http://")+U.repoInfo_.host+p+"?ns="+U.repoInfo_.namespace+(0,D.querystring)(b);U.log_("Sending REST request for "+ht);var $t=new XMLHttpRequest;$t.onreadystatechange=function(){if(M&&4===$t.readyState){U.log_("REST Response for "+ht+" received. status:",$t.status,"response:",$t.responseText);var fn=null;if($t.status>=200&&$t.status<300){try{fn=(0,D.jsonEval)($t.responseText)}catch(xn){Ze("Failed to parse JSON response for "+ht+": "+$t.responseText)}M(null,fn)}else 401!==$t.status&&404!==$t.status&&Ze("Got unsuccessful REST response for "+ht+" Status: "+$t.status),M($t.status);M=null}},$t.open("GET",ht,!0),$t.send()})},h}(Je),W=function(){function d(){this.rootNode_=K.EMPTY_NODE}return d.prototype.getNode=function(h){return this.rootNode_.getChild(h)},d.prototype.updateSnapshot=function(h,p){this.rootNode_=this.rootNode_.updateChild(h,p)},d}();function pe(){return{value:null,children:new Map}}function ke(d,h,p){if(br(h))d.value=p,d.children.clear();else if(null!==d.value)d.value=d.value.updateChild(h,p);else{var b=Mt(h);d.children.has(b)||d.children.set(b,pe()),ke(d.children.get(b),h=Sn(h),p)}}function it(d,h){if(br(h))return d.value=null,d.children.clear(),!0;if(null!==d.value){if(d.value.isLeafNode())return!1;var p=d.value;return d.value=null,p.forEachChild(Bt,function(U,X){ke(d,new St(U),X)}),it(d,h)}if(d.children.size>0){var b=Mt(h);return h=Sn(h),d.children.has(b)&&it(d.children.get(b),h)&&d.children.delete(b),0===d.children.size}return!0}function ct(d,h,p){null!==d.value?p(h,d.value):function(d,h){d.children.forEach(function(p,b){h(b,p)})}(d,function(b,M){ct(M,new St(h.toString()+"/"+b),p)})}var an=function(){function d(h){this.collection_=h,this.last_=null}return d.prototype.get=function(){var h=this.collection_.get(),p=(0,C.__assign)({},h);return this.last_&&cn(this.last_,function(b,M){p[b]=p[b]-M}),this.last_=h,p},d}(),Jr=function(){function d(h,p){this.server_=p,this.statsToReport_={},this.statsListener_=new an(h);var b=1e4+2e4*Math.random();bn(this.reportStats_.bind(this),Math.floor(b))}return d.prototype.reportStats_=function(){var h=this,p=this.statsListener_.get(),b={},M=!1;cn(p,function(U,X){X>0&&(0,D.contains)(h.statsToReport_,U)&&(b[U]=X,M=!0)}),M&&this.server_.reportStats(b),bn(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},d}(),ar=(()=>(function(d){d[d.OVERWRITE=0]="OVERWRITE",d[d.MERGE=1]="MERGE",d[d.ACK_USER_WRITE=2]="ACK_USER_WRITE",d[d.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(ar||(ar={})),ar))();function Bi(d){return{fromUser:!1,fromServer:!0,queryId:d,tagged:!0}}var Ko=function(){function d(h,p,b){this.path=h,this.affectedTree=p,this.revert=b,this.type=ar.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return d.prototype.operationForChild=function(h){if(br(this.path)){if(null!=this.affectedTree.value)return(0,D.assert)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var p=this.affectedTree.subtree(new St(h));return new d(Le(),p,this.revert)}return(0,D.assert)(Mt(this.path)===h,"operationForChild called for unrelated child."),new d(Sn(this.path),this.affectedTree,this.revert)},d}(),co=function(){function d(h,p){this.source=h,this.path=p,this.type=ar.LISTEN_COMPLETE}return d.prototype.operationForChild=function(h){return br(this.path)?new d(this.source,Le()):new d(this.source,Sn(this.path))},d}(),Ms=function(){function d(h,p,b){this.source=h,this.path=p,this.snap=b,this.type=ar.OVERWRITE}return d.prototype.operationForChild=function(h){return br(this.path)?new d(this.source,Le(),this.snap.getImmediateChild(h)):new d(this.source,Sn(this.path),this.snap)},d}(),_o=function(){function d(h,p,b){this.source=h,this.path=p,this.children=b,this.type=ar.MERGE}return d.prototype.operationForChild=function(h){if(br(this.path)){var p=this.children.subtree(new St(h));return p.isEmpty()?null:p.value?new Ms(this.source,Le(),p.value):new d(this.source,Le(),p)}return(0,D.assert)(Mt(this.path)===h,"Can't get a merge for a child not on the path of the operation"),new d(this.source,Sn(this.path),this.children)},d.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},d}(),Ti=function(){function d(h,p,b){this.node_=h,this.fullyInitialized_=p,this.filtered_=b}return d.prototype.isFullyInitialized=function(){return this.fullyInitialized_},d.prototype.isFiltered=function(){return this.filtered_},d.prototype.isCompleteForPath=function(h){if(br(h))return this.isFullyInitialized()&&!this.filtered_;var p=Mt(h);return this.isCompleteForChild(p)},d.prototype.isCompleteForChild=function(h){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(h)},d.prototype.getNode=function(){return this.node_},d}(),Rs=function(h){this.query_=h,this.index_=this.query_._queryParams.getIndex()};function To(d,h,p,b,M,U){var X=b.filter(function(Me){return Me.type===p});X.sort(function(Me,Be){return function(d,h,p){if(null==h.childName||null==p.childName)throw(0,D.assertionError)("Should only compare child_ events.");var b=new kr(h.childName,h.snapshotNode),M=new kr(p.childName,p.snapshotNode);return d.index_.compare(b,M)}(d,Me,Be)}),X.forEach(function(Me){var Be=function(d,h,p){return"value"===h.type||"child_removed"===h.type||(h.prevName=p.getPredecessorChildName(h.childName,h.snapshotNode,d.index_)),h}(d,Me,U);M.forEach(function(tt){tt.respondsTo(Me.type)&&h.push(tt.createEvent(Be,d.query_))})})}function mi(d,h){return{eventCache:d,serverCache:h}}function Jo(d,h,p,b){return mi(new Ti(h,p,b),d.serverCache)}function Wi(d,h,p,b){return mi(d.eventCache,new Ti(h,p,b))}function ir(d){return d.eventCache.isFullyInitialized()?d.eventCache.getNode():null}function Zn(d){return d.serverCache.isFullyInitialized()?d.serverCache.getNode():null}var Ar,_i=function(){function d(h,p){void 0===p&&(Ar||(Ar=new Dt(gn)),p=Ar),this.value=h,this.children=p}return d.fromObject=function(h){var p=new d(null);return cn(h,function(b,M){p=p.set(new St(b),M)}),p},d.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},d.prototype.findRootMostMatchingPathAndValue=function(h,p){if(null!=this.value&&p(this.value))return{path:Le(),value:this.value};if(br(h))return null;var b=Mt(h),M=this.children.get(b);if(null!==M){var U=M.findRootMostMatchingPathAndValue(Sn(h),p);return null!=U?{path:gr(new St(b),U.path),value:U.value}:null}return null},d.prototype.findRootMostValueAndPath=function(h){return this.findRootMostMatchingPathAndValue(h,function(){return!0})},d.prototype.subtree=function(h){if(br(h))return this;var p=Mt(h),b=this.children.get(p);return null!==b?b.subtree(Sn(h)):new d(null)},d.prototype.set=function(h,p){if(br(h))return new d(p,this.children);var b=Mt(h),U=(this.children.get(b)||new d(null)).set(Sn(h),p),X=this.children.insert(b,U);return new d(this.value,X)},d.prototype.remove=function(h){if(br(h))return this.children.isEmpty()?new d(null):new d(null,this.children);var p=Mt(h),b=this.children.get(p);if(b){var M=b.remove(Sn(h)),U=void 0;return U=M.isEmpty()?this.children.remove(p):this.children.insert(p,M),null===this.value&&U.isEmpty()?new d(null):new d(this.value,U)}return this},d.prototype.get=function(h){if(br(h))return this.value;var p=Mt(h),b=this.children.get(p);return b?b.get(Sn(h)):null},d.prototype.setTree=function(h,p){if(br(h))return p;var X,b=Mt(h),U=(this.children.get(b)||new d(null)).setTree(Sn(h),p);return X=U.isEmpty()?this.children.remove(b):this.children.insert(b,U),new d(this.value,X)},d.prototype.fold=function(h){return this.fold_(Le(),h)},d.prototype.fold_=function(h,p){var b={};return this.children.inorderTraversal(function(M,U){b[M]=U.fold_(gr(h,M),p)}),p(h,this.value,b)},d.prototype.findOnPath=function(h,p){return this.findOnPath_(h,Le(),p)},d.prototype.findOnPath_=function(h,p,b){var M=!!this.value&&b(p,this.value);if(M)return M;if(br(h))return null;var U=Mt(h),X=this.children.get(U);return X?X.findOnPath_(Sn(h),gr(p,U),b):null},d.prototype.foreachOnPath=function(h,p){return this.foreachOnPath_(h,Le(),p)},d.prototype.foreachOnPath_=function(h,p,b){if(br(h))return this;this.value&&b(p,this.value);var M=Mt(h),U=this.children.get(M);return U?U.foreachOnPath_(Sn(h),gr(p,M),b):new d(null)},d.prototype.foreach=function(h){this.foreach_(Le(),h)},d.prototype.foreach_=function(h,p){this.children.inorderTraversal(function(b,M){M.foreach_(gr(h,b),p)}),this.value&&p(h,this.value)},d.prototype.foreachChild=function(h){this.children.inorderTraversal(function(p,b){b.value&&h(p,b.value)})},d}(),io=function(){function d(h){this.writeTree_=h}return d.empty=function(){return new d(new _i(null))},d}();function wi(d,h,p){if(br(h))return new io(new _i(p));var b=d.writeTree_.findRootMostValueAndPath(h);if(null!=b){var M=b.path,U=b.value,X=bi(M,h);return U=U.updateChild(X,p),new io(d.writeTree_.set(M,U))}var Me=new _i(p),Be=d.writeTree_.setTree(h,Me);return new io(Be)}function Xo(d,h,p){var b=d;return cn(p,function(M,U){b=wi(b,gr(h,M),U)}),b}function Fi(d,h){if(br(h))return io.empty();var p=d.writeTree_.setTree(h,new _i(null));return new io(p)}function aa(d,h){return null!=Oo(d,h)}function Oo(d,h){var p=d.writeTree_.findRootMostValueAndPath(h);return null!=p?d.writeTree_.get(p.path).getChild(bi(p.path,h)):null}function ps(d){var h=[],p=d.writeTree_.value;return null!=p?p.isLeafNode()||p.forEachChild(Bt,function(b,M){h.push(new kr(b,M))}):d.writeTree_.children.inorderTraversal(function(b,M){null!=M.value&&h.push(new kr(b,M.value))}),h}function vo(d,h){if(br(h))return d;var p=Oo(d,h);return new io(null!=p?new _i(p):d.writeTree_.subtree(h))}function es(d){return d.writeTree_.isEmpty()}function Os(d,h){return $l(Le(),d.writeTree_,h)}function $l(d,h,p){if(null!=h.value)return p.updateChild(d,h.value);var b=null;return h.children.inorderTraversal(function(M,U){".priority"===M?((0,D.assert)(null!==U.value,"Priority writes must always be leaf nodes"),b=U.value):p=$l(gr(d,M),U,p)}),!p.getChild(d).isEmpty()&&null!==b&&(p=p.updateChild(gr(d,".priority"),b)),p}function ru(d,h){return q(h,d)}function Uo(d,h){if(d.snap)return Ai(d.path,h);for(var p in d.children)if(d.children.hasOwnProperty(p)&&Ai(gr(d.path,p),h))return!0;return!1}function zn(d){return d.visible}function ho(d,h,p){for(var b=io.empty(),M=0;M<d.length;++M){var U=d[M];if(h(U)){var X=U.path,Me=void 0;if(U.snap)Ai(p,X)?b=wi(b,Me=bi(p,X),U.snap):Ai(X,p)&&(Me=bi(X,p),b=wi(b,Le(),U.snap.getChild(Me)));else{if(!U.children)throw(0,D.assertionError)("WriteRecord should have .snap or .children");if(Ai(p,X))b=Xo(b,Me=bi(p,X),U.children);else if(Ai(X,p))if(br(Me=bi(X,p)))b=Xo(b,Le(),U.children);else{var Be=(0,D.safeGet)(U.children,Mt(Me));if(Be){var tt=Be.getChild(Sn(Me));b=wi(b,Le(),tt)}}}}}return b}function Ba(d,h,p,b,M){if(b||M){var Be=vo(d.visibleWrites,h);return!M&&es(Be)?p:M||null!=p||aa(Be,Le())?Os(ho(d.allWrites,function(fn){return(fn.visible||M)&&(!b||!~b.indexOf(fn.writeId))&&(Ai(fn.path,h)||Ai(h,fn.path))},h),p||K.EMPTY_NODE):null}var U=Oo(d.visibleWrites,h);if(null!=U)return U;var X=vo(d.visibleWrites,h);return es(X)?p:null!=p||aa(X,Le())?Os(X,p||K.EMPTY_NODE):null}function Pr(d,h,p,b){return Ba(d.writeTree,d.treePath,h,p,b)}function wa(d,h){return function(d,h,p){var b=K.EMPTY_NODE,M=Oo(d.visibleWrites,h);if(M)return M.isLeafNode()||M.forEachChild(Bt,function(Me,Be){b=b.updateImmediateChild(Me,Be)}),b;if(p){var U=vo(d.visibleWrites,h);return p.forEachChild(Bt,function(Me,Be){var tt=Os(vo(U,new St(Me)),Be);b=b.updateImmediateChild(Me,tt)}),ps(U).forEach(function(Me){b=b.updateImmediateChild(Me.name,Me.node)}),b}return ps(vo(d.visibleWrites,h)).forEach(function(Me){b=b.updateImmediateChild(Me.name,Me.node)}),b}(d.writeTree,d.treePath,h)}function iu(d,h,p,b){return function(d,h,p,b,M){(0,D.assert)(b||M,"Either existingEventSnap or existingServerSnap must exist");var U=gr(h,p);if(aa(d.visibleWrites,U))return null;var X=vo(d.visibleWrites,U);return es(X)?M.getChild(p):Os(X,M.getChild(p))}(d.writeTree,d.treePath,h,p,b)}function Po(d,h){return function(d,h){return Oo(d.visibleWrites,h)}(d.writeTree,gr(d.treePath,h))}function k(d,h,p){return function(d,h,p,b){var M=gr(h,p),U=Oo(d.visibleWrites,M);return null!=U?U:b.isCompleteForChild(p)?Os(vo(d.visibleWrites,M),b.getNode().getImmediateChild(p)):null}(d.writeTree,d.treePath,h,p)}function O(d,h){return q(gr(d.treePath,h),d.writeTree)}function q(d,h){return{treePath:d,writeTree:h}}var ue=function(){function d(){this.changeMap=new Map}return d.prototype.trackChildChange=function(h){var p=h.type,b=h.childName;(0,D.assert)("child_added"===p||"child_changed"===p||"child_removed"===p,"Only child changes supported for tracking"),(0,D.assert)(".priority"!==b,"Only non-priority child changes can be tracked.");var M=this.changeMap.get(b);if(M){var U=M.type;if("child_added"===p&&"child_removed"===U)this.changeMap.set(b,Ss(b,h.snapshotNode,M.snapshotNode));else if("child_removed"===p&&"child_added"===U)this.changeMap.delete(b);else if("child_removed"===p&&"child_changed"===U)this.changeMap.set(b,Cr(b,M.oldSnap));else if("child_changed"===p&&"child_added"===U)this.changeMap.set(b,Ro(b,h.snapshotNode));else{if("child_changed"!==p||"child_changed"!==U)throw(0,D.assertionError)("Illegal combination of changes: "+h+" occurred after "+M);this.changeMap.set(b,Ss(b,h.snapshotNode,M.oldSnap))}}else this.changeMap.set(b,h)},d.prototype.getChanges=function(){return Array.from(this.changeMap.values())},d}(),st=new(function(){function d(){}return d.prototype.getCompleteChild=function(h){return null},d.prototype.getChildAfterChild=function(h,p,b){return null},d}()),Et=function(){function d(h,p,b){void 0===b&&(b=null),this.writes_=h,this.viewCache_=p,this.optCompleteServerCache_=b}return d.prototype.getCompleteChild=function(h){var p=this.viewCache_.eventCache;if(p.isCompleteForChild(h))return p.getNode().getImmediateChild(h);var b=null!=this.optCompleteServerCache_?new Ti(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return k(this.writes_,h,b)},d.prototype.getChildAfterChild=function(h,p,b){var M=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Zn(this.viewCache_),U=function(d,h,p,b,M,U){return function(d,h,p,b,M,U,X){var Me,Be=vo(d.visibleWrites,h),tt=Oo(Be,Le());if(null!=tt)Me=tt;else{if(null==p)return[];Me=Os(Be,p)}if((Me=Me.withIndex(X)).isEmpty()||Me.isLeafNode())return[];for(var ht=[],$t=X.getCompare(),fn=U?Me.getReverseIteratorFrom(b,X):Me.getIteratorFrom(b,X),xn=fn.getNext();xn&&ht.length<M;)0!==$t(xn,b)&&ht.push(xn),xn=fn.getNext();return ht}(d.writeTree,d.treePath,h,p,b,M,U)}(this.writes_,M,p,1,b,h);return 0===U.length?null:U[0]},d}();function zr(d,h,p,b,M,U){var X=h.eventCache;if(null!=Po(b,p))return h;var Me=void 0,Be=void 0;if(br(p))if((0,D.assert)(h.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),h.serverCache.isFiltered()){var tt=Zn(h),$t=wa(b,tt instanceof K?tt:K.EMPTY_NODE);Me=d.filter.updateFullNode(h.eventCache.getNode(),$t,U)}else{var fn=Pr(b,Zn(h));Me=d.filter.updateFullNode(h.eventCache.getNode(),fn,U)}else{var xn=Mt(p);if(".priority"===xn){(0,D.assert)(1===On(p),"Can't have a priority with additional path components");var qn=X.getNode(),xr=iu(b,p,qn,Be=h.serverCache.getNode());Me=null!=xr?d.filter.updatePriority(qn,xr):X.getNode()}else{var Sr=Sn(p),Qr=void 0;if(X.isCompleteForChild(xn)){Be=h.serverCache.getNode();var Do=iu(b,p,X.getNode(),Be);Qr=null!=Do?X.getNode().getImmediateChild(xn).updateChild(Sr,Do):X.getNode().getImmediateChild(xn)}else Qr=k(b,xn,h.serverCache);Me=null!=Qr?d.filter.updateChild(X.getNode(),xn,Qr,Sr,M,U):X.getNode()}}return Jo(h,Me,X.isFullyInitialized()||br(p),d.filter.filtersNodes())}function ni(d,h,p,b,M,U,X,Me){var tt,Be=h.serverCache,ht=X?d.filter:d.filter.getIndexedFilter();if(br(p))tt=ht.updateFullNode(Be.getNode(),b,null);else if(ht.filtersNodes()&&!Be.isFiltered()){var $t=Be.getNode().updateChild(p,b);tt=ht.updateFullNode(Be.getNode(),$t,null)}else{var fn=Mt(p);if(!Be.isCompleteForPath(p)&&On(p)>1)return h;var xn=Sn(p),xr=Be.getNode().getImmediateChild(fn).updateChild(xn,b);tt=".priority"===fn?ht.updatePriority(Be.getNode(),xr):ht.updateChild(Be.getNode(),fn,xr,xn,st,null)}var Sr=Wi(h,tt,Be.isFullyInitialized()||br(p),ht.filtersNodes());return zr(d,Sr,p,M,new Et(M,Sr,U),Me)}function ts(d,h,p,b,M,U,X){var Be,tt,Me=h.eventCache,ht=new Et(M,h,U);if(br(p))tt=d.filter.updateFullNode(h.eventCache.getNode(),b,X),Be=Jo(h,tt,!0,d.filter.filtersNodes());else{var $t=Mt(p);if(".priority"===$t)tt=d.filter.updatePriority(h.eventCache.getNode(),b),Be=Jo(h,tt,Me.isFullyInitialized(),Me.isFiltered());else{var fn=Sn(p),xn=Me.getNode().getImmediateChild($t),qn=void 0;if(br(fn))qn=b;else{var xr=ht.getCompleteChild($t);qn=null!=xr?".priority"===or(fn)&&xr.getChild(si(fn)).isEmpty()?xr:xr.updateChild(fn,b):K.EMPTY_NODE}Be=xn.equals(qn)?h:Jo(h,d.filter.updateChild(Me.getNode(),$t,qn,fn,ht,X),Me.isFullyInitialized(),d.filter.filtersNodes())}}return Be}function ns(d,h){return d.eventCache.isCompleteForChild(h)}function er(d,h,p){return p.foreach(function(b,M){h=h.updateChild(b,M)}),h}function oo(d,h,p,b,M,U,X,Me){if(h.serverCache.getNode().isEmpty()&&!h.serverCache.isFullyInitialized())return h;var tt,Be=h;tt=br(p)?b:new _i(null).setTree(p,b);var ht=h.serverCache.getNode();return tt.children.inorderTraversal(function($t,fn){if(ht.hasChild($t)){var qn=er(0,h.serverCache.getNode().getImmediateChild($t),fn);Be=ni(d,Be,new St($t),qn,M,U,X,Me)}}),tt.children.inorderTraversal(function($t,fn){var xn=!h.serverCache.isCompleteForChild($t)&&void 0===fn.value;if(!ht.hasChild($t)&&!xn){var xr=er(0,h.serverCache.getNode().getImmediateChild($t),fn);Be=ni(d,Be,new St($t),xr,M,U,X,Me)}}),Be}var ua=function(){function d(h,p){this.query_=h,this.eventRegistrations_=[];var b=this.query_._queryParams,M=new oa(b.getIndex()),U=function(d){return d.loadsAllData()?new oa(d.getIndex()):d.hasLimit()?new tu(d):new Ea(d)}(b);this.processor_=function(d){return{filter:d}}(U);var X=p.serverCache,Me=p.eventCache,Be=M.updateFullNode(K.EMPTY_NODE,X.getNode(),null),tt=U.updateFullNode(K.EMPTY_NODE,Me.getNode(),null),ht=new Ti(Be,X.isFullyInitialized(),M.filtersNodes()),$t=new Ti(tt,Me.isFullyInitialized(),U.filtersNodes());this.viewCache_=mi($t,ht),this.eventGenerator_=new Rs(this.query_)}return Object.defineProperty(d.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),d}();function vl(d,h){var p=Zn(d.viewCache_);return p&&(d.query._queryParams.loadsAllData()||!br(h)&&!p.getImmediateChild(Mt(h)).isEmpty())?p.getChild(h):null}function Eu(d){return 0===d.eventRegistrations_.length}function Ta(d,h,p){var b=[];if(p){(0,D.assert)(null==h,"A cancel should cancel all event registrations.");var M=d.query._path;d.eventRegistrations_.forEach(function(Be){var tt=Be.createCancelEvent(p,M);tt&&b.push(tt)})}if(h){for(var U=[],X=0;X<d.eventRegistrations_.length;++X){var Me=d.eventRegistrations_[X];if(Me.matches(h)){if(h.hasAnyCallback()){U=U.concat(d.eventRegistrations_.slice(X+1));break}}else U.push(Me)}d.eventRegistrations_=U}else d.eventRegistrations_=[];return b}function ql(d,h,p,b){h.type===ar.MERGE&&null!==h.source.queryId&&((0,D.assert)(Zn(d.viewCache_),"We should always have a full cache before handling merges"),(0,D.assert)(ir(d.viewCache_),"Missing event cache, even though we have a server cache"));var M=d.viewCache_,U=function(d,h,p,b,M){var X,Me,U=new ue;if(p.type===ar.OVERWRITE){var Be=p;Be.source.fromUser?X=ts(d,h,Be.path,Be.snap,b,M,U):((0,D.assert)(Be.source.fromServer,"Unknown source."),Me=Be.source.tagged||h.serverCache.isFiltered()&&!br(Be.path),X=ni(d,h,Be.path,Be.snap,b,M,Me,U))}else if(p.type===ar.MERGE){var tt=p;tt.source.fromUser?X=function(d,h,p,b,M,U,X){var Me=h;return b.foreach(function(Be,tt){var ht=gr(p,Be);ns(h,Mt(ht))&&(Me=ts(d,Me,ht,tt,M,U,X))}),b.foreach(function(Be,tt){var ht=gr(p,Be);ns(h,Mt(ht))||(Me=ts(d,Me,ht,tt,M,U,X))}),Me}(d,h,tt.path,tt.children,b,M,U):((0,D.assert)(tt.source.fromServer,"Unknown source."),Me=tt.source.tagged||h.serverCache.isFiltered(),X=oo(d,h,tt.path,tt.children,b,M,Me,U))}else if(p.type===ar.ACK_USER_WRITE){var ht=p;X=ht.revert?function(d,h,p,b,M,U){var X;if(null!=Po(b,p))return h;var Me=new Et(b,h,M),Be=h.eventCache.getNode(),tt=void 0;if(br(p)||".priority"===Mt(p)){var ht=void 0;if(h.serverCache.isFullyInitialized())ht=Pr(b,Zn(h));else{var $t=h.serverCache.getNode();(0,D.assert)($t instanceof K,"serverChildren would be complete if leaf node"),ht=wa(b,$t)}tt=d.filter.updateFullNode(Be,ht=ht,U)}else{var fn=Mt(p),xn=k(b,fn,h.serverCache);null==xn&&h.serverCache.isCompleteForChild(fn)&&(xn=Be.getImmediateChild(fn)),(tt=null!=xn?d.filter.updateChild(Be,fn,xn,Sn(p),Me,U):h.eventCache.getNode().hasChild(fn)?d.filter.updateChild(Be,fn,K.EMPTY_NODE,Sn(p),Me,U):Be).isEmpty()&&h.serverCache.isFullyInitialized()&&(X=Pr(b,Zn(h))).isLeafNode()&&(tt=d.filter.updateFullNode(tt,X,U))}return X=h.serverCache.isFullyInitialized()||null!=Po(b,Le()),Jo(h,tt,X,d.filter.filtersNodes())}(d,h,ht.path,b,M,U):function(d,h,p,b,M,U,X){if(null!=Po(M,p))return h;var Me=h.serverCache.isFiltered(),Be=h.serverCache;if(null!=b.value){if(br(p)&&Be.isFullyInitialized()||Be.isCompleteForPath(p))return ni(d,h,p,Be.getNode().getChild(p),M,U,Me,X);if(br(p)){var tt=new _i(null);return Be.getNode().forEachChild(re,function($t,fn){tt=tt.set(new St($t),fn)}),oo(d,h,p,tt,M,U,Me,X)}return h}var ht=new _i(null);return b.foreach(function($t,fn){var xn=gr(p,$t);Be.isCompleteForPath(xn)&&(ht=ht.set($t,Be.getNode().getChild(xn)))}),oo(d,h,p,ht,M,U,Me,X)}(d,h,ht.path,ht.affectedTree,b,M,U)}else{if(p.type!==ar.LISTEN_COMPLETE)throw(0,D.assertionError)("Unknown operation type: "+p.type);X=function(d,h,p,b,M){var U=h.serverCache;return zr(d,Wi(h,U.getNode(),U.isFullyInitialized()||br(p),U.isFiltered()),p,b,st,M)}(d,h,p.path,b,U)}var $t=U.getChanges();return function(d,h,p){var b=h.eventCache;if(b.isFullyInitialized()){var M=b.getNode().isLeafNode()||b.getNode().isEmpty(),U=ir(d);(p.length>0||!d.eventCache.isFullyInitialized()||M&&!b.getNode().equals(U)||!b.getNode().getPriority().equals(U.getPriority()))&&p.push(Li(ir(h)))}}(h,X,$t),{viewCache:X,changes:$t}}(d.processor_,M,h,p,b);return function(d,h){(0,D.assert)(h.eventCache.getNode().isIndexed(d.filter.getIndex()),"Event snap not indexed"),(0,D.assert)(h.serverCache.getNode().isIndexed(d.filter.getIndex()),"Server snap not indexed")}(d.processor_,U.viewCache),(0,D.assert)(U.viewCache.serverCache.isFullyInitialized()||!M.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),d.viewCache_=U.viewCache,ih(d,U.changes,U.viewCache.eventCache.getNode(),null)}function ih(d,h,p,b){return function(d,h,p,b){var M=[],U=[];return h.forEach(function(X){"child_changed"===X.type&&d.index_.indexedValueChanged(X.oldSnap,X.snapshotNode)&&U.push(function(d,h){return{type:"child_moved",snapshotNode:h,childName:d}}(X.childName,X.snapshotNode))}),To(d,M,"child_removed",h,b,p),To(d,M,"child_added",h,b,p),To(d,M,"child_moved",U,b,p),To(d,M,"child_changed",h,b,p),To(d,M,"value",h,b,p),M}(d.eventGenerator_,h,p,b?[b]:d.eventRegistrations_)}var Ql,Kh,$u=function(){this.views=new Map};function _s(d,h,p,b){var M,U,X=h.source.queryId;if(null!==X){var Me=d.views.get(X);return(0,D.assert)(null!=Me,"SyncTree gave us an op for an invalid query."),ql(Me,h,p,b)}var Be=[];try{for(var tt=(0,C.__values)(d.views.values()),ht=tt.next();!ht.done;ht=tt.next())Be=Be.concat(ql(Me=ht.value,h,p,b))}catch($t){M={error:$t}}finally{try{ht&&!ht.done&&(U=tt.return)&&U.call(tt)}finally{if(M)throw M.error}}return Be}function Nf(d,h,p,b,M){var X=d.views.get(h._queryIdentifier);if(!X){var Me=Pr(p,M?b:null),Be=!1;Me?Be=!0:b instanceof K?(Me=wa(p,b),Be=!1):(Me=K.EMPTY_NODE,Be=!1);var tt=mi(new Ti(Me,Be,!1),new Ti(b,M,!1));return new ua(h,tt)}return X}function oh(d){var h,p,b=[];try{for(var M=(0,C.__values)(d.views.values()),U=M.next();!U.done;U=M.next()){var X=U.value;X.query._queryParams.loadsAllData()||b.push(X)}}catch(Me){h={error:Me}}finally{try{U&&!U.done&&(p=M.return)&&p.call(M)}finally{if(h)throw h.error}}return b}function wu(d,h){var p,b,M=null;try{for(var U=(0,C.__values)(d.views.values()),X=U.next();!X.done;X=U.next())M=M||vl(X.value,h)}catch(Be){p={error:Be}}finally{try{X&&!X.done&&(b=U.return)&&b.call(U)}finally{if(p)throw p.error}}return M}function Da(d,h){return h._queryParams.loadsAllData()?Yu(d):d.views.get(h._queryIdentifier)}function Ld(d,h){return null!=Da(d,h)}function yl(d){return null!=Yu(d)}function Yu(d){var h,p;try{for(var b=(0,C.__values)(d.views.values()),M=b.next();!M.done;M=b.next()){var U=M.value;if(U.query._queryParams.loadsAllData())return U}}catch(X){h={error:X}}finally{try{M&&!M.done&&(p=b.return)&&p.call(b)}finally{if(h)throw h.error}}return null}var $h=1,zp=function(h){this.listenProvider_=h,this.syncPointTree_=new _i(null),this.pendingWriteTree_={visibleWrites:io.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function bl(d,h,p,b,M){return function(d,h,p,b,M){(0,D.assert)(b>d.lastWriteId,"Stacking an older write on top of newer ones"),void 0===M&&(M=!0),d.allWrites.push({path:h,snap:p,writeId:b,visible:M}),M&&(d.visibleWrites=wi(d.visibleWrites,h,p)),d.lastWriteId=b}(d.pendingWriteTree_,h,p,b,M),M?la(d,new Ms({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},h,p)):[]}function xo(d,h,p){void 0===p&&(p=!1);var b=function(d,h){for(var p=0;p<d.allWrites.length;p++){var b=d.allWrites[p];if(b.writeId===h)return b}return null}(d.pendingWriteTree_,h);if(function(d,h){var p=d.allWrites.findIndex(function(tt){return tt.writeId===h});(0,D.assert)(p>=0,"removeWrite called with nonexistent writeId.");var b=d.allWrites[p];d.allWrites.splice(p,1);for(var M=b.visible,U=!1,X=d.allWrites.length-1;M&&X>=0;){var Me=d.allWrites[X];Me.visible&&(X>=p&&Uo(Me,b.path)?M=!1:Ai(b.path,Me.path)&&(U=!0)),X--}return!!M&&(U?(function(d){d.visibleWrites=ho(d.allWrites,zn,Le()),d.lastWriteId=d.allWrites.length>0?d.allWrites[d.allWrites.length-1].writeId:-1}(d),!0):(b.snap?d.visibleWrites=Fi(d.visibleWrites,b.path):cn(b.children,function(tt){d.visibleWrites=Fi(d.visibleWrites,gr(b.path,tt))}),!0))}(d.pendingWriteTree_,h)){var U=new _i(null);return null!=b.snap?U=U.set(Le(),!0):cn(b.children,function(X){U=U.set(new St(X),!0)}),la(d,new Ko(b.path,U,p))}return[]}function qu(d,h,p){return la(d,new Ms({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},h,p))}function ah(d,h,p,b){var M=h._path,U=d.syncPointTree_.get(M),X=[];if(U&&("default"===h._queryIdentifier||Ld(U,h))){var Me=function(d,h,p,b){var M,U,X=h._queryIdentifier,Me=[],Be=[],tt=yl(d);if("default"===X)try{for(var ht=(0,C.__values)(d.views.entries()),$t=ht.next();!$t.done;$t=ht.next()){var qn,fn=(0,C.__read)($t.value,2),xn=fn[0];Be=Be.concat(Ta(qn=fn[1],p,b)),Eu(qn)&&(d.views.delete(xn),qn.query._queryParams.loadsAllData()||Me.push(qn.query))}}catch(xr){M={error:xr}}finally{try{$t&&!$t.done&&(U=ht.return)&&U.call(ht)}finally{if(M)throw M.error}}else(qn=d.views.get(X))&&(Be=Be.concat(Ta(qn,p,b)),Eu(qn)&&(d.views.delete(X),qn.query._queryParams.loadsAllData()||Me.push(qn.query)));return tt&&!yl(d)&&Me.push(new((0,D.assert)(Ql,"Reference.ts has not been loaded"),Ql)(h._repo,h._path)),{removed:Me,events:Be}}(U,h,p,b);(function(d){return 0===d.views.size})(U)&&(d.syncPointTree_=d.syncPointTree_.remove(M));var Be=Me.removed;X=Me.events;var tt=-1!==Be.findIndex(function(Do){return Do._queryParams.loadsAllData()}),ht=d.syncPointTree_.findOnPath(M,function(Do,Xi){return yl(Xi)});if(tt&&!ht){var $t=d.syncPointTree_.subtree(M);if(!$t.isEmpty())for(var fn=function(d){return d.fold(function(h,p,b){if(p&&yl(p))return[Yu(p)];var U=[];return p&&(U=oh(p)),cn(b,function(X,Me){U=U.concat(Me)}),U})}($t),xn=0;xn<fn.length;++xn){var qn=fn[xn],xr=qn.query,Sr=qh(d,qn);d.listenProvider_.startListening(Su(xr),ou(d,xr),Sr.hashFn,Sr.onComplete)}}!ht&&Be.length>0&&!b&&(tt?d.listenProvider_.stopListening(Su(h),null):Be.forEach(function(Do){var Xi=d.queryToTagMap.get(El(Do));d.listenProvider_.stopListening(Su(Do),Xi)})),function(d,h){for(var p=0;p<h.length;++p){var b=h[p];if(!b._queryParams.loadsAllData()){var M=El(b),U=d.queryToTagMap.get(M);d.queryToTagMap.delete(M),d.tagToQueryMap.delete(U)}}}(d,Be)}return X}function uh(d,h,p){var b=h._path,M=null,U=!1;d.syncPointTree_.foreachOnPath(b,function(xr,Sr){var Qr=bi(xr,b);M=M||wu(Sr,Qr),U=U||yl(Sr)});var Me,X=d.syncPointTree_.get(b);X?(U=U||yl(X),M=M||wu(X,Le())):(X=new $u,d.syncPointTree_=d.syncPointTree_.set(b,X)),null!=M?Me=!0:(Me=!1,M=K.EMPTY_NODE,d.syncPointTree_.subtree(b).foreachChild(function(xr,Sr){var Qr=wu(Sr,Le());Qr&&(M=M.updateImmediateChild(xr,Qr))}));var tt=Ld(X,h);if(!tt&&!h._queryParams.loadsAllData()){var ht=El(h);(0,D.assert)(!d.queryToTagMap.has(ht),"View does not exist, but we have a tag");var $t=$h++;d.queryToTagMap.set(ht,$t),d.tagToQueryMap.set($t,ht)}var xn=function(d,h,p,b,M,U){var X=Nf(d,h,b,M,U);return d.views.has(h._queryIdentifier)||d.views.set(h._queryIdentifier,X),function(d,h){d.eventRegistrations_.push(h)}(X,p),function(d,h){var p=d.viewCache_.eventCache,b=[];return p.getNode().isLeafNode()||p.getNode().forEachChild(Bt,function(U,X){b.push(Ro(U,X))}),p.isFullyInitialized()&&b.push(Li(p.getNode())),ih(d,b,p.getNode(),h)}(X,p)}(X,h,p,ru(d.pendingWriteTree_,b),M,Me);if(!tt&&!U){var qn=Da(X,h);xn=xn.concat(function(d,h,p){var b=h._path,M=ou(d,h),U=qh(d,p),X=d.listenProvider_.startListening(Su(h),M,U.hashFn,U.onComplete),Me=d.syncPointTree_.subtree(b);if(M)(0,D.assert)(!yl(Me.value),"If we're adding a query, it shouldn't be shadowed");else for(var Be=Me.fold(function($t,fn,xn){if(!br($t)&&fn&&yl(fn))return[Yu(fn).query];var qn=[];return fn&&(qn=qn.concat(oh(fn).map(function(xr){return xr.query}))),cn(xn,function(xr,Sr){qn=qn.concat(Sr)}),qn}),tt=0;tt<Be.length;++tt){var ht=Be[tt];d.listenProvider_.stopListening(Su(ht),ou(d,ht))}return X}(d,h,qn))}return xn}function Du(d,h,p){var M=d.pendingWriteTree_,U=d.syncPointTree_.findOnPath(h,function(X,Me){var tt=wu(Me,bi(X,h));if(tt)return tt});return Ba(M,h,U,p,!0)}function la(d,h){return ja(h,d.syncPointTree_,null,ru(d.pendingWriteTree_,Le()))}function ja(d,h,p,b){if(br(d.path))return Ha(d,h,p,b);var M=h.get(Le());null==p&&null!=M&&(p=wu(M,Le()));var U=[],X=Mt(d.path),Me=d.operationForChild(X),Be=h.children.get(X);if(Be&&Me){var tt=p?p.getImmediateChild(X):null,ht=O(b,X);U=U.concat(ja(Me,Be,tt,ht))}return M&&(U=U.concat(_s(M,d,b,p))),U}function Ha(d,h,p,b){var M=h.get(Le());null==p&&null!=M&&(p=wu(M,Le()));var U=[];return h.children.inorderTraversal(function(X,Me){var Be=p?p.getImmediateChild(X):null,tt=O(b,X),ht=d.operationForChild(X);ht&&(U=U.concat(Ha(ht,Me,Be,tt)))}),M&&(U=U.concat(_s(M,d,b,p))),U}function qh(d,h){var p=h.query,b=ou(d,p);return{hashFn:function(){return(function(d){return d.viewCache_.serverCache.getNode()}(h)||K.EMPTY_NODE).hash()},onComplete:function(M){if("ok"===M)return b?function(d,h,p){var b=Ic(d,p);if(b){var M=wl(b),U=M.path,X=M.queryId,Me=bi(U,h);return Jl(d,U,new co(Bi(X),Me))}return[]}(d,p._path,b):function(d,h){return la(d,new co({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},h))}(d,p._path);var U=function(d,h){var p="Unknown Error";"too_big"===d?p="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===d?p="Client doesn't have permission to access the desired data.":"unavailable"===d&&(p="The service is unavailable");var b=new Error(d+" at "+h._path.toString()+": "+p);return b.code=d.toUpperCase(),b}(M,p);return ah(d,p,null,U)}}}function ou(d,h){var p=El(h);return d.queryToTagMap.get(p)}function El(d){return d._path.toString()+"$"+d._queryIdentifier}function Ic(d,h){return d.tagToQueryMap.get(h)}function wl(d){var h=d.indexOf("$");return(0,D.assert)(-1!==h&&h<d.length-1,"Bad queryKey."),{queryId:d.substr(h+1),path:new St(d.substr(0,h))}}function Jl(d,h,p){var b=d.syncPointTree_.get(h);return(0,D.assert)(b,"Missing sync point for query tag that we're tracking"),_s(b,p,ru(d.pendingWriteTree_,h),null)}function Su(d){return d._queryParams.loadsAllData()&&!d._queryParams.isDefault()?new((0,D.assert)(Kh,"Reference.ts has not been loaded"),Kh)(d._repo,d._path):d}var lh=function(){function d(h){this.node_=h}return d.prototype.getImmediateChild=function(h){return new d(this.node_.getImmediateChild(h))},d.prototype.node=function(){return this.node_},d}(),Xs=function(){function d(h,p){this.syncTree_=h,this.path_=p}return d.prototype.getImmediateChild=function(h){var p=gr(this.path_,h);return new d(this.syncTree_,p)},d.prototype.node=function(){return Du(this.syncTree_,this.path_)},d}(),Cl=function(d,h,p){return d&&"object"==typeof d?((0,D.assert)(".sv"in d,"Unexpected leaf node or priority contents"),"string"==typeof d[".sv"]?Tl(d[".sv"],h,p):"object"==typeof d[".sv"]?ch(d[".sv"],h):void(0,D.assert)(!1,"Unexpected server value: "+JSON.stringify(d,null,2))):d},Tl=function(d,h,p){switch(d){case"timestamp":return p.timestamp;default:(0,D.assert)(!1,"Unexpected server value: "+d)}},ch=function(d,h,p){d.hasOwnProperty("increment")||(0,D.assert)(!1,"Unexpected server value: "+JSON.stringify(d,null,2));var b=d.increment;"number"!=typeof b&&(0,D.assert)(!1,"Unexpected increment value: "+b);var M=h.node();if((0,D.assert)(null!=M,"Expected ChildrenNode.EMPTY_NODE for nulls"),!M.isLeafNode())return b;var X=M.getValue();return"number"!=typeof X?b:X+b},Il=function(d,h,p,b){return Us(h,new Xs(p,d),b)},Zu=function(d,h,p){return Us(d,new lh(h),p)};function Us(d,h,p){var U,b=d.getPriority().val(),M=Cl(b,h.getImmediateChild(".priority"),p);if(d.isLeafNode()){var X=d,Me=Cl(X.getValue(),h,p);return Me!==X.getValue()||M!==X.getPriority().val()?new hi(Me,un(M)):d}var Be=d;return U=Be,M!==Be.getPriority().val()&&(U=U.updatePriority(new hi(M))),Be.forEachChild(Bt,function(tt,ht){var $t=Us(ht,h.getImmediateChild(tt),p);$t!==ht&&(U=U.updateImmediateChild(tt,$t))}),U}var Ga=function(h,p,b){void 0===h&&(h=""),void 0===p&&(p=null),void 0===b&&(b={children:{},childCount:0}),this.name=h,this.parent=p,this.node=b};function Au(d,h){for(var p=h instanceof St?h:new St(h),b=d,M=Mt(p);null!==M;){var U=(0,D.safeGet)(b.node.children,M)||{children:{},childCount:0};b=new Ga(M,b,U),M=Mt(p=Sn(p))}return b}function Mi(d){return d.node.value}function Mu(d,h){d.node.value=h,Jh(d)}function is(d){return d.node.childCount>0}function os(d,h){cn(d.node.children,function(p,b){h(new Ga(p,d,b))})}function Qh(d,h,p,b){p&&!b&&h(d),os(d,function(M){Qh(M,h,!0,b)}),p&&b&&h(d)}function Wa(d){return new St(null===d.parent?d.name:Wa(d.parent)+"/"+d.name)}function Jh(d){null!==d.parent&&function(d,h,p){var b=function(d){return void 0===Mi(d)&&!is(d)}(p),M=(0,D.contains)(d.node.children,h);b&&M?(delete d.node.children[h],d.node.childCount--,Jh(d)):!b&&!M&&(d.node.children[h]=p.node,d.node.childCount++,Jh(d))}(d.parent,d.name,d)}var as=/[\[\].#$\/\u0000-\u001F\u007F]/,za=/[\[\].#$\u0000-\u001F\u007F]/,Ps=10485760,Sc=function(d){return"string"==typeof d&&0!==d.length&&!as.test(d)},Ou=function(d){return"string"==typeof d&&0!==d.length&&!za.test(d)},Kr=function(d){return null===d||"string"==typeof d||"number"==typeof d&&!De(d)||d&&"object"==typeof d&&(0,D.contains)(d,".sv")},js=function(d,h,p,b){b&&void 0===h||ca((0,D.errorPrefix)(d,"value"),h,p)},ca=function(d,h,p){var b=p instanceof St?new So(p,d):p;if(void 0===h)throw new Error(d+"contains undefined "+lo(b));if("function"==typeof h)throw new Error(d+"contains a function "+lo(b)+" with contents = "+h.toString());if(De(h))throw new Error(d+"contains "+h.toString()+" "+lo(b));if("string"==typeof h&&h.length>Ps/3&&(0,D.stringLength)(h)>Ps)throw new Error(d+"contains a string greater than "+Ps+" utf8 bytes "+lo(b)+" ('"+h.substring(0,50)+"...')");if(h&&"object"==typeof h){var M=!1,U=!1;if(cn(h,function(X,Me){if(".value"===X)M=!0;else if(".priority"!==X&&".sv"!==X&&(U=!0,!Sc(X)))throw new Error(d+" contains an invalid key ("+X+") "+lo(b)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function(d,h){d.parts_.length>0&&(d.byteLength_+=1),d.parts_.push(h),d.byteLength_+=(0,D.stringLength)(h),Vs(d)})(b,X),ca(d,Me,b),function(d){var h=d.parts_.pop();d.byteLength_-=(0,D.stringLength)(h),d.parts_.length>0&&(d.byteLength_-=1)}(b)}),M&&U)throw new Error(d+' contains ".value" child '+lo(b)+" in addition to actual children.")}},us=function(d,h,p,b){if(!b||void 0!==h){var M=(0,D.errorPrefix)(d,"values");if(!h||"object"!=typeof h||Array.isArray(h))throw new Error(M+" must be an object containing the children to replace.");var U=[];cn(h,function(X,Me){var Be=new St(X);if(ca(M,Me,gr(p,Be)),".priority"===or(Be)&&!Kr(Me))throw new Error(M+"contains an invalid value for '"+Be.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");U.push(Be)}),function(d,h){var p,b;for(p=0;p<h.length;p++)for(var M=li(b=h[p]),U=0;U<M.length;U++)if((".priority"!==M[U]||U!==M.length-1)&&!Sc(M[U]))throw new Error(d+"contains an invalid key ("+M[U]+") in path "+b.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');h.sort(Si);var X=null;for(p=0;p<h.length;p++){if(b=h[p],null!==X&&Ai(X,b))throw new Error(d+"contains a path "+X.toString()+" that is ancestor of another path "+b.toString());X=b}}(M,U)}},Ju=function(d,h,p){if(!p||void 0!==h){if(De(h))throw new Error((0,D.errorPrefix)(d,"priority")+"is "+h.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Kr(h))throw new Error((0,D.errorPrefix)(d,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},ys=function(d,h,p){if(!p||void 0!==h)switch(h){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,D.errorPrefix)(d,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},ha=function(d,h,p,b){if(!(b&&void 0===p||Sc(p)))throw new Error((0,D.errorPrefix)(d,h)+'was an invalid key = "'+p+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Sa=function(d,h,p,b){if(!(b&&void 0===p||Ou(p)))throw new Error((0,D.errorPrefix)(d,h)+'was an invalid path = "'+p+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},$o=function(d,h){if(".info"===Mt(h))throw new Error(d+" failed = Can't modify data under /.info/")},Ud=function(d,h){var p=h.path.toString();if("string"!=typeof h.repoInfo.host||0===h.repoInfo.host.length||!Sc(h.repoInfo.namespace)&&"localhost"!==h.repoInfo.host.split(":")[0]||0!==p.length&&!function(d){return d&&(d=d.replace(/^\/*\.info(\/|$)/,"/")),Ou(d)}(p))throw new Error((0,D.errorPrefix)(d,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},da=function(d,h,p,b){if((!b||void 0!==p)&&"boolean"!=typeof p)throw new Error((0,D.errorPrefix)(d,h)+"must be a boolean.")},jd=function(){this.eventLists_=[],this.recursionDepth_=0};function ls(d,h){for(var p=null,b=0;b<h.length;b++){var M=h[b],U=M.getPath();null!==p&&!Go(U,p.path)&&(d.eventLists_.push(p),p=null),null===p&&(p={events:[],path:U}),p.events.push(M)}p&&d.eventLists_.push(p)}function Ac(d,h,p){ls(d,p),Xh(d,function(b){return Go(b,h)})}function bs(d,h,p){ls(d,p),Xh(d,function(b){return Ai(b,h)||Ai(h,b)})}function Xh(d,h){d.recursionDepth_++;for(var p=!0,b=0;b<d.eventLists_.length;b++){var M=d.eventLists_[b];M&&(h(M.path)?(Zi(d.eventLists_[b]),d.eventLists_[b]=null):p=!1)}p&&(d.eventLists_=[]),d.recursionDepth_--}function Zi(d){for(var h=0;h<d.events.length;h++){var p=d.events[h];if(null!==p){d.events[h]=null;var b=p.getEventRunner();Ut&&Ge("event: "+p.toString()),sn(b)}}}var Hd="repo_interrupt",Dl=function(){function d(h,p,b,M){this.repoInfo_=h,this.forceRestClient_=p,this.authTokenProvider_=b,this.appCheckProvider_=M,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new jd,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=pe(),this.transactionQueueTree_=new Ga,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return d.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},d}();function ec(d){var p=d.infoData_.getNode(new St(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+p}function Xu(d){return function(d){return(d=d||{}).timestamp=d.timestamp||(new Date).getTime(),d}({timestamp:ec(d)})}function Ka(d,h,p,b,M){d.dataUpdateCount++;var U=new St(h);p=d.interceptServerDataCallback_?d.interceptServerDataCallback_(h,p):p;var X=[];if(M)if(b){var Me=(0,D.map)(p,function(fn){return un(fn)});X=function(d,h,p,b){var M=Ic(d,b);if(M){var U=wl(M),X=U.path,Me=U.queryId,Be=bi(X,h),tt=_i.fromObject(p);return Jl(d,X,new _o(Bi(Me),Be,tt))}return[]}(d.serverSyncTree_,U,Me,M)}else{var Be=un(p);X=function(d,h,p,b){var M=Ic(d,b);if(null!=M){var U=wl(M),X=U.path,Me=U.queryId,Be=bi(X,h);return Jl(d,X,new Ms(Bi(Me),Be,p))}return[]}(d.serverSyncTree_,U,Be,M)}else if(b){var tt=(0,D.map)(p,function(fn){return un(fn)});X=function(d,h,p){var b=_i.fromObject(p);return la(d,new _o({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},h,b))}(d.serverSyncTree_,U,tt)}else{var ht=un(p);X=qu(d.serverSyncTree_,U,ht)}var $t=U;X.length>0&&($t=Rl(d,U)),bs(d.eventQueue_,$t,X)}function hh(d,h){Mc(d,"connected",h),!1===h&&function(d){tl(d,"onDisconnectEvents");var h=Xu(d),p=pe();ct(d.onDisconnect_,Le(),function(M,U){var X=Il(M,U,d.serverSyncTree_,h);ke(p,M,X)});var b=[];ct(p,Le(),function(M,U){b=b.concat(qu(d.serverSyncTree_,M,U));var X=au(d,M);Rl(d,X)}),d.onDisconnect_=pe(),bs(d.eventQueue_,Le(),b)}(d)}function Mc(d,h,p){var b=new St("/.info/"+h),M=un(p);d.infoData_.updateSnapshot(b,M);var U=qu(d.infoSyncTree_,b,M);bs(d.eventQueue_,b,U)}function Rc(d){return d.nextWriteId_++}function Pu(d,h,p,b,M){tl(d,"set",{path:h.toString(),value:p,priority:b});var U=Xu(d),X=un(p,b),Me=Du(d.serverSyncTree_,h),Be=Zu(X,Me,U),tt=Rc(d),ht=bl(d.serverSyncTree_,h,Be,tt,!0);ls(d.eventQueue_,ht),d.server_.put(h.toString(),X.val(!0),function(fn,xn){var qn="ok"===fn;qn||Ze("set at "+h+" failed: "+fn);var xr=xo(d.serverSyncTree_,tt,!qn);bs(d.eventQueue_,h,xr),fa(0,M,fn,xn)});var $t=au(d,h);Rl(d,$t),bs(d.eventQueue_,$t,[])}function Kd(d,h,p){d.server_.onDisconnectCancel(h.toString(),function(b,M){"ok"===b&&it(d.onDisconnect_,h),fa(0,p,b,M)})}function cs(d,h,p,b){var M=un(p);d.server_.onDisconnectPut(h.toString(),M.val(!0),function(U,X){"ok"===U&&ke(d.onDisconnect_,h,M),fa(0,b,U,X)})}function ea(d,h,p){var b;b=".info"===Mt(h._path)?ah(d.infoSyncTree_,h,p):ah(d.serverSyncTree_,h,p),Ac(d.eventQueue_,h._path,b)}function Oc(d){d.persistentConnection_&&d.persistentConnection_.interrupt(Hd)}function tl(d){for(var h=[],p=1;p<arguments.length;p++)h[p-1]=arguments[p];var b="";d.persistentConnection_&&(b=d.persistentConnection_.id+":"),Ge.apply(void 0,(0,C.__spreadArray)([b],(0,C.__read)(h)))}function fa(d,h,p,b){h&&sn(function(){if("ok"===p)h(null);else{var M=(p||"error").toUpperCase(),U=M;b&&(U+=": "+b);var X=new Error(U);X.code=M,h(X)}})}function xs(d,h,p){return Du(d.serverSyncTree_,h,p)||K.EMPTY_NODE}function Ma(d,h){if(void 0===h&&(h=d.transactionQueueTree_),h||tc(d,h),Mi(h)){var p=Bf(d,h);(0,D.assert)(p.length>0,"Sending zero length transaction queue"),p.every(function(M){return 0===M.status})&&function(d,h,p){for(var b=p.map(function(fn){return fn.currentWriteId}),M=xs(d,h,b),U=M,X=M.hash(),Me=0;Me<p.length;Me++){var Be=p[Me];(0,D.assert)(0===Be.status,"tryToSendTransactionQueue_: items in queue should all be run."),Be.status=1,Be.retryCount++;var tt=bi(h,Be.path);U=U.updateChild(tt,Be.currentOutputSnapshotRaw)}var ht=U.val(!0),$t=h;d.server_.put($t.toString(),ht,function(fn){tl(d,"transaction put response",{path:$t.toString(),status:fn});var xn=[];if("ok"===fn){for(var qn=[],xr=function(Qr){p[Qr].status=2,xn=xn.concat(xo(d.serverSyncTree_,p[Qr].currentWriteId)),p[Qr].onComplete&&qn.push(function(){return p[Qr].onComplete(null,!0,p[Qr].currentOutputSnapshotResolved)}),p[Qr].unwatcher()},Sr=0;Sr<p.length;Sr++)xr(Sr);for(tc(d,Au(d.transactionQueueTree_,h)),Ma(d,d.transactionQueueTree_),bs(d.eventQueue_,h,xn),Sr=0;Sr<qn.length;Sr++)sn(qn[Sr])}else{if("datastale"===fn)for(Sr=0;Sr<p.length;Sr++)p[Sr].status=3===p[Sr].status?4:0;else for(Ze("transaction at "+$t.toString()+" failed: "+fn),Sr=0;Sr<p.length;Sr++)p[Sr].status=4,p[Sr].abortReason=fn;Rl(d,h)}},X)}(d,Wa(h),p)}else is(h)&&os(h,function(M){Ma(d,M)})}function Rl(d,h){var p=Lf(d,h),b=Wa(p);return function(d,h,p){if(0!==h.length){for(var b=[],M=[],X=h.filter(function(tt){return 0===tt.status}).map(function(tt){return tt.currentWriteId}),Me=function(tt){var xn,ht=h[tt],$t=bi(p,ht.path),fn=!1;if((0,D.assert)(null!==$t,"rerunTransactionsUnderNode_: relativePath should not be null."),4===ht.status)fn=!0,xn=ht.abortReason,M=M.concat(xo(d.serverSyncTree_,ht.currentWriteId,!0));else if(0===ht.status)if(ht.retryCount>=25)fn=!0,xn="maxretry",M=M.concat(xo(d.serverSyncTree_,ht.currentWriteId,!0));else{var qn=xs(d,ht.path,X);ht.currentInputSnapshot=qn;var xr=h[tt].update(qn.val());if(void 0!==xr){ca("transaction failed: Data returned ",xr,ht.path);var Sr=un(xr);"object"==typeof xr&&null!=xr&&(0,D.contains)(xr,".priority")||(Sr=Sr.updatePriority(qn.getPriority()));var Do=ht.currentWriteId,Xi=Xu(d),Lc=Zu(Sr,qn,Xi);ht.currentOutputSnapshotRaw=Sr,ht.currentOutputSnapshotResolved=Lc,ht.currentWriteId=Rc(d),X.splice(X.indexOf(Do),1),M=(M=M.concat(bl(d.serverSyncTree_,ht.path,Lc,ht.currentWriteId,ht.applyLocally))).concat(xo(d.serverSyncTree_,Do,!0))}else fn=!0,xn="nodata",M=M.concat(xo(d.serverSyncTree_,ht.currentWriteId,!0))}bs(d.eventQueue_,p,M),M=[],fn&&(h[tt].status=2,setTimeout(h[tt].unwatcher,Math.floor(0)),h[tt].onComplete&&b.push("nodata"===xn?function(){return h[tt].onComplete(null,!1,h[tt].currentInputSnapshot)}:function(){return h[tt].onComplete(new Error(xn),!1,null)}))},Be=0;Be<h.length;Be++)Me(Be);for(tc(d,d.transactionQueueTree_),Be=0;Be<b.length;Be++)sn(b[Be]);Ma(d,d.transactionQueueTree_)}}(d,Bf(d,p),b),b}function Lf(d,h){var p,b=d.transactionQueueTree_;for(p=Mt(h);null!==p&&void 0===Mi(b);)b=Au(b,p),p=Mt(h=Sn(h));return b}function Bf(d,h){var p=[];return $p(d,h,p),p.sort(function(b,M){return b.order-M.order}),p}function $p(d,h,p){var b=Mi(h);if(b)for(var M=0;M<b.length;M++)p.push(b[M]);os(h,function(U){$p(d,U,p)})}function tc(d,h){var p=Mi(h);if(p){for(var b=0,M=0;M<p.length;M++)2!==p[M].status&&(p[b]=p[M],b++);p.length=b,Mu(h,p.length>0?p:void 0)}os(h,function(U){tc(d,U)})}function au(d,h){var p=Wa(Lf(d,h)),b=Au(d.transactionQueueTree_,h);return function(d,h,p){for(var b=d.parent;null!==b;){if(h(b))return!0;b=b.parent}}(b,function(M){uu(d,M)}),uu(d,b),Qh(b,function(M){uu(d,M)}),p}function uu(d,h){var p=Mi(h);if(p){for(var b=[],M=[],U=-1,X=0;X<p.length;X++)3===p[X].status||(1===p[X].status?((0,D.assert)(U===X-1,"All SENT items should be at beginning of queue."),U=X,p[X].status=3,p[X].abortReason="set"):((0,D.assert)(0===p[X].status,"Unexpected transaction status in abort"),p[X].unwatcher(),M=M.concat(xo(d.serverSyncTree_,p[X].currentWriteId,!0)),p[X].onComplete&&b.push(p[X].onComplete.bind(null,new Error("set"),!1,null))));for(-1===U?Mu(h,void 0):p.length=U+1,bs(d.eventQueue_,Wa(h),M),X=0;X<b.length;X++)sn(b[X])}}var Ol=function(d,h){var p=dh(d),b=p.namespace;return"firebase.com"===p.domain&&et(p.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!b||"undefined"===b)&&"localhost"!==p.domain&&et("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),p.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Ze("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new ne(p.host,p.secure,b,h,"ws"===p.scheme||"wss"===p.scheme,"",b!==p.subdomain),path:new St(p.pathString)}},dh=function(d){var h="",p="",b="",M="",U="",X=!0,Me="https",Be=443;if("string"==typeof d){var tt=d.indexOf("//");tt>=0&&(Me=d.substring(0,tt-1),d=d.substring(tt+2));var ht=d.indexOf("/");-1===ht&&(ht=d.length);var $t=d.indexOf("?");-1===$t&&($t=d.length),h=d.substring(0,Math.min(ht,$t)),ht<$t&&(M=function(d){for(var h="",p=d.split("/"),b=0;b<p.length;b++)if(p[b].length>0){var M=p[b];try{M=decodeURIComponent(M.replace(/\+/g," "))}catch(U){}h+="/"+M}return h}(d.substring(ht,$t)));var fn=function(d){var h,p,b={};"?"===d.charAt(0)&&(d=d.substring(1));try{for(var M=(0,C.__values)(d.split("&")),U=M.next();!U.done;U=M.next()){var X=U.value;if(0!==X.length){var Me=X.split("=");2===Me.length?b[decodeURIComponent(Me[0])]=decodeURIComponent(Me[1]):Ze("Invalid query segment '"+X+"' in query '"+d+"'")}}}catch(Be){h={error:Be}}finally{try{U&&!U.done&&(p=M.return)&&p.call(M)}finally{if(h)throw h.error}}return b}(d.substring(Math.min(d.length,$t)));(tt=h.indexOf(":"))>=0?(X="https"===Me||"wss"===Me,Be=parseInt(h.substring(tt+1),10)):tt=h.length;var xn=h.slice(0,tt);if("localhost"===xn.toLowerCase())p="localhost";else if(xn.split(".").length<=2)p=xn;else{var qn=h.indexOf(".");b=h.substring(0,qn).toLowerCase(),p=h.substring(qn+1),U=b}"ns"in fn&&(U=fn.ns)}return{host:h,port:Be,domain:p,subdomain:b,secure:X,scheme:Me,pathString:M,namespace:U}},$a=function(){function d(h,p,b,M){this.eventType=h,this.eventRegistration=p,this.snapshot=b,this.prevName=M}return d.prototype.getPath=function(){var h=this.snapshot.ref;return"value"===this.eventType?h._path:h.parent._path},d.prototype.getEventType=function(){return this.eventType},d.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},d.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+(0,D.stringify)(this.snapshot.exportVal())},d}(),ku=function(){function d(h,p,b){this.eventRegistration=h,this.error=p,this.path=b}return d.prototype.getPath=function(){return this.path},d.prototype.getEventType=function(){return"cancel"},d.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},d.prototype.toString=function(){return this.path.toString()+":cancel"},d}(),rl=function(){function d(h,p){this.snapshotCallback=h,this.cancelCallback=p}return d.prototype.onValue=function(h,p){this.snapshotCallback.call(null,h,p)},d.prototype.onCancel=function(h){return(0,D.assert)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,h)},Object.defineProperty(d.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),d.prototype.matches=function(h){return this.snapshotCallback===h.snapshotCallback||this.snapshotCallback.userCallback===h.snapshotCallback.userCallback&&this.snapshotCallback.context===h.snapshotCallback.context},d}(),pa=function(){function d(h,p){this._repo=h,this._path=p}return d.prototype.cancel=function(){var h=new D.Deferred;return Kd(this._repo,this._path,h.wrapCallback(function(){})),h.promise},d.prototype.remove=function(){$o("OnDisconnect.remove",this._path);var h=new D.Deferred;return cs(this._repo,this._path,null,h.wrapCallback(function(){})),h.promise},d.prototype.set=function(h){$o("OnDisconnect.set",this._path),js("OnDisconnect.set",h,this._path,!1);var p=new D.Deferred;return cs(this._repo,this._path,h,p.wrapCallback(function(){})),p.promise},d.prototype.setWithPriority=function(h,p){$o("OnDisconnect.setWithPriority",this._path),js("OnDisconnect.setWithPriority",h,this._path,!1),Ju("OnDisconnect.setWithPriority",p,!1);var b=new D.Deferred;return function(d,h,p,b,M){var U=un(p,b);d.server_.onDisconnectPut(h.toString(),U.val(!0),function(X,Me){"ok"===X&&ke(d.onDisconnect_,h,U),fa(0,M,X,Me)})}(this._repo,this._path,h,p,b.wrapCallback(function(){})),b.promise},d.prototype.update=function(h){$o("OnDisconnect.update",this._path),us("OnDisconnect.update",h,this._path,!1);var p=new D.Deferred;return function(d,h,p,b){if((0,D.isEmpty)(p))return Ge("onDisconnect().update() called with empty data.  Don't do anything."),void fa(0,b,"ok",void 0);d.server_.onDisconnectMerge(h.toString(),p,function(M,U){"ok"===M&&cn(p,function(X,Me){var Be=un(Me);ke(d.onDisconnect_,gr(h,X),Be)}),fa(0,b,M,U)})}(this._repo,this._path,h,p.wrapCallback(function(){})),p.promise},d}(),Es=function(){function d(h,p,b,M){this._repo=h,this._path=p,this._queryParams=b,this._orderByCalled=M}return Object.defineProperty(d.prototype,"key",{get:function(){return br(this._path)?null:or(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"ref",{get:function(){return new jr(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"_queryIdentifier",{get:function(){var h=I(this._queryParams),p=Mn(h);return"{}"===p?"default":p},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"_queryObject",{get:function(){return I(this._queryParams)},enumerable:!1,configurable:!0}),d.prototype.isEqual=function(h){if(!((h=(0,D.getModularInstance)(h))instanceof d))return!1;var p=this._repo===h._repo,b=Go(this._path,h._path);return p&&b&&this._queryIdentifier===h._queryIdentifier},d.prototype.toJSON=function(){return this.toString()},d.prototype.toString=function(){return this._repo.toString()+function(d){for(var h="",p=d.pieceNum_;p<d.pieces_.length;p++)""!==d.pieces_[p]&&(h+="/"+encodeURIComponent(String(d.pieces_[p])));return h||"/"}(this._path)},d}();function ks(d,h){if(!0===d._orderByCalled)throw new Error(h+": You can't combine multiple orderBy calls.")}function hs(d){var h=null,p=null;if(d.hasStart()&&(h=d.getIndexStartValue()),d.hasEnd()&&(p=d.getIndexEndValue()),d.getIndex()===re){var b="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",M="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(d.hasStart()){if(d.getIndexStartName()!==pt)throw new Error(b);if("string"!=typeof h)throw new Error(M)}if(d.hasEnd()){if(d.getIndexEndName()!==Rt)throw new Error(b);if("string"!=typeof p)throw new Error(M)}}else if(d.getIndex()===Bt){if(null!=h&&!Kr(h)||null!=p&&!Kr(p))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,D.assert)(d.getIndex()instanceof tr||d.getIndex()===Ri,"unknown index type."),null!=h&&"object"==typeof h||null!=p&&"object"==typeof p)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Ji(d){if(d.hasStart()&&d.hasEnd()&&d.hasLimit()&&!d.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var jr=function(d){function h(p,b){return d.call(this,p,b,new sa,!1)||this}return(0,C.__extends)(h,d),Object.defineProperty(h.prototype,"parent",{get:function(){var p=si(this._path);return null===p?null:new h(this._repo,p)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"root",{get:function(){for(var p=this;null!==p.parent;)p=p.parent;return p},enumerable:!1,configurable:!0}),h}(Es),nc=function(){function d(h,p,b){this._node=h,this.ref=p,this._index=b}return Object.defineProperty(d.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),d.prototype.child=function(h){var p=new St(h),b=Yo(this.ref,h);return new d(this._node.getChild(p),b,Bt)},d.prototype.exists=function(){return!this._node.isEmpty()},d.prototype.exportVal=function(){return this._node.val(!0)},d.prototype.forEach=function(h){var p=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,function(M,U){return h(new d(U,Yo(p.ref,M),Bt))})},d.prototype.hasChild=function(h){var p=new St(h);return!this._node.getChild(p).isEmpty()},d.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},d.prototype.toJSON=function(){return this.exportVal()},d.prototype.val=function(){return this._node.val()},d}();function Pc(d,h){return(d=(0,D.getModularInstance)(d))._checkNotDeleted("ref"),void 0!==h?Yo(d._root,h):d._root}function bo(d,h){(d=(0,D.getModularInstance)(d))._checkNotDeleted("refFromURL");var p=Ol(h,d._repo.repoInfo_.nodeAdmin);Ud("refFromURL",p);var b=p.repoInfo;return!d._repo.repoInfo_.isCustomHost()&&b.host!==d._repo.repoInfo_.host&&et("refFromURL: Host name does not match the current database: (found "+b.host+" but expected "+d._repo.repoInfo_.host+")"),Pc(d,p.path.toString())}function Yo(d,h){return null===Mt((d=(0,D.getModularInstance)(d))._path)?((p=h)&&(p=p.replace(/^\/*\.info(\/|$)/,"/")),Sa("child","path",p,!1)):Sa("child","path",h,!1),new jr(d._repo,gr(d._path,h));var p}function Hs(d,h){d=(0,D.getModularInstance)(d),$o("push",d._path),js("push",h,d._path,!0);var X,p=ec(d._repo),b=ro(p),M=Yo(d,b),U=Yo(d,b);return X=null!=h?ta(U,h).then(function(){return U}):Promise.resolve(U),M.then=X.then.bind(X),M.catch=X.then.bind(X,void 0),M}function Ns(d){return $o("remove",d._path),ta(d,null)}function ta(d,h){d=(0,D.getModularInstance)(d),$o("set",d._path),js("set",h,d._path,!1);var p=new D.Deferred;return Pu(d._repo,d._path,h,null,p.wrapCallback(function(){})),p.promise}function Nu(d,h){d=(0,D.getModularInstance)(d),$o("setPriority",d._path),Ju("setPriority",h,!1);var p=new D.Deferred;return Pu(d._repo,gr(d._path,".priority"),h,null,p.wrapCallback(function(){})),p.promise}function il(d,h,p){if($o("setWithPriority",d._path),js("setWithPriority",h,d._path,!1),Ju("setWithPriority",p,!1),".length"===d.key||".keys"===d.key)throw"setWithPriority failed: "+d.key+" is a read-only object.";var b=new D.Deferred;return Pu(d._repo,d._path,h,p,b.wrapCallback(function(){})),b.promise}function fh(d,h){us("update",h,d._path,!1);var p=new D.Deferred;return function(d,h,p,b){tl(d,"update",{path:h.toString(),value:p});var M=!0,U=Xu(d),X={};if(cn(p,function(tt,ht){M=!1,X[tt]=Il(gr(h,tt),un(ht),d.serverSyncTree_,U)}),M)Ge("update() called with empty data.  Don't do anything."),fa(0,b,"ok",void 0);else{var Me=Rc(d),Be=function(d,h,p,b){!function(d,h,p,b){(0,D.assert)(b>d.lastWriteId,"Stacking an older merge on top of newer ones"),d.allWrites.push({path:h,children:p,writeId:b,visible:!0}),d.visibleWrites=Xo(d.visibleWrites,h,p),d.lastWriteId=b}(d.pendingWriteTree_,h,p,b);var M=_i.fromObject(p);return la(d,new _o({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},h,M))}(d.serverSyncTree_,h,X,Me);ls(d.eventQueue_,Be),d.server_.merge(h.toString(),p,function(tt,ht){var $t="ok"===tt;$t||Ze("update at "+h+" failed: "+tt);var fn=xo(d.serverSyncTree_,Me,!$t),xn=fn.length>0?Rl(d,h):h;bs(d.eventQueue_,xn,fn),fa(0,b,tt,ht)}),cn(p,function(tt){var ht=au(d,gr(h,tt));Rl(d,ht)}),bs(d.eventQueue_,h,[])}}(d._repo,d._path,h,p.wrapCallback(function(){})),p.promise}function rc(d){return function(d,h){var p=function(d,h){var p=h._path,b=null;d.syncPointTree_.foreachOnPath(p,function(tt,ht){var $t=bi(tt,p);b=b||wu(ht,$t)});var M=d.syncPointTree_.get(p);M?b=b||wu(M,Le()):(M=new $u,d.syncPointTree_=d.syncPointTree_.set(p,M));var U=null!=b,X=U?new Ti(b,!0,!1):null;return function(d){return ir(d.viewCache_)}(Nf(M,h,ru(d.pendingWriteTree_,h._path),U?X.getNode():K.EMPTY_NODE,U))}(d.serverSyncTree_,h);return null!=p?Promise.resolve(p):d.server_.get(h).then(function(b){var M=un(b).withIndex(h._queryParams.getIndex()),U=qu(d.serverSyncTree_,h._path,M);return Ac(d.eventQueue_,h._path,U),Promise.resolve(M)},function(b){return tl(d,"get for query "+(0,D.stringify)(h)+" failed: "+b),Promise.reject(new Error(b))})}((d=(0,D.getModularInstance)(d))._repo,d).then(function(h){return new nc(h,new jr(d._repo,d._path),d._queryParams.getIndex())})}var ol=function(){function d(h){this.callbackContext=h}return d.prototype.respondsTo=function(h){return"value"===h},d.prototype.createEvent=function(h,p){var b=p._queryParams.getIndex();return new $a("value",this,new nc(h.snapshotNode,new jr(p._repo,p._path),b))},d.prototype.getEventRunner=function(h){var p=this;return"cancel"===h.getEventType()?function(){return p.callbackContext.onCancel(h.error)}:function(){return p.callbackContext.onValue(h.snapshot,null)}},d.prototype.createCancelEvent=function(h,p){return this.callbackContext.hasCancelCallback?new ku(this,h,p):null},d.prototype.matches=function(h){return h instanceof d&&(!h.callbackContext||!this.callbackContext||h.callbackContext.matches(this.callbackContext))},d.prototype.hasAnyCallback=function(){return null!==this.callbackContext},d}(),fo=function(){function d(h,p){this.eventType=h,this.callbackContext=p}return d.prototype.respondsTo=function(h){var p="children_added"===h?"child_added":h;return this.eventType===("children_removed"===p?"child_removed":p)},d.prototype.createCancelEvent=function(h,p){return this.callbackContext.hasCancelCallback?new ku(this,h,p):null},d.prototype.createEvent=function(h,p){(0,D.assert)(null!=h.childName,"Child events should have a childName.");var b=Yo(new jr(p._repo,p._path),h.childName),M=p._queryParams.getIndex();return new $a(h.type,this,new nc(h.snapshotNode,b,M),h.prevName)},d.prototype.getEventRunner=function(h){var p=this;return"cancel"===h.getEventType()?function(){return p.callbackContext.onCancel(h.error)}:function(){return p.callbackContext.onValue(h.snapshot,h.prevName)}},d.prototype.matches=function(h){return h instanceof d&&this.eventType===h.eventType&&(!this.callbackContext||!h.callbackContext||this.callbackContext.matches(h.callbackContext))},d.prototype.hasAnyCallback=function(){return!!this.callbackContext},d}();function Fu(d,h,p,b,M){var U;if("object"==typeof b&&(U=void 0,M=b),"function"==typeof b&&(U=b),M&&M.onlyOnce){var X=p,Me=function(ht,$t){ea(d._repo,d,tt),X(ht,$t)};Me.userCallback=p.userCallback,Me.context=p.context,p=Me}var Be=new rl(p,U||void 0),tt="value"===h?new ol(Be):new fo(h,Be);return function(d,h,p){var b;b=".info"===Mt(h._path)?uh(d.infoSyncTree_,h,p):uh(d.serverSyncTree_,h,p),Ac(d.eventQueue_,h._path,b)}(d._repo,d,tt),function(){return ea(d._repo,d,tt)}}function so(d,h,p,b){return Fu(d,"value",h,p,b)}function Vn(d,h,p,b){return Fu(d,"child_added",h,p,b)}function ws(d,h,p,b){return Fu(d,"child_changed",h,p,b)}function lu(d,h,p,b){return Fu(d,"child_moved",h,p,b)}function nd(d,h,p,b){return Fu(d,"child_removed",h,p,b)}function ic(d,h,p){var b=null,M=p?new rl(p):null;"value"===h?b=new ol(M):h&&(b=new fo(h,M)),ea(d._repo,d,b)}var qo=function(){},ph=function(d){function h(p,b){var M=d.call(this)||this;return M._value=p,M._key=b,M}return(0,C.__extends)(h,d),h.prototype._apply=function(p){js("endAt",this._value,p._path,!0);var b=Zs(p._queryParams,this._value,this._key);if(Ji(b),hs(b),p._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Es(p._repo,p._path,b,p._orderByCalled)},h}(qo);function Pl(d,h){return ha("endAt","key",h,!0),new ph(d,h)}var rd=function(d){function h(p,b){var M=d.call(this)||this;return M._value=p,M._key=b,M}return(0,C.__extends)(h,d),h.prototype._apply=function(p){js("endBefore",this._value,p._path,!1);var b=function(d,h,p){var M;return d.index_===re?("string"==typeof h&&(h=mo(h)),M=Zs(d,h,p)):M=Zs(d,h,null==p?pt:mo(p)),M.endBeforeSet_=!0,M}(p._queryParams,this._value,this._key);if(Ji(b),hs(b),p._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Es(p._repo,p._path,b,p._orderByCalled)},h}(qo);function Zd(d,h){return ha("endBefore","key",h,!0),new rd(d,h)}var gh=function(d){function h(p,b){var M=d.call(this)||this;return M._value=p,M._key=b,M}return(0,C.__extends)(h,d),h.prototype._apply=function(p){js("startAt",this._value,p._path,!0);var b=La(p._queryParams,this._value,this._key);if(Ji(b),hs(b),p._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Es(p._repo,p._path,b,p._orderByCalled)},h}(qo);function ga(d,h){return void 0===d&&(d=null),ha("startAt","key",h,!0),new gh(d,h)}var Jd=function(d){function h(p,b){var M=d.call(this)||this;return M._value=p,M._key=b,M}return(0,C.__extends)(h,d),h.prototype._apply=function(p){js("startAfter",this._value,p._path,!1);var b=function(d,h,p){var b;return d.index_===re?("string"==typeof h&&(h=ia(h)),b=La(d,h,p)):b=La(d,h,null==p?Rt:ia(p)),b.startAfterSet_=!0,b}(p._queryParams,this._value,this._key);if(Ji(b),hs(b),p._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Es(p._repo,p._path,b,p._orderByCalled)},h}(qo);function Vf(d,h){return ha("startAfter","key",h,!0),new Jd(d,h)}var cu=function(d){function h(p){var b=d.call(this)||this;return b._limit=p,b}return(0,C.__extends)(h,d),h.prototype._apply=function(p){if(p._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Es(p._repo,p._path,function(d,h){var p=d.copy();return p.limitSet_=!0,p.limit_=h,p.viewFrom_="l",p}(p._queryParams,this._limit),p._orderByCalled)},h}(qo);function mh(d){if("number"!=typeof d||Math.floor(d)!==d||d<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new cu(d)}var id=function(d){function h(p){var b=d.call(this)||this;return b._limit=p,b}return(0,C.__extends)(h,d),h.prototype._apply=function(p){if(p._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Es(p._repo,p._path,function(d,h){var p=d.copy();return p.limitSet_=!0,p.limit_=h,p.viewFrom_="r",p}(p._queryParams,this._limit),p._orderByCalled)},h}(qo);function Uf(d){if("number"!=typeof d||Math.floor(d)!==d||d<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new id(d)}var na=function(d){function h(p){var b=d.call(this)||this;return b._path=p,b}return(0,C.__extends)(h,d),h.prototype._apply=function(p){ks(p,"orderByChild");var b=new St(this._path);if(br(b))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var M=new tr(b),U=As(p._queryParams,M);return hs(U),new Es(p._repo,p._path,U,!0)},h}(qo);function _h(d){if("$key"===d)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===d)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===d)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Sa("orderByChild","path",d,!1),new na(d)}var sl=function(d){function h(){return null!==d&&d.apply(this,arguments)||this}return(0,C.__extends)(h,d),h.prototype._apply=function(p){ks(p,"orderByKey");var b=As(p._queryParams,re);return hs(b),new Es(p._repo,p._path,b,!0)},h}(qo);function xc(){return new sl}var kc=function(d){function h(){return null!==d&&d.apply(this,arguments)||this}return(0,C.__extends)(h,d),h.prototype._apply=function(p){ks(p,"orderByPriority");var b=As(p._queryParams,Bt);return hs(b),new Es(p._repo,p._path,b,!0)},h}(qo);function hu(){return new kc}var jf=function(d){function h(){return null!==d&&d.apply(this,arguments)||this}return(0,C.__extends)(h,d),h.prototype._apply=function(p){ks(p,"orderByValue");var b=As(p._queryParams,Ri);return hs(b),new Es(p._repo,p._path,b,!0)},h}(qo);function Xd(){return new jf}var ef=function(d){function h(p,b){var M=d.call(this)||this;return M._value=p,M._key=b,M}return(0,C.__extends)(h,d),h.prototype._apply=function(p){if(js("equalTo",this._value,p._path,!1),p._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(p._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new ph(this._value,this._key)._apply(new gh(this._value,this._key)._apply(p))},h}(qo);function od(d,h){return ha("equalTo","key",h,!0),new ef(d,h)}function Ra(d){for(var h,p,b=[],M=1;M<arguments.length;M++)b[M-1]=arguments[M];var U=(0,D.getModularInstance)(d);try{for(var X=(0,C.__values)(b),Me=X.next();!Me.done;Me=X.next()){var Be=Me.value;U=Be._apply(U)}}catch(tt){h={error:tt}}finally{try{Me&&!Me.done&&(p=X.return)&&p.call(X)}finally{if(h)throw h.error}}return U}(function(d){(0,D.assert)(!Ql,"__referenceConstructor has already been defined"),Ql=d})(jr),function(d){(0,D.assert)(!Kh,"__referenceConstructor has already been defined"),Kh=d}(jr);var Cs={},vh=!1;function tf(d,h,p,b,M){var U=b||d.options.databaseURL;void 0===U&&(d.options.projectId||et("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ge("Using default host for project ",d.options.projectId),U=d.options.projectId+"-default-rtdb.firebaseio.com");var Be,X=Ol(U,M),Me=X.repoInfo,tt=void 0;"undefined"!=typeof process&&(tt=process.env.FIREBASE_DATABASE_EMULATOR_HOST),tt?(Be=!0,Me=(X=Ol(U="http://"+tt+"?ns="+Me.namespace,M)).repoInfo):Be=!X.repoInfo.secure;var ht=M&&Be?new Un(Un.OWNER):new Rn(d.name,d.options,h);Ud("Invalid Firebase Database URL",X),br(X.path)||et("Database URL must point to the root of a Firebase Database (not including a child path).");var $t=function(d,h,p,b){var M=Cs[h.name];M||(Cs[h.name]=M={});var U=M[d.toURLString()];return U&&et("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),U=new Dl(d,vh,p,b),M[d.toURLString()]=U,U}(Me,d,ht,new Jn(d.name,p));return new Qp($t,d)}var Qp=function(){function d(h,p){this._repoInternal=h,this.app=p,this.type="database",this._instanceStarted=!1}return Object.defineProperty(d.prototype,"_repo",{get:function(){return this._instanceStarted||(function(d,h,p){if(d.stats_=yn(d.repoInfo_),d.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)d.server_=new R(d.repoInfo_,function(b,M,U,X){Ka(d,b,M,U,X)},d.authTokenProvider_,d.appCheckProvider_),setTimeout(function(){return hh(d,!0)},0);else{if(null!=p){if("object"!=typeof p)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,D.stringify)(p)}catch(b){throw new Error("Invalid authOverride provided: "+b)}}d.persistentConnection_=new no(d.repoInfo_,h,function(b,M,U,X){Ka(d,b,M,U,X)},function(b){hh(d,b)},function(b){!function(d,h){cn(h,function(p,b){Mc(d,p,b)})}(d,b)},d.authTokenProvider_,d.appCheckProvider_,p),d.server_=d.persistentConnection_}d.authTokenProvider_.addTokenChangeListener(function(b){d.server_.refreshAuthToken(b)}),d.appCheckProvider_.addTokenChangeListener(function(b){d.server_.refreshAppCheckToken(b.token)}),d.statsReporter_=function(d,h){var p=d.toString();return Nn[p]||(Nn[p]=h()),Nn[p]}(d.repoInfo_,function(){return new Jr(d.stats_,d.server_)}),d.infoData_=new W,d.infoSyncTree_=new zp({startListening:function(b,M,U,X){var Me=[],Be=d.infoData_.getNode(b._path);return Be.isEmpty()||(Me=qu(d.infoSyncTree_,b._path,Be),setTimeout(function(){X("ok")},0)),Me},stopListening:function(){}}),Mc(d,"connected",!1),d.serverSyncTree_=new zp({startListening:function(b,M,U,X){return d.server_.listen(b,U,M,function(Me,Be){var tt=X(Me,Be);bs(d.eventQueue_,b._path,tt)}),[]},stopListening:function(b,M){d.server_.unlisten(b,M)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new jr(this._repo,Le())),this._rootInternal},enumerable:!1,configurable:!0}),d.prototype._delete=function(){return this._checkNotDeleted("delete"),function(d,h){var p=Cs[h];(!p||p[d.key]!==d)&&et("Database "+h+"("+d.repoInfo_+") has already been deleted."),Oc(d),delete p[d.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null,Promise.resolve()},d.prototype._checkNotDeleted=function(h){null===this._rootInternal&&et("Cannot call "+h+" on a deleted database.")},d}();function xl(d){(d=(0,D.getModularInstance)(d))._checkNotDeleted("goOffline"),Oc(d._repo)}function fu(d){(d=(0,D.getModularInstance)(d))._checkNotDeleted("goOnline"),function(d){d.persistentConnection_&&d.persistentConnection_.resume(Hd)}(d._repo)}var pu={".sv":"timestamp"},oc=function(){function d(h,p){this.committed=h,this.snapshot=p}return d.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},d}();function Zp(d,h,p){var b;if(d=(0,D.getModularInstance)(d),$o("Reference.transaction",d._path),".length"===d.key||".keys"===d.key)throw"Reference.transaction failed: "+d.key+" is a read-only object.";var M=null===(b=null==p?void 0:p.applyLocally)||void 0===b||b,U=new D.Deferred,Me=so(d,function(){});return function(d,h,p,b,M,U){tl(d,"transaction on "+h);var X={path:h,update:p,onComplete:b,status:null,order:Ne(),applyLocally:U,retryCount:0,unwatcher:M,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},Me=xs(d,h,void 0);X.currentInputSnapshot=Me;var Be=X.update(Me.val());if(void 0===Be)X.unwatcher(),X.currentOutputSnapshotRaw=null,X.currentOutputSnapshotResolved=null,X.onComplete&&X.onComplete(null,!1,X.currentInputSnapshot);else{ca("transaction failed: Data returned ",Be,X.path),X.status=0;var tt=Au(d.transactionQueueTree_,h),ht=Mi(tt)||[];ht.push(X),Mu(tt,ht);var $t=void 0;"object"==typeof Be&&null!==Be&&(0,D.contains)(Be,".priority")?($t=(0,D.safeGet)(Be,".priority"),(0,D.assert)(Kr($t),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):$t=(Du(d.serverSyncTree_,h)||K.EMPTY_NODE).getPriority().val();var xn=Xu(d),qn=un(Be,$t),xr=Zu(qn,Me,xn);X.currentOutputSnapshotRaw=qn,X.currentOutputSnapshotResolved=xr,X.currentWriteId=Rc(d);var Sr=bl(d.serverSyncTree_,h,xr,X.currentWriteId,X.applyLocally);bs(d.eventQueue_,h,Sr),Ma(d,d.transactionQueueTree_)}}(d._repo,d._path,h,function(Be,tt,ht){var $t=null;Be?U.reject(Be):($t=new nc(ht,new jr(d._repo,d._path),Bt),U.resolve(new oc(tt,$t)))},Me,M),U.promise}var Fs=function(){function d(h){this._delegate=h}return d.prototype.cancel=function(h){(0,D.validateArgCount)("OnDisconnect.cancel",0,1,arguments.length),(0,D.validateCallback)("OnDisconnect.cancel","onComplete",h,!0);var p=this._delegate.cancel();return h&&p.then(function(){return h(null)},function(b){return h(b)}),p},d.prototype.remove=function(h){(0,D.validateArgCount)("OnDisconnect.remove",0,1,arguments.length),(0,D.validateCallback)("OnDisconnect.remove","onComplete",h,!0);var p=this._delegate.remove();return h&&p.then(function(){return h(null)},function(b){return h(b)}),p},d.prototype.set=function(h,p){(0,D.validateArgCount)("OnDisconnect.set",1,2,arguments.length),(0,D.validateCallback)("OnDisconnect.set","onComplete",p,!0);var b=this._delegate.set(h);return p&&b.then(function(){return p(null)},function(M){return p(M)}),b},d.prototype.setWithPriority=function(h,p,b){(0,D.validateArgCount)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,D.validateCallback)("OnDisconnect.setWithPriority","onComplete",b,!0);var M=this._delegate.setWithPriority(h,p);return b&&M.then(function(){return b(null)},function(U){return b(U)}),M},d.prototype.update=function(h,p){if((0,D.validateArgCount)("OnDisconnect.update",1,2,arguments.length),Array.isArray(h)){for(var b={},M=0;M<h.length;++M)b[""+M]=h[M];h=b,Ze("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,D.validateCallback)("OnDisconnect.update","onComplete",p,!0);var U=this._delegate.update(h);return p&&U.then(function(){return p(null)},function(X){return p(X)}),U},d}(),al=function(){function d(h,p){this.committed=h,this.snapshot=p}return d.prototype.toJSON=function(){return(0,D.validateArgCount)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},d}(),kl=function(){function d(h,p){this._database=h,this._delegate=p}return d.prototype.val=function(){return(0,D.validateArgCount)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},d.prototype.exportVal=function(){return(0,D.validateArgCount)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},d.prototype.toJSON=function(){return(0,D.validateArgCount)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},d.prototype.exists=function(){return(0,D.validateArgCount)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},d.prototype.child=function(h){return(0,D.validateArgCount)("DataSnapshot.child",0,1,arguments.length),h=String(h),Sa("DataSnapshot.child","path",h,!1),new d(this._database,this._delegate.child(h))},d.prototype.hasChild=function(h){return(0,D.validateArgCount)("DataSnapshot.hasChild",1,1,arguments.length),Sa("DataSnapshot.hasChild","path",h,!1),this._delegate.hasChild(h)},d.prototype.getPriority=function(){return(0,D.validateArgCount)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},d.prototype.forEach=function(h){var p=this;return(0,D.validateArgCount)("DataSnapshot.forEach",1,1,arguments.length),(0,D.validateCallback)("DataSnapshot.forEach","action",h,!1),this._delegate.forEach(function(b){return h(new d(p._database,b))})},d.prototype.hasChildren=function(){return(0,D.validateArgCount)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(d.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),d.prototype.numChildren=function(){return(0,D.validateArgCount)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},d.prototype.getRef=function(){return(0,D.validateArgCount)("DataSnapshot.ref",0,0,arguments.length),new Nl(this._database,this._delegate.ref)},Object.defineProperty(d.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),d}(),Gf=function(){function d(h,p){this.database=h,this._delegate=p}return d.prototype.on=function(h,p,b,M){var X,U=this;(0,D.validateArgCount)("Query.on",2,4,arguments.length),(0,D.validateCallback)("Query.on","callback",p,!1);var Me=d.getCancelAndContextArgs_("Query.on",b,M),Be=function(ht,$t){p.call(Me.context,new kl(U.database,ht),$t)};Be.userCallback=p,Be.context=Me.context;var tt=null===(X=Me.cancel)||void 0===X?void 0:X.bind(Me.context);switch(h){case"value":return so(this._delegate,Be,tt),p;case"child_added":return Vn(this._delegate,Be,tt),p;case"child_removed":return nd(this._delegate,Be,tt),p;case"child_changed":return ws(this._delegate,Be,tt),p;case"child_moved":return lu(this._delegate,Be,tt),p;default:throw new Error((0,D.errorPrefix)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},d.prototype.off=function(h,p,b){if((0,D.validateArgCount)("Query.off",0,3,arguments.length),ys("Query.off",h,!0),(0,D.validateCallback)("Query.off","callback",p,!0),(0,D.validateContextObject)("Query.off","context",b,!0),p){var M=function(){};M.userCallback=p,M.context=b,ic(this._delegate,h,M)}else ic(this._delegate,h)},d.prototype.get=function(){var h=this;return rc(this._delegate).then(function(p){return new kl(h.database,p)})},d.prototype.once=function(h,p,b,M){var U=this;(0,D.validateArgCount)("Query.once",1,4,arguments.length),(0,D.validateCallback)("Query.once","callback",p,!0);var X=d.getCancelAndContextArgs_("Query.once",b,M),Me=new D.Deferred,Be=function(ht,$t){var fn=new kl(U.database,ht);p&&p.call(X.context,fn,$t),Me.resolve(fn)};Be.userCallback=p,Be.context=X.context;var tt=function(ht){X.cancel&&X.cancel.call(X.context,ht),Me.reject(ht)};switch(h){case"value":so(this._delegate,Be,tt,{onlyOnce:!0});break;case"child_added":Vn(this._delegate,Be,tt,{onlyOnce:!0});break;case"child_removed":nd(this._delegate,Be,tt,{onlyOnce:!0});break;case"child_changed":ws(this._delegate,Be,tt,{onlyOnce:!0});break;case"child_moved":lu(this._delegate,Be,tt,{onlyOnce:!0});break;default:throw new Error((0,D.errorPrefix)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return Me.promise},d.prototype.limitToFirst=function(h){return(0,D.validateArgCount)("Query.limitToFirst",1,1,arguments.length),new d(this.database,Ra(this._delegate,mh(h)))},d.prototype.limitToLast=function(h){return(0,D.validateArgCount)("Query.limitToLast",1,1,arguments.length),new d(this.database,Ra(this._delegate,Uf(h)))},d.prototype.orderByChild=function(h){return(0,D.validateArgCount)("Query.orderByChild",1,1,arguments.length),new d(this.database,Ra(this._delegate,_h(h)))},d.prototype.orderByKey=function(){return(0,D.validateArgCount)("Query.orderByKey",0,0,arguments.length),new d(this.database,Ra(this._delegate,xc()))},d.prototype.orderByPriority=function(){return(0,D.validateArgCount)("Query.orderByPriority",0,0,arguments.length),new d(this.database,Ra(this._delegate,hu()))},d.prototype.orderByValue=function(){return(0,D.validateArgCount)("Query.orderByValue",0,0,arguments.length),new d(this.database,Ra(this._delegate,Xd()))},d.prototype.startAt=function(h,p){return void 0===h&&(h=null),(0,D.validateArgCount)("Query.startAt",0,2,arguments.length),new d(this.database,Ra(this._delegate,ga(h,p)))},d.prototype.startAfter=function(h,p){return void 0===h&&(h=null),(0,D.validateArgCount)("Query.startAfter",0,2,arguments.length),new d(this.database,Ra(this._delegate,Vf(h,p)))},d.prototype.endAt=function(h,p){return void 0===h&&(h=null),(0,D.validateArgCount)("Query.endAt",0,2,arguments.length),new d(this.database,Ra(this._delegate,Pl(h,p)))},d.prototype.endBefore=function(h,p){return void 0===h&&(h=null),(0,D.validateArgCount)("Query.endBefore",0,2,arguments.length),new d(this.database,Ra(this._delegate,Zd(h,p)))},d.prototype.equalTo=function(h,p){return(0,D.validateArgCount)("Query.equalTo",1,2,arguments.length),new d(this.database,Ra(this._delegate,od(h,p)))},d.prototype.toString=function(){return(0,D.validateArgCount)("Query.toString",0,0,arguments.length),this._delegate.toString()},d.prototype.toJSON=function(){return(0,D.validateArgCount)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},d.prototype.isEqual=function(h){if((0,D.validateArgCount)("Query.isEqual",1,1,arguments.length),!(h instanceof d)){var p="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(p)}return this._delegate.isEqual(h._delegate)},d.getCancelAndContextArgs_=function(h,p,b){var M={cancel:void 0,context:void 0};if(p&&b)M.cancel=p,(0,D.validateCallback)(h,"cancel",M.cancel,!0),M.context=b,(0,D.validateContextObject)(h,"context",M.context,!0);else if(p)if("object"==typeof p&&null!==p)M.context=p;else{if("function"!=typeof p)throw new Error((0,D.errorPrefix)(h,"cancelOrContext")+" must either be a cancel callback or a context object.");M.cancel=p}return M},Object.defineProperty(d.prototype,"ref",{get:function(){return new Nl(this.database,new jr(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),d}(),Nl=function(d){function h(p,b){var M=d.call(this,p,new Es(b._repo,b._path,new sa,!1))||this;return M.database=p,M._delegate=b,M}return(0,C.__extends)(h,d),h.prototype.getKey=function(){return(0,D.validateArgCount)("Reference.key",0,0,arguments.length),this._delegate.key},h.prototype.child=function(p){return(0,D.validateArgCount)("Reference.child",1,1,arguments.length),"number"==typeof p&&(p=String(p)),new h(this.database,Yo(this._delegate,p))},h.prototype.getParent=function(){(0,D.validateArgCount)("Reference.parent",0,0,arguments.length);var p=this._delegate.parent;return p?new h(this.database,p):null},h.prototype.getRoot=function(){return(0,D.validateArgCount)("Reference.root",0,0,arguments.length),new h(this.database,this._delegate.root)},h.prototype.set=function(p,b){(0,D.validateArgCount)("Reference.set",1,2,arguments.length),(0,D.validateCallback)("Reference.set","onComplete",b,!0);var M=ta(this._delegate,p);return b&&M.then(function(){return b(null)},function(U){return b(U)}),M},h.prototype.update=function(p,b){if((0,D.validateArgCount)("Reference.update",1,2,arguments.length),Array.isArray(p)){for(var M={},U=0;U<p.length;++U)M[""+U]=p[U];p=M,Ze("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}$o("Reference.update",this._delegate._path),(0,D.validateCallback)("Reference.update","onComplete",b,!0);var X=fh(this._delegate,p);return b&&X.then(function(){return b(null)},function(Me){return b(Me)}),X},h.prototype.setWithPriority=function(p,b,M){(0,D.validateArgCount)("Reference.setWithPriority",2,3,arguments.length),(0,D.validateCallback)("Reference.setWithPriority","onComplete",M,!0);var U=il(this._delegate,p,b);return M&&U.then(function(){return M(null)},function(X){return M(X)}),U},h.prototype.remove=function(p){(0,D.validateArgCount)("Reference.remove",0,1,arguments.length),(0,D.validateCallback)("Reference.remove","onComplete",p,!0);var b=Ns(this._delegate);return p&&b.then(function(){return p(null)},function(M){return p(M)}),b},h.prototype.transaction=function(p,b,M){var U=this;(0,D.validateArgCount)("Reference.transaction",1,3,arguments.length),(0,D.validateCallback)("Reference.transaction","transactionUpdate",p,!1),(0,D.validateCallback)("Reference.transaction","onComplete",b,!0),da("Reference.transaction","applyLocally",M,!0);var X=Zp(this._delegate,p,{applyLocally:M}).then(function(Me){return new al(Me.committed,new kl(U.database,Me.snapshot))});return b&&X.then(function(Me){return b(null,Me.committed,Me.snapshot)},function(Me){return b(Me,!1,null)}),X},h.prototype.setPriority=function(p,b){(0,D.validateArgCount)("Reference.setPriority",1,2,arguments.length),(0,D.validateCallback)("Reference.setPriority","onComplete",b,!0);var M=Nu(this._delegate,p);return b&&M.then(function(){return b(null)},function(U){return b(U)}),M},h.prototype.push=function(p,b){var M=this;(0,D.validateArgCount)("Reference.push",0,2,arguments.length),(0,D.validateCallback)("Reference.push","onComplete",b,!0);var U=Hs(this._delegate,p),X=U.then(function(Be){return new h(M.database,Be)});b&&X.then(function(){return b(null)},function(Be){return b(Be)});var Me=new h(this.database,U);return Me.then=X.then.bind(X),Me.catch=X.catch.bind(X,void 0),Me},h.prototype.onDisconnect=function(){return $o("Reference.onDisconnect",this._delegate._path),new Fs(new pa(this._delegate._repo,this._delegate._path))},Object.defineProperty(h.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),h}(Gf),Fl=function(){function d(h,p){var b=this;this._delegate=h,this.app=p,this.INTERNAL={delete:function(){return b._delegate._delete()}}}return d.prototype.useEmulator=function(h,p,b){void 0===b&&(b={}),function(d,h,p,b){void 0===b&&(b={}),(d=(0,D.getModularInstance)(d))._checkNotDeleted("useEmulator"),d._instanceStarted&&et("Cannot call useEmulator() after instance has already been initialized.");var M=d._repoInternal,U=void 0;if(M.repoInfo_.nodeAdmin)b.mockUserToken&&et('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),U=new Un(Un.OWNER);else if(b.mockUserToken){var X=(0,D.createMockUserToken)(b.mockUserToken,d.app.options.projectId);U=new Un(X)}!function(d,h,p,b){d.repoInfo_=new ne(h+":"+p,!1,d.repoInfo_.namespace,d.repoInfo_.webSocketOnly,d.repoInfo_.nodeAdmin,d.repoInfo_.persistenceKey,d.repoInfo_.includeNamespaceInQueryParams),b&&(d.authTokenProvider_=b)}(M,h,p,U)}(this._delegate,h,p,b)},d.prototype.ref=function(h){if((0,D.validateArgCount)("database.ref",0,1,arguments.length),h instanceof Nl){var p=bo(this._delegate,h.toString());return new Nl(this,p)}return p=Pc(this._delegate,h),new Nl(this,p)},d.prototype.refFromURL=function(h){var p="database.refFromURL";(0,D.validateArgCount)(p,1,1,arguments.length);var b=bo(this._delegate,h);return new Nl(this,b)},d.prototype.goOffline=function(){return(0,D.validateArgCount)("database.goOffline",0,0,arguments.length),xl(this._delegate)},d.prototype.goOnline=function(){return(0,D.validateArgCount)("database.goOnline",0,0,arguments.length),fu(this._delegate)},d.ServerValue={TIMESTAMP:pu,increment:function(h){return function(d){return{".sv":{increment:d}}}(h)}},d}(),zf=Object.freeze({__proto__:null,forceLongPolling:function(){Ii.forceDisallow(),_r.forceAllow()},forceWebSockets:function(){_r.forceDisallow()},isWebSocketsAvailable:function(){return Ii.isAvailable()},setSecurityDebugCallback:function(d,h){d._delegate._repo.persistentConnection_.securityDebugCallback_=h},stats:function(d,h){!function(d,h){if(void 0===h&&(h=!1),"undefined"!=typeof console){var p;h?(d.statsListener_||(d.statsListener_=new an(d.stats_)),p=d.statsListener_.get()):p=d.stats_.get();var b=Object.keys(p).reduce(function(M,U){return Math.max(U.length,M)},0);cn(p,function(M,U){for(var X=M,Me=M.length;Me<b+2;Me++)X+=" ";console.log(X+U)})}}(d._delegate._repo,h)},statsIncrementCounter:function(d,h){!function(d,h){d.stats_.incrementCounter(h),function(d,h){d.statsToReport_[h]=!0}(d.statsReporter_,h)}(d._delegate._repo,h)},dataUpdateCount:function(d){return d._delegate._repo.dataUpdateCount},interceptServerData:function(d,h){return function(d,h){d.interceptServerDataCallback_=h}(d._delegate._repo,h)},initStandalone:function(d){var h=d.app,p=d.url,M=d.customAuthImpl,U=d.namespace,X=d.nodeAdmin,Me=void 0!==X&&X;ae(d.version);var Be=new _.Provider("auth-internal",new _.ComponentContainer("database-standalone"));return Be.setComponent(new _.Component("auth-internal",function(){return M},"PRIVATE")),{instance:new Fl(tf(h,Be,void 0,p,Me),h),namespace:U}}}),ud=no;no.prototype.simpleListen=function(d,h){this.sendRequest("q",{p:d},h)},no.prototype.echo=function(d,h){this.sendRequest("echo",{d},h)};var af=Object.freeze({__proto__:null,DataConnection:ud,RealTimeConnection:vt,hijackHash:function(d){var h=no.prototype.put;return no.prototype.put=function(p,b,M,U){void 0!==U&&(U=d()),h.call(this,p,b,M,U)},function(){no.prototype.put=h}},ConnectionTarget:ne,queryIdentifier:function(d){return d._delegate._queryIdentifier},forceRestClient:function(d){!function(d){vh=d}(d)}}),uf=Fl.ServerValue;!function(d){ae(d.SDK_VERSION);var h=d.INTERNAL.registerComponent(new _.Component("database",function(p,b){var M=b.instanceIdentifier,U=p.getProvider("app").getImmediate(),X=p.getProvider("auth-internal"),Me=p.getProvider("app-check-internal");return new Fl(tf(U,X,Me,M),U)},"PUBLIC").setServiceProps({Reference:Nl,Query:Gf,Database:Fl,DataSnapshot:kl,enableLogging:gt,INTERNAL:zf,ServerValue:uf,TEST_ACCESS:af}).setMultipleInstances(!0));d.registerVersion("@firebase/database","0.10.7"),(0,D.isNodeSdk)()&&(ln.exports=h)}(y.default)},300:(ln,ut,P)=>{"use strict";function y(){for(var oe=0,fe=0,Ce=arguments.length;fe<Ce;fe++)oe+=arguments[fe].length;var Re=Array(oe),Ne=0;for(fe=0;fe<Ce;fe++)for(var Se=arguments[fe],ze=0,Ut=Se.length;ze<Ut;ze++,Ne++)Re[Ne]=Se[ze];return Re}P.r(ut),P.d(ut,{LogLevel:()=>C,Logger:()=>ae,setLogLevel:()=>G,setUserLogHandler:()=>se});var _,D=[],C=(()=>{return(oe=C||(C={}))[oe.DEBUG=0]="DEBUG",oe[oe.VERBOSE=1]="VERBOSE",oe[oe.INFO=2]="INFO",oe[oe.WARN=3]="WARN",oe[oe.ERROR=4]="ERROR",oe[oe.SILENT=5]="SILENT",C;var oe})(),_e={debug:C.DEBUG,verbose:C.VERBOSE,info:C.INFO,warn:C.WARN,error:C.ERROR,silent:C.SILENT},ee=C.INFO,me=((_={})[C.DEBUG]="log",_[C.VERBOSE]="log",_[C.INFO]="info",_[C.WARN]="warn",_[C.ERROR]="error",_),ie=function(oe,fe){for(var Ce=[],Re=2;Re<arguments.length;Re++)Ce[Re-2]=arguments[Re];if(!(fe<oe.logLevel)){var Ne=(new Date).toISOString(),Se=me[fe];if(!Se)throw new Error("Attempted to log a message with an invalid logType (value: "+fe+")");console[Se].apply(console,y(["["+Ne+"]  "+oe.name+":"],Ce))}},ae=function(){function oe(fe){this.name=fe,this._logLevel=ee,this._logHandler=ie,this._userLogHandler=null,D.push(this)}return Object.defineProperty(oe.prototype,"logLevel",{get:function(){return this._logLevel},set:function(fe){if(!(fe in C))throw new TypeError('Invalid value "'+fe+'" assigned to `logLevel`');this._logLevel=fe},enumerable:!1,configurable:!0}),oe.prototype.setLogLevel=function(fe){this._logLevel="string"==typeof fe?_e[fe]:fe},Object.defineProperty(oe.prototype,"logHandler",{get:function(){return this._logHandler},set:function(fe){if("function"!=typeof fe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=fe},enumerable:!1,configurable:!0}),Object.defineProperty(oe.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(fe){this._userLogHandler=fe},enumerable:!1,configurable:!0}),oe.prototype.debug=function(){for(var fe=[],Ce=0;Ce<arguments.length;Ce++)fe[Ce]=arguments[Ce];this._userLogHandler&&this._userLogHandler.apply(this,y([this,C.DEBUG],fe)),this._logHandler.apply(this,y([this,C.DEBUG],fe))},oe.prototype.log=function(){for(var fe=[],Ce=0;Ce<arguments.length;Ce++)fe[Ce]=arguments[Ce];this._userLogHandler&&this._userLogHandler.apply(this,y([this,C.VERBOSE],fe)),this._logHandler.apply(this,y([this,C.VERBOSE],fe))},oe.prototype.info=function(){for(var fe=[],Ce=0;Ce<arguments.length;Ce++)fe[Ce]=arguments[Ce];this._userLogHandler&&this._userLogHandler.apply(this,y([this,C.INFO],fe)),this._logHandler.apply(this,y([this,C.INFO],fe))},oe.prototype.warn=function(){for(var fe=[],Ce=0;Ce<arguments.length;Ce++)fe[Ce]=arguments[Ce];this._userLogHandler&&this._userLogHandler.apply(this,y([this,C.WARN],fe)),this._logHandler.apply(this,y([this,C.WARN],fe))},oe.prototype.error=function(){for(var fe=[],Ce=0;Ce<arguments.length;Ce++)fe[Ce]=arguments[Ce];this._userLogHandler&&this._userLogHandler.apply(this,y([this,C.ERROR],fe)),this._logHandler.apply(this,y([this,C.ERROR],fe))},oe}();function G(oe){D.forEach(function(fe){fe.setLogLevel(oe)})}function se(oe,fe){for(var Ce=function(ze){var Ut=null;fe&&fe.level&&(Ut=_e[fe.level]),ze.userLogHandler=null===oe?null:function(Qt,gt){for(var Ge=[],at=2;at<arguments.length;at++)Ge[at-2]=arguments[at];var nt=Ge.map(function(et){if(null==et)return null;if("string"==typeof et)return et;if("number"==typeof et||"boolean"==typeof et)return et.toString();if(et instanceof Error)return et.message;try{return JSON.stringify(et)}catch(Ze){return null}}).filter(function(et){return et}).join(" ");gt>=(null!=Ut?Ut:Qt.logLevel)&&oe({level:C[gt].toLowerCase(),message:nt,args:Ge,type:Qt.name})}},Re=0,Ne=D;Re<Ne.length;Re++)Ce(Ne[Re])}},7361:(ln,ut,P)=>{"use strict";var y=P(9759),_=P(4762),D=P(4685),C=P(6034),_e="firebasestorage.googleapis.com",ee="storageBucket",ae=function(re){function Q(Fe,lt){var Dt=re.call(this,G(Fe),"Firebase Storage: "+lt+" ("+G(Fe)+")")||this;return Dt.customData={serverResponse:null},Dt._baseMessage=Dt.message,Object.setPrototypeOf(Dt,Q.prototype),Dt}return(0,_.__extends)(Q,re),Q.prototype._codeEquals=function(Fe){return G(Fe)===this.code},Object.defineProperty(Q.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(Fe){this.customData.serverResponse=Fe,this.message=this.customData.serverResponse?this._baseMessage+"\n"+this.customData.serverResponse:this._baseMessage},enumerable:!1,configurable:!0}),Q}(D.FirebaseError);function G(re){return"storage/"+re}function se(){return new ae("unknown","An unknown error occurred, please check the error payload for server response.")}function ze(){return new ae("canceled","User canceled the upload/download.")}function Ge(){return new ae("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function et(re){return new ae("invalid-argument",re)}function Ze(){return new ae("app-deleted","The Firebase app was deleted.")}function ve(re){return new ae("invalid-root-operation","The operation '"+re+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function De(re,Q){return new ae("invalid-format","String does not match format '"+re+"': "+Q)}function ce(re){throw new ae("internal-error","Internal error: "+re)}var Rt={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Tt=function(Q,Fe){this.data=Q,this.contentType=Fe||null};function gn(re,Q){switch(re){case Rt.RAW:return new Tt(pn(Q));case Rt.BASE64:case Rt.BASE64URL:return new Tt(wn(re,Q));case Rt.DATA_URL:return new Tt(function(re){var Q=new cn(re);return Q.base64?wn(Rt.BASE64,Q.rest):function(re){var Q;try{Q=decodeURIComponent(re)}catch(Fe){throw De(Rt.DATA_URL,"Malformed data URL.")}return pn(Q)}(Q.rest)}(Q),function(re){return new cn(re).contentType}(Q))}throw se()}function pn(re){for(var Q=[],Fe=0;Fe<re.length;Fe++){var lt=re.charCodeAt(Fe);if(lt<=127)Q.push(lt);else if(lt<=2047)Q.push(192|lt>>6,128|63&lt);else if(55296==(64512&lt))if(Fe<re.length-1&&56320==(64512&re.charCodeAt(Fe+1))){var Yt=lt,_n=re.charCodeAt(++Fe);Q.push(240|(lt=65536|(1023&Yt)<<10|1023&_n)>>18,128|lt>>12&63,128|lt>>6&63,128|63&lt)}else Q.push(239,191,189);else 56320==(64512&lt)?Q.push(239,191,189):Q.push(224|lt>>12,128|lt>>6&63,128|63&lt)}return new Uint8Array(Q)}function wn(re,Q){switch(re){case Rt.BASE64:var Fe=-1!==Q.indexOf("-"),lt=-1!==Q.indexOf("_");if(Fe||lt)throw De(re,"Invalid character '"+(Fe?"-":"_")+"' found: is it base64url encoded?");break;case Rt.BASE64URL:var Yt=-1!==Q.indexOf("+"),_n=-1!==Q.indexOf("/");if(Yt||_n)throw De(re,"Invalid character '"+(Yt?"+":"/")+"' found: is it base64 encoded?");Q=Q.replace(/-/g,"+").replace(/_/g,"/")}var Qn;try{Qn=function(re){return atob(re)}(Q)}catch(sr){throw De(re,"Invalid character found")}for(var Fn=new Uint8Array(Qn.length),Xn=0;Xn<Qn.length;Xn++)Fn[Xn]=Qn.charCodeAt(Xn);return Fn}var cn=function(Q){this.base64=!1,this.contentType=null;var Fe=Q.match(/^data:([^,]+)?,/);if(null===Fe)throw De(Rt.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var lt=Fe[1]||null;null!=lt&&(this.base64=function(re,Q){return re.length>=Q.length&&re.substring(re.length-Q.length)===Q}(lt,";base64"),this.contentType=this.base64?lt.substring(0,lt.length-";base64".length):lt),this.rest=Q.substring(Q.indexOf(",")+1)},Gt={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Nt(re){switch(re){case"running":case"pausing":case"canceling":return Gt.RUNNING;case"paused":return Gt.PAUSED;case"success":return Gt.SUCCESS;case"canceled":return Gt.CANCELED;case"error":default:return Gt.ERROR}}var qt=(()=>{return(re=qt||(qt={}))[re.NO_ERROR=0]="NO_ERROR",re[re.NETWORK_ERROR=1]="NETWORK_ERROR",re[re.ABORT=2]="ABORT",qt;var re})(),Pt=function(){function re(){var Q=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=qt.NO_ERROR,this.sendPromise_=new Promise(function(Fe){Q.xhr_.addEventListener("abort",function(){Q.errorCode_=qt.ABORT,Fe()}),Q.xhr_.addEventListener("error",function(){Q.errorCode_=qt.NETWORK_ERROR,Fe()}),Q.xhr_.addEventListener("load",function(){Fe()})})}return re.prototype.send=function(Q,Fe,lt,Dt){if(this.sent_)throw ce("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(Fe,Q,!0),void 0!==Dt)for(var Yt in Dt)Dt.hasOwnProperty(Yt)&&this.xhr_.setRequestHeader(Yt,Dt[Yt].toString());return void 0!==lt?this.xhr_.send(lt):this.xhr_.send(),this.sendPromise_},re.prototype.getErrorCode=function(){if(!this.sent_)throw ce("cannot .getErrorCode() before sending");return this.errorCode_},re.prototype.getStatus=function(){if(!this.sent_)throw ce("cannot .getStatus() before sending");try{return this.xhr_.status}catch(Q){return-1}},re.prototype.getResponseText=function(){if(!this.sent_)throw ce("cannot .getResponseText() before sending");return this.xhr_.responseText},re.prototype.abort=function(){this.xhr_.abort()},re.prototype.getResponseHeader=function(Q){return this.xhr_.getResponseHeader(Q)},re.prototype.addUploadProgressListener=function(Q){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",Q)},re.prototype.removeUploadProgressListener=function(Q){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",Q)},re}(),Zt=function(){function re(){}return re.prototype.createConnection=function(){return new Pt},re}(),bn=function(){function re(Q,Fe){this.bucket=Q,this.path_=Fe}return Object.defineProperty(re.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(re.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),re.prototype.fullServerUrl=function(){var Q=encodeURIComponent;return"/b/"+Q(this.bucket)+"/o/"+Q(this.path)},re.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},re.makeFromBucketSpec=function(Q,Fe){var lt;try{lt=re.makeFromUrl(Q,Fe)}catch(Dt){return new re(Q,"")}if(""===lt.path)return lt;throw function(re){return new ae("invalid-default-bucket","Invalid default bucket '"+re+"'.")}(Q)},re.makeFromUrl=function(Q,Fe){var lt=null,Dt="([A-Za-z0-9.\\-_]+)",Qn=new RegExp("^gs://"+Dt+"(/(.*))?$","i");function Xn(ye){ye.path_=decodeURIComponent(ye.path)}for(var Zr=Fe.replace(/[.]/g,"\\."),Wn=[{regex:Qn,indices:{bucket:1,path:3},postModify:function(ye){"/"===ye.path.charAt(ye.path.length-1)&&(ye.path_=ye.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+Zr+"/v[A-Za-z0-9_]+/b/"+Dt+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:Xn},{regex:new RegExp("^https?://"+(Fe===_e?"(?:storage.googleapis.com|storage.cloud.google.com)":Fe)+"/"+Dt+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:Xn}],$r=0;$r<Wn.length;$r++){var Gi=Wn[$r],Bo=Gi.regex.exec(Q);if(Bo){var $=Bo[Gi.indices.path];$||($=""),lt=new re(Bo[Gi.indices.bucket],$),Gi.postModify(lt);break}}if(null==lt)throw function(re){return new ae("invalid-url","Invalid URL '"+re+"'.")}(Q);return lt},re}(),Jn=function(){function re(Q){this.promise_=Promise.reject(Q)}return re.prototype.getPromise=function(){return this.promise_},re.prototype.cancel=function(Q){},re}();function jn(re){return"string"==typeof re||re instanceof String}function Pn(re){return tn()&&re instanceof Blob}function tn(){return"undefined"!=typeof Blob}function Ae(re,Q,Fe,lt){if(lt<Q)throw et("Invalid value for '"+re+"'. Expected "+Q+" or greater.");if(lt>Fe)throw et("Invalid value for '"+re+"'. Expected "+Fe+" or less.")}function Z(re,Q){var Fe=Q.match(/^(\w+):\/\/.+/),Dt=Q;return null==(null==Fe?void 0:Fe[1])&&(Dt="https://"+Q),Dt+"/v0"+re}function H(re){var Q=encodeURIComponent,Fe="?";for(var lt in re)re.hasOwnProperty(lt)&&(Fe=Fe+(Q(lt)+"=")+Q(re[lt])+"&");return Fe.slice(0,-1)}var N=function(){function re(Q,Fe,lt,Dt,Yt,_n,Qn,Fn,Xn,sr,Zr){var hi=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=Q,this.method_=Fe,this.headers_=lt,this.body_=Dt,this.successCodes_=Yt.slice(),this.additionalRetryCodes_=_n.slice(),this.callback_=Qn,this.errorCallback_=Fn,this.progressCallback_=sr,this.timeout_=Xn,this.pool_=Zr,this.promise_=new Promise(function(qi,J){hi.resolve_=qi,hi.reject_=J,hi.start_()})}return re.prototype.start_=function(){var Q=this;function lt(Dt,Yt){var _n=Q.resolve_,Qn=Q.reject_,Fn=Yt.connection;if(Yt.wasSuccessCode)try{var Xn=Q.callback_(Fn,Fn.getResponseText());!function(re){return void 0!==re}(Xn)?_n():_n(Xn)}catch(Zr){Qn(Zr)}else if(null!==Fn)(sr=se()).serverResponse=Fn.getResponseText(),Qn(Q.errorCallback_?Q.errorCallback_(Fn,sr):sr);else if(Yt.canceled)Qn(sr=Q.appDelete_?Ze():ze());else{var sr;Qn(sr=new ae("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}}this.canceled_?lt(0,new B(!1,null,!0)):this.backoffId_=function(re,Q,Fe){var lt=1,Dt=null,Yt=!1,_n=0;function Qn(){return 2===_n}var Fn=!1;function Xn(){for(var J=[],Y=0;Y<arguments.length;Y++)J[Y]=arguments[Y];Fn||(Fn=!0,Q.apply(null,J))}function sr(J){Dt=setTimeout(function(){Dt=null,re(Zr,Qn())},J)}function Zr(J){for(var Y=[],j=1;j<arguments.length;j++)Y[j-1]=arguments[j];if(!Fn){if(J)return void Xn.call.apply(Xn,(0,_.__spreadArray)([null,J],Y));var Bt;if(Qn()||Yt)return void Xn.call.apply(Xn,(0,_.__spreadArray)([null,J],Y));lt<64&&(lt*=2),1===_n?(_n=2,Bt=0):Bt=1e3*(lt+Math.random()),sr(Bt)}}var hi=!1;function qi(J){hi||(hi=!0,!Fn&&(null!==Dt?(J||(_n=2),clearTimeout(Dt),sr(0)):J||(_n=1)))}return sr(0),setTimeout(function(){Yt=!0,qi(!0)},Fe),qi}(function(Dt,Yt){if(Yt)Dt(!1,new B(!1,null,!0));else{var _n=Q.pool_.createConnection();Q.pendingConnection_=_n,null!==Q.progressCallback_&&_n.addUploadProgressListener(Qn),_n.send(Q.url_,Q.method_,Q.body_,Q.headers_).then(function(){null!==Q.progressCallback_&&_n.removeUploadProgressListener(Qn),Q.pendingConnection_=null;var Fn=_n.getErrorCode()===qt.NO_ERROR,Xn=_n.getStatus();if(Fn&&!Q.isRetryStatusCode_(Xn)){var Zr=-1!==Q.successCodes_.indexOf(Xn);Dt(!0,new B(Zr,_n))}else{var sr=_n.getErrorCode()===qt.ABORT;Dt(!1,new B(!1,null,sr))}})}function Qn(Fn){null!==Q.progressCallback_&&Q.progressCallback_(Fn.loaded,Fn.lengthComputable?Fn.total:-1)}},lt,this.timeout_)},re.prototype.getPromise=function(){return this.promise_},re.prototype.cancel=function(Q){this.canceled_=!0,this.appDelete_=Q||!1,null!==this.backoffId_&&function(re){re(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()},re.prototype.isRetryStatusCode_=function(Q){var Fe=Q>=500&&Q<600,Dt=-1!==[408,429].indexOf(Q),Yt=-1!==this.additionalRetryCodes_.indexOf(Q);return Fe||Dt||Yt},re}(),B=function(Q,Fe,lt){this.wasSuccessCode=Q,this.connection=Fe,this.canceled=!!lt};function Nn(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function yn(){for(var re=[],Q=0;Q<arguments.length;Q++)re[Q]=arguments[Q];var Fe=Nn();if(void 0!==Fe){for(var lt=new Fe,Dt=0;Dt<re.length;Dt++)lt.append(re[Dt]);return lt.getBlob()}if(tn())return new Blob(re);throw new ae("unsupported-environment","This browser doesn't seem to support creating Blobs")}var We=function(){function re(Q,Fe){var lt=0,Dt="";Pn(Q)?(this.data_=Q,lt=Q.size,Dt=Q.type):Q instanceof ArrayBuffer?(Fe?this.data_=new Uint8Array(Q):(this.data_=new Uint8Array(Q.byteLength),this.data_.set(new Uint8Array(Q))),lt=this.data_.length):Q instanceof Uint8Array&&(Fe?this.data_=Q:(this.data_=new Uint8Array(Q.length),this.data_.set(Q)),lt=Q.length),this.size_=lt,this.type_=Dt}return re.prototype.size=function(){return this.size_},re.prototype.type=function(){return this.type_},re.prototype.slice=function(Q,Fe){if(Pn(this.data_)){var Dt=function(re,Q,Fe){return re.webkitSlice?re.webkitSlice(Q,Fe):re.mozSlice?re.mozSlice(Q,Fe):re.slice?re.slice(Q,Fe):null}(this.data_,Q,Fe);return null===Dt?null:new re(Dt)}return new re(new Uint8Array(this.data_.buffer,Q,Fe-Q),!0)},re.getBlob=function(){for(var Q=[],Fe=0;Fe<arguments.length;Fe++)Q[Fe]=arguments[Fe];if(tn()){var lt=Q.map(function(Fn){return Fn instanceof re?Fn.data_:Fn});return new re(yn.apply(null,lt))}var Dt=Q.map(function(Fn){return jn(Fn)?gn(Rt.RAW,Fn).data:Fn.data_}),Yt=0;Dt.forEach(function(Fn){Yt+=Fn.byteLength});var _n=new Uint8Array(Yt),Qn=0;return Dt.forEach(function(Fn){for(var Xn=0;Xn<Fn.length;Xn++)_n[Qn++]=Fn[Xn]}),new re(_n,!0)},re.prototype.uploadData=function(){return this.data_},re}();function dt(re){var Q;try{Q=JSON.parse(re)}catch(Fe){return null}return function(re){return"object"==typeof re&&!Array.isArray(re)}(Q)?Q:null}function wt(re){var Q=re.lastIndexOf("/",re.length-2);return-1===Q?re:re.slice(Q+1)}function Ot(re,Q){return Q}var zt=function(Q,Fe,lt,Dt){this.server=Q,this.local=Fe||Q,this.writable=!!lt,this.xform=Dt||Ot},je=null;function Pe(){if(je)return je;var re=[];re.push(new zt("bucket")),re.push(new zt("generation")),re.push(new zt("metageneration")),re.push(new zt("name","fullPath",!0));var Fe=new zt("name");Fe.xform=function(Yt,_n){return function(re){return!jn(re)||re.length<2?re:wt(re)}(_n)},re.push(Fe);var Dt=new zt("size");return Dt.xform=function(Yt,_n){return void 0!==_n?Number(_n):_n},re.push(Dt),re.push(new zt("timeCreated")),re.push(new zt("updated")),re.push(new zt("md5Hash",null,!0)),re.push(new zt("cacheControl",null,!0)),re.push(new zt("contentDisposition",null,!0)),re.push(new zt("contentEncoding",null,!0)),re.push(new zt("contentLanguage",null,!0)),re.push(new zt("contentType",null,!0)),re.push(new zt("metadata","customMetadata",!0)),je=re}function qe(re,Q,Fe){var lt=dt(Q);return null===lt?null:function(re,Q,Fe){for(var lt={type:"file"},Dt=Fe.length,Yt=0;Yt<Dt;Yt++){var _n=Fe[Yt];lt[_n.local]=_n.xform(lt,Q[_n.server])}return function(re,Q){Object.defineProperty(re,"ref",{get:function(){var Yt=new bn(re.bucket,re.fullPath);return Q._makeStorageReference(Yt)}})}(lt,re),lt}(re,lt,Fe)}function Ct(re,Q){for(var Fe={},lt=Q.length,Dt=0;Dt<lt;Dt++){var Yt=Q[Dt];Yt.writable&&(Fe[Yt.server]=re[Yt.local])}return JSON.stringify(Fe)}var Wt="prefixes";var Lr=function(Q,Fe,lt,Dt){this.url=Q,this.method=Fe,this.handler=lt,this.timeout=Dt,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function hr(re){if(!re)throw se()}function Hr(re,Q){return function(lt,Dt){var Yt=qe(re,Dt,Q);return hr(null!==Yt),Yt}}function ei(re){return function(Fe,lt){var Dt;return(Dt=401===Fe.getStatus()?Fe.getResponseText().includes("Firebase App Check token is invalid")?new ae("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new ae("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===Fe.getStatus()?function(re){return new ae("quota-exceeded","Quota for bucket '"+re+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(re.bucket):403===Fe.getStatus()?function(re){return new ae("unauthorized","User does not have permission to access '"+re+"'.")}(re.path):lt).serverResponse=lt.serverResponse,Dt}}function ji(re){var Q=ei(re);return function(lt,Dt){var Yt=Q(lt,Dt);return 404===lt.getStatus()&&(Yt=function(re){return new ae("object-not-found","Object '"+re+"' does not exist.")}(re.path)),Yt.serverResponse=Dt.serverResponse,Yt}}function Ci(re,Q,Fe){var Dt=Z(Q.fullServerUrl(),re.host),_n=re.maxOperationRetryTime,Qn=new Lr(Dt,"GET",Hr(re,Fe),_n);return Qn.errorHandler=ji(Q),Qn}function Ln(re,Q,Fe,lt,Dt){var Yt={};Yt.prefix=Q.isRoot?"":Q.path+"/",Fe&&Fe.length>0&&(Yt.delimiter=Fe),lt&&(Yt.pageToken=lt),Dt&&(Yt.maxResults=Dt);var Qn=Z(Q.bucketOnlyServerUrl(),re.host),Xn=re.maxOperationRetryTime,sr=new Lr(Qn,"GET",function(re,Q){return function(lt,Dt){var Yt=function(re,Q,Fe){var lt=dt(Fe);return null===lt?null:function(re,Q,Fe){var lt={prefixes:[],items:[],nextPageToken:Fe.nextPageToken};if(Fe[Wt])for(var Dt=0,Yt=Fe[Wt];Dt<Yt.length;Dt++){var Qn=Yt[Dt].replace(/\/$/,""),Fn=re._makeStorageReference(new bn(Q,Qn));lt.prefixes.push(Fn)}if(Fe.items)for(var Xn=0,sr=Fe.items;Xn<sr.length;Xn++)Fn=re._makeStorageReference(new bn(Q,sr[Xn].name)),lt.items.push(Fn);return lt}(re,Q,lt)}(re,Q,Dt);return hr(null!==Yt),Yt}}(re,Q.bucket),Xn);return sr.urlParams=Yt,sr.errorHandler=ei(Q),sr}function Di(re,Q,Fe){var lt=Object.assign({},Fe);return lt.fullPath=re.path,lt.size=Q.size(),lt.contentType||(lt.contentType=function(re,Q){return Q&&Q.type()||"application/octet-stream"}(0,Q)),lt}var gi=function(Q,Fe,lt,Dt){this.current=Q,this.total=Fe,this.finalized=!!lt,this.metadata=Dt||null};function Hi(re,Q){var Fe=null;try{Fe=re.getResponseHeader("X-Goog-Upload-Status")}catch(Dt){hr(!1)}return hr(!!Fe&&-1!==(Q||["active"]).indexOf(Fe)),Fe}var Je=function(Q,Fe,lt){if(function(re){return"function"==typeof re}(Q)||null!=Fe||null!=lt)this.next=Q,this.error=Fe,this.complete=lt;else{var Yt=Q;this.next=Yt.next,this.error=Yt.error,this.complete=Yt.complete}};function Lt(re){return function(){for(var Q=[],Fe=0;Fe<arguments.length;Fe++)Q[Fe]=arguments[Fe];Promise.resolve().then(function(){return re.apply(void 0,Q)})}}var nn=function(){function re(Q,Fe,lt){var Dt=this;void 0===lt&&(lt=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=Q,this._blob=Fe,this._metadata=lt,this._mappings=Pe(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(Yt){Dt._request=void 0,Dt._chunkMultiplier=1,Yt._codeEquals("canceled")?(Dt._needToFetchStatus=!0,Dt.completeTransitions_()):(Dt._error=Yt,Dt._transition("error"))},this._metadataErrorHandler=function(Yt){Dt._request=void 0,Yt._codeEquals("canceled")?Dt.completeTransitions_():(Dt._error=Yt,Dt._transition("error"))},this._promise=new Promise(function(Yt,_n){Dt._resolve=Yt,Dt._reject=_n,Dt._start()}),this._promise.then(null,function(){})}return re.prototype._makeProgressCallback=function(){var Q=this,Fe=this._transferred;return function(lt){return Q._updateProgress(Fe+lt)}},re.prototype._shouldDoResumable=function(Q){return Q.size()>262144},re.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},re.prototype._resolveToken=function(Q){var Fe=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(lt){var Dt=lt[0],Yt=lt[1];switch(Fe._state){case"running":Q(Dt,Yt);break;case"canceling":Fe._transition("canceled");break;case"pausing":Fe._transition("paused")}})},re.prototype._createResumable=function(){var Q=this;this._resolveToken(function(Fe,lt){var Dt=function(re,Q,Fe,lt,Dt){var Yt=Q.bucketOnlyServerUrl(),_n=Di(Q,lt,Dt),Qn={name:_n.fullPath},Fn=Z(Yt,re.host),sr={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+lt.size(),"X-Goog-Upload-Header-Content-Type":_n.contentType,"Content-Type":"application/json; charset=utf-8"},Zr=Ct(_n,Fe),J=new Lr(Fn,"POST",function(Y){var j;Hi(Y);try{j=Y.getResponseHeader("X-Goog-Upload-URL")}catch(be){hr(!1)}return hr(jn(j)),j},re.maxUploadRetryTime);return J.urlParams=Qn,J.headers=sr,J.body=Zr,J.errorHandler=ei(Q),J}(Q._ref.storage,Q._ref._location,Q._mappings,Q._blob,Q._metadata),Yt=Q._ref.storage._makeRequest(Dt,Fe,lt);Q._request=Yt,Yt.getPromise().then(function(_n){Q._request=void 0,Q._uploadUrl=_n,Q._needToFetchStatus=!1,Q.completeTransitions_()},Q._errorHandler)})},re.prototype._fetchStatus=function(){var Q=this,Fe=this._uploadUrl;this._resolveToken(function(lt,Dt){var Yt=function(re,Q,Fe,lt){var Fn=new Lr(Fe,"POST",function(Xn){var sr=Hi(Xn,["active","final"]),Zr=null;try{Zr=Xn.getResponseHeader("X-Goog-Upload-Size-Received")}catch(qi){hr(!1)}Zr||hr(!1);var hi=Number(Zr);return hr(!isNaN(hi)),new gi(hi,lt.size(),"final"===sr)},re.maxUploadRetryTime);return Fn.headers={"X-Goog-Upload-Command":"query"},Fn.errorHandler=ei(Q),Fn}(Q._ref.storage,Q._ref._location,Fe,Q._blob),_n=Q._ref.storage._makeRequest(Yt,lt,Dt);Q._request=_n,_n.getPromise().then(function(Qn){Qn=Qn,Q._request=void 0,Q._updateProgress(Qn.current),Q._needToFetchStatus=!1,Qn.finalized&&(Q._needToFetchMetadata=!0),Q.completeTransitions_()},Q._errorHandler)})},re.prototype._continueUpload=function(){var Q=this,Fe=262144*this._chunkMultiplier,lt=new gi(this._transferred,this._blob.size()),Dt=this._uploadUrl;this._resolveToken(function(Yt,_n){var Qn;try{Qn=function(re,Q,Fe,lt,Dt,Yt,_n,Qn){var Fn=new gi(0,0);if(_n?(Fn.current=_n.current,Fn.total=_n.total):(Fn.current=0,Fn.total=lt.size()),lt.size()!==Fn.total)throw new ae("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var Xn=Fn.total-Fn.current,sr=Xn;Dt>0&&(sr=Math.min(sr,Dt));var Zr=Fn.current,J={"X-Goog-Upload-Command":sr===Xn?"upload, finalize":"upload","X-Goog-Upload-Offset":""+Fn.current},Y=lt.slice(Zr,Zr+sr);if(null===Y)throw Ge();var Wn=new Lr(Fe,"POST",function($r,Gi){var ye,Bo=Hi($r,["active","final"]),Qs=Fn.current+sr,$=lt.size();return ye="final"===Bo?Hr(Q,Yt)($r,Gi):null,new gi(Qs,$,"final"===Bo,ye)},Q.maxUploadRetryTime);return Wn.headers=J,Wn.body=Y.uploadData(),Wn.progressCallback=Qn||null,Wn.errorHandler=ei(re),Wn}(Q._ref._location,Q._ref.storage,Dt,Q._blob,Fe,Q._mappings,lt,Q._makeProgressCallback())}catch(Xn){return Q._error=Xn,void Q._transition("error")}var Fn=Q._ref.storage._makeRequest(Qn,Yt,_n);Q._request=Fn,Fn.getPromise().then(function(Xn){Q._increaseMultiplier(),Q._request=void 0,Q._updateProgress(Xn.current),Xn.finalized?(Q._metadata=Xn.metadata,Q._transition("success")):Q.completeTransitions_()},Q._errorHandler)})},re.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},re.prototype._fetchMetadata=function(){var Q=this;this._resolveToken(function(Fe,lt){var Dt=Ci(Q._ref.storage,Q._ref._location,Q._mappings),Yt=Q._ref.storage._makeRequest(Dt,Fe,lt);Q._request=Yt,Yt.getPromise().then(function(_n){Q._request=void 0,Q._metadata=_n,Q._transition("success")},Q._metadataErrorHandler)})},re.prototype._oneShotUpload=function(){var Q=this;this._resolveToken(function(Fe,lt){var Dt=function(re,Q,Fe,lt,Dt){var Yt=Q.bucketOnlyServerUrl(),_n={"X-Goog-Upload-Protocol":"multipart"},Fn=function(){for(var Wn="",$r=0;$r<2;$r++)Wn+=Math.random().toString().slice(2);return Wn}();_n["Content-Type"]="multipart/related; boundary="+Fn;var Xn=Di(Q,lt,Dt),sr=Ct(Xn,Fe),qi=We.getBlob("--"+Fn+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+sr+"\r\n--"+Fn+"\r\nContent-Type: "+Xn.contentType+"\r\n\r\n",lt,"\r\n--"+Fn+"--");if(null===qi)throw Ge();var J={name:Xn.fullPath},Y=Z(Yt,re.host),be=re.maxUploadRetryTime,Bt=new Lr(Y,"POST",Hr(re,Fe),be);return Bt.urlParams=J,Bt.headers=_n,Bt.body=qi.uploadData(),Bt.errorHandler=ei(Q),Bt}(Q._ref.storage,Q._ref._location,Q._mappings,Q._blob,Q._metadata),Yt=Q._ref.storage._makeRequest(Dt,Fe,lt);Q._request=Yt,Yt.getPromise().then(function(_n){Q._request=void 0,Q._metadata=_n,Q._updateProgress(Q._blob.size()),Q._transition("success")},Q._errorHandler)})},re.prototype._updateProgress=function(Q){var Fe=this._transferred;this._transferred=Q,this._transferred!==Fe&&this._notifyObservers()},re.prototype._transition=function(Q){if(this._state!==Q)switch(Q){case"canceling":case"pausing":this._state=Q,void 0!==this._request&&this._request.cancel();break;case"running":var Fe="paused"===this._state;this._state=Q,Fe&&(this._notifyObservers(),this._start());break;case"paused":this._state=Q,this._notifyObservers();break;case"canceled":this._error=ze(),this._state=Q,this._notifyObservers();break;case"error":case"success":this._state=Q,this._notifyObservers()}},re.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(re.prototype,"snapshot",{get:function(){var Q=Nt(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:Q,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),re.prototype.on=function(Q,Fe,lt,Dt){var Yt=this,_n=new Je(Fe,lt,Dt);return this._addObserver(_n),function(){Yt._removeObserver(_n)}},re.prototype.then=function(Q,Fe){return this._promise.then(Q,Fe)},re.prototype.catch=function(Q){return this.then(null,Q)},re.prototype._addObserver=function(Q){this._observers.push(Q),this._notifyObserver(Q)},re.prototype._removeObserver=function(Q){var Fe=this._observers.indexOf(Q);-1!==Fe&&this._observers.splice(Fe,1)},re.prototype._notifyObservers=function(){var Q=this;this._finishPromise(),this._observers.slice().forEach(function(lt){Q._notifyObserver(lt)})},re.prototype._finishPromise=function(){if(void 0!==this._resolve){var Q=!0;switch(Nt(this._state)){case Gt.SUCCESS:Lt(this._resolve.bind(null,this.snapshot))();break;case Gt.CANCELED:case Gt.ERROR:Lt(this._reject.bind(null,this._error))();break;default:Q=!1}Q&&(this._resolve=void 0,this._reject=void 0)}},re.prototype._notifyObserver=function(Q){switch(Nt(this._state)){case Gt.RUNNING:case Gt.PAUSED:Q.next&&Lt(Q.next.bind(Q,this.snapshot))();break;case Gt.SUCCESS:Q.complete&&Lt(Q.complete.bind(Q))();break;case Gt.CANCELED:case Gt.ERROR:Q.error&&Lt(Q.error.bind(Q,this._error))();break;default:Q.error&&Lt(Q.error.bind(Q,this._error))()}},re.prototype.resume=function(){var Q="paused"===this._state||"pausing"===this._state;return Q&&this._transition("running"),Q},re.prototype.pause=function(){var Q="running"===this._state;return Q&&this._transition("pausing"),Q},re.prototype.cancel=function(){var Q="running"===this._state||"pausing"===this._state;return Q&&this._transition("canceling"),Q},re}(),nr=function(){function re(Q,Fe){this._service=Q,this._location=Fe instanceof bn?Fe:bn.makeFromUrl(Fe,Q.host)}return re.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},re.prototype._newRef=function(Q,Fe){return new re(Q,Fe)},Object.defineProperty(re.prototype,"root",{get:function(){var Q=new bn(this._location.bucket,"");return this._newRef(this._service,Q)},enumerable:!1,configurable:!0}),Object.defineProperty(re.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(re.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(re.prototype,"name",{get:function(){return wt(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(re.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(re.prototype,"parent",{get:function(){var Q=function(re){if(0===re.length)return null;var Q=re.lastIndexOf("/");return-1===Q?"":re.slice(0,Q)}(this._location.path);if(null===Q)return null;var Fe=new bn(this._location.bucket,Q);return new re(this._service,Fe)},enumerable:!1,configurable:!0}),re.prototype._throwIfRoot=function(Q){if(""===this._location.path)throw ve(Q)},re}();function St(re){var Q={prefixes:[],items:[]};return Le(re,Q).then(function(){return Q})}function Le(re,Q,Fe){return(0,_.__awaiter)(this,void 0,void 0,function(){var Dt,Yt,_n;return(0,_.__generator)(this,function(Qn){switch(Qn.label){case 0:return[4,Mt(re,{pageToken:Fe})];case 1:return Dt=Qn.sent(),(Yt=Q.prefixes).push.apply(Yt,Dt.prefixes),(_n=Q.items).push.apply(_n,Dt.items),null==Dt.nextPageToken?[3,3]:[4,Le(re,Q,Dt.nextPageToken)];case 2:Qn.sent(),Qn.label=3;case 3:return[2]}})})}function Mt(re,Q){return(0,_.__awaiter)(this,void 0,void 0,function(){var Fe,lt;return(0,_.__generator)(this,function(Dt){switch(Dt.label){case 0:return null!=Q&&"number"==typeof Q.maxResults&&Ae("options.maxResults",1,1e3,Q.maxResults),lt=Ln(re.storage,re._location,"/",(Fe=Q||{}).pageToken,Fe.maxResults),[4,re.storage.makeRequestWithTokens(lt)];case 1:return[2,Dt.sent().getPromise()]}})})}function or(re){return(0,_.__awaiter)(this,void 0,void 0,function(){var Q;return(0,_.__generator)(this,function(Fe){switch(Fe.label){case 0:return re._throwIfRoot("getDownloadURL"),Q=function(re,Q,Fe){var Dt=Z(Q.fullServerUrl(),re.host),_n=re.maxOperationRetryTime,Qn=new Lr(Dt,"GET",function(re,Q){return function(lt,Dt){var Yt=qe(re,Dt,Q);return hr(null!==Yt),function(re,Q,Fe){var lt=dt(Q);if(null===lt||!jn(lt.downloadTokens))return null;var Dt=lt.downloadTokens;if(0===Dt.length)return null;var Yt=encodeURIComponent;return Dt.split(",").map(function(Fn){var sr=re.fullPath;return Z("/b/"+Yt(re.bucket)+"/o/"+Yt(sr),Fe)+H({alt:"media",token:Fn})})[0]}(Yt,Dt,re.host)}}(re,Fe),_n);return Qn.errorHandler=ji(Q),Qn}(re.storage,re._location,Pe()),[4,re.storage.makeRequestWithTokens(Q)];case 1:return[2,Fe.sent().getPromise().then(function(lt){if(null===lt)throw new ae("no-download-url","The given file does not have any download URLs.");return lt})]}})})}function li(re,Q){var Fe=function(re,Q){var Fe=Q.split("/").filter(function(lt){return lt.length>0}).join("/");return 0===re.length?Fe:re+"/"+Fe}(re._location.path,Q),lt=new bn(re._location.bucket,Fe);return new nr(re.storage,lt)}function si(re){return/^[A-Za-z]+:\/\//.test(re)}function br(re,Q){if(re instanceof Ai){var Fe=re;if(null==Fe._bucket)throw new ae("no-default-bucket","No default bucket found. Did you set the '"+ee+"' property when initializing the app?");var lt=new nr(Fe,Fe._bucket);return null!=Q?br(lt,Q):lt}if(void 0!==Q){if(Q.includes(".."))throw et('`path` param cannot contain ".."');return li(re,Q)}return re}function bi(re,Q){if(Q&&si(Q)){if(re instanceof Ai)return function(re,Q){return new nr(re,Q)}(re,Q);throw et("To use ref(service, url), the first argument must be a Storage instance.")}return br(re,Q)}function Si(re,Q){var Fe=null==Q?void 0:Q[ee];return null==Fe?null:bn.makeFromBucketSpec(Fe,re)}var Ai=function(){function re(Q,Fe,lt,Dt,Yt,_n){this.app=Q,this._authProvider=Fe,this._appCheckProvider=lt,this._pool=Dt,this._url=Yt,this._firebaseVersion=_n,this._bucket=null,this._host=_e,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=Yt?bn.makeFromBucketSpec(Yt,this._host):Si(this._host,this.app.options)}return Object.defineProperty(re.prototype,"host",{get:function(){return this._host},set:function(Q){this._host=Q,this._bucket=null!=this._url?bn.makeFromBucketSpec(this._url,Q):Si(Q,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(re.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(Q){Ae("time",0,Number.POSITIVE_INFINITY,Q),this._maxUploadRetryTime=Q},enumerable:!1,configurable:!0}),Object.defineProperty(re.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(Q){Ae("time",0,Number.POSITIVE_INFINITY,Q),this._maxOperationRetryTime=Q},enumerable:!1,configurable:!0}),re.prototype._getAuthToken=function(){return(0,_.__awaiter)(this,void 0,void 0,function(){var Q,Fe;return(0,_.__generator)(this,function(lt){switch(lt.label){case 0:return(Q=this._authProvider.getImmediate({optional:!0}))?[4,Q.getToken()]:[3,2];case 1:if(null!==(Fe=lt.sent()))return[2,Fe.accessToken];lt.label=2;case 2:return[2,null]}})})},re.prototype._getAppCheckToken=function(){return(0,_.__awaiter)(this,void 0,void 0,function(){var Q;return(0,_.__generator)(this,function(lt){switch(lt.label){case 0:return(Q=this._appCheckProvider.getImmediate({optional:!0}))?[4,Q.getToken()]:[3,2];case 1:return[2,lt.sent().token];case 2:return[2,null]}})})},re.prototype._delete=function(){return this._deleted=!0,this._requests.forEach(function(Q){return Q.cancel()}),this._requests.clear(),Promise.resolve()},re.prototype._makeStorageReference=function(Q){return new nr(this,Q)},re.prototype._makeRequest=function(Q,Fe,lt){var Dt=this;if(this._deleted)return new Jn(Ze());var Yt=function(re,Q,Fe,lt,Dt,Yt){var _n=H(re.urlParams),Qn=re.url+_n,Fn=Object.assign({},re.headers);return function(re,Q){Q&&(re["X-Firebase-GMPID"]=Q)}(Fn,Q),function(re,Q){null!==Q&&Q.length>0&&(re.Authorization="Firebase "+Q)}(Fn,Fe),function(re,Q){re["X-Firebase-Storage-Version"]="webjs/"+(null!=Q?Q:"AppManager")}(Fn,Yt),function(re,Q){null!==Q&&(re["X-Firebase-AppCheck"]=Q)}(Fn,lt),new N(Qn,re.method,Fn,re.body,re.successCodes,re.additionalRetryCodes,re.handler,re.errorHandler,re.timeout,re.progressCallback,Dt)}(Q,this._appId,Fe,lt,this._pool,this._firebaseVersion);return this._requests.add(Yt),Yt.getPromise().then(function(){return Dt._requests.delete(Yt)},function(){return Dt._requests.delete(Yt)}),Yt},re.prototype.makeRequestWithTokens=function(Q){return(0,_.__awaiter)(this,void 0,void 0,function(){var Fe;return(0,_.__generator)(this,function(Yt){switch(Yt.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return Fe=Yt.sent(),[2,this._makeRequest(Q,Fe[0],Fe[1])]}})})},re}();function Ds(re,Q){return bi(re=(0,D.getModularInstance)(re),Q)}var re,Q,Qo=function(){function re(Q,Fe,lt){this._delegate=Q,this.task=Fe,this.ref=lt}return Object.defineProperty(re.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(re.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(re.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(re.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),re}(),Or=function(){function re(Q,Fe){this._delegate=Q,this._ref=Fe,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(re.prototype,"snapshot",{get:function(){return new Qo(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),re.prototype.then=function(Q,Fe){var lt=this;return this._delegate.then(function(Dt){if(Q)return Q(new Qo(Dt,lt,lt._ref))},Fe)},re.prototype.on=function(Q,Fe,lt,Dt){var Yt=this,_n=void 0;return Fe&&(_n="function"==typeof Fe?function(Qn){return Fe(new Qo(Qn,Yt,Yt._ref))}:{next:Fe.next?function(Qn){return Fe.next(new Qo(Qn,Yt,Yt._ref))}:void 0,complete:Fe.complete||void 0,error:Fe.error||void 0}),this._delegate.on(Q,_n,lt||void 0,Dt||void 0)},re}(),Co=function(){function re(Q,Fe){this._delegate=Q,this._service=Fe}return Object.defineProperty(re.prototype,"prefixes",{get:function(){var Q=this;return this._delegate.prefixes.map(function(Fe){return new fs(Fe,Q._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(re.prototype,"items",{get:function(){var Q=this;return this._delegate.items.map(function(Fe){return new fs(Fe,Q._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(re.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),re}(),fs=function(){function re(Q,Fe){this._delegate=Q,this.storage=Fe}return Object.defineProperty(re.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(re.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(re.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),re.prototype.toString=function(){return this._delegate.toString()},re.prototype.child=function(Q){return new re(function(re,Q){return li(re,Q)}(this._delegate,Q),this.storage)},Object.defineProperty(re.prototype,"root",{get:function(){return new re(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(re.prototype,"parent",{get:function(){var Q=this._delegate.parent;return null==Q?null:new re(Q,this.storage)},enumerable:!1,configurable:!0}),re.prototype.put=function(Q,Fe){return this._throwIfRoot("put"),new Or(function(re,Q,Fe){return function(re,Q,Fe){return re._throwIfRoot("uploadBytesResumable"),new nn(re,new We(Q),Fe)}(re=(0,D.getModularInstance)(re),Q,Fe)}(this._delegate,Q,Fe),this)},re.prototype.putString=function(Q,Fe,lt){void 0===Fe&&(Fe=Rt.RAW),this._throwIfRoot("putString");var Dt=gn(Fe,Q),Yt=(0,_.__assign)({},lt);return null==Yt.contentType&&null!=Dt.contentType&&(Yt.contentType=Dt.contentType),new Or(new nn(this._delegate,new We(Dt.data,!0),Yt),this)},re.prototype.listAll=function(){var Q=this;return function(re){return St(re=(0,D.getModularInstance)(re))}(this._delegate).then(function(Fe){return new Co(Fe,Q.storage)})},re.prototype.list=function(Q){var Fe=this;return function(re,Q){return Mt(re=(0,D.getModularInstance)(re),Q)}(this._delegate,Q||void 0).then(function(lt){return new Co(lt,Fe.storage)})},re.prototype.getMetadata=function(){return function(re){return function(re){return(0,_.__awaiter)(this,void 0,void 0,function(){var Q;return(0,_.__generator)(this,function(Fe){switch(Fe.label){case 0:return re._throwIfRoot("getMetadata"),Q=Ci(re.storage,re._location,Pe()),[4,re.storage.makeRequestWithTokens(Q)];case 1:return[2,Fe.sent().getPromise()]}})})}(re=(0,D.getModularInstance)(re))}(this._delegate)},re.prototype.updateMetadata=function(Q){return function(re,Q){return function(re,Q){return(0,_.__awaiter)(this,void 0,void 0,function(){var Fe;return(0,_.__generator)(this,function(lt){switch(lt.label){case 0:return re._throwIfRoot("updateMetadata"),Fe=function(re,Q,Fe,lt){var Yt=Z(Q.fullServerUrl(),re.host),Qn=Ct(Fe,lt),Xn=re.maxOperationRetryTime,sr=new Lr(Yt,"PATCH",Hr(re,lt),Xn);return sr.headers={"Content-Type":"application/json; charset=utf-8"},sr.body=Qn,sr.errorHandler=ji(Q),sr}(re.storage,re._location,Q,Pe()),[4,re.storage.makeRequestWithTokens(Fe)];case 1:return[2,lt.sent().getPromise()]}})})}(re=(0,D.getModularInstance)(re),Q)}(this._delegate,Q)},re.prototype.getDownloadURL=function(){return function(re){return or(re=(0,D.getModularInstance)(re))}(this._delegate)},re.prototype.delete=function(){return this._throwIfRoot("delete"),function(re){return function(re){return(0,_.__awaiter)(this,void 0,void 0,function(){var Q;return(0,_.__generator)(this,function(Fe){switch(Fe.label){case 0:return re._throwIfRoot("deleteObject"),Q=function(re,Q){var lt=Z(Q.fullServerUrl(),re.host),Qn=new Lr(lt,"DELETE",function(Fn,Xn){},re.maxOperationRetryTime);return Qn.successCodes=[200,204],Qn.errorHandler=ji(Q),Qn}(re.storage,re._location),[4,re.storage.makeRequestWithTokens(Q)];case 1:return[2,Fe.sent().getPromise()]}})})}(re=(0,D.getModularInstance)(re))}(this._delegate)},re.prototype._throwIfRoot=function(Q){if(""===this._delegate._location.path)throw ve(Q)},re}(),Ni=function(){function re(Q,Fe){var lt=this;this.app=Q,this._delegate=Fe,this.INTERNAL={delete:function(){return lt._delegate._delete()}}}return Object.defineProperty(re.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(re.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),re.prototype.ref=function(Q){if(si(Q))throw et("ref() expected a child path but got a URL, use refFromURL instead.");return new fs(Ds(this._delegate,Q),this)},re.prototype.refFromURL=function(Q){if(!si(Q))throw et("refFromURL() expected a full URL but got a child path, use ref() instead.");try{bn.makeFromUrl(Q,this._delegate.host)}catch(Fe){throw et("refFromUrl() expected a valid full URL but got an invalid one.")}return new fs(Ds(this._delegate,Q),this)},re.prototype.setMaxUploadRetryTime=function(Q){this._delegate.maxUploadRetryTime=Q},re.prototype.setMaxOperationRetryTime=function(Q){this._delegate.maxOperationRetryTime=Q},re.prototype.useEmulator=function(Q,Fe){!function(re,Q,Fe){re.host="http://"+Q+":"+Fe}(this._delegate,Q,Fe)},re}();Q={TaskState:Gt,TaskEvent:{STATE_CHANGED:"state_changed"},StringFormat:Rt,Storage:Ai,Reference:fs},(re=y.default).INTERNAL.registerComponent(new C.Component("storage",function(re,Q){var Fe=Q.instanceIdentifier,lt=re.getProvider("app").getImmediate(),Dt=re.getProvider("auth-internal"),Yt=re.getProvider("app-check-internal");return new Ni(lt,new Ai(lt,Dt,Yt,new Zt,Fe,y.default.SDK_VERSION))},"PUBLIC").setServiceProps(Q).setMultipleInstances(!0)),re.registerVersion("@firebase/storage","0.5.6")},4685:(ln,ut,P)=>{"use strict";P.r(ut),P.d(ut,{CONSTANTS:()=>_,Deferred:()=>fe,ErrorFactory:()=>Tt,FirebaseError:()=>Rt,MAX_VALUE_MILLIS:()=>we,RANDOM_FACTOR:()=>Ye,Sha1:()=>Jn,areCookiesEnabled:()=>De,assert:()=>D,assertionError:()=>C,async:()=>pr,base64:()=>me,base64Decode:()=>ae,base64Encode:()=>ie,calculateBackoffMillis:()=>mt,contains:()=>Gt,createMockUserToken:()=>Ce,createSubscribe:()=>Rn,decode:()=>cn,deepCopy:()=>G,deepExtend:()=>se,errorPrefix:()=>Pn,extractQuerystring:()=>bn,getGlobal:()=>ce,getModularInstance:()=>yn,getUA:()=>Re,isAdmin:()=>At,isBrowser:()=>ze,isBrowserExtension:()=>Ut,isElectron:()=>gt,isEmpty:()=>qt,isIE:()=>Ge,isIndexedDBAvailable:()=>Ze,isMobileCordova:()=>Ne,isNode:()=>Se,isNodeSdk:()=>nt,isReactNative:()=>Qt,isSafari:()=>et,isUWP:()=>at,isValidFormat:()=>_t,isValidTimestamp:()=>jt,issuedAtTime:()=>Xt,jsonEval:()=>Mn,map:()=>Pt,ordinal:()=>mn,querystring:()=>sn,querystringDecode:()=>Zt,safeGet:()=>Nt,stringLength:()=>N,stringToByteArray:()=>H,stringify:()=>wn,validateArgCount:()=>jn,validateCallback:()=>Ae,validateContextObject:()=>Z,validateIndexedDBOpenable:()=>ve,validateNamespace:()=>tn});var y=P(4762),_={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},D=function(Qe,We){if(!Qe)throw C(We)},C=function(Qe){return new Error("Firebase Database ("+_.SDK_VERSION+") INTERNAL ASSERT FAILED: "+Qe)},_e=function(Qe){for(var We=[],dt=0,It=0;It<Qe.length;It++){var Te=Qe.charCodeAt(It);Te<128?We[dt++]=Te:Te<2048?(We[dt++]=Te>>6|192,We[dt++]=63&Te|128):55296==(64512&Te)&&It+1<Qe.length&&56320==(64512&Qe.charCodeAt(It+1))?(Te=65536+((1023&Te)<<10)+(1023&Qe.charCodeAt(++It)),We[dt++]=Te>>18|240,We[dt++]=Te>>12&63|128,We[dt++]=Te>>6&63|128,We[dt++]=63&Te|128):(We[dt++]=Te>>12|224,We[dt++]=Te>>6&63|128,We[dt++]=63&Te|128)}return We},me={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(Qe,We){if(!Array.isArray(Qe))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var dt=We?this.byteToCharMapWebSafe_:this.byteToCharMap_,It=[],Te=0;Te<Qe.length;Te+=3){var wt=Qe[Te],Ot=Te+1<Qe.length,zt=Ot?Qe[Te+1]:0,je=Te+2<Qe.length,Xe=je?Qe[Te+2]:0,Ke=(15&zt)<<2|Xe>>6,qe=63&Xe;je||(qe=64,Ot||(Ke=64)),It.push(dt[wt>>2],dt[(3&wt)<<4|zt>>4],dt[Ke],dt[qe])}return It.join("")},encodeString:function(Qe,We){return this.HAS_NATIVE_SUPPORT&&!We?btoa(Qe):this.encodeByteArray(_e(Qe),We)},decodeString:function(Qe,We){return this.HAS_NATIVE_SUPPORT&&!We?atob(Qe):function(Qe){for(var We=[],dt=0,It=0;dt<Qe.length;){var Te=Qe[dt++];if(Te<128)We[It++]=String.fromCharCode(Te);else if(Te>191&&Te<224){var wt=Qe[dt++];We[It++]=String.fromCharCode((31&Te)<<6|63&wt)}else if(Te>239&&Te<365){var je=((7&Te)<<18|(63&(wt=Qe[dt++]))<<12|(63&(Ot=Qe[dt++]))<<6|63&Qe[dt++])-65536;We[It++]=String.fromCharCode(55296+(je>>10)),We[It++]=String.fromCharCode(56320+(1023&je))}else{wt=Qe[dt++];var Ot=Qe[dt++];We[It++]=String.fromCharCode((15&Te)<<12|(63&wt)<<6|63&Ot)}}return We.join("")}(this.decodeStringToByteArray(Qe,We))},decodeStringToByteArray:function(Qe,We){this.init_();for(var dt=We?this.charToByteMapWebSafe_:this.charToByteMap_,It=[],Te=0;Te<Qe.length;){var wt=dt[Qe.charAt(Te++)],zt=Te<Qe.length?dt[Qe.charAt(Te)]:0,Xe=++Te<Qe.length?dt[Qe.charAt(Te)]:64,bt=++Te<Qe.length?dt[Qe.charAt(Te)]:64;if(++Te,null==wt||null==zt||null==Xe||null==bt)throw Error();It.push(wt<<2|zt>>4),64!==Xe&&(It.push(zt<<4&240|Xe>>2),64!==bt&&It.push(Xe<<6&192|bt))}return It},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var Qe=0;Qe<this.ENCODED_VALS.length;Qe++)this.byteToCharMap_[Qe]=this.ENCODED_VALS.charAt(Qe),this.charToByteMap_[this.byteToCharMap_[Qe]]=Qe,this.byteToCharMapWebSafe_[Qe]=this.ENCODED_VALS_WEBSAFE.charAt(Qe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Qe]]=Qe,Qe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Qe)]=Qe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Qe)]=Qe)}}},ie=function(Qe){var We=_e(Qe);return me.encodeByteArray(We,!0)},ae=function(Qe){try{return me.decodeString(Qe,!0)}catch(We){console.error("base64Decode failed: ",We)}return null};function G(Qe){return se(void 0,Qe)}function se(Qe,We){if(!(We instanceof Object))return We;switch(We.constructor){case Date:return new Date(We.getTime());case Object:void 0===Qe&&(Qe={});break;case Array:Qe=[];break;default:return We}for(var It in We)!We.hasOwnProperty(It)||!oe(It)||(Qe[It]=se(Qe[It],We[It]));return Qe}function oe(Qe){return"__proto__"!==Qe}var fe=function(){function Qe(){var We=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(dt,It){We.resolve=dt,We.reject=It})}return Qe.prototype.wrapCallback=function(We){var dt=this;return function(It,Te){It?dt.reject(It):dt.resolve(Te),"function"==typeof We&&(dt.promise.catch(function(){}),1===We.length?We(It):We(It,Te))}},Qe}();function Ce(Qe,We){if(Qe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var It=We||"demo-project",Te=Qe.iat||0,wt=Qe.sub||Qe.user_id;if(!wt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var Ot=(0,y.__assign)({iss:"https://securetoken.google.com/"+It,aud:It,iat:Te,exp:Te+3600,auth_time:Te,sub:wt,user_id:wt,firebase:{sign_in_provider:"custom",identities:{}}},Qe);return[me.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),me.encodeString(JSON.stringify(Ot),!1),""].join(".")}function Re(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ne(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Re())}function Se(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Qe){return!1}}function ze(){return"object"==typeof self&&self.self===self}function Ut(){var Qe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Qe&&void 0!==Qe.id}function Qt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function gt(){return Re().indexOf("Electron/")>=0}function Ge(){var Qe=Re();return Qe.indexOf("MSIE ")>=0||Qe.indexOf("Trident/")>=0}function at(){return Re().indexOf("MSAppHost/")>=0}function nt(){return!0===_.NODE_CLIENT||!0===_.NODE_ADMIN}function et(){return!Se()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ze(){return"indexedDB"in self&&null!=indexedDB}function ve(){return new Promise(function(Qe,We){try{var dt=!0,It="validate-browser-context-for-indexeddb-analytics-module",Te=self.indexedDB.open(It);Te.onsuccess=function(){Te.result.close(),dt||self.indexedDB.deleteDatabase(It),Qe(!0)},Te.onupgradeneeded=function(){dt=!1},Te.onerror=function(){var wt;We((null===(wt=Te.error)||void 0===wt?void 0:wt.message)||"")}}catch(wt){We(wt)}})}function De(){return!(!navigator||!navigator.cookieEnabled)}function ce(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}var Rt=function(Qe){function We(dt,It,Te){var wt=Qe.call(this,It)||this;return wt.code=dt,wt.customData=Te,wt.name="FirebaseError",Object.setPrototypeOf(wt,We.prototype),Error.captureStackTrace&&Error.captureStackTrace(wt,Tt.prototype.create),wt}return(0,y.__extends)(We,Qe),We}(Error),Tt=function(){function Qe(We,dt,It){this.service=We,this.serviceName=dt,this.errors=It}return Qe.prototype.create=function(We){for(var dt=[],It=1;It<arguments.length;It++)dt[It-1]=arguments[It];var Te=dt[0]||{},wt=this.service+"/"+We,Ot=this.errors[We],zt=Ot?gn(Ot,Te):"Error",je=this.serviceName+": "+zt+" ("+wt+").",Xe=new Rt(wt,je,Te);return Xe},Qe}();function gn(Qe,We){return Qe.replace(pn,function(dt,It){var Te=We[It];return null!=Te?String(Te):"<"+It+"?>"})}var pn=/\{\$([^}]+)}/g;function Mn(Qe){return JSON.parse(Qe)}function wn(Qe){return JSON.stringify(Qe)}var cn=function(Qe){var We={},dt={},It={},Te="";try{var wt=Qe.split(".");We=Mn(ae(wt[0])||""),dt=Mn(ae(wt[1])||""),Te=wt[2],It=dt.d||{},delete dt.d}catch(Ot){}return{header:We,claims:dt,data:It,signature:Te}},jt=function(Qe){var We=cn(Qe).claims,dt=Math.floor((new Date).getTime()/1e3),It=0,Te=0;return"object"==typeof We&&(We.hasOwnProperty("nbf")?It=We.nbf:We.hasOwnProperty("iat")&&(It=We.iat),Te=We.hasOwnProperty("exp")?We.exp:It+86400),!!dt&&!!It&&!!Te&&dt>=It&&dt<=Te},Xt=function(Qe){var We=cn(Qe).claims;return"object"==typeof We&&We.hasOwnProperty("iat")?We.iat:null},_t=function(Qe){var dt=cn(Qe).claims;return!!dt&&"object"==typeof dt&&dt.hasOwnProperty("iat")},At=function(Qe){var We=cn(Qe).claims;return"object"==typeof We&&!0===We.admin};function Gt(Qe,We){return Object.prototype.hasOwnProperty.call(Qe,We)}function Nt(Qe,We){if(Object.prototype.hasOwnProperty.call(Qe,We))return Qe[We]}function qt(Qe){for(var We in Qe)if(Object.prototype.hasOwnProperty.call(Qe,We))return!1;return!0}function Pt(Qe,We,dt){var It={};for(var Te in Qe)Object.prototype.hasOwnProperty.call(Qe,Te)&&(It[Te]=We.call(dt,Qe[Te],Te,Qe));return It}function sn(Qe){for(var We=[],dt=function(je,Xe){Array.isArray(Xe)?Xe.forEach(function(Pe){We.push(encodeURIComponent(je)+"="+encodeURIComponent(Pe))}):We.push(encodeURIComponent(je)+"="+encodeURIComponent(Xe))},It=0,Te=Object.entries(Qe);It<Te.length;It++){var wt=Te[It];dt(wt[0],wt[1])}return We.length?"&"+We.join("&"):""}function Zt(Qe){var We={};return Qe.replace(/^\?/,"").split("&").forEach(function(It){if(It){var Te=It.split("="),Ot=Te[1];We[decodeURIComponent(Te[0])]=decodeURIComponent(Ot)}}),We}function bn(Qe){var We=Qe.indexOf("?");if(!We)return"";var dt=Qe.indexOf("#",We);return Qe.substring(We,dt>0?dt:void 0)}var Jn=function(){function Qe(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var We=1;We<this.blockSize;++We)this.pad_[We]=0;this.reset()}return Qe.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},Qe.prototype.compress_=function(We,dt){dt||(dt=0);var It=this.W_;if("string"==typeof We)for(var Te=0;Te<16;Te++)It[Te]=We.charCodeAt(dt)<<24|We.charCodeAt(dt+1)<<16|We.charCodeAt(dt+2)<<8|We.charCodeAt(dt+3),dt+=4;else for(Te=0;Te<16;Te++)It[Te]=We[dt]<<24|We[dt+1]<<16|We[dt+2]<<8|We[dt+3],dt+=4;for(Te=16;Te<80;Te++)It[Te]=4294967295&((wt=It[Te-3]^It[Te-8]^It[Te-14]^It[Te-16])<<1|wt>>>31);var bt,Ke,Ot=this.chain_[0],zt=this.chain_[1],je=this.chain_[2],Xe=this.chain_[3],Pe=this.chain_[4];for(Te=0;Te<80;Te++){Te<40?Te<20?(bt=Xe^zt&(je^Xe),Ke=1518500249):(bt=zt^je^Xe,Ke=1859775393):Te<60?(bt=zt&je|Xe&(zt|je),Ke=2400959708):(bt=zt^je^Xe,Ke=3395469782);var wt=(Ot<<5|Ot>>>27)+bt+Pe+Ke+It[Te]&4294967295;Pe=Xe,Xe=je,je=4294967295&(zt<<30|zt>>>2),zt=Ot,Ot=wt}this.chain_[0]=this.chain_[0]+Ot&4294967295,this.chain_[1]=this.chain_[1]+zt&4294967295,this.chain_[2]=this.chain_[2]+je&4294967295,this.chain_[3]=this.chain_[3]+Xe&4294967295,this.chain_[4]=this.chain_[4]+Pe&4294967295},Qe.prototype.update=function(We,dt){if(null!=We){void 0===dt&&(dt=We.length);for(var It=dt-this.blockSize,Te=0,wt=this.buf_,Ot=this.inbuf_;Te<dt;){if(0===Ot)for(;Te<=It;)this.compress_(We,Te),Te+=this.blockSize;if("string"==typeof We){for(;Te<dt;)if(wt[Ot]=We.charCodeAt(Te),++Te,++Ot===this.blockSize){this.compress_(wt),Ot=0;break}}else for(;Te<dt;)if(wt[Ot]=We[Te],++Te,++Ot===this.blockSize){this.compress_(wt),Ot=0;break}}this.inbuf_=Ot,this.total_+=dt}},Qe.prototype.digest=function(){var We=[],dt=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var It=this.blockSize-1;It>=56;It--)this.buf_[It]=255&dt,dt/=256;this.compress_(this.buf_);var Te=0;for(It=0;It<5;It++)for(var wt=24;wt>=0;wt-=8)We[Te]=this.chain_[It]>>wt&255,++Te;return We},Qe}();function Rn(Qe,We){var dt=new Un(Qe,We);return dt.subscribe.bind(dt)}var Un=function(){function Qe(We,dt){var It=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=dt,this.task.then(function(){We(It)}).catch(function(Te){It.error(Te)})}return Qe.prototype.next=function(We){this.forEachObserver(function(dt){dt.next(We)})},Qe.prototype.error=function(We){this.forEachObserver(function(dt){dt.error(We)}),this.close(We)},Qe.prototype.complete=function(){this.forEachObserver(function(We){We.complete()}),this.close()},Qe.prototype.subscribe=function(We,dt,It){var wt,Te=this;if(void 0===We&&void 0===dt&&void 0===It)throw new Error("Missing Observer.");void 0===(wt=function(Qe,We){if("object"!=typeof Qe||null===Qe)return!1;for(var dt=0,It=["next","error","complete"];dt<It.length;dt++){var Te=It[dt];if(Te in Qe&&"function"==typeof Qe[Te])return!0}return!1}(We)?We:{next:We,error:dt,complete:It}).next&&(wt.next=Dn),void 0===wt.error&&(wt.error=Dn),void 0===wt.complete&&(wt.complete=Dn);var Ot=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{Te.finalError?wt.error(Te.finalError):wt.complete()}catch(zt){}}),this.observers.push(wt),Ot},Qe.prototype.unsubscribeOne=function(We){void 0===this.observers||void 0===this.observers[We]||(delete this.observers[We],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},Qe.prototype.forEachObserver=function(We){if(!this.finalized)for(var dt=0;dt<this.observers.length;dt++)this.sendOne(dt,We)},Qe.prototype.sendOne=function(We,dt){var It=this;this.task.then(function(){if(void 0!==It.observers&&void 0!==It.observers[We])try{dt(It.observers[We])}catch(Te){"undefined"!=typeof console&&console.error&&console.error(Te)}})},Qe.prototype.close=function(We){var dt=this;this.finalized||(this.finalized=!0,void 0!==We&&(this.finalError=We),this.task.then(function(){dt.observers=void 0,dt.onNoObservers=void 0}))},Qe}();function pr(Qe,We){return function(){for(var dt=[],It=0;It<arguments.length;It++)dt[It]=arguments[It];Promise.resolve(!0).then(function(){Qe.apply(void 0,dt)}).catch(function(Te){We&&We(Te)})}}function Dn(){}var jn=function(Qe,We,dt,It){var Te;if(It<We?Te="at least "+We:It>dt&&(Te=0===dt?"none":"no more than "+dt),Te)throw new Error(Qe+" failed: Was called with "+It+(1===It?" argument.":" arguments.")+" Expects "+Te+".")};function Pn(Qe,We){return Qe+" failed: "+We+" argument "}function tn(Qe,We,dt){if((!dt||We)&&"string"!=typeof We)throw new Error(Pn(Qe,"namespace")+"must be a valid firebase namespace.")}function Ae(Qe,We,dt,It){if((!It||dt)&&"function"!=typeof dt)throw new Error(Pn(Qe,We)+"must be a valid function.")}function Z(Qe,We,dt,It){if((!It||dt)&&("object"!=typeof dt||null===dt))throw new Error(Pn(Qe,We)+"must be a valid context object.")}var H=function(Qe){for(var We=[],dt=0,It=0;It<Qe.length;It++){var Te=Qe.charCodeAt(It);if(Te>=55296&&Te<=56319){var wt=Te-55296;It++,D(It<Qe.length,"Surrogate pair missing trail surrogate."),Te=65536+(wt<<10)+(Qe.charCodeAt(It)-56320)}Te<128?We[dt++]=Te:Te<2048?(We[dt++]=Te>>6|192,We[dt++]=63&Te|128):Te<65536?(We[dt++]=Te>>12|224,We[dt++]=Te>>6&63|128,We[dt++]=63&Te|128):(We[dt++]=Te>>18|240,We[dt++]=Te>>12&63|128,We[dt++]=Te>>6&63|128,We[dt++]=63&Te|128)}return We},N=function(Qe){for(var We=0,dt=0;dt<Qe.length;dt++){var It=Qe.charCodeAt(dt);It<128?We++:It<2048?We+=2:It>=55296&&It<=56319?(We+=4,dt++):We+=3}return We},we=144e5,Ye=.5;function mt(Qe,We,dt){void 0===We&&(We=1e3),void 0===dt&&(dt=2);var It=We*Math.pow(dt,Qe),Te=Math.round(Ye*It*(Math.random()-.5)*2);return Math.min(we,It+Te)}function mn(Qe){return Number.isFinite(Qe)?Qe+function(Qe){var We=(Qe=Math.abs(Qe))%100;if(We>=10&&We<=20)return"th";var dt=Qe%10;return 1===dt?"st":2===dt?"nd":3===dt?"rd":"th"}(Qe):""+Qe}function yn(Qe){return Qe&&Qe._delegate?Qe._delegate:Qe}},2329:(ln,ut,P)=>{"use strict";P.d(ut,{Z:()=>y.default});var y=P(9759),D="8.7.1";y.default.registerVersion("firebase",D,"app"),y.default.SDK_VERSION=D},7690:(ln,ut,P)=>{"use strict";P.d(ut,{Z:()=>y.default});var y=P(9759),C=(P(6423),P(9192),P(4762)),_e=P(4685),ee=P(300),me=function(t,e){return(me=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,a){o.__proto__=a}||function(o,a){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(o[c]=a[c])})(t,e)};function ae(t){var e="function"==typeof Symbol&&Symbol.iterator,o=e&&t[e],a=0;if(o)return o.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&a>=t.length&&(t=void 0),{value:t&&t[a++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var se,G="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},oe=oe||{},fe=G||self;function Ce(){}function Re(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Ne(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var ze="closure_uid_"+(1e9*Math.random()>>>0),Ut=0;function Qt(t,e,o){return t.call.apply(t.bind,arguments)}function gt(t,e,o){if(!t)throw Error();if(2<arguments.length){var a=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,a),t.apply(e,c)}}return function(){return t.apply(e,arguments)}}function Ge(t,e,o){return(Ge=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Qt:gt).apply(null,arguments)}function at(t,e){var o=Array.prototype.slice.call(arguments,1);return function(){var a=o.slice();return a.push.apply(a,arguments),t.apply(this,a)}}function nt(t,e){function o(){}o.prototype=e.prototype,t.Z=e.prototype,t.prototype=new o,t.prototype.constructor=t,t.Vb=function(a,c,g){for(var w=Array(arguments.length-2),S=2;S<arguments.length;S++)w[S-2]=arguments[S];return e.prototype[c].apply(a,w)}}function et(){this.s=this.s,this.o=this.o}var ve={};et.prototype.s=!1,et.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function(t){return Object.prototype.hasOwnProperty.call(t,ze)&&t[ze]||(t[ze]=++Ut)}(this);delete ve[t]}},et.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var De=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var o=0;o<t.length;o++)if(o in t&&t[o]===e)return o;return-1},ce=Array.prototype.forEach?function(t,e,o){Array.prototype.forEach.call(t,e,o)}:function(t,e,o){for(var a=t.length,c="string"==typeof t?t.split(""):t,g=0;g<a;g++)g in c&&e.call(o,c[g],g,t)};function Rt(t){return Array.prototype.concat.apply([],arguments)}function Tt(t){var e=t.length;if(0<e){for(var o=Array(e),a=0;a<e;a++)o[a]=t[a];return o}return[]}function gn(t){return/^[\s\xa0]*$/.test(t)}var cn,pn=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Mn(t,e){return-1!=t.indexOf(e)}function wn(t,e){return t<e?-1:t>e?1:0}e:{var jt=fe.navigator;if(jt){var Xt=jt.userAgent;if(Xt){cn=Xt;break e}}cn=""}function _t(t,e,o){for(var a in t)e.call(o,t[a],a,t)}function At(t){var e={};for(var o in t)e[o]=t[o];return e}var Gt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Nt(t,e){for(var o,a,c=1;c<arguments.length;c++){for(o in a=arguments[c])t[o]=a[o];for(var g=0;g<Gt.length;g++)o=Gt[g],Object.prototype.hasOwnProperty.call(a,o)&&(t[o]=a[o])}}function qt(t){return qt[" "](t),t}qt[" "]=Ce;var ur,t,sn=Mn(cn,"Opera"),Zt=Mn(cn,"Trident")||Mn(cn,"MSIE"),bn=Mn(cn,"Edge"),Jn=bn||Zt,Rn=Mn(cn,"Gecko")&&!(Mn(cn.toLowerCase(),"webkit")&&!Mn(cn,"Edge"))&&!(Mn(cn,"Trident")||Mn(cn,"MSIE"))&&!Mn(cn,"Edge"),Un=Mn(cn.toLowerCase(),"webkit")&&!Mn(cn,"Edge");function pr(){var t=fe.document;return t?t.documentMode:void 0}e:{var Dn="",jn=(t=cn,Rn?/rv:([^\);]+)(\)|;)/.exec(t):bn?/Edge\/([\d\.]+)/.exec(t):Zt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Un?/WebKit\/(\S+)/.exec(t):sn?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(jn&&(Dn=jn?jn[1]:""),Zt){var Pn=pr();if(null!=Pn&&Pn>parseFloat(Dn)){ur=String(Pn);break e}}ur=Dn}var tn={};function Ae(){return e=tn,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){for(var t=0,e=pn(String(ur)).split("."),o=pn("9").split("."),a=Math.max(e.length,o.length),c=0;0==t&&c<a;c++){var g=e[c]||"",w=o[c]||"";do{if(g=/(\d*)(\D*)(.*)/.exec(g)||["","","",""],w=/(\d*)(\D*)(.*)/.exec(w)||["","","",""],0==g[0].length&&0==w[0].length)break;t=wn(0==g[1].length?0:parseInt(g[1],10),0==w[1].length?0:parseInt(w[1],10))||wn(0==g[2].length,0==w[2].length)||wn(g[2],w[2]),g=g[3],w=w[3]}while(0==t)}return 0<=t}();var e}var N=fe.document&&Zt&&(pr()||parseInt(ur,10))||void 0,B=function(){if(!fe.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{fe.addEventListener("test",Ce,e),fe.removeEventListener("test",Ce,e)}catch(o){}return t}();function ne(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function we(t,e){if(ne.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var o=this.type=t.type,a=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Rn){e:{try{qt(e.nodeName);var c=!0;break e}catch(g){}c=!1}c||(e=null)}}else"mouseover"==o?e=t.fromElement:"mouseout"==o&&(e=t.toElement);this.relatedTarget=e,a?(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Ye[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&we.Z.h.call(this)}}ne.prototype.h=function(){this.defaultPrevented=!0},nt(we,ne);var Ye={2:"touch",3:"pen",4:"mouse"};we.prototype.h=function(){we.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var mt="closure_listenable_"+(1e6*Math.random()|0),mn=0;function Nn(t,e,o,a,c){this.listener=t,this.proxy=null,this.src=e,this.type=o,this.capture=!!a,this.ia=c,this.key=++mn,this.ca=this.fa=!1}function yn(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function Qe(t){this.src=t,this.g={},this.h=0}function We(t,e){var o=e.type;if(o in t.g){var g,a=t.g[o],c=De(a,e);(g=0<=c)&&Array.prototype.splice.call(a,c,1),g&&(yn(e),0==t.g[o].length&&(delete t.g[o],t.h--))}}function dt(t,e,o,a){for(var c=0;c<t.length;++c){var g=t[c];if(!g.ca&&g.listener==e&&g.capture==!!o&&g.ia==a)return c}return-1}Qe.prototype.add=function(t,e,o,a,c){var g=t.toString();(t=this.g[g])||(t=this.g[g]=[],this.h++);var w=dt(t,e,a,c);return-1<w?(e=t[w],o||(e.fa=!1)):((e=new Nn(e,this.src,g,!!a,c)).fa=o,t.push(e)),e};var It="closure_lm_"+(1e6*Math.random()|0),Te={};function wt(t,e,o,a,c){if(a&&a.once)return je(t,e,o,a,c);if(Array.isArray(e)){for(var g=0;g<e.length;g++)wt(t,e[g],o,a,c);return null}return o=Ct(o),t&&t[mt]?t.N(e,o,Ne(a)?!!a.capture:!!a,c):Ot(t,e,o,!1,a,c)}function Ot(t,e,o,a,c,g){if(!e)throw Error("Invalid event type");var w=Ne(c)?!!c.capture:!!c,S=qe(t);if(S||(t[It]=S=new Qe(t)),(o=S.add(e,o,a,w,g)).proxy)return o;if(a=function(){var e=Ke;return function t(o){return e.call(t.src,t.listener,o)}}(),o.proxy=a,a.src=t,a.listener=o,t.addEventListener)B||(c=w),void 0===c&&(c=!1),t.addEventListener(e.toString(),a,c);else if(t.attachEvent)t.attachEvent(bt(e.toString()),a);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(a)}return o}function je(t,e,o,a,c){if(Array.isArray(e)){for(var g=0;g<e.length;g++)je(t,e[g],o,a,c);return null}return o=Ct(o),t&&t[mt]?t.O(e,o,Ne(a)?!!a.capture:!!a,c):Ot(t,e,o,!0,a,c)}function Xe(t,e,o,a,c){if(Array.isArray(e))for(var g=0;g<e.length;g++)Xe(t,e[g],o,a,c);else a=Ne(a)?!!a.capture:!!a,o=Ct(o),t&&t[mt]?(t=t.i,(e=String(e).toString())in t.g&&-1<(o=dt(g=t.g[e],o,a,c))&&(yn(g[o]),Array.prototype.splice.call(g,o,1),0==g.length&&(delete t.g[e],t.h--))):t&&(t=qe(t))&&(e=t.g[e.toString()],t=-1,e&&(t=dt(e,o,a,c)),(o=-1<t?e[t]:null)&&Pe(o))}function Pe(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[mt])We(e.i,t);else{var o=t.type,a=t.proxy;e.removeEventListener?e.removeEventListener(o,a,t.capture):e.detachEvent?e.detachEvent(bt(o),a):e.addListener&&e.removeListener&&e.removeListener(a),(o=qe(e))?(We(o,t),0==o.h&&(o.src=null,e[It]=null)):yn(t)}}}function bt(t){return t in Te?Te[t]:Te[t]="on"+t}function Ke(t,e){if(t.ca)t=!0;else{e=new we(e,this);var o=t.listener,a=t.ia||t.src;t.fa&&Pe(t),t=o.call(a,e)}return t}function qe(t){return(t=t[It])instanceof Qe?t:null}var Ve="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ct(t){return"function"==typeof t?t:(t[Ve]||(t[Ve]=function(e){return t.handleEvent(e)}),t[Ve])}function Wt(){et.call(this),this.i=new Qe(this),this.P=this,this.I=null}function Cn(t,e){var o,a=t.I;if(a)for(o=[];a;a=a.I)o.push(a);if(t=t.P,a=e.type||e,"string"==typeof e)e=new ne(e,t);else if(e instanceof ne)e.target=e.target||t;else{var c=e;Nt(e=new ne(a,t),c)}if(c=!0,o)for(var g=o.length-1;0<=g;g--){var w=e.g=o[g];c=$n(w,a,!0,e)&&c}if(c=$n(w=e.g=t,a,!0,e)&&c,c=$n(w,a,!1,e)&&c,o)for(g=0;g<o.length;g++)c=$n(w=e.g=o[g],a,!1,e)&&c}function $n(t,e,o,a){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var c=!0,g=0;g<e.length;++g){var w=e[g];if(w&&!w.ca&&w.capture==o){var S=w.listener,L=w.ia||w.src;w.fa&&We(t.i,w),c=!1!==S.call(L,a)&&c}}return c&&!a.defaultPrevented}nt(Wt,et),Wt.prototype[mt]=!0,Wt.prototype.removeEventListener=function(t,e,o,a){Xe(this,t,e,o,a)},Wt.prototype.M=function(){if(Wt.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var o=t.g[e],a=0;a<o.length;a++)yn(o[a]);delete t.g[e],t.h--}}this.I=null},Wt.prototype.N=function(t,e,o,a){return this.i.add(String(t),e,!1,o,a)},Wt.prototype.O=function(t,e,o,a){return this.i.add(String(t),e,!0,o,a)};var _r=fe.JSON.stringify;function Lr(){var t=Ir,e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var ji,hr=function(){function t(){this.h=this.g=null}return t.prototype.add=function(e,o){var a=Hr.get();a.set(e,o),this.h?this.h.next=a:this.g=a,this.h=a},t}(),Hr=new(function(){function t(e,o){this.i=e,this.j=o,this.h=0,this.g=null}return t.prototype.get=function(){var e;return 0<this.h?(this.h--,this.g=(e=this.g).next,e.next=null):e=this.i(),e},t}())(function(){return new ui},function(t){return t.reset()}),ui=function(){function t(){this.next=this.g=this.h=null}return t.prototype.set=function(e,o){this.h=e,this.g=o,this.next=null},t.prototype.reset=function(){this.next=this.g=this.h=null},t}();function Ii(t){fe.setTimeout(function(){throw t},0)}function ei(t,e){ji||function(){var t=fe.Promise.resolve(void 0);ji=function(){t.then(Gr)}}(),Ln||(ji(),Ln=!0),Ir.add(t,e)}var Ln=!1,Ir=new hr;function Gr(){for(var t;t=Lr();){try{t.h.call(t.g)}catch(o){Ii(o)}var e=Hr;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Ln=!1}function $i(t,e){Wt.call(this),this.h=t||1,this.g=e||fe,this.j=Ge(this.kb,this),this.l=Date.now()}function Yi(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function Di(t,e,o){if("function"==typeof t)o&&(t=Ge(t,o));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Ge(t.handleEvent,t)}return 2147483647<Number(e)?-1:fe.setTimeout(t,e||0)}function ao(t){t.g=Di(function(){t.g=null,t.i&&(t.i=!1,ao(t))},t.j);var e=t.h;t.h=null,t.m.apply(null,e)}nt($i,Wt),(se=$i.prototype).da=!1,se.S=null,se.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Cn(this,"tick"),this.da&&(Yi(this),this.start()))}},se.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},se.M=function(){$i.Z.M.call(this),Yi(this),delete this.g};var gi=function(t){function e(o,a){var c=t.call(this)||this;return c.m=o,c.j=a,c.h=null,c.i=!1,c.g=null,c}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=t}me(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}(e,t),e.prototype.l=function(o){this.h=arguments,this.g?this.i=!0:ao(this)},e.prototype.M=function(){t.prototype.M.call(this),this.g&&(fe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(et);function Hi(t){et.call(this),this.h=t,this.g={}}nt(Hi,et);var go=[];function vr(t,e,o,a){Array.isArray(o)||(o&&(go[0]=o.toString()),o=go);for(var c=0;c<o.length;c++){var g=wt(e,o[c],a||t.handleEvent,!1,t.h||t);if(!g)break;t.g[g.key]=g}}function kt(t){_t(t.g,function(e,o){this.g.hasOwnProperty(o)&&Pe(e)},t),t.g={}}function vt(){this.g=!0}function nn(t,e,o,a){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var o=JSON.parse(e);if(o)for(t=0;t<o.length;t++)if(Array.isArray(o[t])){var a=o[t];if(!(2>a.length)){var c=a[1];if(Array.isArray(c)&&!(1>c.length)){var g=c[0];if("noop"!=g&&"stop"!=g&&"close"!=g)for(var w=1;w<c.length;w++)c[w]=""}}}return _r(o)}catch(S){return e}}(t,o)+(a?" "+a:"")})}Hi.prototype.M=function(){Hi.Z.M.call(this),kt(this)},Hi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},vt.prototype.Aa=function(){this.g=!1},vt.prototype.info=function(){};var St={},Le=null;function Mt(){return Le=Le||new Wt}function On(t){ne.call(this,St.Ma,t)}function Sn(t){var e=Mt();Cn(e,new On(e,t))}function or(t,e){ne.call(this,St.STAT_EVENT,t),this.stat=e}function wr(t){var e=Mt();Cn(e,new or(e,t))}function li(t,e){ne.call(this,St.Na,t),this.size=e}function si(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return fe.setTimeout(function(){t()},e)}St.Ma="serverreachability",nt(On,ne),St.STAT_EVENT="statevent",nt(or,ne),St.Na="timingevent",nt(li,ne);var gr={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},br={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function bi(){}function Go(){}bi.prototype.h=null;var uo,Ai={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function So(){ne.call(this,"d")}function to(){ne.call(this,"c")}function Vs(){}function lo(t,e,o,a){this.l=t,this.j=e,this.m=o,this.X=a||1,this.V=new Hi(this),this.P=Wo,this.W=new $i(t=Jn?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Ys}function Ys(){this.i=null,this.g="",this.h=!1}nt(So,ne),nt(to,ne),nt(Vs,bi),Vs.prototype.g=function(){return new XMLHttpRequest},Vs.prototype.i=function(){return{}},uo=new Vs;var Wo=45e3,Ds={},qs={};function Qo(t,e,o){t.K=1,t.v=Y(Xn(e)),t.s=o,t.U=!0,Or(t,null)}function Or(t,e){t.F=Date.now(),no(t),t.A=Xn(t.v);var o=t.A,a=t.X;Array.isArray(a)||(a=[String(a)]),un(o.h,"t",a),t.C=0,o=t.l.H,t.h=new Ys,t.g=ir(t.l,o?e:null,!t.s),0<t.O&&(t.L=new gi(Ge(t.Ia,t,t.g),t.O)),vr(t.V,t.g,"readystatechange",t.gb),e=t.H?At(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),Sn(1),function(t,e,o,a,c,g){t.info(function(){if(t.g)if(g)for(var w="",S=g.split("&"),L=0;L<S.length;L++){var te=S[L].split("=");if(1<te.length){var de=te[0];te=te[1];var Ue=de.split("_");w=2<=Ue.length&&"type"==Ue[1]?w+(de+"=")+te+"&":w+(de+"=redacted&")}}else w=null;else w=g;return"XMLHTTP REQ ("+a+") [attempt "+c+"]: "+e+"\n"+o+"\n"+w})}(t.j,t.u,t.A,t.m,t.X,t.s)}function Co(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function fs(t,e,o){for(var c,a=!0;!t.I&&t.C<o.length;){if((c=Ni(t,o))==qs){4==e&&(t.o=4,wr(14),a=!1),nn(t.j,t.m,null,"[Incomplete Response]");break}if(c==Ds){t.o=4,wr(15),nn(t.j,t.m,o,"[Invalid Chunk]"),a=!1;break}nn(t.j,t.m,c,null),re(t,c)}Co(t)&&c!=qs&&c!=Ds&&(t.h.g="",t.C=0),4!=e||0!=o.length||t.h.h||(t.o=1,wr(16),a=!1),t.i=t.i&&a,a?0<o.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+o.length),Rs(e),e.L=!0,wr(11))):(nn(t.j,t.m,o,"[Invalid Chunked Response]"),ci(t),rr(t))}function Ni(t,e){var o=t.C,a=e.indexOf("\n",o);return-1==a?qs:(o=Number(e.substring(o,a)),isNaN(o)?Ds:(a+=1)+o>e.length?qs:(e=e.substr(a,o),t.C=a+o,e))}function no(t){t.Y=Date.now()+t.P,kr(t,t.P)}function kr(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=si(Ge(t.eb,t),e)}function Zo(t){t.B&&(fe.clearTimeout(t.B),t.B=null)}function rr(t){0==t.l.G||t.I||ml(t.l,t)}function ci(t){Zo(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,Yi(t.W),kt(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function re(t,e){try{var o=t.l;if(0!=o.G&&(o.g==t||ro(o.i,t)))if(o.I=t.N,!t.J&&ro(o.i,t)&&3==o.G){try{var a=o.Ca.g.parse(e)}catch(kn){a=null}if(Array.isArray(a)&&3==a.length){var c=a;if(0==c[0])e:if(o.u)o.ta=c[1],0<o.ta-o.U&&37500>c[2]&&o.N&&0==o.A&&!o.v&&(o.v=si(Ge(o.ab,o),6e3));else{if(o.g){if(!(o.g.F+3e3<t.F))break e;To(o),dr(o)}Ti(o),wr(18)}if(1>=ti(o.i)&&o.ka){try{o.ka()}catch(kn){}o.ka=void 0}}else mi(o,11)}else if((t.J||o.g==t)&&To(o),!gn(e))for(c=o.Ca.g.parse(e),e=0;e<c.length;e++){var g=c[e];if(o.U=g[0],g=g[1],2==o.G)if("c"==g[0]){o.J=g[1],o.la=g[2];var w=g[3];null!=w&&(o.ma=w,o.h.info("VER="+o.ma));var S=g[4];null!=S&&(o.za=S,o.h.info("SVER="+o.za));var L=g[5];null!=L&&"number"==typeof L&&0<L&&(o.K=a=1.5*L,o.h.info("backChannelRequestTimeoutMs_="+a)),a=o;var te=t.g;if(te){var de=te.g?te.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(de){var Ue=a.i;!Ue.g&&(Mn(de,"spdy")||Mn(de,"quic")||Mn(de,"h2"))&&(Ue.j=Ue.l,Ue.g=new Set,Ue.h&&(ia(Ue,Ue.h),Ue.h=null))}if(a.D){var rt=te.g?te.g.getResponseHeader("X-HTTP-Session-Id"):null;rt&&(a.sa=rt,J(a.F,a.D,rt))}}o.G=3,o.j&&o.j.xa(),o.$&&(o.O=Date.now()-t.F,o.h.info("Handshake RTT: "+o.O+"ms"));var Vt=t;if((a=o).oa=Wi(a,a.H?a.la:null,a.W),Vt.J){mo(a.i,Vt);var Ft=Vt,Jt=a.K;Jt&&Ft.setTimeout(Jt),Ft.B&&(Zo(Ft),no(Ft)),a.g=Vt}else _o(a);0<o.l.length&&Oi(o)}else"stop"!=g[0]&&"close"!=g[0]||mi(o,7);else 3==o.G&&("stop"==g[0]||"close"==g[0]?"stop"==g[0]?mi(o,7):Jr(o):"noop"!=g[0]&&o.j&&o.j.wa(g),o.A=0)}Sn(4)}catch(kn){}}function Fe(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Re(t)||"string"==typeof t)ce(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var o=t.T();else if(t.R&&"function"==typeof t.R)o=void 0;else if(Re(t)||"string"==typeof t){o=[];for(var a=t.length,c=0;c<a;c++)o.push(c)}else for(c in o=[],a=0,t)o[a++]=c;c=(a=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(Re(t)){for(var e=[],o=t.length,a=0;a<o;a++)e.push(t[a]);return e}for(a in e=[],o=0,t)e[o++]=t[a];return e}(t)).length;for(var g=0;g<c;g++)e.call(void 0,a[g],o&&o[g],t)}}function lt(t,e){this.h={},this.g=[],this.i=0;var o=arguments.length;if(1<o){if(o%2)throw Error("Uneven number of arguments");for(var a=0;a<o;a+=2)this.set(arguments[a],arguments[a+1])}else if(t)if(t instanceof lt)for(o=t.T(),a=0;a<o.length;a++)this.set(o[a],t.get(o[a]));else for(a in t)this.set(a,t[a])}function Dt(t){if(t.i!=t.g.length){for(var e=0,o=0;e<t.g.length;){var a=t.g[e];Yt(t.h,a)&&(t.g[o++]=a),e++}t.g.length=o}if(t.i!=t.g.length){var c={};for(o=e=0;e<t.g.length;)Yt(c,a=t.g[e])||(t.g[o++]=a,c[a]=1),e++;t.g.length=o}}function Yt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(se=lo.prototype).setTimeout=function(t){this.P=t},se.gb=function(t){t=t.target;var e=this.L;e&&3==ct(t)?e.l():this.Ia(t)},se.Ia=function(t){try{if(t==this.g)e:{var e=ct(this.g),o=this.g.Da(),a=this.g.ba();if(!(3>e)&&(3!=e||Jn||this.g&&(this.h.h||this.g.ga()||Ht(this.g)))){this.I||4!=e||7==o||Sn(8==o||0>=a?3:2),Zo(this);var c=this.g.ba();this.N=c;t:if(Co(this)){var g=Ht(this.g);t="";var w=g.length,S=4==ct(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){ci(this),rr(this);var L="";break t}this.h.i=new fe.TextDecoder}for(o=0;o<w;o++)this.h.h=!0,t+=this.h.i.decode(g[o],{stream:S&&o==w-1});g.splice(0,w),this.h.g+=t,this.C=0,L=this.h.g}else L=this.g.ga();if(this.i=200==c,function(t,e,o,a,c,g,w){t.info(function(){return"XMLHTTP RESP ("+a+") [ attempt "+c+"]: "+e+"\n"+o+"\n"+g+" "+w})}(this.j,this.u,this.A,this.m,this.X,e,c),this.i){if(this.$&&!this.J){t:{if(this.g){var te,de=this.g;if((te=de.g?de.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!gn(te)){var Ue=te;break t}}Ue=null}if(!(c=Ue)){this.i=!1,this.o=3,wr(12),ci(this),rr(this);break e}nn(this.j,this.m,c,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,re(this,c)}this.U?(fs(this,e,L),Jn&&this.i&&3==e&&(vr(this.V,this.W,"tick",this.fb),this.W.start())):(nn(this.j,this.m,L,null),re(this,L)),4==e&&ci(this),this.i&&!this.I&&(4==e?ml(this.l,this):(this.i=!1,no(this)))}else 400==c&&0<L.indexOf("Unknown SID")?(this.o=3,wr(12)):(this.o=0,wr(13)),ci(this),rr(this)}}}catch(rt){}},se.fb=function(){if(this.g){var t=ct(this.g),e=this.g.ga();this.C<e.length&&(Zo(this),fs(this,t,e),this.i&&4!=t&&no(this))}},se.cancel=function(){this.I=!0,ci(this)},se.eb=function(){this.B=null;var t=Date.now();0<=t-this.Y?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Sn(3),wr(17)),ci(this),this.o=2,rr(this)):kr(this,this.Y-t)},(se=lt.prototype).R=function(){Dt(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},se.T=function(){return Dt(this),this.g.concat()},se.get=function(t,e){return Yt(this.h,t)?this.h[t]:e},se.set=function(t,e){Yt(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},se.forEach=function(t,e){for(var o=this.T(),a=0;a<o.length;a++){var c=o[a],g=this.get(c);t.call(e,g,c,this)}};var _n=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Fn(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof Fn){this.g=void 0!==e?e:t.g,sr(this,t.j),this.s=t.s,Zr(this,t.i),hi(this,t.m),this.l=t.l,e=t.h;var o=new K;o.i=e.i,e.g&&(o.g=new lt(e.g),o.h=e.h),qi(this,o),this.o=t.o}else t&&(o=String(t).match(_n))?(this.g=!!e,sr(this,o[1]||"",!0),this.s=Bt(o[2]||""),Zr(this,o[3]||"",!0),hi(this,o[4]),this.l=Bt(o[5]||"",!0),qi(this,o[6]||"",!0),this.o=Bt(o[7]||"")):(this.g=!!e,this.h=new K(null,this.g))}function Xn(t){return new Fn(t)}function sr(t,e,o){t.j=o?Bt(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Zr(t,e,o){t.i=o?Bt(e,!0):e}function hi(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function qi(t,e,o){e instanceof K?(t.h=e,function(t,e){e&&!t.j&&(Oe(t),t.i=null,t.g.forEach(function(o,a){var c=a.toLowerCase();a!=c&&(ft(this,a),un(this,c,o))},t)),t.j=e}(t.h,t.g)):(o||(e=Wn(e,$)),t.h=new K(e,t.g))}function J(t,e,o){t.h.set(e,o)}function Y(t){return J(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Bt(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Wn(t,e,o){return"string"==typeof t?(t=encodeURI(t).replace(e,$r),o&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function $r(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Fn.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Wn(e,Gi,!0),":");var o=this.i;return(o||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Wn(e,Gi,!0),"@"),t.push(encodeURIComponent(String(o)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(o=this.m)&&t.push(":",String(o))),(o=this.l)&&(this.i&&"/"!=o.charAt(0)&&t.push("/"),t.push(Wn(o,"/"==o.charAt(0)?Qs:Bo,!0))),(o=this.h.toString())&&t.push("?",o),(o=this.o)&&t.push("#",Wn(o,ye)),t.join("")};var Gi=/[#\/\?@]/g,Bo=/[#\?:]/g,Qs=/[#\?]/g,$=/[#\?@]/g,ye=/#/g;function K(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Oe(t){t.g||(t.g=new lt,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var o=0;o<t.length;o++){var a=t[o].indexOf("="),c=null;if(0<=a){var g=t[o].substring(0,a);c=t[o].substring(a+1)}else g=t[o];e(g,c?decodeURIComponent(c.replace(/\+/g," ")):"")}}}(t.i,function(e,o){t.add(decodeURIComponent(e.replace(/\+/g," ")),o)}))}function ft(t,e){Oe(t),e=tr(t,e),Yt(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,Yt((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&Dt(t)))}function on(t,e){return Oe(t),e=tr(t,e),Yt(t.g.h,e)}function un(t,e,o){ft(t,e),0<o.length&&(t.i=null,t.g.set(tr(t,e),Tt(o)),t.h+=o.length)}function tr(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(se=K.prototype).add=function(t,e){Oe(this),this.i=null,t=tr(this,t);var o=this.g.get(t);return o||this.g.set(t,o=[]),o.push(e),this.h+=1,this},se.forEach=function(t,e){Oe(this),this.g.forEach(function(o,a){ce(o,function(c){t.call(e,c,a,this)},this)},this)},se.T=function(){Oe(this);for(var t=this.g.R(),e=this.g.T(),o=[],a=0;a<e.length;a++)for(var c=t[a],g=0;g<c.length;g++)o.push(e[a]);return o},se.R=function(t){Oe(this);var e=[];if("string"==typeof t)on(this,t)&&(e=Rt(e,this.g.get(tr(this,t))));else{t=this.g.R();for(var o=0;o<t.length;o++)e=Rt(e,t[o])}return e},se.set=function(t,e){return Oe(this),this.i=null,on(this,t=tr(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},se.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},se.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),o=0;o<e.length;o++){var a=e[o],c=encodeURIComponent(String(a));a=this.R(a);for(var g=0;g<a.length;g++){var w=c;""!==a[g]&&(w+="="+encodeURIComponent(String(a[g]))),t.push(w)}}return this.i=t.join("&")};var Ri=function(e,o){this.h=e,this.g=o};function di(t){this.l=t||Br,t=fe.PerformanceNavigationTiming?0<(t=fe.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(fe.g&&fe.g.Ea&&fe.g.Ea()&&fe.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Br=10;function Ei(t){return!!t.h||!!t.g&&t.g.size>=t.j}function ti(t){return t.h?1:t.g?t.g.size:0}function ro(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function ia(t,e){t.g?t.g.add(e):t.h=e}function mo(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function Li(t){var e,o;if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){var a=t.i;try{for(var c=ae(t.g.values()),g=c.next();!g.done;g=c.next())a=a.concat(g.value.D)}catch(S){e={error:S}}finally{try{g&&!g.done&&(o=c.return)&&o.call(c)}finally{if(e)throw e.error}}return a}return Tt(t.i)}function Ro(){}function Cr(){this.g=new Ro}function Ss(t,e,o){var a=o||"";try{Fe(t,function(c,g){var w=c;Ne(c)&&(w=_r(c)),e.push(a+g+"="+encodeURIComponent(w))})}catch(c){throw e.push(a+"type="+encodeURIComponent("_badmap")),c}}function oa(t,e,o,a,c){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,c(a)}catch(g){}}function Ea(t){this.l=t.$b||null,this.j=t.ib||!1}function tu(t,e){Wt.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=sa,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}di.prototype.cancel=function(){var t,e;if(this.i=Li(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var o=ae(this.g.values()),a=o.next();!a.done;a=o.next())a.value.cancel()}catch(g){t={error:g}}finally{try{a&&!a.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}this.g.clear()}},Ro.prototype.stringify=function(t){return fe.JSON.stringify(t,void 0)},Ro.prototype.parse=function(t){return fe.JSON.parse(t,void 0)},nt(Ea,bi),Ea.prototype.g=function(){return new tu(this.l,this.j)},Ea.prototype.i=function(t){return function(){return t}}({}),nt(tu,Wt);var sa=0;function zo(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function Tn(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Wr(t)}function Wr(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(se=tu.prototype).open=function(t,e){if(this.readyState!=sa)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Wr(this)},se.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||fe).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},se.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Tn(this)),this.readyState=sa},se.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Wr(this)),this.g&&(this.readyState=3,Wr(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==fe.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;zo(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},se.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Tn(this):Wr(this),3==this.readyState&&zo(this)}},se.Ua=function(t){this.g&&(this.response=this.responseText=t,Tn(this))},se.Ta=function(t){this.g&&(this.response=t,Tn(this))},se.ha=function(){this.g&&Tn(this)},se.setRequestHeader=function(t,e){this.v.append(t,e)},se.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},se.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),o=e.next();!o.done;)t.push((o=o.value)[0]+": "+o[1]),o=e.next();return t.join("\r\n")},Object.defineProperty(tu.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var La=fe.JSON.parse;function Yr(t){Wt.call(this),this.headers=new lt,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Zs,this.K=this.L=!1}nt(Yr,Wt);var Zs="",yu=/^https?$/i,As=["POST","PUT"];function I(t){return"content-type"==t.toLowerCase()}function R(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,W(t),ke(t)}function W(t){t.D||(t.D=!0,Cn(t,"complete"),Cn(t,"error"))}function pe(t){if(t.h&&void 0!==oe&&(!t.C[1]||4!=ct(t)||2!=t.ba()))if(t.v&&4==ct(t))Di(t.Fa,0,t);else if(Cn(t,"readystatechange"),4==ct(t)){t.h=!1;try{var a,e=t.ba();e:switch(e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var o=!0;break e;default:o=!1}if(!(a=o)){var c;if(c=0===e){var g=String(t.H).match(_n)[1]||null;if(!g&&fe.self&&fe.self.location){var w=fe.self.location.protocol;g=w.substr(0,w.length-1)}c=!yu.test(g?g.toLowerCase():"")}a=c}if(a)Cn(t,"complete"),Cn(t,"success");else{t.m=6;try{var S=2<ct(t)?t.g.statusText:""}catch(L){S=""}t.j=S+" ["+t.ba()+"]",W(t)}}finally{ke(t)}}}function ke(t,e){if(t.g){it(t);var o=t.g,a=t.C[0]?Ce:null;t.g=null,t.C=null,e||Cn(t,"ready");try{o.onreadystatechange=a}catch(c){}}}function it(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(fe.clearTimeout(t.A),t.A=null)}function ct(t){return t.g?t.g.readyState:0}function Ht(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case Zs:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function vn(t,e,o){e:{for(a in o){var a=!1;break e}a=!0}a||(o=function(t){var e="";return _t(t,function(o,a){e+=a,e+=":",e+=o,e+="\r\n"}),e}(o),"string"==typeof t?null!=o&&encodeURIComponent(String(o)):J(t,e,o))}function Yn(t,e,o){return o&&o.internalChannelParams&&o.internalChannelParams[t]||e}function cr(t){this.za=0,this.l=[],this.h=new vt,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Yn("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Yn("baseRetryDelayMs",5e3,t),this.$a=Yn("retryDelaySeedMs",1e4,t),this.Ya=Yn("forwardChannelMaxRetries",2,t),this.ra=Yn("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new di(t&&t.concurrentRequestLimit),this.Ca=new Cr,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function Jr(t){if(ar(t),3==t.G){var e=t.V++,o=Xn(t.F);J(o,"SID",t.J),J(o,"RID",e),J(o,"TYPE","terminate"),co(t,o),(e=new lo(t,t.h,e,void 0)).K=2,e.v=Y(Xn(o)),o=!1,fe.navigator&&fe.navigator.sendBeacon&&(o=fe.navigator.sendBeacon(e.v.toString(),"")),!o&&fe.Image&&((new Image).src=e.v,o=!0),o||(e.g=ir(e.l,null),e.g.ea(e.v)),e.F=Date.now(),no(e)}Jo(t)}function dr(t){t.g&&(Rs(t),t.g.cancel(),t.g=null)}function ar(t){dr(t),t.u&&(fe.clearTimeout(t.u),t.u=null),To(t),t.i.cancel(),t.m&&("number"==typeof t.m&&fe.clearTimeout(t.m),t.m=null)}function qr(t,e){t.l.push(new Ri(t.Za++,e)),3==t.G&&Oi(t)}function Oi(t){Ei(t.i)||t.m||(t.m=!0,ei(t.Ha,t),t.C=0)}function Ko(t,e){var o;o=e?e.m:t.V++;var a=Xn(t.F);J(a,"SID",t.J),J(a,"RID",o),J(a,"AID",t.U),co(t,a),t.o&&t.s&&vn(a,t.o,t.s),o=new lo(t,t.h,o,t.C+1),null===t.o&&(o.H=t.s),e&&(t.l=e.D.concat(t.l)),e=Ms(t,o,1e3),o.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),ia(t.i,o),Qo(o,a,e)}function co(t,e){t.j&&Fe({},function(o,a){J(e,a,o)})}function Ms(t,e,o){o=Math.min(t.l.length,o);var a=t.j?Ge(t.j.Oa,t.j,t):null;e:for(var c=t.l,g=-1;;){var w=["count="+o];-1==g?0<o?w.push("ofs="+(g=c[0].h)):g=0:w.push("ofs="+g);for(var S=!0,L=0;L<o;L++){var te=c[L].h,de=c[L].g;if(0>(te-=g))g=Math.max(0,c[L].h-100),S=!1;else try{Ss(de,w,"req"+te+"_")}catch(Ue){a&&a(de)}}if(S){a=w.join("&");break e}}return t=t.l.splice(0,o),e.D=t,a}function _o(t){t.g||t.u||(t.Y=1,ei(t.Ga,t),t.A=0)}function Ti(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=si(Ge(t.Ga,t),nu(t,t.A)),t.A++,0))}function Rs(t){null!=t.B&&(fe.clearTimeout(t.B),t.B=null)}function Qi(t){t.g=new lo(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=Xn(t.oa);J(e,"RID","rpc"),J(e,"SID",t.J),J(e,"CI",t.N?"0":"1"),J(e,"AID",t.U),co(t,e),J(e,"TYPE","xmlhttp"),t.o&&t.s&&vn(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var o=t.g;t=t.la,o.K=1,o.v=Y(Xn(e)),o.s=null,o.U=!0,Or(o,t)}function To(t){null!=t.v&&(fe.clearTimeout(t.v),t.v=null)}function ml(t,e){var o=null;if(t.g==e){To(t),Rs(t),t.g=null;var a=2}else{if(!ro(t.i,e))return;o=e.D,mo(t.i,e),a=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==a){o=e.s?e.s.length:0,e=Date.now()-e.F;var c=t.C;Cn(a=Mt(),new li(a,o,e,c)),Oi(t)}else _o(t);else if(3==(c=e.o)||0==c&&0<t.I||!(1==a&&function(t,e){return!(ti(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=si(Ge(t.Ha,t,e),nu(t,t.C)),t.C++,0)))}(t,e)||2==a&&Ti(t)))switch(o&&0<o.length&&(e=t.i,e.i=e.i.concat(o)),c){case 1:mi(t,5);break;case 4:mi(t,10);break;case 3:mi(t,6);break;default:mi(t,2)}}function nu(t,e){var o=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(o*=2),o*e}function mi(t,e){if(t.h.info("Error code "+e),2==e){var o=null;t.j&&(o=null);var a=Ge(t.jb,t);o||(o=new Fn("//www.google.com/images/cleardot.gif"),fe.location&&"http"==fe.location.protocol||sr(o,"https"),Y(o)),function(t,e){var o=new vt;if(fe.Image){var a=new Image;a.onload=at(oa,o,a,"TestLoadImage: loaded",!0,e),a.onerror=at(oa,o,a,"TestLoadImage: error",!1,e),a.onabort=at(oa,o,a,"TestLoadImage: abort",!1,e),a.ontimeout=at(oa,o,a,"TestLoadImage: timeout",!1,e),fe.setTimeout(function(){a.ontimeout&&a.ontimeout()},1e4),a.src=t}else e(!1)}(o.toString(),a)}else wr(2);t.G=0,t.j&&t.j.va(e),Jo(t),ar(t)}function Jo(t){t.G=0,t.I=-1,t.j&&((0!=Li(t.i).length||0!=t.l.length)&&(t.i.i.length=0,Tt(t.l),t.l.length=0),t.j.ua())}function Wi(t,e,o){var a=function(t){return t instanceof Fn?Xn(t):new Fn(t,void 0)}(o);if(""!=a.i)e&&Zr(a,e+"."+a.i),hi(a,a.m);else{var c=fe.location;a=function(t,e,o,a){var c=new Fn(null,void 0);return t&&sr(c,t),e&&Zr(c,e),o&&hi(c,o),a&&(c.l=a),c}(c.protocol,e?e+"."+c.hostname:c.hostname,+c.port,o)}return t.aa&&_t(t.aa,function(g,w){J(a,w,g)}),o=t.sa,(e=t.D)&&o&&J(a,e,o),J(a,"VER",t.ma),co(t,a),a}function ir(t,e,o){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Yr(o&&t.Ba&&!t.qa?new Ea({ib:!0}):t.qa)).L=t.H,e}function Zn(){}function Ar(){if(Zt&&!(10<=Number(N)))throw Error("Environmental error: no available transport.")}function Rr(t,e){Wt.call(this),this.g=new cr(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!gn(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!gn(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new wi(this)}function _i(t){So.call(this);var e=t.__sm__;if(e){e:{for(var o in e){t=o;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function io(){to.call(this),this.status=1}function wi(t){this.g=t}(se=Yr.prototype).ea=function(t,e,o,a){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():uo.g(),this.C=function(t){return t.h||(t.h=t.i())}(this.u?this.u:uo),this.g.onreadystatechange=Ge(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(g){return void R(this,g)}t=o||"";var c=new lt(this.headers);a&&Fe(a,function(g,w){c.set(w,g)}),a=function(t){e:{for(var e=I,o=t.length,a="string"==typeof t?t.split(""):t,c=0;c<o;c++)if(c in a&&e.call(void 0,a[c],c,t)){e=c;break e}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(c.T()),o=fe.FormData&&t instanceof fe.FormData,!(0<=De(As,e))||a||o||c.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),c.forEach(function(g,w){this.g.setRequestHeader(w,g)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{it(this),0<this.B&&((this.K=function(t){return Zt&&Ae()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ge(this.pa,this)):this.A=Di(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(g){R(this,g)}},se.pa=function(){void 0!==oe&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Cn(this,"timeout"),this.abort(8))},se.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Cn(this,"complete"),Cn(this,"abort"),ke(this))},se.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ke(this,!0)),Yr.Z.M.call(this)},se.Fa=function(){this.s||(this.F||this.v||this.l?pe(this):this.cb())},se.cb=function(){pe(this)},se.ba=function(){try{return 2<ct(this)?this.g.status:-1}catch(t){return-1}},se.ga=function(){try{return this.g?this.g.responseText:""}catch(t){return""}},se.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),La(e)}},se.Da=function(){return this.m},se.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(se=cr.prototype).ma=8,se.G=1,se.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},se.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var e=new lo(this,this.h,t,void 0),o=this.s;if(this.P&&(o?Nt(o=At(o),this.P):o=this.P),null===this.o&&(e.H=o),this.ja)e:{for(var a=0,c=0;c<this.l.length;c++){var g=this.l[c];if(void 0===(g="__data__"in g.g&&"string"==typeof(g=g.g.__data__)?g.length:void 0))break;if(4096<(a+=g)){a=c;break e}if(4096===a||c===this.l.length-1){a=c+1;break e}}a=1e3}else a=1e3;a=Ms(this,e,a),J(c=Xn(this.F),"RID",t),J(c,"CVER",22),this.D&&J(c,"X-HTTP-Session-Id",this.D),co(this,c),this.o&&o&&vn(c,this.o,o),ia(this.i,e),this.Ra&&J(c,"TYPE","init"),this.ja?(J(c,"$req",a),J(c,"SID","null"),e.$=!0,Qo(e,c,null)):Qo(e,c,a),this.G=2}}else 3==this.G&&(t?Ko(this,t):0==this.l.length||Ei(this.i)||Ko(this))},se.Ga=function(){if(this.u=null,Qi(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=si(Ge(this.bb,this),t)}},se.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,wr(10),dr(this),Qi(this))},se.ab=function(){null!=this.v&&(this.v=null,dr(this),Ti(this),wr(19))},se.jb=function(t){t?(this.h.info("Successfully pinged google.com"),wr(2)):(this.h.info("Failed to ping google.com"),wr(1))},(se=Zn.prototype).xa=function(){},se.wa=function(){},se.va=function(){},se.ua=function(){},se.Oa=function(){},Ar.prototype.g=function(t,e){return new Rr(t,e)},nt(Rr,Wt),Rr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,o=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),ei(Ge(t.hb,t,e))),wr(0),t.W=e,t.aa=o||{},t.N=t.X,t.F=Wi(t,null,t.W),Oi(t)},Rr.prototype.close=function(){Jr(this.g)},Rr.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,qr(this.g,e)}else this.v?((e={}).__data__=_r(t),qr(this.g,e)):qr(this.g,t)},Rr.prototype.M=function(){this.g.j=null,delete this.j,Jr(this.g),delete this.g,Rr.Z.M.call(this)},nt(_i,So),nt(io,to),nt(wi,Zn),wi.prototype.xa=function(){Cn(this.g,"a")},wi.prototype.wa=function(t){Cn(this.g,new _i(t))},wi.prototype.va=function(t){Cn(this.g,new io(t))},wi.prototype.ua=function(){Cn(this.g,"b")},Ar.prototype.createWebChannel=Ar.prototype.g,Rr.prototype.send=Rr.prototype.u,Rr.prototype.open=Rr.prototype.m,Rr.prototype.close=Rr.prototype.close,gr.NO_ERROR=0,gr.TIMEOUT=8,gr.HTTP_ERROR=6,br.COMPLETE="complete",Go.EventType=Ai,Ai.OPEN="a",Ai.CLOSE="b",Ai.ERROR="c",Ai.MESSAGE="d",Wt.prototype.listen=Wt.prototype.N,Yr.prototype.listenOnce=Yr.prototype.O,Yr.prototype.getLastError=Yr.prototype.La,Yr.prototype.getLastErrorCode=Yr.prototype.Da,Yr.prototype.getStatus=Yr.prototype.ba,Yr.prototype.getResponseJson=Yr.prototype.Qa,Yr.prototype.getResponseText=Yr.prototype.ga,Yr.prototype.send=Yr.prototype.ea;var aa=gr,Oo=br,ps=St,vo_PROXY=10,vo_NOPROXY=11,es=Ea,Os=Go,$l=Yr,gs=function(){function t(e,o){var a=this;this.previousValue=e,o&&(o.sequenceNumberHandler=function(c){return a.t(c)},this.i=function(c){return o.writeSequenceNumber(c)})}return t.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},t.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},t}();gs.o=-1;var en={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},In=function(t){function e(o,a){var c=this;return(c=t.call(this,a)||this).code=o,c.message=a,c.name="FirebaseError",c.toString=function(){return c.name+": [code="+c.code+"]: "+c.message},c}return(0,C.__extends)(e,t),e}(Error),Uo=new ee.Logger("@firebase/firestore");function zu(){return Uo.logLevel}function zn(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];if(Uo.logLevel<=ee.LogLevel.DEBUG){var a=e.map(Va);Uo.debug.apply(Uo,(0,C.__spreadArray)(["Firestore (8.7.0): "+t],a))}}function ho(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];if(Uo.logLevel<=ee.LogLevel.ERROR){var a=e.map(Va);Uo.error.apply(Uo,(0,C.__spreadArray)(["Firestore (8.7.0): "+t],a))}}function Ba(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];if(Uo.logLevel<=ee.LogLevel.WARN){var a=e.map(Va);Uo.warn.apply(Uo,(0,C.__spreadArray)(["Firestore (8.7.0): "+t],a))}}function Va(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(o){return t}}function fr(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.7.0) INTERNAL ASSERTION FAILED: "+t;throw ho(e),new Error(e)}function yr(t,e){t||fr()}function Bn(t,e){return t}function Pi(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),o=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(o);else for(var a=0;a<t;a++)o[a]=Math.floor(256*Math.random());return o}var _l=function(){function t(){}return t.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=Math.floor(256/e.length)*e.length,a="";a.length<20;)for(var c=Pi(40),g=0;g<c.length;++g)a.length<20&&c[g]<o&&(a+=e.charAt(c[g]%e.length));return a},t}();function Pr(t,e){return t<e?-1:t>e?1:0}function wa(t,e,o){return t.length===e.length&&t.every(function(a,c){return o(a,e[c])})}function iu(t){return t+"\0"}var Po=function(){function t(e,o){if(this.seconds=e,this.nanoseconds=o,o<0)throw new In(en.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+o);if(o>=1e9)throw new In(en.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+o);if(e<-62135596800)throw new In(en.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new In(en.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var o=Math.floor(e/1e3);return new t(o,Math.floor(1e6*(e-1e3*o)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(e){return this.seconds===e.seconds?Pr(this.nanoseconds,e.nanoseconds):Pr(this.seconds,e.seconds)},t.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),F=function(){function t(e){this.timestamp=e}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new Po(0,0))},t.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},t.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function k(t){var e=0;for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e++;return e}function O(t,e){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e(o,t[o])}function q(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var ue=function(){function t(e,o,a){void 0===o?o=0:o>e.length&&fr(),void 0===a?a=e.length-o:a>e.length-o&&fr(),this.segments=e,this.offset=o,this.len=a}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var o=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(a){o.push(a)}):o.push(e),this.construct(o)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(e){return this.segments[this.offset+e]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var o=0;o<this.length;o++)if(this.get(o)!==e.get(o))return!1;return!0},t.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var o=0;o<this.length;o++)if(this.get(o)!==e.get(o))return!1;return!0},t.prototype.forEach=function(e){for(var o=this.offset,a=this.limit();o<a;o++)e(this.segments[o])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(e,o){for(var a=Math.min(e.length,o.length),c=0;c<a;c++){var g=e.get(c),w=o.get(c);if(g<w)return-1;if(g>w)return 1}return e.length<o.length?-1:e.length>o.length?1:0},t}(),Ee=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,C.__extends)(e,t),e.prototype.construct=function(o,a,c){return new e(o,a,c)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];for(var c=[],g=0,w=o;g<w.length;g++){var S=w[g];if(S.indexOf("//")>=0)throw new In(en.INVALID_ARGUMENT,"Invalid segment ("+S+"). Paths must not contain // in them.");c.push.apply(c,S.split("/").filter(function(L){return L.length>0}))}return new e(c)},e.emptyPath=function(){return new e([])},e}(ue),st=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Et=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,C.__extends)(e,t),e.prototype.construct=function(o,a,c){return new e(o,a,c)},e.isValidIdentifier=function(o){return st.test(o)},e.prototype.canonicalString=function(){return this.toArray().map(function(o){return o=o.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(o)||(o="`"+o+"`"),o}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(o){for(var a=[],c="",g=0,w=function(){if(0===c.length)throw new In(en.INVALID_ARGUMENT,"Invalid field path ("+o+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");a.push(c),c=""},S=!1;g<o.length;){var L=o[g];if("\\"===L){if(g+1===o.length)throw new In(en.INVALID_ARGUMENT,"Path has trailing escape character: "+o);var te=o[g+1];if("\\"!==te&&"."!==te&&"`"!==te)throw new In(en.INVALID_ARGUMENT,"Path has invalid escape sequence: "+o);c+=te,g+=2}else"`"===L?(S=!S,g++):"."!==L||S?(c+=L,g++):(w(),g++)}if(w(),S)throw new In(en.INVALID_ARGUMENT,"Unterminated ` in path: "+o);return new e(a)},e.emptyPath=function(){return new e([])},e}(ue),hn=function(){function t(e){this.fields=e,e.sort(Et.comparator)}return t.prototype.covers=function(e){for(var o=0,a=this.fields;o<a.length;o++)if(a[o].isPrefixOf(e))return!0;return!1},t.prototype.isEqual=function(e){return wa(this.fields,e.fields,function(o,a){return o.isEqual(a)})},t}(),Gn=function(){function t(e){this.binaryString=e}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(o){for(var a="",c=0;c<o.length;++c)a+=String.fromCharCode(o[c]);return a}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(e){for(var o=new Uint8Array(e.length),a=0;a<e.length;a++)o[a]=e.charCodeAt(a);return o}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(e){return Pr(this.binaryString,e.binaryString)},t.prototype.isEqual=function(e){return this.binaryString===e.binaryString},t}();Gn.EMPTY_BYTE_STRING=new Gn("");var Dr=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vr(t){if(yr(!!t),"string"==typeof t){var e=0,o=Dr.exec(t);if(yr(!!o),o[1]){var a=o[1];a=(a+"000000000").substr(0,9),e=Number(a)}var c=new Date(t);return{seconds:Math.floor(c.getTime()/1e3),nanos:e}}return{seconds:zr(t.seconds),nanos:zr(t.nanos)}}function zr(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function ni(t){return"string"==typeof t?Gn.fromBase64String(t):Gn.fromUint8Array(t)}function ts(t){var e,o;return"server_timestamp"===(null===(o=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===o?void 0:o.stringValue)}function ns(t){var e=t.mapValue.fields.__previous_value__;return ts(e)?ns(e):e}function ms(t){var e=Vr(t.mapValue.fields.__local_write_time__.timestampValue);return new Po(e.seconds,e.nanos)}function er(t){return null==t}function oo(t){return 0===t&&1/t==-1/0}function Io(t){return"number"==typeof t&&Number.isInteger(t)&&!oo(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var mr=function(){function t(e){this.path=e}return t.fromPath=function(e){return new t(Ee.fromString(e))},t.fromName=function(e){return new t(Ee.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},t.prototype.isEqual=function(e){return null!==e&&0===Ee.comparator(this.path,e.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(e,o){return Ee.comparator(e.path,o.path)},t.isDocumentKey=function(e){return e.length%2==0},t.fromSegments=function(e){return new t(new Ee(e.slice()))},t}();function Ku(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ts(t)?4:10:fr()}function ua(t,e){var c,o=Ku(t);if(o!==Ku(e))return!1;switch(o){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ms(t).isEqual(ms(e));case 3:return function(a,c){if("string"==typeof a.timestampValue&&"string"==typeof c.timestampValue&&a.timestampValue.length===c.timestampValue.length)return a.timestampValue===c.timestampValue;var g=Vr(a.timestampValue),w=Vr(c.timestampValue);return g.seconds===w.seconds&&g.nanos===w.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return c=e,ni(t.bytesValue).isEqual(ni(c.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(a,c){return zr(a.geoPointValue.latitude)===zr(c.geoPointValue.latitude)&&zr(a.geoPointValue.longitude)===zr(c.geoPointValue.longitude)}(t,e);case 2:return function(a,c){if("integerValue"in a&&"integerValue"in c)return zr(a.integerValue)===zr(c.integerValue);if("doubleValue"in a&&"doubleValue"in c){var g=zr(a.doubleValue),w=zr(c.doubleValue);return g===w?oo(g)===oo(w):isNaN(g)&&isNaN(w)}return!1}(t,e);case 9:return wa(t.arrayValue.values||[],e.arrayValue.values||[],ua);case 10:return function(a,c){var g=a.mapValue.fields||{},w=c.mapValue.fields||{};if(k(g)!==k(w))return!1;for(var S in g)if(g.hasOwnProperty(S)&&(void 0===w[S]||!ua(g[S],w[S])))return!1;return!0}(t,e);default:return fr()}}function Ua(t,e){return void 0!==(t.values||[]).find(function(o){return ua(o,e)})}function Ca(t,e){var c,g,w,S,o=Ku(t),a=Ku(e);if(o!==a)return Pr(o,a);switch(o){case 0:return 0;case 1:return Pr(t.booleanValue,e.booleanValue);case 2:return g=e,(w=zr((c=t).integerValue||c.doubleValue))<(S=zr(g.integerValue||g.doubleValue))?-1:w>S?1:w===S?0:isNaN(w)?isNaN(S)?0:-1:1;case 3:return vl(t.timestampValue,e.timestampValue);case 4:return vl(ms(t),ms(e));case 5:return Pr(t.stringValue,e.stringValue);case 6:return function(c,g){var w=ni(c),S=ni(g);return w.compareTo(S)}(t.bytesValue,e.bytesValue);case 7:return function(c,g){for(var w=c.split("/"),S=g.split("/"),L=0;L<w.length&&L<S.length;L++){var te=Pr(w[L],S[L]);if(0!==te)return te}return Pr(w.length,S.length)}(t.referenceValue,e.referenceValue);case 8:return function(c,g){var w=Pr(zr(c.latitude),zr(g.latitude));return 0!==w?w:Pr(zr(c.longitude),zr(g.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(c,g){for(var w=c.values||[],S=g.values||[],L=0;L<w.length&&L<S.length;++L){var te=Ca(w[L],S[L]);if(te)return te}return Pr(w.length,S.length)}(t.arrayValue,e.arrayValue);case 10:return function(c,g){var w=c.fields||{},S=Object.keys(w),L=g.fields||{},te=Object.keys(L);S.sort(),te.sort();for(var de=0;de<S.length&&de<te.length;++de){var Ue=Pr(S[de],te[de]);if(0!==Ue)return Ue;var rt=Ca(w[S[de]],L[te[de]]);if(0!==rt)return rt}return Pr(S.length,te.length)}(t.mapValue,e.mapValue);default:throw fr()}}function vl(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Pr(t,e);var o=Vr(t),a=Vr(e),c=Pr(o.seconds,a.seconds);return 0!==c?c:Pr(o.nanos,a.nanos)}function Eu(t){return Yl(t)}function Yl(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?"time("+(c=Vr(t.timestampValue)).seconds+","+c.nanos+")":"stringValue"in t?t.stringValue:"bytesValue"in t?ni(t.bytesValue).toBase64():"referenceValue"in t?mr.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(a){for(var c="[",g=!0,w=0,S=a.values||[];w<S.length;w++)g?g=!1:c+=",",c+=Yl(S[w]);return c+"]"}(t.arrayValue):"mapValue"in t?function(a){for(var c="{",g=!0,w=0,S=Object.keys(a.fields||{}).sort();w<S.length;w++){var L=S[w];g?g=!1:c+=",",c+=L+":"+Yl(a.fields[L])}return c+"}"}(t.mapValue):fr();var c,e}function Ta(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function ql(t){return!!t&&"integerValue"in t}function kf(t){return!!t&&"arrayValue"in t}function ih(t){return!!t&&"nullValue"in t}function Ql(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function $u(t){return!!t&&"mapValue"in t}function yo(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue)return{timestampValue:Object.assign({},Vr(t.timestampValue))};if(t.mapValue){var e={mapValue:{fields:{}}};return O(t.mapValue.fields,function(c,g){return e.mapValue.fields[c]=yo(g)}),e}if(t.arrayValue){for(var o={arrayValue:{values:[]}},a=0;a<(t.arrayValue.values||[]).length;++a)o.arrayValue.values[a]=yo(t.arrayValue.values[a]);return o}return Object.assign({},t)}var Ia=function(){function t(e){this.value=e}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(e){if(e.isEmpty())return this.value;for(var o=this.value,a=0;a<e.length-1;++a)if(!$u(o=(o.mapValue.fields||{})[e.get(a)]))return null;return(o=(o.mapValue.fields||{})[e.lastSegment()])||null},t.prototype.set=function(e,o){this.getFieldsMap(e.popLast())[e.lastSegment()]=yo(o)},t.prototype.setAll=function(e){var o=this,a=Et.emptyPath(),c={},g=[];e.forEach(function(S,L){if(!a.isImmediateParentOf(L)){var te=o.getFieldsMap(a);o.applyChanges(te,c,g),c={},g=[],a=L.popLast()}S?c[L.lastSegment()]=yo(S):g.push(L.lastSegment())});var w=this.getFieldsMap(a);this.applyChanges(w,c,g)},t.prototype.delete=function(e){var o=this.field(e.popLast());$u(o)&&o.mapValue.fields&&delete o.mapValue.fields[e.lastSegment()]},t.prototype.isEqual=function(e){return ua(this.value,e.value)},t.prototype.getFieldsMap=function(e){var o=this.value;o.mapValue.fields||(o.mapValue={fields:{}});for(var a=0;a<e.length;++a){var c=o.mapValue.fields[e.get(a)];$u(c)&&c.mapValue.fields||(c={mapValue:{fields:{}}},o.mapValue.fields[e.get(a)]=c),o=c}return o.mapValue.fields},t.prototype.applyChanges=function(e,o,a){O(o,function(S,L){return e[S]=L});for(var c=0,g=a;c<g.length;c++)delete e[g[c]]},t.prototype.clone=function(){return new t(yo(this.value))},t}();function Fd(t){var e=[];return O(t.fields,function(o,a){var c=new Et([o]);if($u(a)){var g=Fd(a.mapValue).fields;if(0===g.length)e.push(c);else for(var w=0,S=g;w<S.length;w++)e.push(c.child(S[w]))}else e.push(c)}),new hn(e)}var _s=function(){function t(e,o,a,c,g){this.key=e,this.documentType=o,this.version=a,this.data=c,this.documentState=g}return t.newInvalidDocument=function(e){return new t(e,0,F.min(),Ia.empty(),0)},t.newFoundDocument=function(e,o,a){return new t(e,1,o,a,0)},t.newNoDocument=function(e,o){return new t(e,2,o,Ia.empty(),0)},t.newUnknownDocument=function(e,o){return new t(e,3,o,Ia.empty(),2)},t.prototype.convertToFoundDocument=function(e,o){return this.version=e,this.documentType=1,this.data=o,this.documentState=0,this},t.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=Ia.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=Ia.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),Nf=function(t,e,o,a,c,g,w){void 0===e&&(e=null),void 0===o&&(o=[]),void 0===a&&(a=[]),void 0===c&&(c=null),void 0===g&&(g=null),void 0===w&&(w=null),this.path=t,this.collectionGroup=e,this.orderBy=o,this.filters=a,this.limit=c,this.startAt=g,this.endAt=w,this.h=null};function Ff(t,e,o,a,c,g,w){return void 0===e&&(e=null),void 0===o&&(o=[]),void 0===a&&(a=[]),void 0===c&&(c=null),void 0===g&&(g=null),void 0===w&&(w=null),new Nf(t,e,o,a,c,g,w)}function zh(t){var e=Bn(t);if(null===e.h){var o=e.path.canonicalString();null!==e.collectionGroup&&(o+="|cg:"+e.collectionGroup),o+="|f:",o+=e.filters.map(function(a){return(c=a).field.canonicalString()+c.op.toString()+Eu(c.value);var c}).join(","),o+="|ob:",o+=e.orderBy.map(function(a){return(c=a).field.canonicalString()+c.dir;var c}).join(","),er(e.limit)||(o+="|l:",o+=e.limit),e.startAt&&(o+="|lb:",o+=vs(e.startAt)),e.endAt&&(o+="|ub:",o+=vs(e.endAt)),e.h=o}return e.h}function oh(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(var o=0;o<t.orderBy.length;o++)if(!qu(t.orderBy[o],e.orderBy[o]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var a=0;a<t.filters.length;a++)if((c=t.filters[a]).op!==(g=e.filters[a]).op||!c.field.isEqual(g.field)||!ua(c.value,g.value))return!1;var c,g;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Tu(t.startAt,e.startAt)&&Tu(t.endAt,e.endAt)}function wu(t){return mr.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Da=function(t){function e(o,a,c){var g=this;return(g=t.call(this)||this).field=o,g.op=a,g.value=c,g}return(0,C.__extends)(e,t),e.create=function(o,a,c){return o.isKeyField()?"in"===a||"not-in"===a?this.l(o,a,c):new Ld(o,a,c):"array-contains"===a?new rs(o,c):"in"===a?new sh(o,c):"not-in"===a?new $h(o,c):"array-contains-any"===a?new zp(o,c):new e(o,a,c)},e.l=function(o,a,c){return"in"===a?new yl(o,c):new Yu(o,c)},e.prototype.matches=function(o){var a=o.data.field(this.field);return"!="===this.op?null!==a&&this.m(Ca(a,this.value)):null!==a&&Ku(this.value)===Ku(a)&&this.m(Ca(a,this.value))},e.prototype.m=function(o){switch(this.op){case"<":return o<0;case"<=":return o<=0;case"==":return 0===o;case"!=":return 0!==o;case">":return o>0;case">=":return o>=0;default:return fr()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),Ld=function(t){function e(o,a,c){var g=this;return(g=t.call(this,o,a,c)||this).key=mr.fromName(c.referenceValue),g}return(0,C.__extends)(e,t),e.prototype.matches=function(o){var a=mr.comparator(o.key,this.key);return this.m(a)},e}(Da),yl=function(t){function e(o,a){var c=this;return(c=t.call(this,o,"in",a)||this).keys=Kh(0,a),c}return(0,C.__extends)(e,t),e.prototype.matches=function(o){return this.keys.some(function(a){return a.isEqual(o.key)})},e}(Da),Yu=function(t){function e(o,a){var c=this;return(c=t.call(this,o,"not-in",a)||this).keys=Kh(0,a),c}return(0,C.__extends)(e,t),e.prototype.matches=function(o){return!this.keys.some(function(a){return a.isEqual(o.key)})},e}(Da);function Kh(t,e){var o;return((null===(o=e.arrayValue)||void 0===o?void 0:o.values)||[]).map(function(a){return mr.fromName(a.referenceValue)})}var rs=function(t){function e(o,a){return t.call(this,o,"array-contains",a)||this}return(0,C.__extends)(e,t),e.prototype.matches=function(o){var a=o.data.field(this.field);return kf(a)&&Ua(a.arrayValue,this.value)},e}(Da),sh=function(t){function e(o,a){return t.call(this,o,"in",a)||this}return(0,C.__extends)(e,t),e.prototype.matches=function(o){var a=o.data.field(this.field);return null!==a&&Ua(this.value.arrayValue,a)},e}(Da),$h=function(t){function e(o,a){return t.call(this,o,"not-in",a)||this}return(0,C.__extends)(e,t),e.prototype.matches=function(o){if(Ua(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var a=o.data.field(this.field);return null!==a&&!Ua(this.value.arrayValue,a)},e}(Da),zp=function(t){function e(o,a){return t.call(this,o,"array-contains-any",a)||this}return(0,C.__extends)(e,t),e.prototype.matches=function(o){var a=this,c=o.data.field(this.field);return!(!kf(c)||!c.arrayValue.values)&&c.arrayValue.values.some(function(g){return Ua(a.value.arrayValue,g)})},e}(Da),bl=function(t,e){this.position=t,this.before=e};function vs(t){return(t.before?"b":"a")+":"+t.position.map(function(e){return Eu(e)}).join(",")}var xo=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function qu(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Cu(t,e,o){for(var a=0,c=0;c<t.position.length;c++){var g=e[c],w=t.position[c];if(a=g.field.isKeyField()?mr.comparator(mr.fromName(w.referenceValue),o.key):Ca(w,o.data.field(g.field)),"desc"===g.dir&&(a*=-1),0!==a)break}return t.before?a<=0:a<0}function Tu(t,e){if(null===t)return null===e;if(null===e||t.before!==e.before||t.position.length!==e.position.length)return!1;for(var o=0;o<t.position.length;o++)if(!ua(t.position[o],e.position[o]))return!1;return!0}var Iu=function(t,e,o,a,c,g,w,S){void 0===e&&(e=null),void 0===o&&(o=[]),void 0===a&&(a=[]),void 0===c&&(c=null),void 0===g&&(g="F"),void 0===w&&(w=null),void 0===S&&(S=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=o,this.filters=a,this.limit=c,this.limitType=g,this.startAt=w,this.endAt=S,this.p=null,this.T=null};function ah(t,e,o,a,c,g,w,S){return new Iu(t,e,o,a,c,g,w,S)}function Zl(t){return new Iu(t)}function Yh(t){return!er(t.limit)&&"F"===t.limitType}function uh(t){return!er(t.limit)&&"L"===t.limitType}function Du(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Js(t){for(var e=0,o=t.filters;e<o.length;e++){var a=o[e];if(a.g())return a.field}return null}function la(t){return null!==t.collectionGroup}function ja(t){var e=Bn(t);if(null===e.p){e.p=[];var o=Js(e),a=Du(e);if(null!==o&&null===a)o.isKeyField()||e.p.push(new xo(o)),e.p.push(new xo(Et.keyField(),"asc"));else{for(var c=!1,g=0,w=e.explicitOrderBy;g<w.length;g++){var S=w[g];e.p.push(S),S.field.isKeyField()&&(c=!0)}if(!c){var L=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new xo(Et.keyField(),L))}}}return e.p}function Ha(t){var e=Bn(t);if(!e.T)if("F"===e.limitType)e.T=Ff(e.path,e.collectionGroup,ja(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var o=[],a=0,c=ja(e);a<c.length;a++){var g=c[a];o.push(new xo(g.field,"desc"===g.dir?"asc":"desc"))}var S=e.endAt?new bl(e.endAt.position,!e.endAt.before):null,L=e.startAt?new bl(e.startAt.position,!e.startAt.before):null;e.T=Ff(e.path,e.collectionGroup,o,e.filters,e.limit,S,L)}return e.T}function qh(t,e,o){return new Iu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,o,t.startAt,t.endAt)}function ou(t,e){return oh(Ha(t),Ha(e))&&t.limitType===e.limitType}function El(t){return zh(Ha(t))+"|lt:"+t.limitType}function Ic(t){return"Query(target="+(o=(e=Ha(t)).path.canonicalString(),null!==e.collectionGroup&&(o+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(o+=", filters: ["+e.filters.map(function(a){return(c=a).field.canonicalString()+" "+c.op+" "+Eu(c.value);var c}).join(", ")+"]"),er(e.limit)||(o+=", limit: "+e.limit),e.orderBy.length>0&&(o+=", orderBy: ["+e.orderBy.map(function(a){return(c=a).field.canonicalString()+" ("+c.dir+")";var c}).join(", ")+"]"),e.startAt&&(o+=", startAt: "+vs(e.startAt)),e.endAt&&(o+=", endAt: "+vs(e.endAt)),"Target("+o+"); limitType=")+t.limitType+")";var e,o}function wl(t,e){return e.isFoundDocument()&&(c=(a=e).key.path,null!==(o=t).collectionGroup?a.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(c):mr.isDocumentKey(o.path)?o.path.isEqual(c):o.path.isImmediateParentOf(c))&&function(o,a){for(var c=0,g=o.explicitOrderBy;c<g.length;c++){var w=g[c];if(!w.field.isKeyField()&&null===a.data.field(w.field))return!1}return!0}(t,e)&&function(o,a){for(var c=0,g=o.filters;c<g.length;c++)if(!g[c].matches(a))return!1;return!0}(t,e)&&function(o,a){return!(o.startAt&&!Cu(o.startAt,ja(o),a)||o.endAt&&Cu(o.endAt,ja(o),a))}(t,e);var o,a,c}function Jl(t){return function(e,o){for(var a=!1,c=0,g=ja(t);c<g.length;c++){var w=g[c],S=Xl(w,e,o);if(0!==S)return S;a=a||w.field.isKeyField()}return 0}}function Xl(t,e,o){var c,w,S,L,a=t.field.isKeyField()?mr.comparator(e.key,o.key):(w=o,S=e.data.field(c=t.field),L=w.data.field(c),null!==S&&null!==L?Ca(S,L):fr());switch(t.dir){case"asc":return a;case"desc":return-1*a;default:return fr()}}function Su(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oo(e)?"-0":e}}function Dc(t){return{integerValue:""+t}}function Bd(t,e){return Io(e)?Dc(e):Su(t,e)}var Qu=function(){this._=void 0};function lh(t,e,o){return t instanceof Cl?(g={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:(a=o).seconds,nanos:a.nanoseconds}}}},(c=e)&&(g.fields.__previous_value__=c),{mapValue:g}):t instanceof Tl?ch(t,e):t instanceof Il?Zu(t,e):function(a,c){var g=Vd(a,c),w=Ga(g)+Ga(a.A);return ql(g)&&ql(a.A)?Dc(w):Su(a.R,w)}(t,e);var a,c,g}function Xs(t,e,o){return t instanceof Tl?ch(t,e):t instanceof Il?Zu(t,e):o}function Vd(t,e){return t instanceof Us?ql(o=e)||(a=o)&&"doubleValue"in a?e:{integerValue:0}:null;var a,o}var Cl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,C.__extends)(e,t),e}(Qu),Tl=function(t){function e(o){var a=this;return(a=t.call(this)||this).elements=o,a}return(0,C.__extends)(e,t),e}(Qu);function ch(t,e){for(var o=Au(e),a=function(w){o.some(function(S){return ua(S,w)})||o.push(w)},c=0,g=t.elements;c<g.length;c++)a(g[c]);return{arrayValue:{values:o}}}var Il=function(t){function e(o){var a=this;return(a=t.call(this)||this).elements=o,a}return(0,C.__extends)(e,t),e}(Qu);function Zu(t,e){for(var o=Au(e),a=function(w){o=o.filter(function(S){return!ua(S,w)})},c=0,g=t.elements;c<g.length;c++)a(g[c]);return{arrayValue:{values:o}}}var Us=function(t){function e(o,a){var c=this;return(c=t.call(this)||this).R=o,c.A=a,c}return(0,C.__extends)(e,t),e}(Qu);function Ga(t){return zr(t.integerValue||t.doubleValue)}function Au(t){return kf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Mi=function(t,e){this.field=t,this.transform=e},Mu=function(t,e){this.version=t,this.transformResults=e},is=function(){function t(e,o){this.updateTime=e,this.exists=o}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},t}();function Ru(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var os=function(){};function Qh(t,e,o){var a,c,g,w,S;t instanceof as?(c=e,g=o,w=(a=t).value.clone(),S=Sc(a.fieldTransforms,c,g.transformResults),w.setAll(S),c.convertToFoundDocument(g.version,w).setHasCommittedMutations()):t instanceof za?function(a,c,g){if(Ru(a.precondition,c)){var w=Sc(a.fieldTransforms,c,g.transformResults),S=c.data;S.setAll(Ps(a)),S.setAll(w),c.convertToFoundDocument(g.version,S).setHasCommittedMutations()}else c.convertToUnknownDocument(g.version)}(t,e,o):function(a,c,g){c.convertToNoDocument(g.version).setHasCommittedMutations()}(0,e,o)}function Zh(t,e,o){var c;t instanceof as?function(a,c,g){if(Ru(a.precondition,c)){var w=a.value.clone(),S=Ou(a.fieldTransforms,g,c);w.setAll(S),c.convertToFoundDocument(ss(c),w).setHasLocalMutations()}}(t,e,o):t instanceof za?function(a,c,g){if(Ru(a.precondition,c)){var w=Ou(a.fieldTransforms,g,c),S=c.data;S.setAll(Ps(a)),S.setAll(w),c.convertToFoundDocument(ss(c),S).setHasLocalMutations()}}(t,e,o):Ru(t.precondition,c=e)&&c.convertToNoDocument(F.min())}function Wa(t,e){for(var o=null,a=0,c=t.fieldTransforms;a<c.length;a++){var g=c[a],w=e.data.field(g.field),S=Vd(g.transform,w||null);null!=S&&(null==o&&(o=Ia.empty()),o.set(g.field,S))}return o||null}function Jh(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(a=e.fieldTransforms,!!(void 0===(o=t.fieldTransforms)&&void 0===a||o&&a&&wa(o,a,function(c,g){return(w=c).field.isEqual((S=g).field)&&(te=S.transform,(L=w.transform)instanceof Tl&&te instanceof Tl||L instanceof Il&&te instanceof Il?wa(L.elements,te.elements,ua):L instanceof Us&&te instanceof Us?ua(L.A,te.A):L instanceof Cl&&te instanceof Cl);var w,S,L,te})))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var o,a}function ss(t){return t.isFoundDocument()?t.version:F.min()}var as=function(t){function e(o,a,c,g){void 0===g&&(g=[]);var w=this;return(w=t.call(this)||this).key=o,w.value=a,w.precondition=c,w.fieldTransforms=g,w.type=0,w}return(0,C.__extends)(e,t),e}(os),za=function(t){function e(o,a,c,g,w){void 0===w&&(w=[]);var S=this;return(S=t.call(this)||this).key=o,S.data=a,S.fieldMask=c,S.precondition=g,S.fieldTransforms=w,S.type=1,S}return(0,C.__extends)(e,t),e}(os);function Ps(t){var e=new Map;return t.fieldMask.fields.forEach(function(o){if(!o.isEmpty()){var a=t.data.field(o);e.set(o,a)}}),e}function Sc(t,e,o){var a=new Map;yr(t.length===o.length);for(var c=0;c<o.length;c++){var g=t[c],w=g.transform,S=e.data.field(g.field);a.set(g.field,Xs(w,S,o[c]))}return a}function Ou(t,e,o){for(var a=new Map,c=0,g=t;c<g.length;c++){var w=g[c],S=w.transform,L=o.data.field(w.field);a.set(w.field,lh(S,L,e))}return a}var ko,Kr,js=function(t){function e(o,a){var c=this;return(c=t.call(this)||this).key=o,c.precondition=a,c.type=2,c.fieldTransforms=[],c}return(0,C.__extends)(e,t),e}(os),ca=function(t){function e(o,a){var c=this;return(c=t.call(this)||this).key=o,c.precondition=a,c.type=3,c.fieldTransforms=[],c}return(0,C.__extends)(e,t),e}(os),Kp=function(t){this.count=t};function us(t){switch(t){case en.OK:return fr();case en.CANCELLED:case en.UNKNOWN:case en.DEADLINE_EXCEEDED:case en.RESOURCE_EXHAUSTED:case en.INTERNAL:case en.UNAVAILABLE:case en.UNAUTHENTICATED:return!1;case en.INVALID_ARGUMENT:case en.NOT_FOUND:case en.ALREADY_EXISTS:case en.PERMISSION_DENIED:case en.FAILED_PRECONDITION:case en.ABORTED:case en.OUT_OF_RANGE:case en.UNIMPLEMENTED:case en.DATA_LOSS:return!0;default:return fr()}}function Ju(t){if(void 0===t)return ho("GRPC error has no .code"),en.UNKNOWN;switch(t){case ko.OK:return en.OK;case ko.CANCELLED:return en.CANCELLED;case ko.UNKNOWN:return en.UNKNOWN;case ko.DEADLINE_EXCEEDED:return en.DEADLINE_EXCEEDED;case ko.RESOURCE_EXHAUSTED:return en.RESOURCE_EXHAUSTED;case ko.INTERNAL:return en.INTERNAL;case ko.UNAVAILABLE:return en.UNAVAILABLE;case ko.UNAUTHENTICATED:return en.UNAUTHENTICATED;case ko.INVALID_ARGUMENT:return en.INVALID_ARGUMENT;case ko.NOT_FOUND:return en.NOT_FOUND;case ko.ALREADY_EXISTS:return en.ALREADY_EXISTS;case ko.PERMISSION_DENIED:return en.PERMISSION_DENIED;case ko.FAILED_PRECONDITION:return en.FAILED_PRECONDITION;case ko.ABORTED:return en.ABORTED;case ko.OUT_OF_RANGE:return en.OUT_OF_RANGE;case ko.UNIMPLEMENTED:return en.UNIMPLEMENTED;case ko.DATA_LOSS:return en.DATA_LOSS;default:return fr()}}(Kr=ko||(ko={}))[Kr.OK=0]="OK",Kr[Kr.CANCELLED=1]="CANCELLED",Kr[Kr.UNKNOWN=2]="UNKNOWN",Kr[Kr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Kr[Kr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Kr[Kr.NOT_FOUND=5]="NOT_FOUND",Kr[Kr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Kr[Kr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Kr[Kr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Kr[Kr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Kr[Kr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Kr[Kr.ABORTED=10]="ABORTED",Kr[Kr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Kr[Kr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Kr[Kr.INTERNAL=13]="INTERNAL",Kr[Kr.UNAVAILABLE=14]="UNAVAILABLE",Kr[Kr.DATA_LOSS=15]="DATA_LOSS";var ys=function(){function t(e,o){this.comparator=e,this.root=o||Sa.EMPTY}return t.prototype.insert=function(e,o){return new t(this.comparator,this.root.insert(e,o,this.comparator).copy(null,null,Sa.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Sa.BLACK,null,null))},t.prototype.get=function(e){for(var o=this.root;!o.isEmpty();){var a=this.comparator(e,o.key);if(0===a)return o.value;a<0?o=o.left:a>0&&(o=o.right)}return null},t.prototype.indexOf=function(e){for(var o=0,a=this.root;!a.isEmpty();){var c=this.comparator(e,a.key);if(0===c)return o+a.left.size;c<0?a=a.left:(o+=a.left.size+1,a=a.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},t.prototype.forEach=function(e){this.inorderTraversal(function(o,a){return e(o,a),!1})},t.prototype.toString=function(){var e=[];return this.inorderTraversal(function(o,a){return e.push(o+":"+a),!1}),"{"+e.join(", ")+"}"},t.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},t.prototype.getIterator=function(){return new ha(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(e){return new ha(this.root,e,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new ha(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(e){return new ha(this.root,e,this.comparator,!0)},t}(),ha=function(){function t(e,o,a,c){this.isReverse=c,this.nodeStack=[];for(var g=1;!e.isEmpty();)if(g=o?a(e.key,o):1,c&&(g*=-1),g<0)e=this.isReverse?e.left:e.right;else{if(0===g){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return t.prototype.getNext=function(){var e=this.nodeStack.pop(),o={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return o},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},t}(),Sa=function(){function t(e,o,a,c,g){this.key=e,this.value=o,this.color=null!=a?a:t.RED,this.left=null!=c?c:t.EMPTY,this.right=null!=g?g:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,o,a,c,g){return new t(null!=e?e:this.key,null!=o?o:this.value,null!=a?a:this.color,null!=c?c:this.left,null!=g?g:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},t.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(e,o,a){var c=this,g=a(e,c.key);return(c=g<0?c.copy(null,null,null,c.left.insert(e,o,a),null):0===g?c.copy(null,o,null,null,null):c.copy(null,null,null,null,c.right.insert(e,o,a))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,o){var a,c=this;if(o(e,c.key)<0)c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.remove(e,o),null);else{if(c.left.isRed()&&(c=c.rotateRight()),c.right.isEmpty()||c.right.isRed()||c.right.left.isRed()||(c=c.moveRedRight()),0===o(e,c.key)){if(c.right.isEmpty())return t.EMPTY;a=c.right.min(),c=c.copy(a.key,a.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(e,o))}return c.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},t.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},t.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),o=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,o)},t.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw fr();var e=this.left.check();if(e!==this.right.check())throw fr();return e+(this.isRed()?0:1)},t}();Sa.EMPTY=null,Sa.RED=!0,Sa.BLACK=!1,Sa.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw fr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw fr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw fr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw fr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw fr()},enumerable:!1,configurable:!0}),t.prototype.copy=function(e,o,a,c,g){return this},t.prototype.insert=function(e,o,a){return new Sa(e,o)},t.prototype.remove=function(e,o){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(e){return!1},t.prototype.reverseTraversal=function(e){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var No=function(){function t(e){this.comparator=e,this.data=new ys(this.comparator)}return t.prototype.has=function(e){return null!==this.data.get(e)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(e){return this.data.indexOf(e)},t.prototype.forEach=function(e){this.data.inorderTraversal(function(o,a){return e(o),!1})},t.prototype.forEachInRange=function(e,o){for(var a=this.data.getIteratorFrom(e[0]);a.hasNext();){var c=a.getNext();if(this.comparator(c.key,e[1])>=0)return;o(c.key)}},t.prototype.forEachWhile=function(e,o){var a;for(a=void 0!==o?this.data.getIteratorFrom(o):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return},t.prototype.firstAfterOrEqual=function(e){var o=this.data.getIteratorFrom(e);return o.hasNext()?o.getNext().key:null},t.prototype.getIterator=function(){return new $o(this.data.getIterator())},t.prototype.getIteratorFrom=function(e){return new $o(this.data.getIteratorFrom(e))},t.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},t.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(e){var o=this;return o.size<e.size&&(o=e,e=this),e.forEach(function(a){o=o.add(a)}),o},t.prototype.isEqual=function(e){if(!(e instanceof t)||this.size!==e.size)return!1;for(var o=this.data.getIterator(),a=e.data.getIterator();o.hasNext();){var c=o.getNext().key,g=a.getNext().key;if(0!==this.comparator(c,g))return!1}return!0},t.prototype.toArray=function(){var e=[];return this.forEach(function(o){e.push(o)}),e},t.prototype.toString=function(){var e=[];return this.forEach(function(o){return e.push(o)}),"SortedSet("+e.toString()+")"},t.prototype.copy=function(e){var o=new t(this.comparator);return o.data=e,o},t}(),$o=function(){function t(e){this.iter=e}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),Ud=new ys(mr.comparator);function da(){return Ud}var jd=new ys(mr.comparator);function ls(){return jd}var Ac=new ys(mr.comparator);function bs(){return Ac}var Xh=new No(mr.comparator);function Zi(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var o=Xh,a=0,c=t;a<c.length;a++){var g=c[a];o=o.add(g)}return o}var Hd=new No(Pr);function su(){return Hd}var Dl=function(){function t(e,o,a,c,g){this.snapshotVersion=e,this.targetChanges=o,this.targetMismatches=a,this.documentUpdates=c,this.resolvedLimboDocuments=g}return t.createSynthesizedRemoteEventForCurrentChange=function(e,o){var a=new Map;return a.set(e,Sl.createSynthesizedTargetChangeForCurrentChange(e,o)),new t(F.min(),a,su(),da(),Zi())},t}(),Sl=function(){function t(e,o,a,c,g){this.resumeToken=e,this.current=o,this.addedDocuments=a,this.modifiedDocuments=c,this.removedDocuments=g}return t.createSynthesizedTargetChangeForCurrentChange=function(e,o){return new t(Gn.EMPTY_BYTE_STRING,o,Zi(),Zi(),Zi())},t}(),ec=function(t,e,o,a){this.v=t,this.removedTargetIds=e,this.key=o,this.P=a},Xu=function(t,e){this.targetId=t,this.V=e},Ka=function(t,e,o,a){void 0===o&&(o=Gn.EMPTY_BYTE_STRING),void 0===a&&(a=null),this.state=t,this.targetIds=e,this.resumeToken=o,this.cause=a},Gd=function(){function t(){this.S=0,this.D=Mc(),this.C=Gn.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.O=function(e){e.approximateByteSize()>0&&(this.F=!0,this.C=e)},t.prototype.M=function(){var e=Zi(),o=Zi(),a=Zi();return this.D.forEach(function(c,g){switch(g){case 0:e=e.add(c);break;case 2:o=o.add(c);break;case 1:a=a.add(c);break;default:fr()}}),new Sl(this.C,this.N,e,o,a)},t.prototype.L=function(){this.F=!1,this.D=Mc()},t.prototype.B=function(e,o){this.F=!0,this.D=this.D.insert(e,o)},t.prototype.q=function(e){this.F=!0,this.D=this.D.remove(e)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),hh=function(){function t(e){this.W=e,this.G=new Map,this.H=da(),this.J=Wd(),this.Y=new No(Pr)}return t.prototype.X=function(e){for(var o=0,a=e.v;o<a.length;o++){var c=a[o];e.P&&e.P.isFoundDocument()?this.Z(c,e.P):this.tt(c,e.key,e.P)}for(var g=0,w=e.removedTargetIds;g<w.length;g++)this.tt(c=w[g],e.key,e.P)},t.prototype.et=function(e){var o=this;this.forEachTarget(e,function(a){var c=o.nt(a);switch(e.state){case 0:o.st(a)&&c.O(e.resumeToken);break;case 1:c.K(),c.k||c.L(),c.O(e.resumeToken);break;case 2:c.K(),c.k||o.removeTarget(a);break;case 3:o.st(a)&&(c.j(),c.O(e.resumeToken));break;case 4:o.st(a)&&(o.it(a),c.O(e.resumeToken));break;default:fr()}})},t.prototype.forEachTarget=function(e,o){var a=this;e.targetIds.length>0?e.targetIds.forEach(o):this.G.forEach(function(c,g){a.st(g)&&o(g)})},t.prototype.rt=function(e){var o=e.targetId,a=e.V.count,c=this.ot(o);if(c){var g=c.target;if(wu(g))if(0===a){var w=new mr(g.path);this.tt(o,w,_s.newNoDocument(w,F.min()))}else yr(1===a);else this.ct(o)!==a&&(this.it(o),this.Y=this.Y.add(o))}},t.prototype.ut=function(e){var o=this,a=new Map;this.G.forEach(function(w,S){var L=o.ot(S);if(L){if(w.current&&wu(L.target)){var te=new mr(L.target.path);null!==o.H.get(te)||o.at(S,te)||o.tt(S,te,_s.newNoDocument(te,e))}w.$&&(a.set(S,w.M()),w.L())}});var c=Zi();this.J.forEach(function(w,S){var L=!0;S.forEachWhile(function(te){var de=o.ot(te);return!de||2===de.purpose||(L=!1,!1)}),L&&(c=c.add(w))});var g=new Dl(e,a,this.Y,this.H,c);return this.H=da(),this.J=Wd(),this.Y=new No(Pr),g},t.prototype.Z=function(e,o){if(this.st(e)){var a=this.at(e,o.key)?2:0;this.nt(e).B(o.key,a),this.H=this.H.insert(o.key,o),this.J=this.J.insert(o.key,this.ht(o.key).add(e))}},t.prototype.tt=function(e,o,a){if(this.st(e)){var c=this.nt(e);this.at(e,o)?c.B(o,1):c.q(o),this.J=this.J.insert(o,this.ht(o).delete(e)),a&&(this.H=this.H.insert(o,a))}},t.prototype.removeTarget=function(e){this.G.delete(e)},t.prototype.ct=function(e){var o=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+o.addedDocuments.size-o.removedDocuments.size},t.prototype.U=function(e){this.nt(e).U()},t.prototype.nt=function(e){var o=this.G.get(e);return o||(o=new Gd,this.G.set(e,o)),o},t.prototype.ht=function(e){var o=this.J.get(e);return o||(o=new No(Pr),this.J=this.J.insert(e,o)),o},t.prototype.st=function(e){var o=null!==this.ot(e);return o||zn("WatchChangeAggregator","Detected inactive target",e),o},t.prototype.ot=function(e){var o=this.G.get(e);return o&&o.k?null:this.W.lt(e)},t.prototype.it=function(e){var o=this;this.G.set(e,new Gd),this.W.getRemoteKeysForTarget(e).forEach(function(a){o.tt(e,a,null)})},t.prototype.at=function(e,o){return this.W.getRemoteKeysForTarget(e).has(o)},t}();function Wd(){return new ys(mr.comparator)}function Mc(){return new ys(mr.comparator)}var Rc={asc:"ASCENDING",desc:"DESCENDING"},el={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Pu=function(t,e){this.databaseId=t,this.I=e};function xu(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function zd(t,e){return t.I?e.toBase64():e.toUint8Array()}function Kd(t,e){return xu(t,e.toTimestamp())}function cs(t){return yr(!!t),F.fromTimestamp((o=Vr(t),new Po(o.seconds,o.nanos)));var o}function $d(t,e){return(o=t,new Ee(["projects",o.projectId,"databases",o.database])).child("documents").child(e).canonicalString();var o}function Yd(t){var e=Ee.fromString(t);return yr(dh(e)),e}function Al(t,e){return $d(t.databaseId,e.path)}function ea(t,e){var o=Yd(e);if(o.get(1)!==t.databaseId.projectId)throw new In(en.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+o.get(1)+" vs "+t.databaseId.projectId);if(o.get(3)!==t.databaseId.database)throw new In(en.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+o.get(3)+" vs "+t.databaseId.database);return new mr(ed(o))}function Oc(t,e){return $d(t.databaseId,e)}function Aa(t){var e=Yd(t);return 4===e.length?Ee.emptyPath():ed(e)}function Ml(t){return new Ee(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ed(t){return yr(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function tl(t,e,o){return{name:Al(t,e),fields:o.value.mapValue.fields}}function fa(t,e,o){var a=ea(t,e.name),c=cs(e.updateTime),g=new Ia({mapValue:{fields:e.fields}}),w=_s.newFoundDocument(a,c,g);return o&&w.setHasCommittedMutations(),o?w.setHasCommittedMutations():w}function nl(t,e){var o,c;if(e instanceof as)o={update:tl(t,e.key,e.value)};else if(e instanceof js)o={delete:Al(t,e.key)};else if(e instanceof za)o={update:tl(t,e.key,e.data),updateMask:Ol(e.fieldMask)};else{if(!(e instanceof ca))return fr();o={verify:Al(t,e.key)}}return e.fieldTransforms.length>0&&(o.updateTransforms=e.fieldTransforms.map(function(a){return function(c,g){var w=g.transform;if(w instanceof Cl)return{fieldPath:g.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(w instanceof Tl)return{fieldPath:g.field.canonicalString(),appendMissingElements:{values:w.elements}};if(w instanceof Il)return{fieldPath:g.field.canonicalString(),removeAllFromArray:{values:w.elements}};if(w instanceof Us)return{fieldPath:g.field.canonicalString(),increment:w.A};throw fr()}(0,a)})),e.precondition.isNone||(o.currentDocument=void 0!==(c=e.precondition).updateTime?{updateTime:Kd(t,c.updateTime)}:void 0!==c.exists?{exists:c.exists}:fr()),o}function xs(t,e){var te,o=e.currentDocument?void 0!==(te=e.currentDocument).updateTime?is.updateTime(cs(te.updateTime)):void 0!==te.exists?is.exists(te.exists):is.none():is.none(),a=e.updateTransforms?e.updateTransforms.map(function(te){return function(de,Ue){var rt=null;"setToServerValue"in Ue?(yr("REQUEST_TIME"===Ue.setToServerValue),rt=new Cl):"appendMissingElements"in Ue?rt=new Tl(Ue.appendMissingElements.values||[]):"removeAllFromArray"in Ue?rt=new Il(Ue.removeAllFromArray.values||[]):"increment"in Ue?rt=new Us(de,Ue.increment):fr();var Jt=Et.fromServerFormat(Ue.fieldPath);return new Mi(Jt,rt)}(t,te)}):[];if(e.update){var c=ea(t,e.update.name),g=new Ia({mapValue:{fields:e.update.fields}});if(e.updateMask){var w=function(te){return new hn((te.fieldPaths||[]).map(function(Ue){return Et.fromServerFormat(Ue)}))}(e.updateMask);return new za(c,g,w,o,a)}return new as(c,g,o,a)}if(e.delete){var S=ea(t,e.delete);return new js(S,o)}if(e.verify){var L=ea(t,e.verify);return new ca(L,o)}return fr()}function Ma(t,e){return{documents:[Oc(t,e.path)]}}function td(t,e){var o={structuredQuery:{}},a=e.path;null!==e.collectionGroup?(o.parent=Oc(t,a),o.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o.parent=Oc(t,a.popLast()),o.structuredQuery.from=[{collectionId:a.lastSegment()}]);var c=function(S){if(0!==S.length){var L=S.map(function(te){return function(de){if("=="===de.op){if(Ql(de.value))return{unaryFilter:{field:au(de.field),op:"IS_NAN"}};if(ih(de.value))return{unaryFilter:{field:au(de.field),op:"IS_NULL"}}}else if("!="===de.op){if(Ql(de.value))return{unaryFilter:{field:au(de.field),op:"IS_NOT_NAN"}};if(ih(de.value))return{unaryFilter:{field:au(de.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:au(de.field),op:tc(de.op),value:de.value}}}(te)});return 1===L.length?L[0]:{compositeFilter:{op:"AND",filters:L}}}}(e.filters);c&&(o.structuredQuery.where=c);var g=function(S){if(0!==S.length)return S.map(function(L){return{field:au((te=L).field),direction:$p(te.dir)};var te})}(e.orderBy);g&&(o.structuredQuery.orderBy=g);var L,w=(L=e.limit,t.I||er(L)?L:{value:L});return null!==w&&(o.structuredQuery.limit=w),e.startAt&&(o.structuredQuery.startAt=Lf(e.startAt)),e.endAt&&(o.structuredQuery.endAt=Lf(e.endAt)),o}function Rl(t){var e=Aa(t.parent),o=t.structuredQuery,a=o.from?o.from.length:0,c=null;if(a>0){yr(1===a);var g=o.from[0];g.allDescendants?c=g.collectionId:e=e.child(g.collectionId)}var w=[];o.where&&(w=qd(o.where));var S=[];o.orderBy&&(S=o.orderBy.map(function(Ue){return new xo(uu((rt=Ue).field),function(Vt){switch(Vt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(rt.direction));var rt}));var Ue,rt,L=null;o.limit&&(L=er(rt="object"==typeof(Ue=o.limit)?Ue.value:Ue)?null:rt);var te=null;o.startAt&&(te=Bf(o.startAt));var de=null;return o.endAt&&(de=Bf(o.endAt)),ah(e,c,S,w,L,"F",te,de)}function qd(t){return t?void 0!==t.unaryFilter?[Yp(t)]:void 0!==t.fieldFilter?[Qd(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(e){return qd(e)}).reduce(function(e,o){return e.concat(o)}):fr():[]}function Lf(t){return{before:t.before,values:t.position}}function Bf(t){return new bl(t.values||[],!!t.before)}function $p(t){return Rc[t]}function tc(t){return el[t]}function au(t){return{fieldPath:t.canonicalString()}}function uu(t){return Et.fromServerFormat(t.fieldPath)}function Qd(t){return Da.create(uu(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return fr()}}(t.fieldFilter.op),t.fieldFilter.value)}function Yp(t){switch(t.unaryFilter.op){case"IS_NAN":var e=uu(t.unaryFilter.field);return Da.create(e,"==",{doubleValue:NaN});case"IS_NULL":var o=uu(t.unaryFilter.field);return Da.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var a=uu(t.unaryFilter.field);return Da.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var c=uu(t.unaryFilter.field);return Da.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return fr()}}function Ol(t){var e=[];return t.fields.forEach(function(o){return e.push(o.canonicalString())}),{fieldPaths:e}}function dh(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function $a(t){for(var e="",o=0;o<t.length;o++)e.length>0&&(e=rl(e)),e=ku(t.get(o),e);return rl(e)}function ku(t,e){for(var o=e,a=t.length,c=0;c<a;c++){var g=t.charAt(c);switch(g){case"\0":o+="\x01\x10";break;case"\x01":o+="\x01\x11";break;default:o+=g}}return o}function rl(t){return t+"\x01\x01"}function pa(t){var e=t.length;if(yr(e>=2),2===e)return yr("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Ee.emptyPath();for(var o=e-2,a=[],c="",g=0;g<e;){var w=t.indexOf("\x01",g);switch((w<0||w>o)&&fr(),t.charAt(w+1)){case"\x01":var S=t.substring(g,w),L=void 0;0===c.length?L=S:(L=c+=S,c=""),a.push(L);break;case"\x10":c+=t.substring(g,w),c+="\0";break;case"\x11":c+=t.substring(g,w+1);break;default:fr()}g=w+2}return new Ee(a)}var Es=function(t,e){this.seconds=t,this.nanoseconds=e},ks=function(t,e,o){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=o};ks.store="owner",ks.key="owner";var hs=function(t,e,o){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=o};hs.store="mutationQueues",hs.keyPath="userId";var Ji=function(t,e,o,a,c){this.userId=t,this.batchId=e,this.localWriteTimeMs=o,this.baseMutations=a,this.mutations=c};Ji.store="mutations",Ji.keyPath="batchId",Ji.userMutationsIndex="userMutationsIndex",Ji.userMutationsKeyPath=["userId","batchId"];var jr=function(){function t(){}return t.prefixForUser=function(e){return[e]},t.prefixForPath=function(e,o){return[e,$a(o)]},t.key=function(e,o,a){return[e,$a(o),a]},t}();jr.store="documentMutations",jr.PLACEHOLDER=new jr;var nc=function(t,e){this.path=t,this.readTime=e},Pc=function(t,e){this.path=t,this.version=e},bo=function(t,e,o,a,c,g){this.unknownDocument=t,this.noDocument=e,this.document=o,this.hasCommittedMutations=a,this.readTime=c,this.parentPath=g};bo.store="remoteDocuments",bo.readTimeIndex="readTimeIndex",bo.readTimeIndexPath="readTime",bo.collectionReadTimeIndex="collectionReadTimeIndex",bo.collectionReadTimeIndexPath=["parentPath","readTime"];var Yo=function(t){this.byteSize=t};Yo.store="remoteDocumentGlobal",Yo.key="remoteDocumentGlobalKey";var Hs=function(t,e,o,a,c,g,w){this.targetId=t,this.canonicalId=e,this.readTime=o,this.resumeToken=a,this.lastListenSequenceNumber=c,this.lastLimboFreeSnapshotVersion=g,this.query=w};Hs.store="targets",Hs.keyPath="targetId",Hs.queryTargetsIndexName="queryTargetsIndex",Hs.queryTargetsKeyPath=["canonicalId","targetId"];var Ns=function(t,e,o){this.targetId=t,this.path=e,this.sequenceNumber=o};Ns.store="targetDocuments",Ns.keyPath=["targetId","path"],Ns.documentTargetsIndex="documentTargetsIndex",Ns.documentTargetsKeyPath=["path","targetId"];var ta=function(t,e,o,a){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=o,this.targetCount=a};ta.key="targetGlobalKey",ta.store="targetGlobal";var Nu=function(t,e){this.collectionId=t,this.parent=e};Nu.store="collectionParents",Nu.keyPath=["collectionId","parent"];var il=function(t,e,o,a){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=o,this.inForeground=a};il.store="clientMetadata",il.keyPath="clientId";var fh=function(t,e,o){this.bundleId=t,this.createTime=e,this.version=o};fh.store="bundles",fh.keyPath="bundleId";var rc=function(t,e,o){this.name=t,this.readTime=e,this.bundledQuery=o};rc.store="namedQueries",rc.keyPath="name";var ol=(0,C.__spreadArray)((0,C.__spreadArray)([],(0,C.__spreadArray)((0,C.__spreadArray)([],(0,C.__spreadArray)((0,C.__spreadArray)([],(0,C.__spreadArray)((0,C.__spreadArray)([],[hs.store,Ji.store,jr.store,bo.store,Hs.store,ks.store,ta.store,Ns.store]),[il.store])),[Yo.store])),[Nu.store])),[fh.store,rc.store]),fo="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Fu=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(e){return e()})},t}(),so=function(){var t=this;this.promise=new Promise(function(e,o){t.resolve=e,t.reject=o})},Vn=function(){function t(e){var o=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(function(a){o.isDone=!0,o.result=a,o.nextCallback&&o.nextCallback(a)},function(a){o.isDone=!0,o.error=a,o.catchCallback&&o.catchCallback(a)})}return t.prototype.catch=function(e){return this.next(void 0,e)},t.prototype.next=function(e,o){var a=this;return this.callbackAttached&&fr(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(o,this.error):this.wrapSuccess(e,this.result):new t(function(c,g){a.nextCallback=function(w){a.wrapSuccess(e,w).next(c,g)},a.catchCallback=function(w){a.wrapFailure(o,w).next(c,g)}})},t.prototype.toPromise=function(){var e=this;return new Promise(function(o,a){e.next(o,a)})},t.prototype.wrapUserFunction=function(e){try{var o=e();return o instanceof t?o:t.resolve(o)}catch(a){return t.reject(a)}},t.prototype.wrapSuccess=function(e,o){return e?this.wrapUserFunction(function(){return e(o)}):t.resolve(o)},t.prototype.wrapFailure=function(e,o){return e?this.wrapUserFunction(function(){return e(o)}):t.reject(o)},t.resolve=function(e){return new t(function(o,a){o(e)})},t.reject=function(e){return new t(function(o,a){a(e)})},t.waitFor=function(e){return new t(function(o,a){var c=0,g=0,w=!1;e.forEach(function(S){++c,S.next(function(){++g,w&&g===c&&o()},function(L){return a(L)})}),w=!0,g===c&&o()})},t.or=function(e){for(var o=t.resolve(!1),a=function(w){o=o.next(function(S){return S?t.resolve(S):w()})},c=0,g=e;c<g.length;c++)a(g[c]);return o},t.forEach=function(e,o){var a=this,c=[];return e.forEach(function(g,w){c.push(o.call(a,g,w))}),this.waitFor(c)},t}(),ws=function(){function t(e,o){var a=this;this.action=e,this.transaction=o,this.aborted=!1,this.ft=new so,this.transaction.oncomplete=function(){a.ft.resolve()},this.transaction.onabort=function(){o.error?a.ft.reject(new ic(e,o.error)):a.ft.resolve()},this.transaction.onerror=function(c){var g=Zd(c.target.error);a.ft.reject(new ic(e,g))}}return t.open=function(e,o,a,c){try{return new t(o,e.transaction(c,a))}catch(g){throw new ic(o,g)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(zn("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(e){var o=this.transaction.objectStore(e);return new ph(o)},t}(),lu=function(){function t(e,o,a){this.name=e,this.version=o,this.wt=a,12.2===t._t((0,_e.getUA)())&&ho("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(e){return zn("SimpleDb","Removing database:",e),Pl(window.indexedDB.deleteDatabase(e)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=(0,_e.getUA)(),o=t._t(e),a=0<o&&o<10,c=t.Et(e),g=0<c&&c<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||a||g)},t.gt=function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Tt)},t.It=function(e,o){return e.store(o)},t._t=function(e){var o=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),a=o?o[1].split("_").slice(0,2).join("."):"-1";return Number(a)},t.Et=function(e){var o=e.match(/Android ([\d.]+)/i),a=o?o[1].split(".").slice(0,2).join("."):"-1";return Number(a)},t.prototype.At=function(e){return(0,C.__awaiter)(this,void 0,void 0,function(){var o,a=this;return(0,C.__generator)(this,function(c){switch(c.label){case 0:return this.db?[3,2]:(zn("SimpleDb","Opening database:",this.name),o=this,[4,new Promise(function(g,w){var S=indexedDB.open(a.name,a.version);S.onsuccess=function(L){g(L.target.result)},S.onblocked=function(){w(new ic(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},S.onerror=function(L){var te=L.target.error;w("VersionError"===te.name?new In(en.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new ic(e,te))},S.onupgradeneeded=function(L){zn("SimpleDb",'Database "'+a.name+'" requires upgrade from version:',L.oldVersion),a.wt.Rt(L.target.result,S.transaction,L.oldVersion,a.version).next(function(){zn("SimpleDb","Database upgrade to version "+a.version+" complete")})}})]);case 1:o.db=c.sent(),c.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(g){return a.bt(g)}),this.db)]}})})},t.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(o){return e(o)})},t.prototype.runTransaction=function(e,o,a,c){return(0,C.__awaiter)(this,void 0,void 0,function(){var g,w,S,L,te;return(0,C.__generator)(this,function(de){switch(de.label){case 0:g="readonly"===o,w=0,S=function(){var Ue,rt,Vt,Ft,Jt;return(0,C.__generator)(this,function(kn){switch(kn.label){case 0:++w,kn.label=1;case 1:return kn.trys.push([1,4,,5]),[4,L.At(e)];case 2:return L.db=kn.sent(),Ue=ws.open(L.db,e,g?"readonly":"readwrite",a),rt=c(Ue).catch(function(Kn){return Ue.abort(Kn),Vn.reject(Kn)}).toPromise(),Vt={},rt.catch(function(){}),[4,Ue.dt];case 3:return[2,(Vt.value=(kn.sent(),rt),Vt)];case 4:return zn("SimpleDb","Transaction failed with error:",(Ft=kn.sent()).message,"Retrying:",Jt="FirebaseError"!==Ft.name&&w<3),L.close(),Jt?[3,5]:[2,{value:Promise.reject(Ft)}];case 5:return[2]}})},L=this,de.label=1;case 1:return[5,S()];case 2:if("object"==typeof(te=de.sent()))return[2,te.value];de.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),nd=function(){function t(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(e){this.St=e},t.prototype.delete=function(){return Pl(this.Pt.delete())},t}(),ic=function(t){function e(o,a){var c=this;return(c=t.call(this,en.UNAVAILABLE,"IndexedDB transaction '"+o+"' failed: "+a)||this).name="IndexedDbTransactionError",c}return(0,C.__extends)(e,t),e}(In);function qo(t){return"IndexedDbTransactionError"===t.name}var ph=function(){function t(e){this.store=e}return t.prototype.put=function(e,o){var a;return void 0!==o?(zn("SimpleDb","PUT",this.store.name,e,o),a=this.store.put(o,e)):(zn("SimpleDb","PUT",this.store.name,"<auto-key>",e),a=this.store.put(e)),Pl(a)},t.prototype.add=function(e){return zn("SimpleDb","ADD",this.store.name,e,e),Pl(this.store.add(e))},t.prototype.get=function(e){var o=this;return Pl(this.store.get(e)).next(function(a){return void 0===a&&(a=null),zn("SimpleDb","GET",o.store.name,e,a),a})},t.prototype.delete=function(e){return zn("SimpleDb","DELETE",this.store.name,e),Pl(this.store.delete(e))},t.prototype.count=function(){return zn("SimpleDb","COUNT",this.store.name),Pl(this.store.count())},t.prototype.Nt=function(e,o){var a=this.cursor(this.options(e,o)),c=[];return this.xt(a,function(g,w){c.push(w)}).next(function(){return c})},t.prototype.Ft=function(e,o){zn("SimpleDb","DELETE ALL",this.store.name);var a=this.options(e,o);a.kt=!1;var c=this.cursor(a);return this.xt(c,function(g,w,S){return S.delete()})},t.prototype.$t=function(e,o){var a;o?a=e:(a={},o=e);var c=this.cursor(a);return this.xt(c,o)},t.prototype.Ot=function(e){var o=this.cursor({});return new Vn(function(a,c){o.onerror=function(g){var w=Zd(g.target.error);c(w)},o.onsuccess=function(g){var w=g.target.result;w?e(w.primaryKey,w.value).next(function(S){S?w.continue():a()}):a()}})},t.prototype.xt=function(e,o){var a=[];return new Vn(function(c,g){e.onerror=function(w){g(w.target.error)},e.onsuccess=function(w){var S=w.target.result;if(S){var L=new nd(S),te=o(S.primaryKey,S.value,L);if(te instanceof Vn){var de=te.catch(function(Ue){return L.done(),Vn.reject(Ue)});a.push(de)}L.isDone?c():null===L.Dt?S.continue():S.continue(L.Dt)}else c()}}).next(function(){return Vn.waitFor(a)})},t.prototype.options=function(e,o){var a;return void 0!==e&&("string"==typeof e?a=e:o=e),{index:a,range:o}},t.prototype.cursor=function(e){var o="next";if(e.reverse&&(o="prev"),e.index){var a=this.store.index(e.index);return e.kt?a.openKeyCursor(e.range,o):a.openCursor(e.range,o)}return this.store.openCursor(e.range,o)},t}();function Pl(t){return new Vn(function(e,o){t.onsuccess=function(a){e(a.target.result)},t.onerror=function(a){var c=Zd(a.target.error);o(c)}})}var rd=!1;function Zd(t){var e=lu._t((0,_e.getUA)());if(e>=12.2&&e<13){var o="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(o)>=0){var a=new In("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+o+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return rd||(rd=!0,setTimeout(function(){throw a},0)),a}}return t}var gh=function(t){function e(o,a){var c=this;return(c=t.call(this)||this).Mt=o,c.currentSequenceNumber=a,c}return(0,C.__extends)(e,t),e}(Fu);function ga(t,e){var o=Bn(t);return lu.It(o.Mt,e)}var Jd=function(){function t(e,o,a,c){this.batchId=e,this.localWriteTime=o,this.baseMutations=a,this.mutations=c}return t.prototype.applyToRemoteDocument=function(e,o){for(var a=o.mutationResults,c=0;c<this.mutations.length;c++){var g=this.mutations[c];g.key.isEqual(e.key)&&Qh(g,e,a[c])}},t.prototype.applyToLocalView=function(e){for(var o=0,a=this.baseMutations;o<a.length;o++)(w=a[o]).key.isEqual(e.key)&&Zh(w,e,this.localWriteTime);for(var c=0,g=this.mutations;c<g.length;c++){var w;(w=g[c]).key.isEqual(e.key)&&Zh(w,e,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(e){var o=this;this.mutations.forEach(function(a){var c=e.get(a.key),g=c;o.applyToLocalView(g),c.isValidDocument()||g.convertToNoDocument(F.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(e,o){return e.add(o.key)},Zi())},t.prototype.isEqual=function(e){return this.batchId===e.batchId&&wa(this.mutations,e.mutations,function(o,a){return Jh(o,a)})&&wa(this.baseMutations,e.baseMutations,function(o,a){return Jh(o,a)})},t}(),Vf=function(){function t(e,o,a,c){this.batch=e,this.commitVersion=o,this.mutationResults=a,this.docVersions=c}return t.from=function(e,o,a){yr(e.mutations.length===a.length);for(var c=bs(),g=e.mutations,w=0;w<g.length;w++)c=c.insert(g[w].key,a[w].version);return new t(e,o,a,c)},t}(),cu=function(){function t(e,o,a,c,g,w,S){void 0===g&&(g=F.min()),void 0===w&&(w=F.min()),void 0===S&&(S=Gn.EMPTY_BYTE_STRING),this.target=e,this.targetId=o,this.purpose=a,this.sequenceNumber=c,this.snapshotVersion=g,this.lastLimboFreeSnapshotVersion=w,this.resumeToken=S}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,o){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,o,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),mh=function(t){this.Lt=t};function id(t,e){if(e.document)return fa(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var o=mr.fromSegments(e.noDocument.path),a=xc(e.noDocument.readTime),c=_s.newNoDocument(o,a);return e.hasCommittedMutations?c.setHasCommittedMutations():c}if(e.unknownDocument){var g=mr.fromSegments(e.unknownDocument.path);return a=xc(e.unknownDocument.version),_s.newUnknownDocument(g,a)}return fr()}function Uf(t,e,o){var Ue,rt,a=na(o),c=e.key.path.popLast().toArray();if(e.isFoundDocument()){var g={name:Al(Ue=t.Lt,(rt=e).key),fields:rt.data.value.mapValue.fields,updateTime:xu(Ue,rt.version.toTimestamp())},w=e.hasCommittedMutations;return new bo(null,null,g,w,a,c)}if(e.isNoDocument()){var S=e.key.path.toArray(),L=sl(e.version);return w=e.hasCommittedMutations,new bo(null,new nc(S,L),null,w,a,c)}if(e.isUnknownDocument()){var te=e.key.path.toArray(),de=sl(e.version);return new bo(new Pc(te,de),null,null,!0,a,c)}return fr()}function na(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function _h(t){var e=new Po(t[0],t[1]);return F.fromTimestamp(e)}function sl(t){var e=t.toTimestamp();return new Es(e.seconds,e.nanoseconds)}function xc(t){var e=new Po(t.seconds,t.nanoseconds);return F.fromTimestamp(e)}function kc(t,e){for(var o=(e.baseMutations||[]).map(function(L){return xs(t.Lt,L)}),a=0;a<e.mutations.length-1;++a)a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(e.mutations[a].updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a);var w=e.mutations.map(function(L){return xs(t.Lt,L)}),S=Po.fromMillis(e.localWriteTimeMs);return new Jd(e.batchId,S,o,w)}function hu(t){var e,o,a=xc(t.readTime),c=void 0!==t.lastLimboFreeSnapshotVersion?xc(t.lastLimboFreeSnapshotVersion):F.min();return void 0!==t.query.documents?(yr(1===(o=t.query).documents.length),e=Ha(Zl(Aa(o.documents[0])))):e=Ha(Rl(t.query)),new cu(e,t.targetId,0,t.lastListenSequenceNumber,a,c,Gn.fromBase64String(t.resumeToken))}function jf(t,e){var o,a=sl(e.snapshotVersion),c=sl(e.lastLimboFreeSnapshotVersion);o=wu(e.target)?Ma(t.Lt,e.target):td(t.Lt,e.target);var g=e.resumeToken.toBase64();return new Hs(e.targetId,zh(e.target),a,g,e.sequenceNumber,c,o)}function Xd(t){var e=Rl({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?qh(e,e.limit,"L"):e}var ef=function(){function t(){}return t.prototype.getBundleMetadata=function(e,o){return od(e).get(o).next(function(a){if(a)return{id:(c=a).bundleId,createTime:xc(c.createTime),version:c.version};var c})},t.prototype.saveBundleMetadata=function(e,o){return od(e).put({bundleId:(a=o).id,createTime:sl(cs(a.createTime)),version:a.version});var a},t.prototype.getNamedQuery=function(e,o){return Ra(e).get(o).next(function(a){if(a)return{name:(c=a).name,query:Xd(c.bundledQuery),readTime:xc(c.readTime)};var c})},t.prototype.saveNamedQuery=function(e,o){return Ra(e).put({name:(a=o).name,readTime:sl(cs(a.readTime)),bundledQuery:a.bundledQuery});var a},t}();function od(t){return ga(t,fh.store)}function Ra(t){return ga(t,rc.store)}var Nc=function(){function t(){this.Bt=new Cs}return t.prototype.addToCollectionParentIndex=function(e,o){return this.Bt.add(o),Vn.resolve()},t.prototype.getCollectionParents=function(e,o){return Vn.resolve(this.Bt.getEntries(o))},t}(),Cs=function(){function t(){this.index={}}return t.prototype.add=function(e){var o=e.lastSegment(),a=e.popLast(),c=this.index[o]||new No(Ee.comparator),g=!c.has(a);return this.index[o]=c.add(a),g},t.prototype.has=function(e){var o=e.lastSegment(),a=e.popLast(),c=this.index[o];return c&&c.has(a)},t.prototype.getEntries=function(e){return(this.index[e]||new No(Ee.comparator)).toArray()},t}(),vh=function(){function t(){this.qt=new Cs}return t.prototype.addToCollectionParentIndex=function(e,o){var a=this;if(!this.qt.has(o)){var c=o.lastSegment(),g=o.popLast();e.addOnCommittedListener(function(){a.qt.add(o)});var w={collectionId:c,parent:$a(g)};return sd(e).put(w)}return Vn.resolve()},t.prototype.getCollectionParents=function(e,o){var a=[],c=IDBKeyRange.bound([o,""],[iu(o),""],!1,!0);return sd(e).Nt(c).next(function(g){for(var w=0,S=g;w<S.length;w++){var L=S[w];if(L.collectionId!==o)break;a.push(pa(L.parent))}return a})},t}();function sd(t){return ga(t,Nu.store)}var tf={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},du=function(){function t(e,o,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=o,this.maximumSequenceNumbersToCollect=a}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function qp(t,e,o){var a=t.store(Ji.store),c=t.store(jr.store),g=[],w=IDBKeyRange.only(o.batchId),S=0,L=a.$t({range:w},function(Ft,Jt,kn){return S++,kn.delete()});g.push(L.next(function(){yr(1===S)}));for(var te=[],de=0,Ue=o.mutations;de<Ue.length;de++){var rt=Ue[de],Vt=jr.key(e,rt.key.path,o.batchId);g.push(c.delete(Vt)),te.push(rt.key)}return Vn.waitFor(g).next(function(){return te})}function yh(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw fr();e=t.noDocument}return JSON.stringify(e).length}du.DEFAULT_COLLECTION_PERCENTILE=10,du.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,du.DEFAULT=new du(41943040,du.DEFAULT_COLLECTION_PERCENTILE,du.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),du.DISABLED=new du(-1,0,0);var Qp=function(){function t(e,o,a,c){this.userId=e,this.R=o,this.Ut=a,this.referenceDelegate=c,this.Kt={}}return t.Qt=function(e,o,a,c){return yr(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",o,a,c)},t.prototype.checkEmpty=function(e){var o=!0,a=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return xl(e).$t({index:Ji.userMutationsIndex,range:a},function(c,g,w){o=!1,w.done()}).next(function(){return o})},t.prototype.addMutationBatch=function(e,o,a,c){var g=this,w=fu(e),S=xl(e);return S.add({}).next(function(L){yr("number"==typeof L);for(var te=new Jd(L,o,a,c),de=function(Kn,Er,Tr){var ii=Tr.baseMutations.map(function(wo){return nl(Kn.Lt,wo)}),Xr=Tr.mutations.map(function(wo){return nl(Kn.Lt,wo)});return new Ji(Er,Tr.batchId,Tr.localWriteTime.toMillis(),ii,Xr)}(g.R,g.userId,te),Ue=[],rt=new No(function(Kn,Er){return Pr(Kn.canonicalString(),Er.canonicalString())}),Vt=0,Ft=c;Vt<Ft.length;Vt++){var Jt=Ft[Vt],kn=jr.key(g.userId,Jt.key.path,L);rt=rt.add(Jt.key.path.popLast()),Ue.push(S.put(de)),Ue.push(w.put(kn,jr.PLACEHOLDER))}return rt.forEach(function(Kn){Ue.push(g.Ut.addToCollectionParentIndex(e,Kn))}),e.addOnCommittedListener(function(){g.Kt[L]=te.keys()}),Vn.waitFor(Ue).next(function(){return te})})},t.prototype.lookupMutationBatch=function(e,o){var a=this;return xl(e).get(o).next(function(c){return c?(yr(c.userId===a.userId),kc(a.R,c)):null})},t.prototype.jt=function(e,o){var a=this;return this.Kt[o]?Vn.resolve(this.Kt[o]):this.lookupMutationBatch(e,o).next(function(c){if(c){var g=c.keys();return a.Kt[o]=g,g}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(e,o){var a=this,c=o+1,g=IDBKeyRange.lowerBound([this.userId,c]),w=null;return xl(e).$t({index:Ji.userMutationsIndex,range:g},function(S,L,te){L.userId===a.userId&&(yr(L.batchId>=c),w=kc(a.R,L)),te.done()}).next(function(){return w})},t.prototype.getHighestUnacknowledgedBatchId=function(e){var o=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),a=-1;return xl(e).$t({index:Ji.userMutationsIndex,range:o,reverse:!0},function(c,g,w){a=g.batchId,w.done()}).next(function(){return a})},t.prototype.getAllMutationBatches=function(e){var o=this,a=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return xl(e).Nt(Ji.userMutationsIndex,a).next(function(c){return c.map(function(g){return kc(o.R,g)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,o){var a=this,c=jr.prefixForPath(this.userId,o.path),g=IDBKeyRange.lowerBound(c),w=[];return fu(e).$t({range:g},function(S,L,te){var de=S[0],rt=S[2],Vt=pa(S[1]);if(de===a.userId&&o.path.isEqual(Vt))return xl(e).get(rt).next(function(Ft){if(!Ft)throw fr();yr(Ft.userId===a.userId),w.push(kc(a.R,Ft))});te.done()}).next(function(){return w})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,o){var a=this,c=new No(Pr),g=[];return o.forEach(function(w){var S=jr.prefixForPath(a.userId,w.path),L=IDBKeyRange.lowerBound(S),te=fu(e).$t({range:L},function(de,Ue,rt){var Vt=de[0],Jt=de[2],kn=pa(de[1]);Vt===a.userId&&w.path.isEqual(kn)?c=c.add(Jt):rt.done()});g.push(te)}),Vn.waitFor(g).next(function(){return a.Wt(e,c)})},t.prototype.getAllMutationBatchesAffectingQuery=function(e,o){var a=this,c=o.path,g=c.length+1,w=jr.prefixForPath(this.userId,c),S=IDBKeyRange.lowerBound(w),L=new No(Pr);return fu(e).$t({range:S},function(te,de,Ue){var rt=te[0],Ft=te[2],Jt=pa(te[1]);rt===a.userId&&c.isPrefixOf(Jt)?Jt.length===g&&(L=L.add(Ft)):Ue.done()}).next(function(){return a.Wt(e,L)})},t.prototype.Wt=function(e,o){var a=this,c=[],g=[];return o.forEach(function(w){g.push(xl(e).get(w).next(function(S){if(null===S)throw fr();yr(S.userId===a.userId),c.push(kc(a.R,S))}))}),Vn.waitFor(g).next(function(){return c})},t.prototype.removeMutationBatch=function(e,o){var a=this;return qp(e.Mt,this.userId,o).next(function(c){return e.addOnCommittedListener(function(){a.Gt(o.batchId)}),Vn.forEach(c,function(g){return a.referenceDelegate.markPotentiallyOrphaned(e,g)})})},t.prototype.Gt=function(e){delete this.Kt[e]},t.prototype.performConsistencyCheck=function(e){var o=this;return this.checkEmpty(e).next(function(a){if(!a)return Vn.resolve();var c=IDBKeyRange.lowerBound(jr.prefixForUser(o.userId)),g=[];return fu(e).$t({range:c},function(w,S,L){if(w[0]===o.userId){var te=pa(w[1]);g.push(te)}else L.done()}).next(function(){yr(0===g.length)})})},t.prototype.containsKey=function(e,o){return Hf(e,this.userId,o)},t.prototype.zt=function(e){var o=this;return pu(e).get(this.userId).next(function(a){return a||new hs(o.userId,-1,"")})},t}();function Hf(t,e,o){var a=jr.prefixForPath(e,o.path),c=a[1],g=IDBKeyRange.lowerBound(a),w=!1;return fu(t).$t({range:g,kt:!0},function(S,L,te){S[0]===e&&S[1]===c&&(w=!0),te.done()}).next(function(){return w})}function xl(t){return ga(t,Ji.store)}function fu(t){return ga(t,jr.store)}function pu(t){return ga(t,hs.store)}var nf=function(){function t(e){this.Ht=e}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),rm=function(){function t(e,o){this.referenceDelegate=e,this.R=o}return t.prototype.allocateTargetId=function(e){var o=this;return this.Xt(e).next(function(a){var c=new nf(a.highestTargetId);return a.highestTargetId=c.next(),o.Zt(e,a).next(function(){return a.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next(function(o){return F.fromTimestamp(new Po(o.lastRemoteSnapshotVersion.seconds,o.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next(function(o){return o.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(e,o,a){var c=this;return this.Xt(e).next(function(g){return g.highestListenSequenceNumber=o,a&&(g.lastRemoteSnapshotVersion=a.toTimestamp()),o>g.highestListenSequenceNumber&&(g.highestListenSequenceNumber=o),c.Zt(e,g)})},t.prototype.addTargetData=function(e,o){var a=this;return this.te(e,o).next(function(){return a.Xt(e).next(function(c){return c.targetCount+=1,a.ee(o,c),a.Zt(e,c)})})},t.prototype.updateTargetData=function(e,o){return this.te(e,o)},t.prototype.removeTargetData=function(e,o){var a=this;return this.removeMatchingKeysForTargetId(e,o.targetId).next(function(){return oc(e).delete(o.targetId)}).next(function(){return a.Xt(e)}).next(function(c){return yr(c.targetCount>0),c.targetCount-=1,a.Zt(e,c)})},t.prototype.removeTargets=function(e,o,a){var c=this,g=0,w=[];return oc(e).$t(function(S,L){var te=hu(L);te.sequenceNumber<=o&&null===a.get(te.targetId)&&(g++,w.push(c.removeTargetData(e,te)))}).next(function(){return Vn.waitFor(w)}).next(function(){return g})},t.prototype.forEachTarget=function(e,o){return oc(e).$t(function(a,c){var g=hu(c);o(g)})},t.prototype.Xt=function(e){return Zp(e).get(ta.key).next(function(o){return yr(null!==o),o})},t.prototype.Zt=function(e,o){return Zp(e).put(ta.key,o)},t.prototype.te=function(e,o){return oc(e).put(jf(this.R,o))},t.prototype.ee=function(e,o){var a=!1;return e.targetId>o.highestTargetId&&(o.highestTargetId=e.targetId,a=!0),e.sequenceNumber>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=e.sequenceNumber,a=!0),a},t.prototype.getTargetCount=function(e){return this.Xt(e).next(function(o){return o.targetCount})},t.prototype.getTargetData=function(e,o){var a=zh(o),c=IDBKeyRange.bound([a,Number.NEGATIVE_INFINITY],[a,Number.POSITIVE_INFINITY]),g=null;return oc(e).$t({range:c,index:Hs.queryTargetsIndexName},function(w,S,L){var te=hu(S);oh(o,te.target)&&(g=te,L.done())}).next(function(){return g})},t.prototype.addMatchingKeys=function(e,o,a){var c=this,g=[],w=Fs(e);return o.forEach(function(S){var L=$a(S.path);g.push(w.put(new Ns(a,L))),g.push(c.referenceDelegate.addReference(e,a,S))}),Vn.waitFor(g)},t.prototype.removeMatchingKeys=function(e,o,a){var c=this,g=Fs(e);return Vn.forEach(o,function(w){var S=$a(w.path);return Vn.waitFor([g.delete([a,S]),c.referenceDelegate.removeReference(e,a,w)])})},t.prototype.removeMatchingKeysForTargetId=function(e,o){var a=Fs(e),c=IDBKeyRange.bound([o],[o+1],!1,!0);return a.delete(c)},t.prototype.getMatchingKeysForTargetId=function(e,o){var a=IDBKeyRange.bound([o],[o+1],!1,!0),c=Fs(e),g=Zi();return c.$t({range:a,kt:!0},function(w,S,L){var te=pa(w[1]),de=new mr(te);g=g.add(de)}).next(function(){return g})},t.prototype.containsKey=function(e,o){var a=$a(o.path),c=IDBKeyRange.bound([a],[iu(a)],!1,!0),g=0;return Fs(e).$t({index:Ns.documentTargetsIndex,kt:!0,range:c},function(w,S,L){0!==w[0]&&(g++,L.done())}).next(function(){return g>0})},t.prototype.lt=function(e,o){return oc(e).get(o).next(function(a){return a?hu(a):null})},t}();function oc(t){return ga(t,Hs.store)}function Zp(t){return ga(t,ta.store)}function Fs(t){return ga(t,Ns.store)}function al(t){return(0,C.__awaiter)(this,void 0,void 0,function(){return(0,C.__generator)(this,function(e){if(t.code!==en.FAILED_PRECONDITION||t.message!==fo)throw t;return zn("LocalStore","Unexpectedly lost primary lease"),[2]})})}function kl(t,e){var a=t[1],g=e[1],w=Pr(t[0],e[0]);return 0===w?Pr(a,g):w}var Gf=function(){function t(e){this.ne=e,this.buffer=new No(kl),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(e){var o=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(o);else{var a=this.buffer.last();kl(o,a)<0&&(this.buffer=this.buffer.delete(a).add(o))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Nl=function(){function t(e,o){this.garbageCollector=e,this.asyncQueue=o,this.oe=!1,this.ce=null}return t.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(e)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(e){var o=this,a=this.oe?3e5:6e4;zn("LruGarbageCollector","Garbage collection scheduled in "+a+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",a,function(){return(0,C.__awaiter)(o,void 0,void 0,function(){var c;return(0,C.__generator)(this,function(g){switch(g.label){case 0:this.ce=null,this.oe=!0,g.label=1;case 1:return g.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return g.sent(),[3,7];case 3:return qo(c=g.sent())?(zn("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",c),[3,6]):[3,4];case 4:return[4,al(c)];case 5:g.sent(),g.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return g.sent(),[2]}})})})},t}(),Fl=function(){function t(e,o){this.ae=e,this.params=o}return t.prototype.calculateTargetCount=function(e,o){return this.ae.he(e).next(function(a){return Math.floor(o/100*a)})},t.prototype.nthSequenceNumber=function(e,o){var a=this;if(0===o)return Vn.resolve(gs.o);var c=new Gf(o);return this.ae.forEachTarget(e,function(g){return c.re(g.sequenceNumber)}).next(function(){return a.ae.le(e,function(g){return c.re(g)})}).next(function(){return c.maxValue})},t.prototype.removeTargets=function(e,o,a){return this.ae.removeTargets(e,o,a)},t.prototype.removeOrphanedDocuments=function(e,o){return this.ae.removeOrphanedDocuments(e,o)},t.prototype.collect=function(e,o){var a=this;return-1===this.params.cacheSizeCollectionThreshold?(zn("LruGarbageCollector","Garbage collection skipped; disabled"),Vn.resolve(tf)):this.getCacheSize(e).next(function(c){return c<a.params.cacheSizeCollectionThreshold?(zn("LruGarbageCollector","Garbage collection skipped; Cache size "+c+" is lower than threshold "+a.params.cacheSizeCollectionThreshold),tf):a.fe(e,o)})},t.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},t.prototype.fe=function(e,o){var a,c,g,w,S,L,te,de=this,Ue=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(function(rt){return rt>de.params.maximumSequenceNumbersToCollect?(zn("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+de.params.maximumSequenceNumbersToCollect+" from "+rt),c=de.params.maximumSequenceNumbersToCollect):c=rt,w=Date.now(),de.nthSequenceNumber(e,c)}).next(function(rt){return a=rt,S=Date.now(),de.removeTargets(e,a,o)}).next(function(rt){return g=rt,L=Date.now(),de.removeOrphanedDocuments(e,a)}).next(function(rt){return te=Date.now(),zu()<=ee.LogLevel.DEBUG&&zn("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(w-Ue)+"ms\n\tDetermined least recently used "+c+" in "+(S-w)+"ms\n\tRemoved "+g+" targets in "+(L-S)+"ms\n\tRemoved "+rt+" documents in "+(te-L)+"ms\nTotal Duration: "+(te-Ue)+"ms"),Vn.resolve({didRun:!0,sequenceNumbersCollected:c,targetsRemoved:g,documentsRemoved:rt})})},t}(),rf=function(){function t(e,o){this.db=e,this.garbageCollector=new Fl(this,o)}return t.prototype.he=function(e){var o=this.de(e);return this.db.getTargetCache().getTargetCount(e).next(function(a){return o.next(function(c){return a+c})})},t.prototype.de=function(e){var o=0;return this.le(e,function(a){o++}).next(function(){return o})},t.prototype.forEachTarget=function(e,o){return this.db.getTargetCache().forEachTarget(e,o)},t.prototype.le=function(e,o){return this.we(e,function(a,c){return o(c)})},t.prototype.addReference=function(e,o,a){return Fc(e,a)},t.prototype.removeReference=function(e,o,a){return Fc(e,a)},t.prototype.removeTargets=function(e,o,a){return this.db.getTargetCache().removeTargets(e,o,a)},t.prototype.markPotentiallyOrphaned=function(e,o){return Fc(e,o)},t.prototype._e=function(e,o){return c=o,g=!1,pu(a=e).Ot(function(w){return Hf(a,w,c).next(function(S){return S&&(g=!0),Vn.resolve(!S)})}).next(function(){return g});var a,c,g},t.prototype.removeOrphanedDocuments=function(e,o){var a=this,c=this.db.getRemoteDocumentCache().newChangeBuffer(),g=[],w=0;return this.we(e,function(S,L){if(L<=o){var te=a._e(e,S).next(function(de){if(!de)return w++,c.getEntry(e,S).next(function(){return c.removeEntry(S),Fs(e).delete([0,$a(S.path)])})});g.push(te)}}).next(function(){return Vn.waitFor(g)}).next(function(){return c.apply(e)}).next(function(){return w})},t.prototype.removeTarget=function(e,o){var a=o.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,a)},t.prototype.updateLimboDocument=function(e,o){return Fc(e,o)},t.prototype.we=function(e,o){var a,c=Fs(e),g=gs.o;return c.$t({index:Ns.documentTargetsIndex},function(w,S){var te=S.path,de=S.sequenceNumber;0===w[0]?(g!==gs.o&&o(new mr(pa(a)),g),g=de,a=te):g=gs.o}).next(function(){g!==gs.o&&o(new mr(pa(a)),g)})},t.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},t}();function Fc(t,e){return Fs(t).put((a=t.currentSequenceNumber,new Ns(0,$a(e.path),a)));var a}var Ll=function(){function t(e,o){this.mapKeyFn=e,this.equalsFn=o,this.inner={}}return t.prototype.get=function(e){var o=this.mapKeyFn(e),a=this.inner[o];if(void 0!==a)for(var c=0,g=a;c<g.length;c++){var w=g[c],L=w[1];if(this.equalsFn(w[0],e))return L}},t.prototype.has=function(e){return void 0!==this.get(e)},t.prototype.set=function(e,o){var a=this.mapKeyFn(e),c=this.inner[a];if(void 0!==c){for(var g=0;g<c.length;g++)if(this.equalsFn(c[g][0],e))return void(c[g]=[e,o]);c.push([e,o])}else this.inner[a]=[[e,o]]},t.prototype.delete=function(e){var o=this.mapKeyFn(e),a=this.inner[o];if(void 0===a)return!1;for(var c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return 1===a.length?delete this.inner[o]:a.splice(c,1),!0;return!1},t.prototype.forEach=function(e){O(this.inner,function(o,a){for(var c=0,g=a;c<g.length;c++){var w=g[c];e(w[0],w[1])}})},t.prototype.isEmpty=function(){return q(this.inner)},t}(),ad=function(){function t(){this.changes=new Ll(function(e){return e.toString()},function(e,o){return e.isEqual(o)}),this.changesApplied=!1}return t.prototype.getReadTime=function(e){var o=this.changes.get(e);return o?o.readTime:F.min()},t.prototype.addEntry=function(e,o){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:o})},t.prototype.removeEntry=function(e,o){void 0===o&&(o=null),this.assertNotApplied(),this.changes.set(e,{document:_s.newInvalidDocument(e),readTime:o})},t.prototype.getEntry=function(e,o){this.assertNotApplied();var a=this.changes.get(o);return void 0!==a?Vn.resolve(a.document):this.getFromCache(e,o)},t.prototype.getEntries=function(e,o){return this.getAllFromCache(e,o)},t.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},t.prototype.assertNotApplied=function(){},t}(),Wf=function(){function t(e,o){this.R=e,this.Ut=o}return t.prototype.addEntry=function(e,o,a){return Lu(e).put(bh(o),a)},t.prototype.removeEntry=function(e,o){var a=Lu(e),c=bh(o);return a.delete(c)},t.prototype.updateMetadata=function(e,o){var a=this;return this.getMetadata(e).next(function(c){return c.byteSize+=o,a.me(e,c)})},t.prototype.getEntry=function(e,o){var a=this;return Lu(e).get(bh(o)).next(function(c){return a.ye(o,c)})},t.prototype.ge=function(e,o){var a=this;return Lu(e).get(bh(o)).next(function(c){return{document:a.ye(o,c),size:yh(c)}})},t.prototype.getEntries=function(e,o){var a=this,c=da();return this.pe(e,o,function(g,w){var S=a.ye(g,w);c=c.insert(g,S)}).next(function(){return c})},t.prototype.Ee=function(e,o){var a=this,c=da(),g=new ys(mr.comparator);return this.pe(e,o,function(w,S){var L=a.ye(w,S);c=c.insert(w,L),g=g.insert(w,yh(S))}).next(function(){return{documents:c,Te:g}})},t.prototype.pe=function(e,o,a){if(o.isEmpty())return Vn.resolve();var c=IDBKeyRange.bound(o.first().path.toArray(),o.last().path.toArray()),g=o.getIterator(),w=g.getNext();return Lu(e).$t({range:c},function(S,L,te){for(var de=mr.fromSegments(S);w&&mr.comparator(w,de)<0;)a(w,null),w=g.getNext();w&&w.isEqual(de)&&(a(w,L),w=g.hasNext()?g.getNext():null),w?te.Ct(w.path.toArray()):te.done()}).next(function(){for(;w;)a(w,null),w=g.hasNext()?g.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(e,o,a){var c=this,g=da(),w=o.path.length+1,S={};if(a.isEqual(F.min())){var L=o.path.toArray();S.range=IDBKeyRange.lowerBound(L)}else{var te=o.path.toArray(),de=na(a);S.range=IDBKeyRange.lowerBound([te,de],!0),S.index=bo.collectionReadTimeIndex}return Lu(e).$t(S,function(Ue,rt,Vt){if(Ue.length===w){var Ft=id(c.R,rt);o.path.isPrefixOf(Ft.key.path)?wl(o,Ft)&&(g=g.insert(Ft.key,Ft)):Vt.done()}}).next(function(){return g})},t.prototype.newChangeBuffer=function(e){return new im(this,!!e&&e.trackRemovals)},t.prototype.getSize=function(e){return this.getMetadata(e).next(function(o){return o.byteSize})},t.prototype.getMetadata=function(e){return sc(e).get(Yo.key).next(function(o){return yr(!!o),o})},t.prototype.me=function(e,o){return sc(e).put(Yo.key,o)},t.prototype.ye=function(e,o){if(o){var a=id(this.R,o);if(!a.isNoDocument()||!a.version.isEqual(F.min()))return a}return _s.newInvalidDocument(e)},t}(),im=function(t){function e(o,a){var c=this;return(c=t.call(this)||this).Ie=o,c.trackRemovals=a,c.Ae=new Ll(function(g){return g.toString()},function(g,w){return g.isEqual(w)}),c}return(0,C.__extends)(e,t),e.prototype.applyChanges=function(o){var a=this,c=[],g=0,w=new No(function(S,L){return Pr(S.canonicalString(),L.canonicalString())});return this.changes.forEach(function(S,L){var te=a.Ae.get(S);if(L.document.isValidDocument()){var de=Uf(a.Ie.R,L.document,a.getReadTime(S));w=w.add(S.path.popLast());var Ue=yh(de);g+=Ue-te,c.push(a.Ie.addEntry(o,S,de))}else if(g-=te,a.trackRemovals){var rt=Uf(a.Ie.R,_s.newNoDocument(S,F.min()),a.getReadTime(S));c.push(a.Ie.addEntry(o,S,rt))}else c.push(a.Ie.removeEntry(o,S))}),w.forEach(function(S){c.push(a.Ie.Ut.addToCollectionParentIndex(o,S))}),c.push(this.Ie.updateMetadata(o,g)),Vn.waitFor(c)},e.prototype.getFromCache=function(o,a){var c=this;return this.Ie.ge(o,a).next(function(g){return c.Ae.set(a,g.size),g.document})},e.prototype.getAllFromCache=function(o,a){var c=this;return this.Ie.Ee(o,a).next(function(g){var w=g.documents;return g.Te.forEach(function(S,L){c.Ae.set(S,L)}),w})},e}(ad);function sc(t){return ga(t,Yo.store)}function Lu(t){return ga(t,bo.store)}function bh(t){return t.path.toArray()}var zf=function(){function t(e){this.R=e}return t.prototype.Rt=function(e,o,a,c){var g=this;yr(a<c&&a>=0&&c<=11);var L,w=new ws("createOrUpgrade",o);a<1&&c>=1&&(e.createObjectStore(ks.store),(L=e).createObjectStore(hs.store,{keyPath:hs.keyPath}),L.createObjectStore(Ji.store,{keyPath:Ji.keyPath,autoIncrement:!0}).createIndex(Ji.userMutationsIndex,Ji.userMutationsKeyPath,{unique:!0}),L.createObjectStore(jr.store),ud(e),function(L){L.createObjectStore(bo.store)}(e));var S=Vn.resolve();return a<3&&c>=3&&(0!==a&&(function(L){L.deleteObjectStore(Ns.store),L.deleteObjectStore(Hs.store),L.deleteObjectStore(ta.store)}(e),ud(e)),S=S.next(function(){return function(L){var te=L.store(ta.store),de=new ta(0,0,F.min().toTimestamp(),0);return te.put(ta.key,de)}(w)})),a<4&&c>=4&&(0!==a&&(S=S.next(function(){return function(L,te){return te.store(Ji.store).Nt().next(function(de){L.deleteObjectStore(Ji.store),L.createObjectStore(Ji.store,{keyPath:Ji.keyPath,autoIncrement:!0}).createIndex(Ji.userMutationsIndex,Ji.userMutationsKeyPath,{unique:!0});var Ue=te.store(Ji.store),rt=de.map(function(Vt){return Ue.put(Vt)});return Vn.waitFor(rt)})}(e,w)})),S=S.next(function(){!function(L){L.createObjectStore(il.store,{keyPath:il.keyPath})}(e)})),a<5&&c>=5&&(S=S.next(function(){return g.Re(w)})),a<6&&c>=6&&(S=S.next(function(){return function(L){L.createObjectStore(Yo.store)}(e),g.be(w)})),a<7&&c>=7&&(S=S.next(function(){return g.ve(w)})),a<8&&c>=8&&(S=S.next(function(){return g.Pe(e,w)})),a<9&&c>=9&&(S=S.next(function(){(function(L){L.objectStoreNames.contains("remoteDocumentChanges")&&L.deleteObjectStore("remoteDocumentChanges")})(e),function(L){var te=L.objectStore(bo.store);te.createIndex(bo.readTimeIndex,bo.readTimeIndexPath,{unique:!1}),te.createIndex(bo.collectionReadTimeIndex,bo.collectionReadTimeIndexPath,{unique:!1})}(o)})),a<10&&c>=10&&(S=S.next(function(){return g.Ve(w)})),a<11&&c>=11&&(S=S.next(function(){(function(L){L.createObjectStore(fh.store,{keyPath:fh.keyPath})})(e),function(L){L.createObjectStore(rc.store,{keyPath:rc.keyPath})}(e)})),S},t.prototype.be=function(e){var o=0;return e.store(bo.store).$t(function(a,c){o+=yh(c)}).next(function(){var a=new Yo(o);return e.store(Yo.store).put(Yo.key,a)})},t.prototype.Re=function(e){var o=this,a=e.store(hs.store),c=e.store(Ji.store);return a.Nt().next(function(g){return Vn.forEach(g,function(w){var S=IDBKeyRange.bound([w.userId,-1],[w.userId,w.lastAcknowledgedBatchId]);return c.Nt(Ji.userMutationsIndex,S).next(function(L){return Vn.forEach(L,function(te){yr(te.userId===w.userId);var de=kc(o.R,te);return qp(e,w.userId,de).next(function(){})})})})})},t.prototype.ve=function(e){var o=e.store(Ns.store),a=e.store(bo.store);return e.store(ta.store).get(ta.key).next(function(c){var g=[];return a.$t(function(w,S){var L=new Ee(w),te=[0,$a(L)];g.push(o.get(te).next(function(de){return de?Vn.resolve():o.put(new Ns(0,$a(L),c.highestListenSequenceNumber))}))}).next(function(){return Vn.waitFor(g)})})},t.prototype.Pe=function(e,o){e.createObjectStore(Nu.store,{keyPath:Nu.keyPath});var a=o.store(Nu.store),c=new Cs,g=function(w){if(c.add(w)){var S=w.lastSegment(),L=w.popLast();return a.put({collectionId:S,parent:$a(L)})}};return o.store(bo.store).$t({kt:!0},function(w,S){var L=new Ee(w);return g(L.popLast())}).next(function(){return o.store(jr.store).$t({kt:!0},function(w,S){var te=pa(w[1]);return g(te.popLast())})})},t.prototype.Ve=function(e){var o=this,a=e.store(Hs.store);return a.$t(function(c,g){var w=hu(g),S=jf(o.R,w);return a.put(S)})},t}();function ud(t){t.createObjectStore(Ns.store,{keyPath:Ns.keyPath}).createIndex(Ns.documentTargetsIndex,Ns.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Hs.store,{keyPath:Hs.keyPath}).createIndex(Hs.queryTargetsIndexName,Hs.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(ta.store)}var sf="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Jp=function(){function t(e,o,a,c,g,w,S,L,te,de){if(this.allowTabSynchronization=e,this.persistenceKey=o,this.clientId=a,this.Se=g,this.window=w,this.document=S,this.De=te,this.Ce=de,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(Ue){return Promise.resolve()},!t.yt())throw new In(en.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new rf(this,c),this.Le=o+"main",this.R=new mh(L),this.Be=new lu(this.Le,11,new zf(this.R)),this.qe=new rm(this.referenceDelegate,this.R),this.Ut=new vh,this.Ue=new Wf(this.R,this.Ut),this.Ke=new ef,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===de&&ho("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var e=this;return this.je().then(function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new In(en.FAILED_PRECONDITION,sf);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",function(o){return e.qe.getHighestSequenceNumber(o)})}).then(function(o){e.Ne=new gs(o,e.De)}).then(function(){e.xe=!0}).catch(function(o){return e.Be&&e.Be.close(),Promise.reject(o)})},t.prototype.He=function(e){var o=this;return this.Me=function(a){return(0,C.__awaiter)(o,void 0,void 0,function(){return(0,C.__generator)(this,function(c){return this.started?[2,e(a)]:[2]})})},e(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(e){var o=this;this.Be.vt(function(a){return(0,C.__awaiter)(o,void 0,void 0,function(){return(0,C.__generator)(this,function(c){switch(c.label){case 0:return null===a.newVersion?[4,e()]:[3,2];case 1:c.sent(),c.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(e){var o=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget(function(){return(0,C.__awaiter)(o,void 0,void 0,function(){return(0,C.__generator)(this,function(a){switch(a.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(o){return vi(o).put(new il(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next(function(){if(e.isPrimary)return e.Je(o).next(function(a){a||(e.isPrimary=!1,e.Se.enqueueRetryable(function(){return e.Me(!1)}))})}).next(function(){return e.Ye(o)}).next(function(a){return e.isPrimary&&!a?e.Xe(o).next(function(){return!1}):!!a&&e.Ze(o).next(function(){return!0})})}).catch(function(o){if(qo(o))return zn("IndexedDbPersistence","Failed to extend owner lease: ",o),e.isPrimary;if(!e.allowTabSynchronization)throw o;return zn("IndexedDbPersistence","Releasing owner lease after error during lease refresh",o),!1}).then(function(o){e.isPrimary!==o&&e.Se.enqueueRetryable(function(){return e.Me(o)}),e.isPrimary=o})},t.prototype.Je=function(e){var o=this;return Eh(e).get(ks.key).next(function(a){return Vn.resolve(o.tn(a))})},t.prototype.en=function(e){return vi(e).delete(this.clientId)},t.prototype.nn=function(){return(0,C.__awaiter)(this,void 0,void 0,function(){var e,o,a,g=this;return(0,C.__generator)(this,function(w){switch(w.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(S){var L=ga(S,il.store);return L.Nt().next(function(te){var de=g.rn(te,18e5),Ue=te.filter(function(rt){return-1===de.indexOf(rt)});return Vn.forEach(Ue,function(rt){return L.delete(rt.clientId)}).next(function(){return Ue})})}).catch(function(){return[]})]);case 1:if(e=w.sent(),this.Qe)for(o=0,a=e;o<a.length;o++)this.Qe.removeItem(this.on(a[o].clientId));w.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var e=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return e.je().then(function(){return e.nn()}).then(function(){return e.ze()})})},t.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},t.prototype.Ye=function(e){var o=this;return this.Ce?Vn.resolve(!0):Eh(e).get(ks.key).next(function(a){if(null!==a&&o.sn(a.leaseTimestampMs,5e3)&&!o.cn(a.ownerId)){if(o.tn(a)&&o.networkEnabled)return!0;if(!o.tn(a)){if(!a.allowTabSynchronization)throw new In(en.FAILED_PRECONDITION,sf);return!1}}return!(!o.networkEnabled||!o.inForeground)||vi(e).Nt().next(function(c){return void 0===o.rn(c,5e3).find(function(g){return!(o.clientId===g.clientId||!(!o.networkEnabled&&g.networkEnabled||!o.inForeground&&g.inForeground&&o.networkEnabled===g.networkEnabled))})})}).next(function(a){return o.isPrimary!==a&&zn("IndexedDbPersistence","Client "+(a?"is":"is not")+" eligible for a primary lease."),a})},t.prototype.shutdown=function(){return(0,C.__awaiter)(this,void 0,void 0,function(){var e=this;return(0,C.__generator)(this,function(o){switch(o.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[ks.store,il.store],function(a){var c=new gh(a,gs.o);return e.Xe(c).next(function(){return e.en(c)})})];case 1:return o.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(e,o){var a=this;return e.filter(function(c){return a.sn(c.updateTimeMs,o)&&!a.cn(c.clientId)})},t.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",function(o){return vi(o).Nt().next(function(a){return e.rn(a,18e5).map(function(c){return c.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(e){return Qp.Qt(e,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(e,o,a){var g,c=this;return zn("IndexedDbPersistence","Starting transaction:",e),this.Be.runTransaction(e,"readonly"===o?"readonly":"readwrite",ol,function(S){return g=new gh(S,c.Ne?c.Ne.next():gs.o),"readwrite-primary"===o?c.Je(g).next(function(L){return!!L||c.Ye(g)}).next(function(L){if(!L)throw ho("Failed to obtain primary lease for action '"+e+"'."),c.isPrimary=!1,c.Se.enqueueRetryable(function(){return c.Me(!1)}),new In(en.FAILED_PRECONDITION,fo);return a(g)}).next(function(L){return c.Ze(g).next(function(){return L})}):c.dn(g).next(function(){return a(g)})}).then(function(S){return g.raiseOnCommittedEvent(),S})},t.prototype.dn=function(e){var o=this;return Eh(e).get(ks.key).next(function(a){if(null!==a&&o.sn(a.leaseTimestampMs,5e3)&&!o.cn(a.ownerId)&&!o.tn(a)&&!(o.Ce||o.allowTabSynchronization&&a.allowTabSynchronization))throw new In(en.FAILED_PRECONDITION,sf)})},t.prototype.Ze=function(e){var o=new ks(this.clientId,this.allowTabSynchronization,Date.now());return Eh(e).put(ks.key,o)},t.yt=function(){return lu.yt()},t.prototype.Xe=function(e){var o=this,a=Eh(e);return a.get(ks.key).next(function(c){return o.tn(c)?(zn("IndexedDbPersistence","Releasing primary lease."),a.delete(ks.key)):Vn.resolve()})},t.prototype.sn=function(e,o){var a=Date.now();return!(e<a-o||e>a&&(ho("Detected an update time that is in the future: "+e+" > "+a),1))},t.prototype.We=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){e.Se.enqueueAndForget(function(){return e.inForeground="visible"===e.document.visibilityState,e.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var e,o=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Fe=function(){o.un(),o.Se.enqueueAndForget(function(){return o.shutdown()})},this.window.addEventListener("pagehide",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("pagehide",this.Fe),this.Fe=null)},t.prototype.cn=function(e){var o;try{var a=null!==(null===(o=this.Qe)||void 0===o?void 0:o.getItem(this.on(e)));return zn("IndexedDbPersistence","Client '"+e+"' "+(a?"is":"is not")+" zombied in LocalStorage"),a}catch(c){return ho("IndexedDbPersistence","Failed to get zombied client id.",c),!1}},t.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(e){ho("Failed to set zombie client id.",e)}},t.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(e){}},t.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},t}();function Eh(t){return ga(t,ks.store)}function vi(t){return ga(t,il.store)}function ld(t,e){var o=t.projectId;return t.isDefaultDatabase||(o+="."+t.database),"firestore/"+e+"/"+o+"/"}var af=function(t,e){this.progress=t,this.wn=e},uf=function(){function t(e,o,a){this.Ue=e,this._n=o,this.Ut=a}return t.prototype.mn=function(e,o){var a=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,o).next(function(c){return a.yn(e,o,c)})},t.prototype.yn=function(e,o,a){return this.Ue.getEntry(e,o).next(function(c){for(var g=0,w=a;g<w.length;g++)w[g].applyToLocalView(c);return c})},t.prototype.gn=function(e,o){e.forEach(function(a,c){for(var g=0,w=o;g<w.length;g++)w[g].applyToLocalView(c)})},t.prototype.pn=function(e,o){var a=this;return this.Ue.getEntries(e,o).next(function(c){return a.En(e,c).next(function(){return c})})},t.prototype.En=function(e,o){var a=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,o).next(function(c){return a.gn(o,c)})},t.prototype.getDocumentsMatchingQuery=function(e,o,a){return mr.isDocumentKey((c=o).path)&&null===c.collectionGroup&&0===c.filters.length?this.Tn(e,o.path):la(o)?this.In(e,o,a):this.An(e,o,a);var c},t.prototype.Tn=function(e,o){return this.mn(e,new mr(o)).next(function(a){var c=ls();return a.isFoundDocument()&&(c=c.insert(a.key,a)),c})},t.prototype.In=function(e,o,a){var c=this,g=o.collectionGroup,w=ls();return this.Ut.getCollectionParents(e,g).next(function(S){return Vn.forEach(S,function(L){var de,Ue,te=(de=o,Ue=L.child(g),new Iu(Ue,null,de.explicitOrderBy.slice(),de.filters.slice(),de.limit,de.limitType,de.startAt,de.endAt));return c.An(e,te,a).next(function(de){de.forEach(function(Ue,rt){w=w.insert(Ue,rt)})})}).next(function(){return w})})},t.prototype.An=function(e,o,a){var c,g,w=this;return this.Ue.getDocumentsMatchingQuery(e,o,a).next(function(S){return c=S,w._n.getAllMutationBatchesAffectingQuery(e,o)}).next(function(S){return w.Rn(e,g=S,c).next(function(L){c=L;for(var te=0,de=g;te<de.length;te++)for(var Ue=de[te],rt=0,Vt=Ue.mutations;rt<Vt.length;rt++){var Ft=Vt[rt],Jt=Ft.key,kn=c.get(Jt);null==kn&&(kn=_s.newInvalidDocument(Jt),c=c.insert(Jt,kn)),Zh(Ft,kn,Ue.localWriteTime),kn.isFoundDocument()||(c=c.remove(Jt))}})}).next(function(){return c.forEach(function(S,L){wl(o,L)||(c=c.remove(S))}),c})},t.prototype.Rn=function(e,o,a){for(var c=Zi(),g=0,w=o;g<w.length;g++)for(var S=0,L=w[g].mutations;S<L.length;S++){var te=L[S];te instanceof za&&null===a.get(te.key)&&(c=c.add(te.key))}var de=a;return this.Ue.getEntries(e,c).next(function(Ue){return Ue.forEach(function(rt,Vt){Vt.isFoundDocument()&&(de=de.insert(rt,Vt))}),de})},t}(),lf=function(){function t(e,o,a,c){this.targetId=e,this.fromCache=o,this.bn=a,this.vn=c}return t.Pn=function(e,o){for(var a=Zi(),c=Zi(),g=0,w=o.docChanges;g<w.length;g++){var S=w[g];switch(S.type){case 0:a=a.add(S.doc.key);break;case 1:c=c.add(S.doc.key)}}return new t(e,o.fromCache,a,c)},t}(),d=function(){function t(){}return t.prototype.Vn=function(e){this.Sn=e},t.prototype.getDocumentsMatchingQuery=function(e,o,a,c){var w,g=this;return 0===(w=o).filters.length&&null===w.limit&&null==w.startAt&&null==w.endAt&&(0===w.explicitOrderBy.length||1===w.explicitOrderBy.length&&w.explicitOrderBy[0].field.isKeyField())||a.isEqual(F.min())?this.Dn(e,o):this.Sn.pn(e,c).next(function(w){var S=g.Cn(o,w);return(Yh(o)||uh(o))&&g.Nn(o.limitType,S,c,a)?g.Dn(e,o):(zu()<=ee.LogLevel.DEBUG&&zn("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Ic(o)),g.Sn.getDocumentsMatchingQuery(e,o,a).next(function(L){return S.forEach(function(te){L=L.insert(te.key,te)}),L}))})},t.prototype.Cn=function(e,o){var a=new No(Jl(e));return o.forEach(function(c,g){wl(e,g)&&(a=a.add(g))}),a},t.prototype.Nn=function(e,o,a,c){if(a.size!==o.size)return!0;var g="F"===e?o.last():o.first();return!!g&&(g.hasPendingWrites||g.version.compareTo(c)>0)},t.prototype.Dn=function(e,o){return zu()<=ee.LogLevel.DEBUG&&zn("QueryEngine","Using full collection scan to execute query:",Ic(o)),this.Sn.getDocumentsMatchingQuery(e,o,F.min())},t}(),h=function(){function t(e,o,a,c){this.persistence=e,this.xn=o,this.R=c,this.Fn=new ys(Pr),this.kn=new Ll(function(g){return zh(g)},oh),this.$n=F.min(),this._n=e.getMutationQueue(a),this.On=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new uf(this.On,this._n,this.persistence.getIndexManager()),this.Ke=e.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(e){var o=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(a){return e.collect(a,o.Fn)})},t}();function p(t,e,o,a){return new h(t,e,o,a)}function b(t,e){return(0,C.__awaiter)(this,void 0,void 0,function(){var o,a,c,g;return(0,C.__generator)(this,function(w){switch(w.label){case 0:return o=Bn(t),a=o._n,c=o.Mn,[4,o.persistence.runTransaction("Handle user change","readonly",function(S){var L;return o._n.getAllMutationBatches(S).next(function(te){return L=te,a=o.persistence.getMutationQueue(e),c=new uf(o.On,a,o.persistence.getIndexManager()),a.getAllMutationBatches(S)}).next(function(te){for(var de=[],Ue=[],rt=Zi(),Vt=0,Ft=L;Vt<Ft.length;Vt++){var Jt=Ft[Vt];de.push(Jt.batchId);for(var kn=0,Kn=Jt.mutations;kn<Kn.length;kn++)rt=rt.add(Kn[kn].key)}for(var Tr=0,ii=te;Tr<ii.length;Tr++){var Xr=ii[Tr];Ue.push(Xr.batchId);for(var wo=0,ba=Xr.mutations;wo<ba.length;wo++)rt=rt.add(ba[wo].key)}return c.pn(S,rt).next(function(kd){return{Ln:kd,removedBatchIds:de,addedBatchIds:Ue}})})})];case 1:return g=w.sent(),[2,(o._n=a,o.Mn=c,o.xn.Vn(o.Mn),g)]}})})}function M(t,e){var o=Bn(t);return o.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(a){var w,S,L,te,de,Ue,rt,c=e.batch.keys(),g=o.On.newChangeBuffer({trackRemovals:!0});return(w=o,S=a,L=e,te=g,de=L.batch,Ue=de.keys(),rt=Vn.resolve(),Ue.forEach(function(Vt){rt=rt.next(function(){return te.getEntry(S,Vt)}).next(function(Ft){var Jt=L.docVersions.get(Vt);yr(null!==Jt),Ft.version.compareTo(Jt)<0&&(de.applyToRemoteDocument(Ft,L),Ft.isValidDocument()&&te.addEntry(Ft,L.commitVersion))})}),rt.next(function(){return w._n.removeMutationBatch(S,de)})).next(function(){return g.apply(a)}).next(function(){return o._n.performConsistencyCheck(a)}).next(function(){return o.Mn.pn(a,c)})})}function U(t){var e=Bn(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(o){return e.qe.getLastRemoteSnapshotVersion(o)})}function X(t,e){var o=Bn(t),a=e.snapshotVersion,c=o.Fn;return o.persistence.runTransaction("Apply remote event","readwrite-primary",function(g){var w=o.On.newChangeBuffer({trackRemovals:!0});c=o.Fn;var S=[];e.targetChanges.forEach(function(de,Ue){var Jt,kn,Kn,rt=c.get(Ue);if(rt){S.push(o.qe.removeMatchingKeys(g,de.removedDocuments,Ue).next(function(){return o.qe.addMatchingKeys(g,de.addedDocuments,Ue)}));var Vt=de.resumeToken;if(Vt.approximateByteSize()>0){var Ft=rt.withResumeToken(Vt,a).withSequenceNumber(g.currentSequenceNumber);c=c.insert(Ue,Ft),Jt=rt,Kn=de,yr((kn=Ft).resumeToken.approximateByteSize()>0),(0===Jt.resumeToken.approximateByteSize()||kn.snapshotVersion.toMicroseconds()-Jt.snapshotVersion.toMicroseconds()>=3e8||Kn.addedDocuments.size+Kn.modifiedDocuments.size+Kn.removedDocuments.size>0)&&S.push(o.qe.updateTargetData(g,Ft))}}});var L=da();if(e.documentUpdates.forEach(function(de,Ue){e.resolvedLimboDocuments.has(de)&&S.push(o.persistence.referenceDelegate.updateLimboDocument(g,de))}),S.push(Me(g,w,e.documentUpdates,a,void 0).next(function(de){L=de})),!a.isEqual(F.min())){var te=o.qe.getLastRemoteSnapshotVersion(g).next(function(de){return o.qe.setTargetsMetadata(g,g.currentSequenceNumber,a)});S.push(te)}return Vn.waitFor(S).next(function(){return w.apply(g)}).next(function(){return o.Mn.En(g,L)}).next(function(){return L})}).then(function(g){return o.Fn=c,g})}function Me(t,e,o,a,c){var g=Zi();return o.forEach(function(w){return g=g.add(w)}),e.getEntries(t,g).next(function(w){var S=da();return o.forEach(function(L,te){var de=w.get(L),Ue=(null==c?void 0:c.get(L))||a;te.isNoDocument()&&te.version.isEqual(F.min())?(e.removeEntry(L,Ue),S=S.insert(L,te)):!de.isValidDocument()||te.version.compareTo(de.version)>0||0===te.version.compareTo(de.version)&&de.hasPendingWrites?(e.addEntry(te,Ue),S=S.insert(L,te)):zn("LocalStore","Ignoring outdated watch update for ",L,". Current version:",de.version," Watch version:",te.version)}),S})}function Be(t,e){var o=Bn(t);return o.persistence.runTransaction("Get next mutation batch","readonly",function(a){return void 0===e&&(e=-1),o._n.getNextMutationBatchAfterBatchId(a,e)})}function tt(t,e){var o=Bn(t);return o.persistence.runTransaction("Allocate target","readwrite",function(a){var c;return o.qe.getTargetData(a,e).next(function(g){return g?Vn.resolve(c=g):o.qe.allocateTargetId(a).next(function(w){return c=new cu(e,w,0,a.currentSequenceNumber),o.qe.addTargetData(a,c).next(function(){return c})})})}).then(function(a){var c=o.Fn.get(a.targetId);return(null===c||a.snapshotVersion.compareTo(c.snapshotVersion)>0)&&(o.Fn=o.Fn.insert(a.targetId,a),o.kn.set(e,a.targetId)),a})}function ht(t,e,o){return(0,C.__awaiter)(this,void 0,void 0,function(){var a,c,g,w;return(0,C.__generator)(this,function(S){switch(S.label){case 0:a=Bn(t),c=a.Fn.get(e),g=o?"readwrite":"readwrite-primary",S.label=1;case 1:return S.trys.push([1,4,,5]),o?[3,3]:[4,a.persistence.runTransaction("Release target",g,function(L){return a.persistence.referenceDelegate.removeTarget(L,c)})];case 2:S.sent(),S.label=3;case 3:return[3,5];case 4:if(!qo(w=S.sent()))throw w;return zn("LocalStore","Failed to update sequence numbers for target "+e+": "+w),[3,5];case 5:return a.Fn=a.Fn.remove(e),a.kn.delete(c.target),[2]}})})}function $t(t,e,o){var a=Bn(t),c=F.min(),g=Zi();return a.persistence.runTransaction("Execute query","readonly",function(w){return(S=a,L=w,te=Ha(e),de=Bn(S),Ue=de.kn.get(te),void 0!==Ue?Vn.resolve(de.Fn.get(Ue)):de.qe.getTargetData(L,te)).next(function(S){if(S)return c=S.lastLimboFreeSnapshotVersion,a.qe.getMatchingKeysForTargetId(w,S.targetId).next(function(L){g=L})}).next(function(){return a.xn.getDocumentsMatchingQuery(w,e,o?c:F.min(),o?g:Zi())}).next(function(S){return{documents:S,Bn:g}});var S,L,te,de,Ue})}function fn(t,e){var o=Bn(t),a=Bn(o.qe),c=o.Fn.get(e);return c?Promise.resolve(c.target):o.persistence.runTransaction("Get target data","readonly",function(g){return a.lt(g,e).next(function(w){return w?w.target:null})})}function xn(t){var e=Bn(t);return e.persistence.runTransaction("Get new document changes","readonly",function(o){return c=o,g=e.$n,w=Bn(e.On),S=da(),L=na(g),te=Lu(c),de=IDBKeyRange.lowerBound(L,!0),te.$t({index:bo.readTimeIndex,range:de},function(Ue,rt){var Vt=id(w.R,rt);S=S.insert(Vt.key,Vt),L=rt.readTime}).next(function(){return{wn:S,readTime:_h(L)}});var c,g,w,S,L,te,de}).then(function(o){var a=o.wn;return e.$n=o.readTime,a})}function qn(t){return(0,C.__awaiter)(this,void 0,void 0,function(){var e;return(0,C.__generator)(this,function(o){return[2,(e=Bn(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(a){return g=Lu(a),w=F.min(),g.$t({index:bo.readTimeIndex,reverse:!0},function(S,L,te){L.readTime&&(w=_h(L.readTime)),te.done()}).next(function(){return w});var g,w}).then(function(a){e.$n=a})]})})}function xr(t,e,o,a){return(0,C.__awaiter)(this,void 0,void 0,function(){var c,g,w,S,L,te,de,Ue,rt,Vt;return(0,C.__generator)(this,function(Ft){switch(Ft.label){case 0:for(c=Bn(t),g=Zi(),w=da(),S=bs(),L=0,te=o;L<te.length;L++)Ue=e.qn((de=te[L]).metadata.name),de.document&&(g=g.add(Ue)),w=w.insert(Ue,e.Un(de)),S=S.insert(Ue,e.Kn(de.metadata.readTime));return rt=c.On.newChangeBuffer({trackRemovals:!0}),[4,tt(c,(Jt=a,Ha(Zl(Ee.fromString("__bundle__/docs/"+Jt)))))];case 1:return Vt=Ft.sent(),[2,c.persistence.runTransaction("Apply bundle documents","readwrite",function(Jt){return Me(Jt,rt,w,F.min(),S).next(function(kn){return rt.apply(Jt),kn}).next(function(kn){return c.qe.removeMatchingKeysForTargetId(Jt,Vt.targetId).next(function(){return c.qe.addMatchingKeys(Jt,g,Vt.targetId)}).next(function(){return c.Mn.En(Jt,kn)}).next(function(){return kn})})})]}var Jt})})}function Sr(t,e,o){return void 0===o&&(o=Zi()),(0,C.__awaiter)(this,void 0,void 0,function(){var a,c;return(0,C.__generator)(this,function(g){switch(g.label){case 0:return[4,tt(t,Ha(Xd(e.bundledQuery)))];case 1:return a=g.sent(),[2,(c=Bn(t)).persistence.runTransaction("Save named query","readwrite",function(w){var S=cs(e.readTime);if(a.snapshotVersion.compareTo(S)>=0)return c.Ke.saveNamedQuery(w,e);var L=a.withResumeToken(Gn.EMPTY_BYTE_STRING,S);return c.Fn=c.Fn.insert(L.targetId,L),c.qe.updateTargetData(w,L).next(function(){return c.qe.removeMatchingKeysForTargetId(w,a.targetId)}).next(function(){return c.qe.addMatchingKeys(w,o,a.targetId)}).next(function(){return c.Ke.saveNamedQuery(w,e)})})]}})})}var Qr=function(){function t(e){this.R=e,this.Qn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(e,o){return Vn.resolve(this.Qn.get(o))},t.prototype.saveBundleMetadata=function(e,o){var a;return this.Qn.set(o.id,{id:(a=o).id,version:a.version,createTime:cs(a.createTime)}),Vn.resolve()},t.prototype.getNamedQuery=function(e,o){return Vn.resolve(this.jn.get(o))},t.prototype.saveNamedQuery=function(e,o){return this.jn.set(o.name,{name:(a=o).name,query:Xd(a.bundledQuery),readTime:cs(a.readTime)}),Vn.resolve();var a},t}(),Do=function(){function t(){this.Wn=new No(Xi.Gn),this.zn=new No(Xi.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(e,o){var a=new Xi(e,o);this.Wn=this.Wn.add(a),this.zn=this.zn.add(a)},t.prototype.Jn=function(e,o){var a=this;e.forEach(function(c){return a.addReference(c,o)})},t.prototype.removeReference=function(e,o){this.Yn(new Xi(e,o))},t.prototype.Xn=function(e,o){var a=this;e.forEach(function(c){return a.removeReference(c,o)})},t.prototype.Zn=function(e){var o=this,a=new mr(new Ee([])),c=new Xi(a,e),g=new Xi(a,e+1),w=[];return this.zn.forEachInRange([c,g],function(S){o.Yn(S),w.push(S.key)}),w},t.prototype.ts=function(){var e=this;this.Wn.forEach(function(o){return e.Yn(o)})},t.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},t.prototype.es=function(e){var o=new mr(new Ee([])),a=new Xi(o,e),c=new Xi(o,e+1),g=Zi();return this.zn.forEachInRange([a,c],function(w){g=g.add(w.key)}),g},t.prototype.containsKey=function(e){var o=new Xi(e,0),a=this.Wn.firstAfterOrEqual(o);return null!==a&&e.isEqual(a.key)},t}(),Xi=function(){function t(e,o){this.key=e,this.ns=o}return t.Gn=function(e,o){return mr.comparator(e.key,o.key)||Pr(e.ns,o.ns)},t.Hn=function(e,o){return Pr(e.ns,o.ns)||mr.comparator(e.key,o.key)},t}(),Lc=function(){function t(e,o){this.Ut=e,this.referenceDelegate=o,this._n=[],this.ss=1,this.rs=new No(Xi.Gn)}return t.prototype.checkEmpty=function(e){return Vn.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(e,o,a,c){var g=this.ss;this.ss++;var w=new Jd(g,o,a,c);this._n.push(w);for(var S=0,L=c;S<L.length;S++){var te=L[S];this.rs=this.rs.add(new Xi(te.key,g)),this.Ut.addToCollectionParentIndex(e,te.key.path.popLast())}return Vn.resolve(w)},t.prototype.lookupMutationBatch=function(e,o){return Vn.resolve(this.os(o))},t.prototype.getNextMutationBatchAfterBatchId=function(e,o){var c=this.cs(o+1),g=c<0?0:c;return Vn.resolve(this._n.length>g?this._n[g]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return Vn.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(e){return Vn.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,o){var a=this,c=new Xi(o,0),g=new Xi(o,Number.POSITIVE_INFINITY),w=[];return this.rs.forEachInRange([c,g],function(S){var L=a.os(S.ns);w.push(L)}),Vn.resolve(w)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,o){var a=this,c=new No(Pr);return o.forEach(function(g){var w=new Xi(g,0),S=new Xi(g,Number.POSITIVE_INFINITY);a.rs.forEachInRange([w,S],function(L){c=c.add(L.ns)})}),Vn.resolve(this.us(c))},t.prototype.getAllMutationBatchesAffectingQuery=function(e,o){var a=o.path,c=a.length+1,g=a;mr.isDocumentKey(g)||(g=g.child(""));var w=new Xi(new mr(g),0),S=new No(Pr);return this.rs.forEachWhile(function(L){var te=L.key.path;return!!a.isPrefixOf(te)&&(te.length===c&&(S=S.add(L.ns)),!0)},w),Vn.resolve(this.us(S))},t.prototype.us=function(e){var o=this,a=[];return e.forEach(function(c){var g=o.os(c);null!==g&&a.push(g)}),a},t.prototype.removeMutationBatch=function(e,o){var a=this;yr(0===this.hs(o.batchId,"removed")),this._n.shift();var c=this.rs;return Vn.forEach(o.mutations,function(g){var w=new Xi(g.key,o.batchId);return c=c.delete(w),a.referenceDelegate.markPotentiallyOrphaned(e,g.key)}).next(function(){a.rs=c})},t.prototype.Gt=function(e){},t.prototype.containsKey=function(e,o){var a=new Xi(o,0),c=this.rs.firstAfterOrEqual(a);return Vn.resolve(o.isEqual(c&&c.key))},t.prototype.performConsistencyCheck=function(e){return Vn.resolve()},t.prototype.hs=function(e,o){return this.cs(e)},t.prototype.cs=function(e){return 0===this._n.length?0:e-this._n[0].batchId},t.prototype.os=function(e){var o=this.cs(e);return o<0||o>=this._n.length?null:this._n[o]},t}(),wh=function(){function t(e,o){this.Ut=e,this.ls=o,this.docs=new ys(mr.comparator),this.size=0}return t.prototype.addEntry=function(e,o,a){var c=o.key,g=this.docs.get(c),w=g?g.size:0,S=this.ls(o);return this.docs=this.docs.insert(c,{document:o.clone(),size:S,readTime:a}),this.size+=S-w,this.Ut.addToCollectionParentIndex(e,c.path.popLast())},t.prototype.removeEntry=function(e){var o=this.docs.get(e);o&&(this.docs=this.docs.remove(e),this.size-=o.size)},t.prototype.getEntry=function(e,o){var a=this.docs.get(o);return Vn.resolve(a?a.document.clone():_s.newInvalidDocument(o))},t.prototype.getEntries=function(e,o){var a=this,c=da();return o.forEach(function(g){var w=a.docs.get(g);c=c.insert(g,w?w.document.clone():_s.newInvalidDocument(g))}),Vn.resolve(c)},t.prototype.getDocumentsMatchingQuery=function(e,o,a){for(var c=da(),g=new mr(o.path.child("")),w=this.docs.getIteratorFrom(g);w.hasNext();){var S=w.getNext(),te=S.value,de=te.document,Ue=te.readTime;if(!o.path.isPrefixOf(S.key.path))break;Ue.compareTo(a)<=0||wl(o,de)&&(c=c.insert(de.key,de.clone()))}return Vn.resolve(c)},t.prototype.fs=function(e,o){return Vn.forEach(this.docs,function(a){return o(a)})},t.prototype.newChangeBuffer=function(e){return new Bc(this)},t.prototype.getSize=function(e){return Vn.resolve(this.size)},t}(),Bc=function(t){function e(o){var a=this;return(a=t.call(this)||this).Ie=o,a}return(0,C.__extends)(e,t),e.prototype.applyChanges=function(o){var a=this,c=[];return this.changes.forEach(function(g,w){w.document.isValidDocument()?c.push(a.Ie.addEntry(o,w.document,a.getReadTime(g))):a.Ie.removeEntry(g)}),Vn.waitFor(c)},e.prototype.getFromCache=function(o,a){return this.Ie.getEntry(o,a)},e.prototype.getAllFromCache=function(o,a){return this.Ie.getEntries(o,a)},e}(ad),Vc=function(){function t(e){this.persistence=e,this.ds=new Ll(function(o){return zh(o)},oh),this.lastRemoteSnapshotVersion=F.min(),this.highestTargetId=0,this.ws=0,this._s=new Do,this.targetCount=0,this.ys=nf.Jt()}return t.prototype.forEachTarget=function(e,o){return this.ds.forEach(function(a,c){return o(c)}),Vn.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(e){return Vn.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(e){return Vn.resolve(this.ws)},t.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),Vn.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(e,o,a){return a&&(this.lastRemoteSnapshotVersion=a),o>this.ws&&(this.ws=o),Vn.resolve()},t.prototype.te=function(e){this.ds.set(e.target,e);var o=e.targetId;o>this.highestTargetId&&(this.ys=new nf(o),this.highestTargetId=o),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},t.prototype.addTargetData=function(e,o){return this.te(o),this.targetCount+=1,Vn.resolve()},t.prototype.updateTargetData=function(e,o){return this.te(o),Vn.resolve()},t.prototype.removeTargetData=function(e,o){return this.ds.delete(o.target),this._s.Zn(o.targetId),this.targetCount-=1,Vn.resolve()},t.prototype.removeTargets=function(e,o,a){var c=this,g=0,w=[];return this.ds.forEach(function(S,L){L.sequenceNumber<=o&&null===a.get(L.targetId)&&(c.ds.delete(S),w.push(c.removeMatchingKeysForTargetId(e,L.targetId)),g++)}),Vn.waitFor(w).next(function(){return g})},t.prototype.getTargetCount=function(e){return Vn.resolve(this.targetCount)},t.prototype.getTargetData=function(e,o){var a=this.ds.get(o)||null;return Vn.resolve(a)},t.prototype.addMatchingKeys=function(e,o,a){return this._s.Jn(o,a),Vn.resolve()},t.prototype.removeMatchingKeys=function(e,o,a){this._s.Xn(o,a);var c=this.persistence.referenceDelegate,g=[];return c&&o.forEach(function(w){g.push(c.markPotentiallyOrphaned(e,w))}),Vn.waitFor(g)},t.prototype.removeMatchingKeysForTargetId=function(e,o){return this._s.Zn(o),Vn.resolve()},t.prototype.getMatchingKeysForTargetId=function(e,o){var a=this._s.es(o);return Vn.resolve(a)},t.prototype.containsKey=function(e,o){return Vn.resolve(this._s.containsKey(o))},t}(),om=function(){function t(e,o){var a=this;this.gs={},this.Ne=new gs(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new Vc(this),this.Ut=new Nc,this.Ue=new wh(this.Ut,function(w){return a.referenceDelegate.ps(w)}),this.R=new mh(o),this.Ke=new Qr(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(e){var o=this.gs[e.toKey()];return o||(o=new Lc(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=o),o},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(e,o,a){var c=this;zn("MemoryPersistence","Starting transaction:",e);var g=new Kf(this.Ne.next());return this.referenceDelegate.Es(),a(g).next(function(w){return c.referenceDelegate.Ts(g).next(function(){return w})}).toPromise().then(function(w){return g.raiseOnCommittedEvent(),w})},t.prototype.Is=function(e,o){return Vn.or(Object.values(this.gs).map(function(a){return function(){return a.containsKey(e,o)}}))},t}(),Kf=function(t){function e(o){var a=this;return(a=t.call(this)||this).currentSequenceNumber=o,a}return(0,C.__extends)(e,t),e}(Fu),sm=function(){function t(e){this.persistence=e,this.As=new Do,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw fr()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(e,o,a){return this.As.addReference(a,o),this.vs.delete(a.toString()),Vn.resolve()},t.prototype.removeReference=function(e,o,a){return this.As.removeReference(a,o),this.vs.add(a.toString()),Vn.resolve()},t.prototype.markPotentiallyOrphaned=function(e,o){return this.vs.add(o.toString()),Vn.resolve()},t.prototype.removeTarget=function(e,o){var a=this;this.As.Zn(o.targetId).forEach(function(g){return a.vs.add(g.toString())});var c=this.persistence.getTargetCache();return c.getMatchingKeysForTargetId(e,o.targetId).next(function(g){g.forEach(function(w){return a.vs.add(w.toString())})}).next(function(){return c.removeTargetData(e,o)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(e){var o=this,a=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Vn.forEach(this.vs,function(c){var g=mr.fromPath(c);return o.Ps(e,g).next(function(w){w||a.removeEntry(g)})}).next(function(){return o.Rs=null,a.apply(e)})},t.prototype.updateLimboDocument=function(e,o){var a=this;return this.Ps(e,o).next(function(c){c?a.vs.delete(o.toString()):a.vs.add(o.toString())})},t.prototype.ps=function(e){return 0},t.prototype.Ps=function(e,o){var a=this;return Vn.or([function(){return Vn.resolve(a.As.containsKey(o))},function(){return a.persistence.getTargetCache().containsKey(e,o)},function(){return a.persistence.Is(e,o)}])},t}(),ma=function(){function t(e){this.uid=e}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(e){return e.uid===this.uid},t}();function Xp(t,e){return"firestore_clients_"+t+"_"+e}function cf(t,e,o){var a="firestore_mutations_"+t+"_"+o;return e.isAuthenticated()&&(a+="_"+e.uid),a}function cd(t,e){return"firestore_targets_"+t+"_"+e}ma.UNAUTHENTICATED=new ma(null),ma.GOOGLE_CREDENTIALS=new ma("google-credentials-uid"),ma.FIRST_PARTY=new ma("first-party-uid");var $f=function(){function t(e,o,a,c){this.user=e,this.batchId=o,this.state=a,this.error=c}return t.Vs=function(e,o,a){var c,g=JSON.parse(a),w="object"==typeof g&&-1!==["pending","acknowledged","rejected"].indexOf(g.state)&&(void 0===g.error||"object"==typeof g.error);return w&&g.error&&(w="string"==typeof g.error.message&&"string"==typeof g.error.code)&&(c=new In(g.error.code,g.error.message)),w?new t(e,o,g.state,c):(ho("SharedClientState","Failed to parse mutation state for ID '"+o+"': "+a),null)},t.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},t}(),hd=function(){function t(e,o,a){this.targetId=e,this.state=o,this.error=a}return t.Vs=function(e,o){var a,c=JSON.parse(o),g="object"==typeof c&&-1!==["not-current","current","rejected"].indexOf(c.state)&&(void 0===c.error||"object"==typeof c.error);return g&&c.error&&(g="string"==typeof c.error.message&&"string"==typeof c.error.code)&&(a=new In(c.error.code,c.error.message)),g?new t(e,c.state,a):(ho("SharedClientState","Failed to parse target state for ID '"+e+"': "+o),null)},t.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},t}(),dd=function(){function t(e,o){this.clientId=e,this.activeTargetIds=o}return t.Vs=function(e,o){for(var a=JSON.parse(o),c="object"==typeof a&&a.activeTargetIds instanceof Array,g=su(),w=0;c&&w<a.activeTargetIds.length;++w)c=Io(a.activeTargetIds[w]),g=g.add(a.activeTargetIds[w]);return c?new t(e,g):(ho("SharedClientState","Failed to parse client data for instance '"+e+"': "+o),null)},t}(),fd=function(){function t(e,o){this.clientId=e,this.onlineState=o}return t.Vs=function(e){var o=JSON.parse(e);return"object"==typeof o&&-1!==["Unknown","Online","Offline"].indexOf(o.onlineState)&&"string"==typeof o.clientId?new t(o.clientId,o.onlineState):(ho("SharedClientState","Failed to parse online state: "+e),null)},t}(),Uc=function(){function t(){this.activeTargetIds=su()}return t.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},t.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},t.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},t}(),Yf=function(){function t(e,o,a,c,g){this.window=e,this.Se=o,this.persistenceKey=a,this.Ns=c,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new ys(Pr),this.started=!1,this.$s=[];var w=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=g,this.Os=Xp(this.persistenceKey,this.Ns),this.Ms="firestore_sequence_number_"+this.persistenceKey,this.ks=this.ks.insert(this.Ns,new Uc),this.Ls=new RegExp("^firestore_clients_"+w+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+w+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+w+"_(\\d+)$"),this.Us="firestore_online_state_"+this.persistenceKey,this.Ks=function(S){return"firestore_bundle_loaded_"+S}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(e){return!(!e||!e.localStorage)},t.prototype.start=function(){return(0,C.__awaiter)(this,void 0,void 0,function(){var e,o,a,c,g,w,S,L,te,de,rt=this;return(0,C.__generator)(this,function(Vt){switch(Vt.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=Vt.sent(),o=0,a=e;o<a.length;o++)(c=a[o])!==this.Ns&&(g=this.getItem(Xp(this.persistenceKey,c)))&&(w=dd.Vs(c,g))&&(this.ks=this.ks.insert(w.clientId,w));for(this.Qs(),(S=this.storage.getItem(this.Us))&&(L=this.js(S))&&this.Ws(L),te=0,de=this.$s;te<de.length;te++)this.Fs(de[te]);return this.$s=[],this.window.addEventListener("pagehide",function(){return rt.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(e){var o=!1;return this.ks.forEach(function(a,c){c.activeTargetIds.has(e)&&(o=!0)}),o},t.prototype.addPendingMutation=function(e){this.zs(e,"pending")},t.prototype.updateMutationState=function(e,o,a){this.zs(e,o,a),this.Hs(e)},t.prototype.addLocalQueryTarget=function(e){var o="not-current";if(this.isActiveQueryTarget(e)){var a=this.storage.getItem(cd(this.persistenceKey,e));if(a){var c=hd.Vs(e,a);c&&(o=c.state)}}return this.Js.Ds(e),this.Qs(),o},t.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Qs()},t.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},t.prototype.clearQueryState=function(e){this.removeItem(cd(this.persistenceKey,e))},t.prototype.updateQueryState=function(e,o,a){this.Ys(e,o,a)},t.prototype.handleUserChange=function(e,o,a){var c=this;o.forEach(function(g){c.Hs(g)}),this.currentUser=e,a.forEach(function(g){c.addPendingMutation(g)})},t.prototype.setOnlineState=function(e){this.Xs(e)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(e){var o=this.storage.getItem(e);return zn("SharedClientState","READ",e,o),o},t.prototype.setItem=function(e,o){zn("SharedClientState","SET",e,o),this.storage.setItem(e,o)},t.prototype.removeItem=function(e){zn("SharedClientState","REMOVE",e),this.storage.removeItem(e)},t.prototype.Fs=function(e){var o=this,a=e;if(a.storageArea===this.storage){if(zn("SharedClientState","EVENT",a.key,a.newValue),a.key===this.Os)return void ho("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return(0,C.__awaiter)(o,void 0,void 0,function(){var c,g,w,S,L,te;return(0,C.__generator)(this,function(de){if(this.started){if(null!==a.key)if(this.Ls.test(a.key)){if(null==a.newValue)return c=this.ti(a.key),[2,this.ei(c,null)];if(g=this.ni(a.key,a.newValue))return[2,this.ei(g.clientId,g)]}else if(this.Bs.test(a.key)){if(null!==a.newValue&&(w=this.si(a.key,a.newValue)))return[2,this.ii(w)]}else if(this.qs.test(a.key)){if(null!==a.newValue&&(S=this.ri(a.key,a.newValue)))return[2,this.oi(S)]}else if(a.key===this.Us){if(null!==a.newValue&&(L=this.js(a.newValue)))return[2,this.Ws(L)]}else if(a.key===this.Ms)(te=function(Ue){var rt=gs.o;if(null!=Ue)try{var Vt=JSON.parse(Ue);yr("number"==typeof Vt),rt=Vt}catch(Ft){ho("SharedClientState","Failed to read sequence number from WebStorage",Ft)}return rt}(a.newValue))!==gs.o&&this.sequenceNumberHandler(te);else if(a.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(a);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(e,o,a){var c=new $f(this.currentUser,e,o,a),g=cf(this.persistenceKey,this.currentUser,e);this.setItem(g,c.Ss())},t.prototype.Hs=function(e){var o=cf(this.persistenceKey,this.currentUser,e);this.removeItem(o)},t.prototype.Xs=function(e){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:e}))},t.prototype.Ys=function(e,o,a){var c=cd(this.persistenceKey,e),g=new hd(e,o,a);this.setItem(c,g.Ss())},t.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},t.prototype.ti=function(e){var o=this.Ls.exec(e);return o?o[1]:null},t.prototype.ni=function(e,o){var a=this.ti(e);return dd.Vs(a,o)},t.prototype.si=function(e,o){var a=this.Bs.exec(e),c=Number(a[1]);return $f.Vs(new ma(void 0!==a[2]?a[2]:null),c,o)},t.prototype.ri=function(e,o){var a=this.qs.exec(e),c=Number(a[1]);return hd.Vs(c,o)},t.prototype.js=function(e){return fd.Vs(e)},t.prototype.ii=function(e){return(0,C.__awaiter)(this,void 0,void 0,function(){return(0,C.__generator)(this,function(o){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(zn("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])})})},t.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},t.prototype.ei=function(e,o){var a=this,c=o?this.ks.insert(e,o):this.ks.remove(e),g=this.Gs(this.ks),w=this.Gs(c),S=[],L=[];return w.forEach(function(te){g.has(te)||S.push(te)}),g.forEach(function(te){w.has(te)||L.push(te)}),this.syncEngine.hi(S,L).then(function(){a.ks=c})},t.prototype.Ws=function(e){this.ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},t.prototype.Gs=function(e){var o=su();return e.forEach(function(a,c){o=o.unionWith(c.activeTargetIds)}),o},t}(),gu=function(){function t(){this.li=new Uc,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(e){},t.prototype.updateMutationState=function(e,o,a){},t.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},t.prototype.updateQueryState=function(e,o,a){this.fi[e]=o},t.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},t.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},t.prototype.clearQueryState=function(e){delete this.fi[e]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},t.prototype.start=function(){return this.li=new Uc,Promise.resolve()},t.prototype.handleUserChange=function(e,o,a){},t.prototype.setOnlineState=function(e){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(e){},t.prototype.notifyBundleLoaded=function(){},t}(),w_=function(){function t(){}return t.prototype.di=function(e){},t.prototype.shutdown=function(){},t}(),qf=function(){function t(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return t.prototype.di=function(e){this.gi.push(e)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){zn("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,o=this.gi;e<o.length;e++)(0,o[e])(0)},t.prototype.yi=function(){zn("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,o=this.gi;e<o.length;e++)(0,o[e])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),am={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},hf=function(){function t(e){this.Ei=e.Ei,this.Ti=e.Ti}return t.prototype.Ii=function(e){this.Ai=e},t.prototype.Ri=function(e){this.bi=e},t.prototype.onMessage=function(e){this.vi=e},t.prototype.close=function(){this.Ti()},t.prototype.send=function(e){this.Ei(e)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(e){this.bi(e)},t.prototype.Si=function(e){this.vi(e)},t}(),Qf=function(t){function e(o){var a=this;return(a=t.call(this,o)||this).forceLongPolling=o.forceLongPolling,a.autoDetectLongPolling=o.autoDetectLongPolling,a.useFetchStreams=o.useFetchStreams,a}return(0,C.__extends)(e,t),e.prototype.ki=function(o,a,c,g){return new Promise(function(w,S){var L=new $l;L.listenOnce(Oo.COMPLETE,function(){try{switch(L.getLastErrorCode()){case aa.NO_ERROR:var de=L.getResponseJson();zn("Connection","XHR received:",JSON.stringify(de)),w(de);break;case aa.TIMEOUT:zn("Connection",'RPC "'+o+'" timed out'),S(new In(en.DEADLINE_EXCEEDED,"Request time out"));break;case aa.HTTP_ERROR:var Ue=L.getStatus();if(zn("Connection",'RPC "'+o+'" failed with status:',Ue,"response text:",L.getResponseText()),Ue>0){var rt=L.getResponseJson().error;if(rt&&rt.status&&rt.message){var Vt=(Jt=rt.status.toLowerCase().replace(/_/g,"-"),Object.values(en).indexOf(Jt)>=0?Jt:en.UNKNOWN);S(new In(Vt,rt.message))}else S(new In(en.UNKNOWN,"Server responded with status "+L.getStatus()))}else S(new In(en.UNAVAILABLE,"Connection failed."));break;default:fr()}}finally{zn("Connection",'RPC "'+o+'" completed.')}var Jt});var te=JSON.stringify(g);L.send(a,"POST",te,c,15)})},e.prototype.Oi=function(o,a){var c=[this.Di,"/","google.firestore.v1.Firestore","/",o,"/channel"],g=new Ar,w=Mt(),S={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(S.xmlHttpFactory=new es({})),this.Fi(S.initMessageHeaders,a),(0,_e.isMobileCordova)()||(0,_e.isReactNative)()||(0,_e.isElectron)()||(0,_e.isIE)()||(0,_e.isUWP)()||(0,_e.isBrowserExtension)()||(S.httpHeadersOverwriteParam="$httpHeaders");var L=c.join("");zn("Connection","Creating WebChannel: "+L,S);var te=g.createWebChannel(L,S),de=!1,Ue=!1,rt=new hf({Ei:function(Ft){Ue?zn("Connection","Not sending because WebChannel is closed:",Ft):(de||(zn("Connection","Opening WebChannel transport."),te.open(),de=!0),zn("Connection","WebChannel sending:",Ft),te.send(Ft))},Ti:function(){return te.close()}}),Vt=function(Ft,Jt,kn){Ft.listen(Jt,function(Kn){try{kn(Kn)}catch(Er){setTimeout(function(){throw Er},0)}})};return Vt(te,Os.EventType.OPEN,function(){Ue||zn("Connection","WebChannel transport opened.")}),Vt(te,Os.EventType.CLOSE,function(){Ue||(Ue=!0,zn("Connection","WebChannel transport closed"),rt.Vi())}),Vt(te,Os.EventType.ERROR,function(Ft){Ue||(Ue=!0,Ba("Connection","WebChannel transport errored:",Ft),rt.Vi(new In(en.UNAVAILABLE,"The operation could not be completed")))}),Vt(te,Os.EventType.MESSAGE,function(Ft){var Jt;if(!Ue){var kn=Ft.data[0];yr(!!kn);var Er=kn.error||(null===(Jt=kn[0])||void 0===Jt?void 0:Jt.error);if(Er){zn("Connection","WebChannel received error:",Er);var Tr=Er.status,ii=function(wo){var ba=ko[wo];if(void 0!==ba)return Ju(ba)}(Tr),Xr=Er.message;void 0===ii&&(ii=en.INTERNAL,Xr="Unknown error status: "+Tr+" with message "+Er.message),Ue=!0,rt.Vi(new In(ii,Xr)),te.close()}else zn("Connection","WebChannel received:",kn),rt.Si(kn)}}),Vt(w,ps.STAT_EVENT,function(Ft){Ft.stat===vo_PROXY?zn("Connection","Detected buffering proxy"):Ft.stat===vo_NOPROXY&&zn("Connection","Detected no buffering proxy")}),setTimeout(function(){rt.Pi()},0),rt},e}(function(){function t(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Di=(e.ssl?"https":"http")+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(e,o,a,c){var g=this.xi(e,o);zn("RestConnection","Sending: ",g,a);var w={};return this.Fi(w,c),this.ki(e,g,w,a).then(function(S){return zn("RestConnection","Received: ",S),S},function(S){throw Ba("RestConnection",e+" failed with error: ",S,"url: ",g,"request:",a),S})},t.prototype.$i=function(e,o,a,c){return this.Ni(e,o,a,c)},t.prototype.Fi=function(e,o){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.7.0",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),o)for(var a in o.authHeaders)o.authHeaders.hasOwnProperty(a)&&(e[a]=o.authHeaders[a])},t.prototype.xi=function(e,o){return this.Di+"/v1/"+o+":"+am[e]},t}());function eg(){return"undefined"!=typeof window?window:null}function df(){return"undefined"!=typeof document?document:null}function Ch(t){return new Pu(t,!0)}var ff=function(){function t(e,o,a,c,g){void 0===a&&(a=1e3),void 0===c&&(c=1.5),void 0===g&&(g=6e4),this.Se=e,this.timerId=o,this.Mi=a,this.Li=c,this.Bi=g,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Qi=function(){this.qi=this.Bi},t.prototype.ji=function(e){var o=this;this.cancel();var a=Math.floor(this.qi+this.Wi()),c=Math.max(0,Date.now()-this.Ki),g=Math.max(0,a-c);g>0&&zn("ExponentialBackoff","Backing off for "+g+" ms (base delay: "+this.qi+" ms, delay with jitter: "+a+" ms, last attempt: "+c+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,g,function(){return o.Ki=Date.now(),e()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),tg=function(){function t(e,o,a,c,g,w){this.Se=e,this.zi=a,this.Hi=c,this.Ji=g,this.listener=w,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new ff(e,o)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return(0,C.__awaiter)(this,void 0,void 0,function(){return(0,C.__generator)(this,function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var e=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return e.rr()}))},t.prototype.cr=function(e){this.ur(),this.stream.send(e)},t.prototype.rr=function(){return(0,C.__awaiter)(this,void 0,void 0,function(){return(0,C.__generator)(this,function(e){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(e,o){return(0,C.__awaiter)(this,void 0,void 0,function(){return(0,C.__generator)(this,function(a){switch(a.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==e?this.Zi.reset():o&&o.code===en.RESOURCE_EXHAUSTED?(ho(o.toString()),ho("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):o&&o.code===en.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(o)];case 1:return a.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var e=this;this.state=1;var o=this.hr(this.Yi),a=this.Yi;this.Ji.getToken().then(function(c){e.Yi===a&&e.lr(c)},function(c){o(function(){var g=new In(en.UNKNOWN,"Fetching auth token failed: "+c.message);return e.dr(g)})})},t.prototype.lr=function(e){var o=this,a=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii(function(){a(function(){return o.state=2,o.listener.Ii()})}),this.stream.Ri(function(c){a(function(){return o.dr(c)})}),this.stream.onMessage(function(c){a(function(){return o.onMessage(c)})})},t.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji(function(){return(0,C.__awaiter)(e,void 0,void 0,function(){return(0,C.__generator)(this,function(o){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(e){return zn("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},t.prototype.hr=function(e){var o=this;return function(a){o.Se.enqueueAndForget(function(){return o.Yi===e?a():(zn("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),ri=function(t){function e(o,a,c,g,w){var S=this;return(S=t.call(this,o,"listen_stream_connection_backoff","listen_stream_idle",a,c,w)||this).R=g,S}return(0,C.__extends)(e,t),e.prototype.wr=function(o){return this.Hi.Oi("Listen",o)},e.prototype.onMessage=function(o){this.Zi.reset();var a=function(g,w){var S,kn;if("targetChange"in w){var L="NO_CHANGE"===(kn=w.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===kn?1:"REMOVE"===kn?2:"CURRENT"===kn?3:"RESET"===kn?4:fr(),te=w.targetChange.targetIds||[],de=function(kn,Kn){return kn.I?(yr(void 0===Kn||"string"==typeof Kn),Gn.fromBase64String(Kn||"")):(yr(void 0===Kn||Kn instanceof Uint8Array),Gn.fromUint8Array(Kn||new Uint8Array))}(g,w.targetChange.resumeToken),Ue=(rt=w.targetChange.cause)&&function(kn){var Kn=void 0===kn.code?en.UNKNOWN:Ju(kn.code);return new In(Kn,kn.message||"")}(rt);S=new Ka(L,te,de,Ue||null)}else if("documentChange"in w){te=ea(g,(L=w.documentChange).document.name),de=cs(L.document.updateTime);var rt=new Ia({mapValue:{fields:L.document.fields}}),Vt=(Ue=_s.newFoundDocument(te,de,rt),L.targetIds||[]);S=new ec(Vt,L.removedTargetIds||[],Ue.key,Ue)}else if("documentDelete"in w)te=ea(g,(L=w.documentDelete).document),de=L.readTime?cs(L.readTime):F.min(),rt=_s.newNoDocument(te,de),S=new ec([],Ue=L.removedTargetIds||[],rt.key,rt);else if("documentRemove"in w)te=ea(g,(L=w.documentRemove).document),S=new ec([],de=L.removedTargetIds||[],te,null);else{if(!("filter"in w))return fr();var Jt=w.filter;te=new Kp(L=Jt.count||0),S=new Xu(de=Jt.targetId,te)}return S}(this.R,o),c=function(g){if(!("targetChange"in g))return F.min();var w=g.targetChange;return w.targetIds&&w.targetIds.length?F.min():w.readTime?cs(w.readTime):F.min()}(o);return this.listener._r(a,c)},e.prototype.mr=function(o){var g,w,S,L,a={};a.database=Ml(this.R),a.addTarget=(g=this.R,(S=wu(L=(w=o).target)?{documents:Ma(g,L)}:{query:td(g,L)}).targetId=w.targetId,w.resumeToken.approximateByteSize()>0?S.resumeToken=zd(g,w.resumeToken):w.snapshotVersion.compareTo(F.min())>0&&(S.readTime=xu(g,w.snapshotVersion.toTimestamp())),S);var c=function(g,w){var S=function(L,te){switch(te){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return fr()}}(0,w.purpose);return null==S?null:{"goog-listen-tags":S}}(0,o);c&&(a.labels=c),this.cr(a)},e.prototype.yr=function(o){var a={};a.database=Ml(this.R),a.removeTarget=o,this.cr(a)},e}(tg),um=function(t){function e(o,a,c,g,w){var S=this;return(S=t.call(this,o,"write_stream_connection_backoff","write_stream_idle",a,c,w)||this).R=g,S.gr=!1,S}return(0,C.__extends)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(o){return this.Hi.Oi("Write",o)},e.prototype.onMessage=function(o){if(yr(!!o.streamToken),this.lastStreamToken=o.streamToken,this.gr){this.Zi.reset();var a=(w=o.commitTime,(g=o.writeResults)&&g.length>0?(yr(void 0!==w),g.map(function(S){return te=w,(de=cs((L=S).updateTime?L.updateTime:te)).isEqual(F.min())&&(de=cs(te)),new Mu(de,L.transformResults||[]);var L,te,de})):[]),c=cs(o.commitTime);return this.listener.Tr(c,a)}var g,w;return yr(!o.writeResults||0===o.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var o={};o.database=Ml(this.R),this.cr(o)},e.prototype.Er=function(o){var a=this,c={streamToken:this.lastStreamToken,writes:o.map(function(g){return nl(a.R,g)})};this.cr(c)},e}(tg),Zf=function(t){function e(o,a,c){var g=this;return(g=t.call(this)||this).credentials=o,g.Hi=a,g.R=c,g.Rr=!1,g}return(0,C.__extends)(e,t),e.prototype.br=function(){if(this.Rr)throw new In(en.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(o,a,c){var g=this;return this.br(),this.credentials.getToken().then(function(w){return g.Hi.Ni(o,a,c,w)}).catch(function(w){throw"FirebaseError"===w.name?(w.code===en.UNAUTHENTICATED&&g.credentials.invalidateToken(),w):new In(en.UNKNOWN,w.toString())})},e.prototype.$i=function(o,a,c){var g=this;return this.br(),this.credentials.getToken().then(function(w){return g.Hi.$i(o,a,c,w)}).catch(function(w){throw"FirebaseError"===w.name?(w.code===en.UNAUTHENTICATED&&g.credentials.invalidateToken(),w):new In(en.UNKNOWN,w.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),Jf=function(){function t(e,o){this.asyncQueue=e,this.onlineStateHandler=o,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var e=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(e){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},t.prototype.set=function(e){this.Fr(),this.vr=0,"Online"===e&&(this.Vr=!1),this.Dr(e)},t.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},t.prototype.Cr=function(e){var o="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(ho(o),this.Vr=!1):zn("OnlineStateTracker",o)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),ul=function(t,e,o,a,c){var g=this;this.localStore=t,this.datastore=e,this.asyncQueue=o,this.remoteSyncer={},this.kr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=c,this.Lr.di(function(w){o.enqueueAndForget(function(){return(0,C.__awaiter)(g,void 0,void 0,function(){return(0,C.__generator)(this,function(S){switch(S.label){case 0:return Ya(this)?(zn("RemoteStore","Restarting streams for network reachability change."),[4,function(L){return(0,C.__awaiter)(this,void 0,void 0,function(){var te;return(0,C.__generator)(this,function(de){switch(de.label){case 0:return(te=Bn(L)).Or.add(4),[4,gd(te)];case 1:return de.sent(),te.Br.set("Unknown"),te.Or.delete(4),[4,pd(te)];case 2:return de.sent(),[2]}})})}(this)]):[3,2];case 1:S.sent(),S.label=2;case 2:return[2]}})})})}),this.Br=new Jf(o,a)};function pd(t){return(0,C.__awaiter)(this,void 0,void 0,function(){var e,o;return(0,C.__generator)(this,function(a){switch(a.label){case 0:if(!Ya(t))return[3,4];e=0,o=t.Mr,a.label=1;case 1:return e<o.length?[4,(0,o[e])(!0)]:[3,4];case 2:a.sent(),a.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function gd(t){return(0,C.__awaiter)(this,void 0,void 0,function(){var e,o;return(0,C.__generator)(this,function(a){switch(a.label){case 0:e=0,o=t.Mr,a.label=1;case 1:return e<o.length?[4,(0,o[e])(!1)]:[3,4];case 2:a.sent(),a.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function ll(t,e){var o=Bn(t);o.$r.has(e.targetId)||(o.$r.set(e.targetId,e),jc(o)?ac(o):Bl(o).er()&&md(o,e))}function mu(t,e){var o=Bn(t),a=Bl(o);o.$r.delete(e),a.er()&&pf(o,e),0===o.$r.size&&(a.er()?a.ir():Ya(o)&&o.Br.set("Unknown"))}function md(t,e){t.qr.U(e.targetId),Bl(t).mr(e)}function pf(t,e){t.qr.U(e),Bl(t).yr(e)}function ac(t){t.qr=new hh({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),Bl(t).start(),t.Br.Sr()}function jc(t){return Ya(t)&&!Bl(t).tr()&&t.$r.size>0}function Ya(t){return 0===Bn(t).Or.size}function C_(t){t.qr=void 0}function qa(t){return(0,C.__awaiter)(this,void 0,void 0,function(){return(0,C.__generator)(this,function(e){return t.$r.forEach(function(o,a){md(t,o)}),[2]})})}function Xf(t,e){return(0,C.__awaiter)(this,void 0,void 0,function(){return(0,C.__generator)(this,function(o){return C_(t),jc(t)?(t.Br.Nr(e),ac(t)):t.Br.set("Unknown"),[2]})})}function _d(t,e,o){return(0,C.__awaiter)(this,void 0,void 0,function(){var a,c,g;return(0,C.__generator)(this,function(w){switch(w.label){case 0:if(t.Br.set("Online"),!(e instanceof Ka&&2===e.state&&e.cause))return[3,6];w.label=1;case 1:return w.trys.push([1,3,,5]),[4,function(S,L){return(0,C.__awaiter)(this,void 0,void 0,function(){var te,de,Ue,rt;return(0,C.__generator)(this,function(Vt){switch(Vt.label){case 0:te=L.cause,de=0,Ue=L.targetIds,Vt.label=1;case 1:return de<Ue.length?S.$r.has(rt=Ue[de])?[4,S.remoteSyncer.rejectListen(rt,te)]:[3,3]:[3,5];case 2:Vt.sent(),S.$r.delete(rt),S.qr.removeTarget(rt),Vt.label=3;case 3:Vt.label=4;case 4:return de++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return w.sent(),[3,5];case 3:return a=w.sent(),zn("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),a),[4,vd(t,a)];case 4:return w.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof ec?t.qr.X(e):e instanceof Xu?t.qr.rt(e):t.qr.et(e),o.isEqual(F.min()))return[3,13];w.label=7;case 7:return w.trys.push([7,11,,13]),[4,U(t.localStore)];case 8:return c=w.sent(),o.compareTo(c)>=0?[4,(S=t,L=o,te=S.qr.ut(L),te.targetChanges.forEach(function(de,Ue){if(de.resumeToken.approximateByteSize()>0){var rt=S.$r.get(Ue);rt&&S.$r.set(Ue,rt.withResumeToken(de.resumeToken,L))}}),te.targetMismatches.forEach(function(de){var Ue=S.$r.get(de);if(Ue){S.$r.set(de,Ue.withResumeToken(Gn.EMPTY_BYTE_STRING,Ue.snapshotVersion)),pf(S,de);var rt=new cu(Ue.target,de,1,Ue.sequenceNumber);md(S,rt)}}),S.remoteSyncer.applyRemoteEvent(te))]:[3,10];case 9:w.sent(),w.label=10;case 10:return[3,13];case 11:return zn("RemoteStore","Failed to raise snapshot:",g=w.sent()),[4,vd(t,g)];case 12:return w.sent(),[3,13];case 13:return[2]}var S,L,te})})}function vd(t,e,o){return(0,C.__awaiter)(this,void 0,void 0,function(){var a=this;return(0,C.__generator)(this,function(c){switch(c.label){case 0:if(!qo(e))throw e;return t.Or.add(1),[4,gd(t)];case 1:return c.sent(),t.Br.set("Offline"),o||(o=function(){return U(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return(0,C.__awaiter)(a,void 0,void 0,function(){return(0,C.__generator)(this,function(g){switch(g.label){case 0:return zn("RemoteStore","Retrying IndexedDB access"),[4,o()];case 1:return g.sent(),t.Or.delete(1),[4,pd(t)];case 2:return g.sent(),[2]}})})}),[2]}})})}function ng(t,e){return e().catch(function(o){return vd(t,o,e)})}function yd(t){return(0,C.__awaiter)(this,void 0,void 0,function(){var e,o,a,c,g;return(0,C.__generator)(this,function(w){switch(w.label){case 0:e=Bn(t),o=Hc(e),a=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,w.label=1;case 1:if(!(Ya(S=e)&&S.kr.length<10))return[3,7];w.label=2;case 2:return w.trys.push([2,4,,6]),[4,Be(e.localStore,a)];case 3:return null===(c=w.sent())?(0===e.kr.length&&o.ir(),[3,7]):(a=c.batchId,function(S,L){S.kr.push(L);var te=Hc(S);te.er()&&te.pr&&te.Er(L.mutations)}(e,c),[3,6]);case 4:return g=w.sent(),[4,vd(e,g)];case 5:return w.sent(),[3,6];case 6:return[3,1];case 7:return rg(e)&&T_(e),[2]}var S})})}function rg(t){return Ya(t)&&!Hc(t).tr()&&t.kr.length>0}function T_(t){Hc(t).start()}function ep(t){return(0,C.__awaiter)(this,void 0,void 0,function(){return(0,C.__generator)(this,function(e){return Hc(t).Ar(),[2]})})}function ig(t){return(0,C.__awaiter)(this,void 0,void 0,function(){var e,o,a;return(0,C.__generator)(this,function(g){for(e=Hc(t),o=0,a=t.kr;o<a.length;o++)e.Er(a[o].mutations);return[2]})})}function og(t,e,o){return(0,C.__awaiter)(this,void 0,void 0,function(){var a,c;return(0,C.__generator)(this,function(g){switch(g.label){case 0:return a=t.kr.shift(),c=Vf.from(a,e,o),[4,ng(t,function(){return t.remoteSyncer.applySuccessfulWrite(c)})];case 1:return g.sent(),[4,yd(t)];case 2:return g.sent(),[2]}})})}function lm(t,e){return(0,C.__awaiter)(this,void 0,void 0,function(){return(0,C.__generator)(this,function(o){switch(o.label){case 0:return e&&Hc(t).pr?[4,function(a,c){return(0,C.__awaiter)(this,void 0,void 0,function(){var g,w;return(0,C.__generator)(this,function(S){switch(S.label){case 0:return us(w=c.code)&&w!==en.ABORTED?(g=a.kr.shift(),Hc(a).sr(),[4,ng(a,function(){return a.remoteSyncer.rejectFailedWrite(g.batchId,c)})]):[3,3];case 1:return S.sent(),[4,yd(a)];case 2:S.sent(),S.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:o.sent(),o.label=2;case 2:return rg(t)&&T_(t),[2]}})})}function tp(t,e){return(0,C.__awaiter)(this,void 0,void 0,function(){var o;return(0,C.__generator)(this,function(a){switch(a.label){case 0:return o=Bn(t),e?(o.Or.delete(2),[4,pd(o)]):[3,2];case 1:return a.sent(),[3,5];case 2:return e?[3,4]:(o.Or.add(2),[4,gd(o)]);case 3:a.sent(),o.Br.set("Unknown"),a.label=4;case 4:a.label=5;case 5:return[2]}})})}function Bl(t){var o,a,c,g,e=this;return t.Ur||(t.Ur=(o=t.datastore,a=t.asyncQueue,c={Ii:qa.bind(null,t),Ri:Xf.bind(null,t),_r:_d.bind(null,t)},(g=Bn(o)).br(),new ri(a,g.Hi,g.credentials,g.R,c)),t.Mr.push(function(o){return(0,C.__awaiter)(e,void 0,void 0,function(){return(0,C.__generator)(this,function(a){switch(a.label){case 0:return o?(t.Ur.sr(),jc(t)?ac(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:a.sent(),C_(t),a.label=3;case 3:return[2]}})})})),t.Ur}function Hc(t){var o,a,c,g,e=this;return t.Kr||(t.Kr=(o=t.datastore,a=t.asyncQueue,c={Ii:ep.bind(null,t),Ri:lm.bind(null,t),Ir:ig.bind(null,t),Tr:og.bind(null,t)},(g=Bn(o)).br(),new um(a,g.Hi,g.credentials,g.R,c)),t.Mr.push(function(o){return(0,C.__awaiter)(e,void 0,void 0,function(){return(0,C.__generator)(this,function(a){switch(a.label){case 0:return o?(t.Kr.sr(),[4,yd(t)]):[3,2];case 1:return a.sent(),[3,4];case 2:return[4,t.Kr.stop()];case 3:a.sent(),t.kr.length>0&&(zn("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),a.label=4;case 4:return[2]}})})})),t.Kr}var cm=function(){function t(e,o,a,c,g){this.asyncQueue=e,this.timerId=o,this.targetTimeMs=a,this.op=c,this.removalCallback=g,this.deferred=new so,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(w){})}return t.createAndSchedule=function(e,o,a,c,g){var w=new t(e,o,Date.now()+a,c,g);return w.start(a),w},t.prototype.start=function(e){var o=this;this.timerHandle=setTimeout(function(){return o.handleDelayElapsed()},e)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new In(en.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},t.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget(function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then(function(o){return e.deferred.resolve(o)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function Th(t,e){if(ho("AsyncQueue",e+": "+t),qo(t))return new In(en.UNAVAILABLE,e+": "+t);throw t}var hm=function(){function t(e){this.comparator=e?function(o,a){return e(o,a)||mr.comparator(o.key,a.key)}:function(o,a){return mr.comparator(o.key,a.key)},this.keyedMap=ls(),this.sortedSet=new ys(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(e){return null!=this.keyedMap.get(e)},t.prototype.get=function(e){return this.keyedMap.get(e)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(e){var o=this.keyedMap.get(e);return o?this.sortedSet.indexOf(o):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(e){this.sortedSet.inorderTraversal(function(o,a){return e(o),!1})},t.prototype.add=function(e){var o=this.delete(e.key);return o.copy(o.keyedMap.insert(e.key,e),o.sortedSet.insert(e,null))},t.prototype.delete=function(e){var o=this.get(e);return o?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(o)):this},t.prototype.isEqual=function(e){if(!(e instanceof t)||this.size!==e.size)return!1;for(var o=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();o.hasNext();){var c=o.getNext().key,g=a.getNext().key;if(!c.isEqual(g))return!1}return!0},t.prototype.toString=function(){var e=[];return this.forEach(function(o){e.push(o.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},t.prototype.copy=function(e,o){var a=new t;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=o,a},t}(),dm=function(){function t(){this.Qr=new ys(mr.comparator)}return t.prototype.track=function(e){var o=e.doc.key,a=this.Qr.get(o);a?0!==e.type&&3===a.type?this.Qr=this.Qr.insert(o,e):3===e.type&&1!==a.type?this.Qr=this.Qr.insert(o,{type:a.type,doc:e.doc}):2===e.type&&2===a.type?this.Qr=this.Qr.insert(o,{type:2,doc:e.doc}):2===e.type&&0===a.type?this.Qr=this.Qr.insert(o,{type:0,doc:e.doc}):1===e.type&&0===a.type?this.Qr=this.Qr.remove(o):1===e.type&&2===a.type?this.Qr=this.Qr.insert(o,{type:1,doc:a.doc}):0===e.type&&1===a.type?this.Qr=this.Qr.insert(o,{type:2,doc:e.doc}):fr():this.Qr=this.Qr.insert(o,e)},t.prototype.jr=function(){var e=[];return this.Qr.inorderTraversal(function(o,a){e.push(a)}),e},t}(),sg=function(){function t(e,o,a,c,g,w,S,L){this.query=e,this.docs=o,this.oldDocs=a,this.docChanges=c,this.mutatedKeys=g,this.fromCache=w,this.syncStateChanged=S,this.excludesMetadataChanges=L}return t.fromInitialDocuments=function(e,o,a,c){var g=[];return o.forEach(function(w){g.push({type:0,doc:w})}),new t(e,o,hm.emptySet(o),g,a,c,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ou(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var o=this.docChanges,a=e.docChanges;if(o.length!==a.length)return!1;for(var c=0;c<o.length;c++)if(o[c].type!==a[c].type||!o[c].doc.isEqual(a[c].doc))return!1;return!0},t}(),I_=function(){this.Wr=void 0,this.listeners=[]},ag=function(){this.queries=new Ll(function(t){return El(t)},ou),this.onlineState="Unknown",this.Gr=new Set};function fm(t,e){return(0,C.__awaiter)(this,void 0,void 0,function(){var o,a,c,g,w,S,L;return(0,C.__generator)(this,function(te){switch(te.label){case 0:if(o=Bn(t),c=!1,(g=o.queries.get(a=e.query))||(c=!0,g=new I_),!c)return[3,4];te.label=1;case 1:return te.trys.push([1,3,,4]),w=g,[4,o.onListen(a)];case 2:return w.Wr=te.sent(),[3,4];case 3:return S=te.sent(),L=Th(S,"Initialization of query '"+Ic(e.query)+"' failed"),[2,void e.onError(L)];case 4:return o.queries.set(a,g),g.listeners.push(e),e.zr(o.onlineState),g.Wr&&e.Hr(g.Wr)&&bd(o),[2]}})})}function pm(t,e){return(0,C.__awaiter)(this,void 0,void 0,function(){var o,a,c,g,w;return(0,C.__generator)(this,function(S){return o=Bn(t),c=!1,(g=o.queries.get(a=e.query))&&(w=g.listeners.indexOf(e))>=0&&(g.listeners.splice(w,1),c=0===g.listeners.length),c?[2,(o.queries.delete(a),o.onUnlisten(a))]:[2]})})}function iy(t,e){for(var o=Bn(t),a=!1,c=0,g=e;c<g.length;c++){var w=g[c],L=o.queries.get(w.query);if(L){for(var te=0,de=L.listeners;te<de.length;te++)de[te].Hr(w)&&(a=!0);L.Wr=w}}a&&bd(o)}function uc(t,e,o){var a=Bn(t),c=a.queries.get(e);if(c)for(var g=0,w=c.listeners;g<w.length;g++)w[g].onError(o);a.queries.delete(e)}function bd(t){t.Gr.forEach(function(e){e.next()})}var gf=function(){function t(e,o,a){this.query=e,this.Jr=o,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=a||{}}return t.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var o=[],a=0,c=e.docChanges;a<c.length;a++){var g=c[a];3!==g.type&&o.push(g)}e=new sg(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var w=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),w=!0):this.eo(e,this.onlineState)&&(this.no(e),w=!0),this.Xr=e,w},t.prototype.onError=function(e){this.Jr.error(e)},t.prototype.zr=function(e){this.onlineState=e;var o=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),o=!0),o},t.prototype.eo=function(e,o){return!e.fromCache||!(this.options.so&&"Offline"!==o||e.docs.isEmpty()&&"Offline"!==o)},t.prototype.Zr=function(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(e){e=sg.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},t}(),gm=function(){function t(e,o){this.payload=e,this.byteLength=o}return t.prototype.io=function(){return"metadata"in this.payload},t}(),np=function(){function t(e){this.R=e}return t.prototype.qn=function(e){return ea(this.R,e)},t.prototype.Un=function(e){return e.metadata.exists?fa(this.R,e.document,!1):_s.newNoDocument(this.qn(e.metadata.name),this.Kn(e.metadata.readTime))},t.prototype.Kn=function(e){return cs(e)},t}(),rp=function(){function t(e,o,a){this.ro=e,this.localStore=o,this.R=a,this.queries=[],this.documents=[],this.progress=ip(e)}return t.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var o=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++o):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++o),o!==this.progress.documentsLoaded?(this.progress.documentsLoaded=o,Object.assign({},this.progress)):null},t.prototype.co=function(e){for(var o=new Map,a=new np(this.R),c=0,g=e;c<g.length;c++){var w=g[c];if(w.metadata.queries)for(var S=a.qn(w.metadata.name),L=0,te=w.metadata.queries;L<te.length;L++){var de=te[L],Ue=(o.get(de)||Zi()).add(S);o.set(de,Ue)}}return o},t.prototype.complete=function(){return(0,C.__awaiter)(this,void 0,void 0,function(){var e,o,a,c,g;return(0,C.__generator)(this,function(w){switch(w.label){case 0:return[4,xr(this.localStore,new np(this.R),this.documents,this.ro.id)];case 1:e=w.sent(),o=this.co(this.documents),a=0,c=this.queries,w.label=2;case 2:return a<c.length?[4,Sr(this.localStore,g=c[a],o.get(g.name))]:[3,5];case 3:w.sent(),w.label=4;case 4:return a++,[3,2];case 5:return[2,(this.progress.taskState="Success",new af(Object.assign({},this.progress),e))]}})})},t}();function ip(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}var op=function(t){this.key=t},lc=function(t){this.key=t},Ed=function(){function t(e,o){this.query=e,this.uo=o,this.ao=null,this.current=!1,this.ho=Zi(),this.mutatedKeys=Zi(),this.lo=Jl(e),this.fo=new hm(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(e,o){var a=this,c=o?o.mo:new dm,g=o?o.fo:this.fo,w=o?o.mutatedKeys:this.mutatedKeys,S=g,L=!1,te=Yh(this.query)&&g.size===this.query.limit?g.last():null,de=uh(this.query)&&g.size===this.query.limit?g.first():null;if(e.inorderTraversal(function(rt,Vt){var Ft=g.get(rt),Jt=wl(a.query,Vt)?Vt:null,kn=!!Ft&&a.mutatedKeys.has(Ft.key),Kn=!!Jt&&(Jt.hasLocalMutations||a.mutatedKeys.has(Jt.key)&&Jt.hasCommittedMutations),Er=!1;Ft&&Jt?Ft.data.isEqual(Jt.data)?kn!==Kn&&(c.track({type:3,doc:Jt}),Er=!0):a.yo(Ft,Jt)||(c.track({type:2,doc:Jt}),Er=!0,(te&&a.lo(Jt,te)>0||de&&a.lo(Jt,de)<0)&&(L=!0)):!Ft&&Jt?(c.track({type:0,doc:Jt}),Er=!0):Ft&&!Jt&&(c.track({type:1,doc:Ft}),Er=!0,(te||de)&&(L=!0)),Er&&(Jt?(S=S.add(Jt),w=Kn?w.add(rt):w.delete(rt)):(S=S.delete(rt),w=w.delete(rt)))}),Yh(this.query)||uh(this.query))for(;S.size>this.query.limit;){var Ue=Yh(this.query)?S.last():S.first();S=S.delete(Ue.key),w=w.delete(Ue.key),c.track({type:1,doc:Ue})}return{fo:S,mo:c,Nn:L,mutatedKeys:w}},t.prototype.yo=function(e,o){return e.hasLocalMutations&&o.hasCommittedMutations&&!o.hasLocalMutations},t.prototype.applyChanges=function(e,o,a){var c=this,g=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var w=e.mo.jr();w.sort(function(de,Ue){return Vt=Ue.type,(Ft=function(Jt){switch(Jt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fr()}})(de.type)-Ft(Vt)||c.lo(de.doc,Ue.doc);var Vt,Ft}),this.po(a);var S=o?this.Eo():[],L=0===this.ho.size&&this.current?1:0,te=L!==this.ao;return this.ao=L,0!==w.length||te?{snapshot:new sg(this.query,e.fo,g,w,e.mutatedKeys,0===L,te,!1),To:S}:{To:S}},t.prototype.zr=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({fo:this.fo,mo:new dm,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},t.prototype.po=function(e){var o=this;e&&(e.addedDocuments.forEach(function(a){return o.uo=o.uo.add(a)}),e.modifiedDocuments.forEach(function(a){}),e.removedDocuments.forEach(function(a){return o.uo=o.uo.delete(a)}),this.current=e.current)},t.prototype.Eo=function(){var e=this;if(!this.current)return[];var o=this.ho;this.ho=Zi(),this.fo.forEach(function(c){e.Io(c.key)&&(e.ho=e.ho.add(c.key))});var a=[];return o.forEach(function(c){e.ho.has(c)||a.push(new lc(c))}),this.ho.forEach(function(c){o.has(c)||a.push(new op(c))}),a},t.prototype.Ao=function(e){this.uo=e.Bn,this.ho=Zi();var o=this._o(e.documents);return this.applyChanges(o,!0)},t.prototype.Ro=function(){return sg.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),mm=function(t,e,o){this.query=t,this.targetId=e,this.view=o},D_=function(t){this.key=t,this.bo=!1},sp=function(){function t(e,o,a,c,g,w){this.localStore=e,this.remoteStore=o,this.eventManager=a,this.sharedClientState=c,this.currentUser=g,this.maxConcurrentLimboResolutions=w,this.vo={},this.Po=new Ll(function(S){return El(S)},ou),this.Vo=new Map,this.So=new Set,this.Do=new ys(mr.comparator),this.Co=new Map,this.No=new Do,this.xo={},this.Fo=new Map,this.ko=nf.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();function ap(t,e){return(0,C.__awaiter)(this,void 0,void 0,function(){var o,c,g,w,S;return(0,C.__generator)(this,function(L){switch(L.label){case 0:return o=hg(t),(g=o.Po.get(e))?(o.sharedClientState.addLocalQueryTarget(g.targetId),c=g.view.Ro(),[3,4]):[3,1];case 1:return[4,tt(o.localStore,Ha(e))];case 2:return w=L.sent(),S=o.sharedClientState.addLocalQueryTarget(w.targetId),[4,wd(o,e,w.targetId,"current"===S)];case 3:c=L.sent(),o.isPrimaryClient&&ll(o.remoteStore,w),L.label=4;case 4:return[2,c]}})})}function wd(t,e,o,a){return(0,C.__awaiter)(this,void 0,void 0,function(){var c,g,w,S,L,te;return(0,C.__generator)(this,function(de){switch(de.label){case 0:return t.Oo=function(Ue,rt,Vt){return function(Ft,Jt,kn,Kn){return(0,C.__awaiter)(this,void 0,void 0,function(){var Er,Tr,ii;return(0,C.__generator)(this,function(Xr){switch(Xr.label){case 0:return(Er=Jt.view._o(kn)).Nn?[4,$t(Ft.localStore,Jt.query,!1).then(function(wo){return Jt.view._o(wo.documents,Er)})]:[3,2];case 1:Er=Xr.sent(),Xr.label=2;case 2:return Tr=Kn&&Kn.targetChanges.get(Jt.targetId),ii=Jt.view.applyChanges(Er,Ft.isPrimaryClient,Tr),[2,(_f(Ft,Jt.targetId,ii.To),ii.snapshot)]}})})}(t,Ue,rt,Vt)},[4,$t(t.localStore,e,!0)];case 1:return c=de.sent(),g=new Ed(e,c.Bn),w=g._o(c.documents),S=Sl.createSynthesizedTargetChangeForCurrentChange(o,a&&"Offline"!==t.onlineState),L=g.applyChanges(w,t.isPrimaryClient,S),_f(t,o,L.To),te=new mm(e,o,g),[2,(t.Po.set(e,te),t.Vo.has(o)?t.Vo.get(o).push(e):t.Vo.set(o,[e]),L.snapshot)]}})})}function S_(t,e){return(0,C.__awaiter)(this,void 0,void 0,function(){var o,a,c;return(0,C.__generator)(this,function(g){switch(g.label){case 0:return o=Bn(t),a=o.Po.get(e),(c=o.Vo.get(a.targetId)).length>1?[2,(o.Vo.set(a.targetId,c.filter(function(w){return!ou(w,e)})),void o.Po.delete(e))]:o.isPrimaryClient?(o.sharedClientState.removeLocalQueryTarget(a.targetId),o.sharedClientState.isActiveQueryTarget(a.targetId)?[3,2]:[4,ht(o.localStore,a.targetId,!1).then(function(){o.sharedClientState.clearQueryState(a.targetId),mu(o.remoteStore,a.targetId),Gc(o,a.targetId)}).catch(al)]):[3,3];case 1:g.sent(),g.label=2;case 2:return[3,5];case 3:return Gc(o,a.targetId),[4,ht(o.localStore,a.targetId,!0)];case 4:g.sent(),g.label=5;case 5:return[2]}})})}function A_(t,e,o){return(0,C.__awaiter)(this,void 0,void 0,function(){var a,c,g,w;return(0,C.__generator)(this,function(S){switch(S.label){case 0:a=dg(t),S.label=1;case 1:return S.trys.push([1,5,,6]),[4,(L=a.localStore,te=e,Ue=Bn(L),rt=Po.now(),Vt=te.reduce(function(Ft,Jt){return Ft.add(Jt.key)},Zi()),Ue.persistence.runTransaction("Locally write mutations","readwrite",function(Ft){return Ue.Mn.pn(Ft,Vt).next(function(Jt){de=Jt;for(var kn=[],Kn=0,Er=te;Kn<Er.length;Kn++){var Tr=Er[Kn],ii=Wa(Tr,de.get(Tr.key));null!=ii&&kn.push(new za(Tr.key,ii,Fd(ii.value.mapValue),is.exists(!0)))}return Ue._n.addMutationBatch(Ft,rt,kn,te)})}).then(function(Ft){return Ft.applyToLocalDocumentSet(de),{batchId:Ft.batchId,changes:de}}))];case 2:return c=S.sent(),a.sharedClientState.addPendingMutation(c.batchId),function(L,te,de){var Ue=L.xo[L.currentUser.toKey()];Ue||(Ue=new ys(Pr)),Ue=Ue.insert(te,de),L.xo[L.currentUser.toKey()]=Ue}(a,c.batchId,o),[4,Oa(a,c.changes)];case 3:return S.sent(),[4,yd(a.remoteStore)];case 4:return S.sent(),[3,6];case 5:return g=S.sent(),w=Th(g,"Failed to persist write"),o.reject(w),[3,6];case 6:return[2]}var L,te,de,Ue,rt,Vt})})}function Ih(t,e){return(0,C.__awaiter)(this,void 0,void 0,function(){var o,a;return(0,C.__generator)(this,function(c){switch(c.label){case 0:o=Bn(t),c.label=1;case 1:return c.trys.push([1,4,,6]),[4,X(o.localStore,e)];case 2:return a=c.sent(),e.targetChanges.forEach(function(g,w){var S=o.Co.get(w);S&&(yr(g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size<=1),g.addedDocuments.size>0?S.bo=!0:g.modifiedDocuments.size>0?yr(S.bo):g.removedDocuments.size>0&&(yr(S.bo),S.bo=!1))}),[4,Oa(o,a,e)];case 3:return c.sent(),[3,6];case 4:return[4,al(c.sent())];case 5:return c.sent(),[3,6];case 6:return[2]}})})}function cc(t,e,o){var a=Bn(t);if(a.isPrimaryClient&&0===o||!a.isPrimaryClient&&1===o){var c=[];a.Po.forEach(function(g,w){var S=w.view.zr(e);S.snapshot&&c.push(S.snapshot)}),function(g,w){var S=Bn(g);S.onlineState=w;var L=!1;S.queries.forEach(function(te,de){for(var Ue=0,rt=de.listeners;Ue<rt.length;Ue++)rt[Ue].zr(w)&&(L=!0)}),L&&bd(S)}(a.eventManager,e),c.length&&a.vo._r(c),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}function up(t,e,o){return(0,C.__awaiter)(this,void 0,void 0,function(){var a,c,g,w,S,L;return(0,C.__generator)(this,function(te){switch(te.label){case 0:return(a=Bn(t)).sharedClientState.updateQueryState(e,"rejected",o),c=a.Co.get(e),(g=c&&c.key)?(w=(w=new ys(mr.comparator)).insert(g,_s.newNoDocument(g,F.min())),S=Zi().add(g),L=new Dl(F.min(),new Map,new No(Pr),w,S),[4,Ih(a,L)]):[3,2];case 1:return te.sent(),a.Do=a.Do.remove(g),a.Co.delete(e),Oh(a),[3,4];case 2:return[4,ht(a.localStore,e,!1).then(function(){return Gc(a,e,o)}).catch(al)];case 3:te.sent(),te.label=4;case 4:return[2]}})})}function Dh(t,e){return(0,C.__awaiter)(this,void 0,void 0,function(){var o,a,c;return(0,C.__generator)(this,function(g){switch(g.label){case 0:o=Bn(t),a=e.batch.batchId,g.label=1;case 1:return g.trys.push([1,4,,6]),[4,M(o.localStore,e)];case 2:return c=g.sent(),Mh(o,a,null),mf(o,a),o.sharedClientState.updateMutationState(a,"acknowledged"),[4,Oa(o,c)];case 3:return g.sent(),[3,6];case 4:return[4,al(g.sent())];case 5:return g.sent(),[3,6];case 6:return[2]}})})}function Sh(t,e,o){return(0,C.__awaiter)(this,void 0,void 0,function(){var a,c;return(0,C.__generator)(this,function(g){switch(g.label){case 0:a=Bn(t),g.label=1;case 1:return g.trys.push([1,4,,6]),[4,(w=a.localStore,S=e,L=Bn(w),L.persistence.runTransaction("Reject batch","readwrite-primary",function(te){var de;return L._n.lookupMutationBatch(te,S).next(function(Ue){return yr(null!==Ue),de=Ue.keys(),L._n.removeMutationBatch(te,Ue)}).next(function(){return L._n.performConsistencyCheck(te)}).next(function(){return L.Mn.pn(te,de)})}))];case 2:return c=g.sent(),Mh(a,e,o),mf(a,e),a.sharedClientState.updateMutationState(e,"rejected",o),[4,Oa(a,c)];case 3:return g.sent(),[3,6];case 4:return[4,al(g.sent())];case 5:return g.sent(),[3,6];case 6:return[2]}var w,S,L})})}function Ah(t,e){return(0,C.__awaiter)(this,void 0,void 0,function(){var o,a,c,g,w;return(0,C.__generator)(this,function(S){switch(S.label){case 0:Ya((o=Bn(t)).remoteStore)||zn("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),S.label=1;case 1:return S.trys.push([1,3,,4]),[4,(L=o.localStore,te=Bn(L),te.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(de){return te._n.getHighestUnacknowledgedBatchId(de)}))];case 2:return-1===(a=S.sent())?[2,void e.resolve()]:((c=o.Fo.get(a)||[]).push(e),o.Fo.set(a,c),[3,4]);case 3:return g=S.sent(),w=Th(g,"Initialization of waitForPendingWrites() operation failed"),e.reject(w),[3,4];case 4:return[2]}var L,te})})}function mf(t,e){(t.Fo.get(e)||[]).forEach(function(o){o.resolve()}),t.Fo.delete(e)}function Mh(t,e,o){var a=Bn(t),c=a.xo[a.currentUser.toKey()];if(c){var g=c.get(e);g&&(o?g.reject(o):g.resolve(),c=c.remove(e)),a.xo[a.currentUser.toKey()]=c}}function Gc(t,e,o){void 0===o&&(o=null),t.sharedClientState.removeLocalQueryTarget(e);for(var a=0,c=t.Vo.get(e);a<c.length;a++){var g=c[a];t.Po.delete(g),o&&t.vo.Mo(g,o)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(w){t.No.containsKey(w)||Rh(t,w)})}function Rh(t,e){t.So.delete(e.path.canonicalString());var o=t.Do.get(e);null!==o&&(mu(t.remoteStore,o),t.Do=t.Do.remove(e),t.Co.delete(o),Oh(t))}function _f(t,e,o){for(var a=0,c=o;a<c.length;a++){var g=c[a];g instanceof op?(t.No.addReference(g.key,e),_m(t,g)):g instanceof lc?(zn("SyncEngine","Document no longer in limbo: "+g.key),t.No.removeReference(g.key,e),t.No.containsKey(g.key)||Rh(t,g.key)):fr()}}function _m(t,e){var o=e.key,a=o.path.canonicalString();t.Do.get(o)||t.So.has(a)||(zn("SyncEngine","New document in limbo: "+o),t.So.add(a),Oh(t))}function Oh(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var o=new mr(Ee.fromString(e)),a=t.ko.next();t.Co.set(a,new D_(o)),t.Do=t.Do.insert(o,a),ll(t.remoteStore,new cu(Ha(Zl(o.path)),a,2,gs.o))}}function Oa(t,e,o){return(0,C.__awaiter)(this,void 0,void 0,function(){var a,c,g,w;return(0,C.__generator)(this,function(S){switch(S.label){case 0:return a=Bn(t),c=[],g=[],w=[],a.Po.isEmpty()?[3,3]:(a.Po.forEach(function(L,te){w.push(a.Oo(te,e,o).then(function(de){if(de){a.isPrimaryClient&&a.sharedClientState.updateQueryState(te.targetId,de.fromCache?"not-current":"current"),c.push(de);var Ue=lf.Pn(te.targetId,de);g.push(Ue)}}))}),[4,Promise.all(w)]);case 1:return S.sent(),a.vo._r(c),[4,function(L,te){return(0,C.__awaiter)(this,void 0,void 0,function(){var de,Ue,rt,Vt,Ft,Jt,kn,Er;return(0,C.__generator)(this,function(Tr){switch(Tr.label){case 0:de=Bn(L),Tr.label=1;case 1:return Tr.trys.push([1,3,,4]),[4,de.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(ii){return Vn.forEach(te,function(Xr){return Vn.forEach(Xr.bn,function(wo){return de.persistence.referenceDelegate.addReference(ii,Xr.targetId,wo)}).next(function(){return Vn.forEach(Xr.vn,function(wo){return de.persistence.referenceDelegate.removeReference(ii,Xr.targetId,wo)})})})})];case 2:return Tr.sent(),[3,4];case 3:if(!qo(Ue=Tr.sent()))throw Ue;return zn("LocalStore","Failed to update sequence numbers: "+Ue),[3,4];case 4:for(rt=0,Vt=te;rt<Vt.length;rt++)Jt=(Ft=Vt[rt]).targetId,Ft.fromCache||(kn=de.Fn.get(Jt),Er=kn.withLastLimboFreeSnapshotVersion(kn.snapshotVersion),de.Fn=de.Fn.insert(Jt,Er));return[2]}})})}(a.localStore,g)];case 2:S.sent(),S.label=3;case 3:return[2]}})})}function vm(t,e){return(0,C.__awaiter)(this,void 0,void 0,function(){var o,a;return(0,C.__generator)(this,function(c){switch(c.label){case 0:return(o=Bn(t)).currentUser.isEqual(e)?[3,3]:(zn("SyncEngine","User change. New user:",e.toKey()),[4,b(o.localStore,e)]);case 1:return a=c.sent(),o.currentUser=e,(g=o).Fo.forEach(function(S){S.forEach(function(L){L.reject(new In(en.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),g.Fo.clear(),o.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),[4,Oa(o,a.Ln)];case 2:c.sent(),c.label=3;case 3:return[2]}var g})})}function M_(t,e){var o=Bn(t),a=o.Co.get(e);if(a&&a.bo)return Zi().add(a.key);var c=Zi(),g=o.Vo.get(e);if(!g)return c;for(var w=0,S=g;w<S.length;w++){var te=o.Po.get(S[w]);c=c.unionWith(te.view.wo)}return c}function ym(t,e){return(0,C.__awaiter)(this,void 0,void 0,function(){var o,a,c;return(0,C.__generator)(this,function(g){switch(g.label){case 0:return[4,$t((o=Bn(t)).localStore,e.query,!0)];case 1:return a=g.sent(),c=e.view.Ao(a),[2,(o.isPrimaryClient&&_f(o,e.targetId,c.To),c)]}})})}function ug(t){return(0,C.__awaiter)(this,void 0,void 0,function(){var e;return(0,C.__generator)(this,function(o){return[2,xn((e=Bn(t)).localStore).then(function(a){return Oa(e,a)})]})})}function lg(t,e,o,a){return(0,C.__awaiter)(this,void 0,void 0,function(){var c,g;return(0,C.__generator)(this,function(w){switch(w.label){case 0:return[4,(S=(c=Bn(t)).localStore,L=e,te=Bn(S),de=Bn(te._n),te.persistence.runTransaction("Lookup mutation documents","readonly",function(Ue){return de.jt(Ue,L).next(function(rt){return rt?te.Mn.pn(Ue,rt):Vn.resolve(null)})}))];case 1:return null===(g=w.sent())?[3,6]:"pending"!==o?[3,3]:[4,yd(c.remoteStore)];case 2:return w.sent(),[3,4];case 3:"acknowledged"===o||"rejected"===o?(Mh(c,e,a||null),mf(c,e),function(S,L){Bn(Bn(S)._n).Gt(L)}(c.localStore,e)):fr(),w.label=4;case 4:return[4,Oa(c,g)];case 5:return w.sent(),[3,7];case 6:zn("SyncEngine","Cannot apply mutation batch with id: "+e),w.label=7;case 7:return[2]}var S,L,te,de})})}function lp(t,e){return(0,C.__awaiter)(this,void 0,void 0,function(){var o,a,c,g,w,L,te;return(0,C.__generator)(this,function(de){switch(de.label){case 0:return hg(o=Bn(t)),dg(o),!0!==e||!0===o.$o?[3,3]:(a=o.sharedClientState.getAllActiveQueryTargets(),[4,bm(o,a.toArray())]);case 1:return c=de.sent(),o.$o=!0,[4,tp(o.remoteStore,!0)];case 2:for(de.sent(),g=0,w=c;g<w.length;g++)ll(o.remoteStore,w[g]);return[3,7];case 3:return!1!==e||!1===o.$o?[3,7]:(L=[],te=Promise.resolve(),o.Vo.forEach(function(Ue,rt){o.sharedClientState.isLocalQueryTarget(rt)?L.push(rt):te=te.then(function(){return Gc(o,rt),ht(o.localStore,rt,!0)}),mu(o.remoteStore,rt)}),[4,te]);case 4:return de.sent(),[4,bm(o,L)];case 5:return de.sent(),(rt=Bn(o)).Co.forEach(function(Vt,Ft){mu(rt.remoteStore,Ft)}),rt.No.ts(),rt.Co=new Map,rt.Do=new ys(mr.comparator),o.$o=!1,[4,tp(o.remoteStore,!1)];case 6:de.sent(),de.label=7;case 7:return[2]}var rt})})}function bm(t,e,o){return(0,C.__awaiter)(this,void 0,void 0,function(){var a,c,g,w,S,L,te,de,Ue,rt,Ft,Jt,kn;return(0,C.__generator)(this,function(Kn){switch(Kn.label){case 0:a=Bn(t),c=[],g=[],w=0,S=e,Kn.label=1;case 1:return w<S.length?(te=void 0,(de=a.Vo.get(L=S[w]))&&0!==de.length?[4,tt(a.localStore,Ha(de[0]))]:[3,7]):[3,13];case 2:te=Kn.sent(),Ue=0,rt=de,Kn.label=3;case 3:return Ue<rt.length?(Ft=a.Po.get(rt[Ue]),[4,ym(a,Ft)]):[3,6];case 4:(Jt=Kn.sent()).snapshot&&g.push(Jt.snapshot),Kn.label=5;case 5:return Ue++,[3,3];case 6:return[3,11];case 7:return[4,fn(a.localStore,L)];case 8:return kn=Kn.sent(),[4,tt(a.localStore,kn)];case 9:return te=Kn.sent(),[4,wd(a,cp(kn),L,!1)];case 10:Kn.sent(),Kn.label=11;case 11:c.push(te),Kn.label=12;case 12:return w++,[3,1];case 13:return[2,(a.vo._r(g),c)]}})})}function cp(t){return ah(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Qa(t){var e=Bn(t);return Bn(Bn(e.localStore).persistence).fn()}function Em(t,e,o,a){return(0,C.__awaiter)(this,void 0,void 0,function(){var c,g,w;return(0,C.__generator)(this,function(S){switch(S.label){case 0:return(c=Bn(t)).$o?(zn("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!c.Vo.has(e))return[3,8];switch(o){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,xn(c.localStore)];case 3:return g=S.sent(),w=Dl.createSynthesizedRemoteEventForCurrentChange(e,"current"===o),[4,Oa(c,g,w)];case 4:return S.sent(),[3,8];case 5:return[4,ht(c.localStore,e,!0)];case 6:return S.sent(),Gc(c,e,a),[3,8];case 7:fr(),S.label=8;case 8:return[2]}})})}function cg(t,e,o){return(0,C.__awaiter)(this,void 0,void 0,function(){var a,c,g,w,S,L,te,de,Ue;return(0,C.__generator)(this,function(Vt){switch(Vt.label){case 0:if(!(a=hg(t)).$o)return[3,10];c=0,g=e,Vt.label=1;case 1:return c<g.length?a.Vo.has(w=g[c])?(zn("SyncEngine","Adding an already active target "+w),[3,5]):[4,fn(a.localStore,w)]:[3,6];case 2:return S=Vt.sent(),[4,tt(a.localStore,S)];case 3:return L=Vt.sent(),[4,wd(a,cp(S),L.targetId,!1)];case 4:Vt.sent(),ll(a.remoteStore,L),Vt.label=5;case 5:return c++,[3,1];case 6:te=function(Ft){return(0,C.__generator)(this,function(Jt){switch(Jt.label){case 0:return a.Vo.has(Ft)?[4,ht(a.localStore,Ft,!1).then(function(){mu(a.remoteStore,Ft),Gc(a,Ft)}).catch(al)]:[3,2];case 1:Jt.sent(),Jt.label=2;case 2:return[2]}})},de=0,Ue=o,Vt.label=7;case 7:return de<Ue.length?[5,te(Ue[de])]:[3,10];case 8:Vt.sent(),Vt.label=9;case 9:return de++,[3,7];case 10:return[2]}})})}function hg(t){var e=Bn(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ih.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=M_.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=up.bind(null,e),e.vo._r=iy.bind(null,e.eventManager),e.vo.Mo=uc.bind(null,e.eventManager),e}function dg(t){var e=Bn(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Dh.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Sh.bind(null,e),e}function wm(t,e,o){var a=Bn(t);(function(c,g,w){return(0,C.__awaiter)(this,void 0,void 0,function(){var S,L,te,de,Ue,rt;return(0,C.__generator)(this,function(Vt){switch(Vt.label){case 0:return Vt.trys.push([0,14,,15]),[4,g.getMetadata()];case 1:return S=Vt.sent(),[4,(Ft=c.localStore,Jt=S,kn=Bn(Ft),Kn=cs(Jt.createTime),kn.persistence.runTransaction("hasNewerBundle","readonly",function(Er){return kn.Ke.getBundleMetadata(Er,Jt.id)}).then(function(Er){return!!Er&&Er.createTime.compareTo(Kn)>=0}))];case 2:return Vt.sent()?[4,g.close()]:[3,4];case 3:return[2,(Vt.sent(),void w._completeWith(function(Ft){return{taskState:"Success",documentsLoaded:Ft.totalDocuments,bytesLoaded:Ft.totalBytes,totalDocuments:Ft.totalDocuments,totalBytes:Ft.totalBytes}}(S)))];case 4:return w._updateProgress(ip(S)),L=new rp(S,c.localStore,g.R),[4,g.Lo()];case 5:te=Vt.sent(),Vt.label=6;case 6:return te?[4,L.oo(te)]:[3,10];case 7:return(de=Vt.sent())&&w._updateProgress(de),[4,g.Lo()];case 8:te=Vt.sent(),Vt.label=9;case 9:return[3,6];case 10:return[4,L.complete()];case 11:return Ue=Vt.sent(),[4,Oa(c,Ue.wn,void 0)];case 12:return Vt.sent(),[4,function(Ft,Jt){var kn=Bn(Ft);return kn.persistence.runTransaction("Save bundle","readwrite",function(Kn){return kn.Ke.saveBundleMetadata(Kn,Jt)})}(c.localStore,S)];case 13:return Vt.sent(),w._completeWith(Ue.progress),[3,15];case 14:return Ba("SyncEngine","Loading bundle failed with "+(rt=Vt.sent())),w._failWith(rt),[3,15];case 15:return[2]}var Ft,Jt,kn,Kn})})})(a,e,o).then(function(){a.sharedClientState.notifyBundleLoaded()})}var R_=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(e){return(0,C.__awaiter)(this,void 0,void 0,function(){return(0,C.__generator)(this,function(o){switch(o.label){case 0:return this.R=Ch(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return o.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Ko(e),[2]}})})},t.prototype.Uo=function(e){return null},t.prototype.Ko=function(e){return p(this.persistence,new d,e.initialUser,this.R)},t.prototype.qo=function(e){return new om(sm.bs,this.R)},t.prototype.Bo=function(e){return new gu},t.prototype.terminate=function(){return(0,C.__awaiter)(this,void 0,void 0,function(){return(0,C.__generator)(this,function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}})})},t}(),hp=function(t){function e(o,a,c){var g=this;return(g=t.call(this)||this).Qo=o,g.cacheSizeBytes=a,g.forceOwnership=c,g.synchronizeTabs=!1,g}return(0,C.__extends)(e,t),e.prototype.initialize=function(o){return(0,C.__awaiter)(this,void 0,void 0,function(){return(0,C.__generator)(this,function(a){switch(a.label){case 0:return[4,t.prototype.initialize.call(this,o)];case 1:return a.sent(),[4,qn(this.localStore)];case 2:return a.sent(),[4,this.Qo.initialize(this,o)];case 3:return a.sent(),[4,dg(this.Qo.syncEngine)];case 4:return a.sent(),[4,yd(this.Qo.remoteStore)];case 5:return a.sent(),[2]}})})},e.prototype.Ko=function(o){return p(this.persistence,new d,o.initialUser,this.R)},e.prototype.Uo=function(o){return new Nl(this.persistence.referenceDelegate.garbageCollector,o.asyncQueue)},e.prototype.qo=function(o){var a=ld(o.databaseInfo.databaseId,o.databaseInfo.persistenceKey),c=void 0!==this.cacheSizeBytes?du.withCacheSize(this.cacheSizeBytes):du.DEFAULT;return new Jp(this.synchronizeTabs,a,o.clientId,c,o.asyncQueue,eg(),df(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(o){return new gu},e}(R_),dp=function(t){function e(o,a){var c=this;return(c=t.call(this,o,a,!1)||this).Qo=o,c.cacheSizeBytes=a,c.synchronizeTabs=!0,c}return(0,C.__extends)(e,t),e.prototype.initialize=function(o){return(0,C.__awaiter)(this,void 0,void 0,function(){var a,c=this;return(0,C.__generator)(this,function(g){switch(g.label){case 0:return[4,t.prototype.initialize.call(this,o)];case 1:return g.sent(),a=this.Qo.syncEngine,this.sharedClientState instanceof Yf?(this.sharedClientState.syncEngine={ui:lg.bind(null,a),ai:Em.bind(null,a),hi:cg.bind(null,a),fn:Qa.bind(null,a),ci:ug.bind(null,a)},[4,this.sharedClientState.start()]):[3,3];case 2:g.sent(),g.label=3;case 3:return[4,this.persistence.He(function(w){return(0,C.__awaiter)(c,void 0,void 0,function(){return(0,C.__generator)(this,function(S){switch(S.label){case 0:return[4,lp(this.Qo.syncEngine,w)];case 1:return S.sent(),this.gcScheduler&&(w&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):w||this.gcScheduler.stop()),[2]}})})})];case 4:return g.sent(),[2]}})})},e.prototype.Bo=function(o){var a=eg();if(!Yf.yt(a))throw new In(en.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var c=ld(o.databaseInfo.databaseId,o.databaseInfo.persistenceKey);return new Yf(a,o.asyncQueue,c,o.clientId,o.initialUser)},e}(hp),hc=function(){function t(){}return t.prototype.initialize=function(e,o){return(0,C.__awaiter)(this,void 0,void 0,function(){var a=this;return(0,C.__generator)(this,function(c){switch(c.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(o),this.remoteStore=this.createRemoteStore(o),this.eventManager=this.createEventManager(o),this.syncEngine=this.createSyncEngine(o,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(g){return cc(a.syncEngine,g,1)},this.remoteStore.remoteSyncer.handleCredentialChange=vm.bind(null,this.syncEngine),[4,tp(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:c.sent(),c.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(e){return new ag},t.prototype.createDatastore=function(e){var a=Ch(e.databaseInfo.databaseId),c=new Qf(e.databaseInfo);return new Zf(e.credentials,c,a)},t.prototype.createRemoteStore=function(e){var o,a,c,g,w,S=this;return o=this.localStore,a=this.datastore,c=e.asyncQueue,g=function(L){return cc(S.syncEngine,L,0)},w=qf.yt()?new qf:new w_,new ul(o,a,c,g,w)},t.prototype.createSyncEngine=function(e,o){return te=o,de=new sp(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions),te&&(de.$o=!0),de;var te,de},t.prototype.terminate=function(){return function(e){return(0,C.__awaiter)(this,void 0,void 0,function(){var o;return(0,C.__generator)(this,function(a){switch(a.label){case 0:return o=Bn(e),zn("RemoteStore","RemoteStore shutting down."),o.Or.add(5),[4,gd(o)];case 1:return a.sent(),o.Lr.shutdown(),o.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}();function fp(t,e){void 0===e&&(e=10240);var o=0;return{read:function(){return(0,C.__awaiter)(this,void 0,void 0,function(){var a;return(0,C.__generator)(this,function(c){return o<t.byteLength?(a={value:t.slice(o,o+e),done:!1},[2,(o+=e,a)]):[2,{done:!0}]})})},cancel:function(){return(0,C.__awaiter)(this,void 0,void 0,function(){return(0,C.__generator)(this,function(a){return[2]})})},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var pp=function(){function t(e){this.observer=e,this.muted=!1}return t.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},t.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(e,o){var a=this;this.muted||setTimeout(function(){a.muted||e(o)},0)},t}(),gp=function(){function t(e,o){var a=this;this.Go=e,this.R=o,this.metadata=new so,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(c){c&&c.io()?a.metadata.resolve(c.payload.metadata):a.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==c?void 0:c.payload)))},function(c){return a.metadata.reject(c)})}return t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return(0,C.__awaiter)(this,void 0,void 0,function(){return(0,C.__generator)(this,function(e){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return(0,C.__awaiter)(this,void 0,void 0,function(){return(0,C.__generator)(this,function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return(0,C.__awaiter)(this,void 0,void 0,function(){var e,o,a,c;return(0,C.__generator)(this,function(g){switch(g.label){case 0:return[4,this.Jo()];case 1:return null===(e=g.sent())?[2,null]:(o=this.zo.decode(e),a=Number(o),isNaN(a)&&this.Yo("length string ("+o+") is not valid number"),[4,this.Xo(a)]);case 2:return c=g.sent(),[2,new gm(JSON.parse(c),e.length+a)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(e){return e==="{".charCodeAt(0)})},t.prototype.Jo=function(){return(0,C.__awaiter)(this,void 0,void 0,function(){var e,o;return(0,C.__generator)(this,function(a){switch(a.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(a.sent())return[3,3];a.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),o=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),o)])}})})},t.prototype.Xo=function(e){return(0,C.__awaiter)(this,void 0,void 0,function(){var o;return(0,C.__generator)(this,function(a){switch(a.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:a.sent()&&this.Yo("Reached the end of bundle when more is expected."),a.label=2;case 2:return[3,0];case 3:return o=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),o)]}})})},t.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},t.prototype.tc=function(){return(0,C.__awaiter)(this,void 0,void 0,function(){var e,o;return(0,C.__generator)(this,function(a){switch(a.label){case 0:return[4,this.Go.read()];case 1:return(e=a.sent()).done||((o=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),o.set(e.value,this.buffer.length),this.buffer=o),[2,e.done]}})})},t}(),mp=function(){function t(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(e){return(0,C.__awaiter)(this,void 0,void 0,function(){var o,a=this;return(0,C.__generator)(this,function(c){switch(c.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new In(en.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(g,w){return(0,C.__awaiter)(this,void 0,void 0,function(){var S,L,te,de,Ue,rt;return(0,C.__generator)(this,function(Vt){switch(Vt.label){case 0:return S=Bn(g),L=Ml(S.R)+"/documents",te={documents:w.map(function(Ft){return Al(S.R,Ft)})},[4,S.$i("BatchGetDocuments",L,te)];case 1:return de=Vt.sent(),Ue=new Map,de.forEach(function(Ft){var kn,Kn,Jt=(kn=S.R,"found"in(Kn=Ft)?function(Er,Tr){yr(!!Tr.found);var ii=ea(Er,Tr.found.name),Xr=cs(Tr.found.updateTime),wo=new Ia({mapValue:{fields:Tr.found.fields}});return _s.newFoundDocument(ii,Xr,wo)}(kn,Kn):"missing"in Kn?function(Er,Tr){yr(!!Tr.missing),yr(!!Tr.readTime);var ii=ea(Er,Tr.missing),Xr=cs(Tr.readTime);return _s.newNoDocument(ii,Xr)}(kn,Kn):fr());Ue.set(Jt.key.toString(),Jt)}),rt=[],[2,(w.forEach(function(Ft){var Jt=Ue.get(Ft.toString());yr(!!Jt),rt.push(Jt)}),rt)]}})})}(this.datastore,e)];case 1:return[2,((o=c.sent()).forEach(function(g){return a.recordVersion(g)}),o)]}})})},t.prototype.set=function(e,o){this.write(o.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},t.prototype.update=function(e,o){try{this.write(o.toMutation(e,this.preconditionForUpdate(e)))}catch(a){this.lastWriteError=a}this.writtenDocs.add(e.toString())},t.prototype.delete=function(e){this.write(new js(e,this.precondition(e))),this.writtenDocs.add(e.toString())},t.prototype.commit=function(){return(0,C.__awaiter)(this,void 0,void 0,function(){var e,o=this;return(0,C.__generator)(this,function(a){switch(a.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach(function(c){e.delete(c.key.toString())}),e.forEach(function(c,g){var w=mr.fromPath(g);o.mutations.push(new ca(w,o.precondition(w)))}),[4,function(c,g){return(0,C.__awaiter)(this,void 0,void 0,function(){var w,S,L;return(0,C.__generator)(this,function(te){switch(te.label){case 0:return w=Bn(c),S=Ml(w.R)+"/documents",L={writes:g.map(function(de){return nl(w.R,de)})},[4,w.Ni("Commit",S,L)];case 1:return te.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return a.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(e){var o;if(e.isFoundDocument())o=e.version;else{if(!e.isNoDocument())throw fr();o=F.min()}var a=this.readVersions.get(e.key.toString());if(a){if(!o.isEqual(a))throw new In(en.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),o)},t.prototype.precondition=function(e){var o=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&o?is.updateTime(o):is.none()},t.prototype.preconditionForUpdate=function(e){var o=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&o){if(o.isEqual(F.min()))throw new In(en.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return is.updateTime(o)}return is.exists(!0)},t.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},t.prototype.ensureCommitNotCalled=function(){},t}(),O_=function(){function t(e,o,a,c){this.asyncQueue=e,this.datastore=o,this.updateFunction=a,this.deferred=c,this.ec=5,this.Zi=new ff(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ec-=1,this.nc()},t.prototype.nc=function(){var e=this;this.Zi.ji(function(){return(0,C.__awaiter)(e,void 0,void 0,function(){var o,a,c=this;return(0,C.__generator)(this,function(g){return o=new mp(this.datastore),(a=this.sc(o))&&a.then(function(w){c.asyncQueue.enqueueAndForget(function(){return o.commit().then(function(){c.deferred.resolve(w)}).catch(function(S){c.ic(S)})})}).catch(function(w){c.ic(w)}),[2]})})})},t.prototype.sc=function(e){try{var o=this.updateFunction(e);return!er(o)&&o.catch&&o.then?o:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(a){return this.deferred.reject(a),null}},t.prototype.ic=function(e){var o=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return o.nc(),Promise.resolve()})):this.deferred.reject(e)},t.prototype.rc=function(e){if("FirebaseError"===e.name){var o=e.code;return"aborted"===o||"failed-precondition"===o||!us(o)}return!1},t}(),_p=function(){function t(e,o,a){var c=this;this.credentials=e,this.asyncQueue=o,this.databaseInfo=a,this.user=ma.UNAUTHENTICATED,this.clientId=_l.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(o,function(g){return(0,C.__awaiter)(c,void 0,void 0,function(){return(0,C.__generator)(this,function(w){switch(w.label){case 0:return zn("FirestoreClient","Received user=",g.uid),[4,this.credentialListener(g)];case 1:return w.sent(),this.user=g,[2]}})})})}return t.prototype.getConfiguration=function(){return(0,C.__awaiter)(this,void 0,void 0,function(){return(0,C.__generator)(this,function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},t.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new In(en.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var o=new so;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return(0,C.__awaiter)(e,void 0,void 0,function(){var a,c;return(0,C.__generator)(this,function(g){switch(g.label){case 0:return g.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:g.sent(),g.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:g.sent(),g.label=4;case 4:return this.credentials.removeChangeListener(),o.resolve(),[3,6];case 5:return a=g.sent(),c=Th(a,"Failed to shutdown persistence"),o.reject(c),[3,6];case 6:return[2]}})})}),o.promise},t}();function vp(t,e){return(0,C.__awaiter)(this,void 0,void 0,function(){var o,a,c=this;return(0,C.__generator)(this,function(g){switch(g.label){case 0:return t.asyncQueue.verifyOperationInProgress(),zn("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return o=g.sent(),[4,e.initialize(o)];case 2:return g.sent(),a=o.initialUser,t.setCredentialChangeListener(function(w){return(0,C.__awaiter)(c,void 0,void 0,function(){return(0,C.__generator)(this,function(S){switch(S.label){case 0:return a.isEqual(w)?[3,2]:[4,b(e.localStore,w)];case 1:S.sent(),a=w,S.label=2;case 2:return[2]}})})}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function fg(t,e){return(0,C.__awaiter)(this,void 0,void 0,function(){var o,a;return(0,C.__generator)(this,function(c){switch(c.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,vf(t)];case 1:return o=c.sent(),zn("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return a=c.sent(),[4,e.initialize(o,a)];case 3:return c.sent(),t.setCredentialChangeListener(function(g){return function(w,S){return(0,C.__awaiter)(this,void 0,void 0,function(){var L,te;return(0,C.__generator)(this,function(de){switch(de.label){case 0:return(L=Bn(w)).asyncQueue.verifyOperationInProgress(),zn("RemoteStore","RemoteStore received new credentials"),te=Ya(L),L.Or.add(3),[4,gd(L)];case 1:return de.sent(),te&&L.Br.set("Unknown"),[4,L.remoteSyncer.handleCredentialChange(S)];case 2:return de.sent(),L.Or.delete(3),[4,pd(L)];case 3:return de.sent(),[2]}})})}(e.remoteStore,g)}),t.onlineComponents=e,[2]}})})}function vf(t){return(0,C.__awaiter)(this,void 0,void 0,function(){return(0,C.__generator)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(zn("FirestoreClient","Using default OfflineComponentProvider"),[4,vp(t,new R_)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function yf(t){return(0,C.__awaiter)(this,void 0,void 0,function(){return(0,C.__generator)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(zn("FirestoreClient","Using default OnlineComponentProvider"),[4,fg(t,new hc)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function Cm(t){return vf(t).then(function(e){return e.persistence})}function Pa(t){return vf(t).then(function(e){return e.localStore})}function yp(t){return yf(t).then(function(e){return e.remoteStore})}function pg(t){return yf(t).then(function(e){return e.syncEngine})}function Gs(t){return(0,C.__awaiter)(this,void 0,void 0,function(){var e,o;return(0,C.__generator)(this,function(a){switch(a.label){case 0:return[4,yf(t)];case 1:return e=a.sent(),[2,((o=e.eventManager).onListen=ap.bind(null,e.syncEngine),o.onUnlisten=S_.bind(null,e.syncEngine),o)]}})})}function gg(t,e,o){var a=this;void 0===o&&(o={});var c=new so;return t.asyncQueue.enqueueAndForget(function(){return(0,C.__awaiter)(a,void 0,void 0,function(){var g;return(0,C.__generator)(this,function(w){switch(w.label){case 0:return g=function(S,L,te,de,Ue){var rt=new pp({next:function(Ft){L.enqueueAndForget(function(){return pm(S,Vt)});var Jt=Ft.docs.has(te);!Jt&&Ft.fromCache?Ue.reject(new In(en.UNAVAILABLE,"Failed to get document because the client is offline.")):Jt&&Ft.fromCache&&de&&"server"===de.source?Ue.reject(new In(en.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):Ue.resolve(Ft)},error:function(Ft){return Ue.reject(Ft)}}),Vt=new gf(Zl(te.path),rt,{includeMetadataChanges:!0,so:!0});return fm(S,Vt)},[4,Gs(t)];case 1:return[2,g.apply(void 0,[w.sent(),t.asyncQueue,e,o,c])]}})})}),c.promise}function bf(t,e,o){var a=this;void 0===o&&(o={});var c=new so;return t.asyncQueue.enqueueAndForget(function(){return(0,C.__awaiter)(a,void 0,void 0,function(){var g;return(0,C.__generator)(this,function(w){switch(w.label){case 0:return g=function(S,L,te,de,Ue){var rt=new pp({next:function(Ft){L.enqueueAndForget(function(){return pm(S,Vt)}),Ft.fromCache&&"server"===de.source?Ue.reject(new In(en.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):Ue.resolve(Ft)},error:function(Ft){return Ue.reject(Ft)}}),Vt=new gf(te,rt,{includeMetadataChanges:!0,so:!0});return fm(S,Vt)},[4,Gs(t)];case 1:return[2,g.apply(void 0,[w.sent(),t.asyncQueue,e,o,c])]}})})}),c.promise}var mg=function(t,e,o,a,c,g,w,S){this.databaseId=t,this.appId=e,this.persistenceKey=o,this.host=a,this.ssl=c,this.forceLongPolling=g,this.autoDetectLongPolling=w,this.useFetchStreams=S},Wc=function(){function t(e,o){this.projectId=e,this.database=o||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),bp=new Map,Cd=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},Tm=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(e,o){this.changeListener=o,e.enqueueRetryable(function(){return o(ma.UNAUTHENTICATED)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Im=function(){function t(e){this.token=e,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(e,o){var a=this;this.changeListener=o,e.enqueueRetryable(function(){return o(a.token.user)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Td=function(){function t(e){var o=this;this.currentUser=ma.UNAUTHENTICATED,this.oc=new so,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){o.cc++,o.currentUser=o.ac(),o.oc.resolve(),o.changeListener&&o.asyncQueue.enqueueRetryable(function(){return o.changeListener(o.currentUser)})};var a=function(c){zn("FirebaseCredentialsProvider","Auth detected"),o.auth=c,o.auth.addAuthTokenListener(o.uc)};e.onInit(function(c){return a(c)}),setTimeout(function(){if(!o.auth){var c=e.getImmediate({optional:!0});c?a(c):(zn("FirebaseCredentialsProvider","Auth not yet detected"),o.oc.resolve())}},0)}return t.prototype.getToken=function(){var e=this,o=this.cc,a=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(a).then(function(c){return e.cc!==o?(zn("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):c?(yr("string"==typeof c.accessToken),new Cd(c.accessToken,e.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(e,o){var a=this;this.asyncQueue=e,this.asyncQueue.enqueueRetryable(function(){return(0,C.__awaiter)(a,void 0,void 0,function(){return(0,C.__generator)(this,function(c){switch(c.label){case 0:return[4,this.oc.promise];case 1:return c.sent(),[4,o(this.currentUser)];case 2:return c.sent(),this.changeListener=o,[2]}})})})},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var e=this.auth&&this.auth.getUid();return yr(null===e||"string"==typeof e),new ma(e)},t}(),Ef=function(){function t(e,o,a){this.hc=e,this.lc=o,this.fc=a,this.type="FirstParty",this.user=ma.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.lc},o=this.hc.auth.getAuthHeaderValueForFirstParty([]);return o&&(e.Authorization=o),this.fc&&(e["X-Goog-Iam-Authorization-Token"]=this.fc),e},enumerable:!1,configurable:!0}),t}(),P_=function(){function t(e,o,a){this.hc=e,this.lc=o,this.fc=a}return t.prototype.getToken=function(){return Promise.resolve(new Ef(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(e,o){e.enqueueRetryable(function(){return o(ma.FIRST_PARTY)})},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function cl(t,e,o){if(!o)throw new In(en.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function dc(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new In(en.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Ep(t,e,o,a){if(!0===e&&!0===a)throw new In(en.INVALID_ARGUMENT,t+" and "+o+" cannot be used together.")}function _g(t){if(!mr.isDocumentKey(t))throw new In(en.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function wp(t){if(mr.isDocumentKey(t))throw new In(en.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function zc(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(o){if(o.constructor){var a=/function\s+([^\s(]+)\s*\(/.exec(o.constructor.toString());if(a&&a.length>1)return a[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":fr()}function Vi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new In(en.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var o=zc(t);throw new In(en.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+o)}return t}function vg(t,e){if(e<=0)throw new In(en.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Vl=function(){function t(e){var o;if(void 0===e.host){if(void 0!==e.ssl)throw new In(en.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(o=e.ssl)||void 0===o||o;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new In(en.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Ep("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams},t}(),fc=function(){function t(e,o){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Vl({}),this._settingsFrozen=!1,e instanceof Wc?(this._databaseId=e,this._credentials=new Tm):(this._app=e,this._databaseId=function(a){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new In(en.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wc(a.options.projectId)}(e),this._credentials=new Td(o))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new In(en.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(e){if(this._settingsFrozen)throw new In(en.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Vl(e),void 0!==e.credentials&&(this._credentials=function(o){if(!o)return new Tm;switch(o.type){case"gapi":var a=o.client;return yr(!("object"!=typeof a||null===a||!a.auth||!a.auth.getAuthHeaderValueForFirstParty)),new P_(a,o.sessionIndex||"0",o.iamToken||null);case"provider":return o.client;default:throw new In(en.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(o=bp.get(this))&&(zn("ComponentProvider","Removing Datastore"),bp.delete(this),o.terminate()),Promise.resolve();var o},t}(),Ao=function(){function t(e,o,a){this.converter=o,this._key=a,this.type="document",this.firestore=e}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new pc(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),Vo=function(){function t(e,o,a){this.converter=o,this._query=a,this.type="query",this.firestore=e}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),pc=function(t){function e(o,a,c){var g=this;return(g=t.call(this,o,a,Zl(c))||this)._path=c,g.type="collection",g}return(0,C.__extends)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var o=this._path.popLast();return o.isEmpty()?null:new Ao(this.firestore,null,new mr(o))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(o){return new e(this.firestore,o,this._path)},e}(Vo);function Ul(t,e){for(var o,a=[],c=2;c<arguments.length;c++)a[c-2]=arguments[c];if(t=(0,_e.getModularInstance)(t),cl("collection","path",e),t instanceof fc)return wp(o=Ee.fromString.apply(Ee,(0,C.__spreadArray)([e],a))),new pc(t,null,o);if(!(t instanceof Ao||t instanceof pc))throw new In(en.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return wp(o=Ee.fromString.apply(Ee,(0,C.__spreadArray)([t.path],a)).child(Ee.fromString(e))),new pc(t.firestore,null,o)}function jl(t,e){for(var o,a=[],c=2;c<arguments.length;c++)a[c-2]=arguments[c];if(t=(0,_e.getModularInstance)(t),1===arguments.length&&(e=_l.u()),cl("doc","path",e),t instanceof fc)return _g(o=Ee.fromString.apply(Ee,(0,C.__spreadArray)([e],a))),new Ao(t,null,new mr(o));if(!(t instanceof Ao||t instanceof pc))throw new In(en.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return _g(o=t._path.child(Ee.fromString.apply(Ee,(0,C.__spreadArray)([e],a)))),new Ao(t.firestore,t instanceof pc?t.converter:null,new mr(o))}function Id(t,e){return t=(0,_e.getModularInstance)(t),e=(0,_e.getModularInstance)(e),(t instanceof Ao||t instanceof pc)&&(e instanceof Ao||e instanceof pc)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function yg(t,e){return t=(0,_e.getModularInstance)(t),e=(0,_e.getModularInstance)(e),t instanceof Vo&&e instanceof Vo&&t.firestore===e.firestore&&ou(t._query,e._query)&&t.converter===e.converter}var x_=function(){function t(){var e=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=[],this.Zi=new ff(this,"async_queue_retry"),this.Tc=function(){var a=df();a&&zn("AsyncQueue","Visibility state changed to "+a.visibilityState),e.Zi.Gi()};var o=df();o&&"function"==typeof o.addEventListener&&o.addEventListener("visibilitychange",this.Tc)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(e){this.enqueue(e)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Ic(),this.Ac(e)},t.prototype.enterRestrictedMode=function(){if(!this._c){this._c=!0;var e=df();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Tc)}},t.prototype.enqueue=function(e){return this.Ic(),this._c?new Promise(function(o){}):this.Ac(e)},t.prototype.enqueueRetryable=function(e){var o=this;this.enqueueAndForget(function(){return o.wc.push(e),o.Rc()})},t.prototype.Rc=function(){return(0,C.__awaiter)(this,void 0,void 0,function(){var e,o=this;return(0,C.__generator)(this,function(a){switch(a.label){case 0:if(0===this.wc.length)return[3,5];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return a.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!qo(e=a.sent()))throw e;return zn("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return o.Rc()}),a.label=5;case 5:return[2]}})})},t.prototype.Ac=function(e){var o=this,a=this.dc.then(function(){return o.gc=!0,e().catch(function(c){throw o.yc=c,o.gc=!1,ho("INTERNAL UNHANDLED ERROR: ",(w=(g=c).message||"",g.stack&&(w=g.stack.includes(g.message)?g.stack:g.message+"\n"+g.stack),w)),c;var g,w}).then(function(c){return o.gc=!1,c})});return this.dc=a,a},t.prototype.enqueueAfterDelay=function(e,o,a){var c=this;this.Ic(),this.Ec.indexOf(e)>-1&&(o=0);var g=cm.createAndSchedule(this,e,o,a,function(w){return c.bc(w)});return this.mc.push(g),g},t.prototype.Ic=function(){this.yc&&fr()},t.prototype.verifyOperationInProgress=function(){},t.prototype.vc=function(){return(0,C.__awaiter)(this,void 0,void 0,function(){var e;return(0,C.__generator)(this,function(o){switch(o.label){case 0:return[4,e=this.dc];case 1:o.sent(),o.label=2;case 2:if(e!==this.dc)return[3,0];o.label=3;case 3:return[2]}})})},t.prototype.Pc=function(e){for(var o=0,a=this.mc;o<a.length;o++)if(a[o].timerId===e)return!0;return!1},t.prototype.Vc=function(e){var o=this;return this.vc().then(function(){o.mc.sort(function(w,S){return w.targetTimeMs-S.targetTimeMs});for(var a=0,c=o.mc;a<c.length;a++){var g=c[a];if(g.skipDelay(),"all"!==e&&g.timerId===e)break}return o.vc()})},t.prototype.Sc=function(e){this.Ec.push(e)},t.prototype.bc=function(e){var o=this.mc.indexOf(e);this.mc.splice(o,1)},t}();function Bu(t){return function(e,o){if("object"!=typeof e||null===e)return!1;for(var a=e,c=0,g=["next","error","complete"];c<g.length;c++){var w=g[c];if(w in a&&"function"==typeof a[w])return!0}return!1}(t)}var bg=function(){function t(){this._progressObserver={},this._taskCompletionResolver=new so,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return t.prototype.onProgress=function(e,o,a){this._progressObserver={next:e,error:o,complete:a}},t.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},t.prototype.then=function(e,o){return this._taskCompletionResolver.promise.then(e,o)},t.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},t.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},t.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)},t}(),Fo=function(t){function e(o,a){var c=this;return(c=t.call(this,o,a)||this).type="firestore",c._queue=new x_,c._persistenceKey="name"in o?o.name:"[DEFAULT]",c}return(0,C.__extends)(e,t),e.prototype._terminate=function(){return this._firestoreClient||Cp(this),this._firestoreClient.terminate()},e}(fc);function Ls(t){return t._firestoreClient||Cp(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Cp(t){var e,g,S,o=t._freezeSettings(),a=(g=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new mg(t._databaseId,g,t._persistenceKey,(S=o).host,S.ssl,S.experimentalForceLongPolling,S.experimentalAutoDetectLongPolling,S.useFetchStreams));t._firestoreClient=new _p(t._credentials,t._queue,a)}function Eg(t,e,o){var a=this,c=new so;return t.asyncQueue.enqueue(function(){return(0,C.__awaiter)(a,void 0,void 0,function(){var g;return(0,C.__generator)(this,function(w){switch(w.label){case 0:return w.trys.push([0,3,,4]),[4,vp(t,o)];case 1:return w.sent(),[4,fg(t,e)];case 2:return w.sent(),c.resolve(),[3,4];case 3:if(!("FirebaseError"===(S=g=w.sent()).name?S.code===en.FAILED_PRECONDITION||S.code===en.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&S instanceof DOMException)||22===S.code||20===S.code||11===S.code))throw g;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+g),c.reject(g),[3,4];case 4:return[2]}var S})})}).then(function(){return c.promise})}function Dm(t){if(t._initialized||t._terminated)throw new In(en.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var _u=function(){function t(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];for(var a=0;a<e.length;++a)if(0===e[a].length)throw new In(en.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Et(e)}return t.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},t}(),Kc=function(){function t(e){this._byteString=e}return t.fromBase64String=function(e){try{return new t(Gn.fromBase64String(e))}catch(o){throw new In(en.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+o)}},t.fromUint8Array=function(e){return new t(Gn.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},t}(),gc=function(t){this._methodName=t},Dd=function(){function t(e,o){if(!isFinite(e)||e<-90||e>90)throw new In(en.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(o)||o<-180||o>180)throw new In(en.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+o);this._lat=e,this._long=o}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(e){return Pr(this._lat,e._lat)||Pr(this._long,e._long)},t}(),wg=/^__.*__$/,Sm=function(){function t(e,o,a){this.data=e,this.fieldMask=o,this.fieldTransforms=a}return t.prototype.toMutation=function(e,o){return null!==this.fieldMask?new za(e,this.data,this.fieldMask,o,this.fieldTransforms):new as(e,this.data,o,this.fieldTransforms)},t}(),mc=function(){function t(e,o,a){this.data=e,this.fieldMask=o,this.fieldTransforms=a}return t.prototype.toMutation=function(e,o){return new za(e,this.data,this.fieldMask,o,this.fieldTransforms)},t}();function Vu(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fr()}}var Am=function(){function t(e,o,a,c,g,w){this.settings=e,this.databaseId=o,this.R=a,this.ignoreUndefinedProperties=c,void 0===g&&this.Dc(),this.fieldTransforms=g||[],this.fieldMask=w||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Cc",{get:function(){return this.settings.Cc},enumerable:!1,configurable:!0}),t.prototype.Nc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.xc=function(e){var o,a=null===(o=this.path)||void 0===o?void 0:o.child(e),c=this.Nc({path:a,Fc:!1});return c.kc(e),c},t.prototype.$c=function(e){var o,a=null===(o=this.path)||void 0===o?void 0:o.child(e),c=this.Nc({path:a,Fc:!1});return c.Dc(),c},t.prototype.Oc=function(e){return this.Nc({path:void 0,Fc:!0})},t.prototype.Mc=function(e){return zi(e,this.settings.methodName,this.settings.Lc||!1,this.path,this.settings.Bc)},t.prototype.contains=function(e){return void 0!==this.fieldMask.find(function(o){return e.isPrefixOf(o)})||void 0!==this.fieldTransforms.find(function(o){return e.isPrefixOf(o.field)})},t.prototype.Dc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.kc(this.path.get(e))},t.prototype.kc=function(e){if(0===e.length)throw this.Mc("Document fields must not be empty");if(Vu(this.Cc)&&wg.test(e))throw this.Mc('Document fields cannot begin and end with "__"')},t}(),Mm=function(){function t(e,o,a){this.databaseId=e,this.ignoreUndefinedProperties=o,this.R=a||Ch(e)}return t.prototype.qc=function(e,o,a,c){return void 0===c&&(c=!1),new Am({Cc:e,methodName:o,Bc:a,path:Et.emptyPath(),Fc:!1,Lc:c},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function vu(t){var e=t._freezeSettings(),o=Ch(t._databaseId);return new Mm(t._databaseId,!!e.ignoreUndefinedProperties,o)}function wf(t,e,o,a,c,g){void 0===g&&(g={});var w=t.qc(g.merge||g.mergeFields?2:0,e,o,c);xm("Data must be an object, but it was:",w,a);var S,L,te=Tp(a,w);if(g.merge)S=new hn(w.fieldMask),L=w.fieldTransforms;else if(g.mergeFields){for(var de=[],Ue=0,rt=g.mergeFields;Ue<rt.length;Ue++){var Vt=Cg(e,rt[Ue],o);if(!w.contains(Vt))throw new In(en.INVALID_ARGUMENT,"Field '"+Vt+"' is specified in your field mask but missing from your input data.");ai(de,Vt)||de.push(Vt)}S=new hn(de),L=w.fieldTransforms.filter(function(Ft){return S.covers(Ft.field)})}else S=null,L=w.fieldTransforms;return new Sm(new Ia(te),S,L)}var $c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,C.__extends)(e,t),e.prototype._toFieldTransform=function(o){if(2!==o.Cc)throw o.Mc(1===o.Cc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return o.fieldMask.push(o.path),null},e.prototype.isEqual=function(o){return o instanceof e},e}(gc);function Uu(t,e,o){return new Am({Cc:3,Bc:e.settings.Bc,methodName:t._methodName,Fc:o},e.databaseId,e.R,e.ignoreUndefinedProperties)}var Rm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,C.__extends)(e,t),e.prototype._toFieldTransform=function(o){return new Mi(o.path,new Cl)},e.prototype.isEqual=function(o){return o instanceof e},e}(gc),k_=function(t){function e(o,a){var c=this;return(c=t.call(this,o)||this).Uc=a,c}return(0,C.__extends)(e,t),e.prototype._toFieldTransform=function(o){var a=Uu(this,o,!0),c=this.Uc.map(function(w){return _a(w,a)}),g=new Tl(c);return new Mi(o.path,g)},e.prototype.isEqual=function(o){return this===o},e}(gc),Om=function(t){function e(o,a){var c=this;return(c=t.call(this,o)||this).Uc=a,c}return(0,C.__extends)(e,t),e.prototype._toFieldTransform=function(o){var a=Uu(this,o,!0),c=this.Uc.map(function(w){return _a(w,a)}),g=new Il(c);return new Mi(o.path,g)},e.prototype.isEqual=function(o){return this===o},e}(gc),Pm=function(t){function e(o,a){var c=this;return(c=t.call(this,o)||this).Kc=a,c}return(0,C.__extends)(e,t),e.prototype._toFieldTransform=function(o){var a=new Us(o.R,Bd(o.R,this.Kc));return new Mi(o.path,a)},e.prototype.isEqual=function(o){return this===o},e}(gc);function eo(t,e,o,a){var c=t.qc(1,e,o);xm("Data must be an object, but it was:",c,a);var g=[],w=Ia.empty();O(a,function(L,te){var de=Hl(e,L,o);te=(0,_e.getModularInstance)(te);var Ue=c.$c(de);if(te instanceof $c)g.push(de);else{var rt=_a(te,Ue);null!=rt&&(g.push(de),w.set(de,rt))}});var S=new hn(g);return new mc(w,S,c.fieldTransforms)}function Ph(t,e,o,a,c,g){var w=t.qc(1,e,o),S=[Cg(e,a,o)],L=[c];if(g.length%2!=0)throw new In(en.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var te=0;te<g.length;te+=2)S.push(Cg(e,g[te])),L.push(g[te+1]);for(var de=[],Ue=Ia.empty(),rt=S.length-1;rt>=0;--rt)if(!ai(de,S[rt])){var Vt=S[rt],Ft=L[rt];Ft=(0,_e.getModularInstance)(Ft);var Jt=w.$c(Vt);if(Ft instanceof $c)de.push(Vt);else{var kn=_a(Ft,Jt);null!=kn&&(de.push(Vt),Ue.set(Vt,kn))}}var Kn=new hn(de);return new mc(Ue,Kn,w.fieldTransforms)}function N_(t,e,o,a){return void 0===a&&(a=!1),_a(o,t.qc(a?4:3,e))}function _a(t,e){if(_c(t=(0,_e.getModularInstance)(t)))return xm("Unsupported field value:",e,t),Tp(t,e);if(t instanceof gc)return function(o,a){if(!Vu(a.Cc))throw a.Mc(o._methodName+"() can only be used with update() and set()");if(!a.path)throw a.Mc(o._methodName+"() is not currently supported inside arrays");var c=o._toFieldTransform(a);c&&a.fieldTransforms.push(c)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Fc&&4!==e.Cc)throw e.Mc("Nested arrays are not supported");return function(o,a){for(var c=[],g=0,w=0,S=o;w<S.length;w++){var L=_a(S[w],a.Oc(g));null==L&&(L={nullValue:"NULL_VALUE"}),c.push(L),g++}return{arrayValue:{values:c}}}(t,e)}return function(o,a){if(null===(o=(0,_e.getModularInstance)(o)))return{nullValue:"NULL_VALUE"};if("number"==typeof o)return Bd(a.R,o);if("boolean"==typeof o)return{booleanValue:o};if("string"==typeof o)return{stringValue:o};if(o instanceof Date){var c=Po.fromDate(o);return{timestampValue:xu(a.R,c)}}if(o instanceof Po)return c=new Po(o.seconds,1e3*Math.floor(o.nanoseconds/1e3)),{timestampValue:xu(a.R,c)};if(o instanceof Dd)return{geoPointValue:{latitude:o.latitude,longitude:o.longitude}};if(o instanceof Kc)return{bytesValue:zd(a.R,o._byteString)};if(o instanceof Ao){var g=o.firestore._databaseId;if(!g.isEqual(c=a.databaseId))throw a.Mc("Document reference is for database "+g.projectId+"/"+g.database+" but should be for database "+c.projectId+"/"+c.database);return{referenceValue:$d(o.firestore._databaseId||a.databaseId,o._key.path)}}throw a.Mc("Unsupported field value: "+zc(o))}(t,e)}function Tp(t,e){var o={};return q(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):O(t,function(a,c){var g=_a(c,e.xc(a));null!=g&&(o[a]=g)}),{mapValue:{fields:o}}}function _c(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Po||t instanceof Dd||t instanceof Kc||t instanceof Ao||t instanceof gc)}function xm(t,e,o){if(!_c(o)||"object"!=typeof(c=o)||null===c||Object.getPrototypeOf(c)!==Object.prototype&&null!==Object.getPrototypeOf(c)){var a=zc(o);throw e.Mc("an object"===a?t+" a custom object":t+" "+a)}var c}function Cg(t,e,o){if((e=(0,_e.getModularInstance)(e))instanceof _u)return e._internalPath;if("string"==typeof e)return Hl(t,e);throw zi("Field path arguments must be of type string or FieldPath.",t,!1,void 0,o)}var F_=new RegExp("[~\\*/\\[\\]]");function Hl(t,e,o){if(e.search(F_)>=0)throw zi("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,o);try{return(new(_u.bind.apply(_u,(0,C.__spreadArray)([void 0],e.split(".")))))._internalPath}catch(a){throw zi("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,o)}}function zi(t,e,o,a,c){var g=a&&!a.isEmpty(),w=void 0!==c,S="Function "+e+"() called with invalid data";o&&(S+=" (via `toFirestore()`)");var L="";return(g||w)&&(L+=" (found",g&&(L+=" in field "+a),w&&(L+=" in document "+c),L+=")"),new In(en.INVALID_ARGUMENT,(S+=". ")+t+L)}function ai(t,e){return t.some(function(o){return o.isEqual(e)})}var vc=function(){function t(e,o,a,c,g){this._firestore=e,this._userDataWriter=o,this._key=a,this._document=c,this._converter=g}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Ao(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var e=new Cf(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(e){if(this._document){var o=this._document.data.field(Ip("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o)}},t}(),Cf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,C.__extends)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(vc);function Ip(t,e){return"string"==typeof e?Hl(t,e):e instanceof _u?e._internalPath:e._delegate._internalPath}var Ki=function(){function t(e,o){this.hasPendingWrites=e,this.fromCache=o}return t.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},t}(),xa=function(t){function e(o,a,c,g,w,S){var L=this;return(L=t.call(this,o,a,c,g,S)||this)._firestore=o,L._firestoreImpl=o,L.metadata=w,L}return(0,C.__extends)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(o){if(void 0===o&&(o={}),this._document){if(this._converter){var a=new hl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(a,o)}return this._userDataWriter.convertValue(this._document.data.value,o.serverTimestamps)}},e.prototype.get=function(o,a){if(void 0===a&&(a={}),this._document){var c=this._document.data.field(Ip("DocumentSnapshot.get",o));if(null!==c)return this._userDataWriter.convertValue(c,a.serverTimestamps)}},e}(vc),hl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,C.__extends)(e,t),e.prototype.data=function(o){return void 0===o&&(o={}),t.prototype.data.call(this,o)},e}(xa),dl=function(){function t(e,o,a,c){this._firestore=e,this._userDataWriter=o,this._snapshot=c,this.metadata=new Ki(c.hasPendingWrites,c.fromCache),this.query=a}return Object.defineProperty(t.prototype,"docs",{get:function(){var e=[];return this.forEach(function(o){return e.push(o)}),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(e,o){var a=this;this._snapshot.docs.forEach(function(c){e.call(o,new hl(a._firestore,a._userDataWriter,c.key,c,new Ki(a._snapshot.mutatedKeys.has(c.key),a._snapshot.fromCache),a.query.converter))})},t.prototype.docChanges=function(e){void 0===e&&(e={});var o=!!e.includeMetadataChanges;if(o&&this._snapshot.excludesMetadataChanges)throw new In(en.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===o||(this._cachedChanges=function(a,c){if(a._snapshot.oldDocs.isEmpty()){var g=0;return a._snapshot.docChanges.map(function(S){return{type:"added",doc:new hl(a._firestore,a._userDataWriter,S.doc.key,S.doc,new Ki(a._snapshot.mutatedKeys.has(S.doc.key),a._snapshot.fromCache),a.query.converter),oldIndex:-1,newIndex:g++}})}var w=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(function(S){return c||3!==S.type}).map(function(S){var L=new hl(a._firestore,a._userDataWriter,S.doc.key,S.doc,new Ki(a._snapshot.mutatedKeys.has(S.doc.key),a._snapshot.fromCache),a.query.converter),te=-1,de=-1;return 0!==S.type&&(te=w.indexOf(S.doc.key),w=w.delete(S.doc.key)),1!==S.type&&(de=(w=w.add(S.doc)).indexOf(S.doc.key)),{type:Dp(S.type),doc:L,oldIndex:te,newIndex:de}})}(this,o),this._cachedChangesIncludeMetadataChanges=o),this._cachedChanges},t}();function Dp(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fr()}}function Sp(t,e){return t instanceof xa&&e instanceof xa?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof dl&&e instanceof dl&&t._firestore===e._firestore&&yg(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function Tf(t){if(uh(t)&&0===t.explicitOrderBy.length)throw new In(en.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var xh=function(){};function Gl(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];for(var a=0,c=e;a<c.length;a++){var g=c[a];t=g._apply(t)}return t}var Tg=function(t){function e(o,a,c){var g=this;return(g=t.call(this)||this).Qc=o,g.jc=a,g.Wc=c,g.type="where",g}return(0,C.__extends)(e,t),e.prototype._apply=function(o){var g,S,a=vu(o.firestore),c=function(g,w,S,L,te,de,Ue){var rt;if(te.isKeyField()){if("array-contains"===de||"array-contains-any"===de)throw new In(en.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+de+"' queries on FieldPath.documentId().");if("in"===de||"not-in"===de){Nm(Ue,de);for(var Vt=[],Ft=0,Jt=Ue;Ft<Jt.length;Ft++)Vt.push(Sg(L,g,Jt[Ft]));rt={arrayValue:{values:Vt}}}else rt=Sg(L,g,Ue)}else"in"!==de&&"not-in"!==de&&"array-contains-any"!==de||Nm(Ue,de),rt=N_(S,"where",Ue,"in"===de||"not-in"===de);var Kn=Da.create(te,de,rt);return function(Er,Tr){if(Tr.g()){var ii=Js(Er);if(null!==ii&&!ii.isEqual(Tr.field))throw new In(en.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+ii.toString()+"' and '"+Tr.field.toString()+"'");var Xr=Du(Er);null!==Xr&&If(0,Tr.field,Xr)}var wo=function(ba,Hp){for(var kd=0,K0=ba.filters;kd<K0.length;kd++){var $0=K0[kd];if(Hp.indexOf($0.op)>=0)return $0.op}return null}(Er,function(ba){switch(ba){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Tr.op));if(null!==wo)throw new In(en.INVALID_ARGUMENT,wo===Tr.op?"Invalid query. You cannot use more than one '"+Tr.op.toString()+"' filter.":"Invalid query. You cannot use '"+Tr.op.toString()+"' filters with '"+wo.toString()+"' filters.")}(g,Kn),Kn}(o._query,0,a,o.firestore._databaseId,this.Qc,this.jc,this.Wc);return new Vo(o.firestore,o.converter,(S=(g=o._query).filters.concat([c]),new Iu(g.path,g.collectionGroup,g.explicitOrderBy.slice(),S,g.limit,g.limitType,g.startAt,g.endAt)))},e}(xh),Ap=function(t){function e(o,a){var c=this;return(c=t.call(this)||this).Qc=o,c.Gc=a,c.type="orderBy",c}return(0,C.__extends)(e,t),e.prototype._apply=function(o){var c,w,a=function(c,g,w){if(null!==c.startAt)throw new In(en.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==c.endAt)throw new In(en.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var S=new xo(g,w);return function(L,te){if(null===Du(L)){var de=Js(L);null!==de&&If(0,de,te.field)}}(c,S),S}(o._query,this.Qc,this.Gc);return new Vo(o.firestore,o.converter,(w=(c=o._query).explicitOrderBy.concat([a]),new Iu(c.path,c.collectionGroup,w,c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)))},e}(xh),Ig=function(t){function e(o,a,c){var g=this;return(g=t.call(this)||this).type=o,g.zc=a,g.Hc=c,g}return(0,C.__extends)(e,t),e.prototype._apply=function(o){return new Vo(o.firestore,o.converter,qh(o._query,this.zc,this.Hc))},e}(xh),Dg=function(t){function e(o,a,c){var g=this;return(g=t.call(this)||this).type=o,g.Jc=a,g.Yc=c,g}return(0,C.__extends)(e,t),e.prototype._apply=function(o){var c,g,a=Mp(o,this.type,this.Jc,this.Yc);return new Vo(o.firestore,o.converter,(g=a,new Iu((c=o._query).path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,g,c.endAt)))},e}(xh),km=function(t){function e(o,a,c){var g=this;return(g=t.call(this)||this).type=o,g.Jc=a,g.Yc=c,g}return(0,C.__extends)(e,t),e.prototype._apply=function(o){var c,g,a=Mp(o,this.type,this.Jc,this.Yc);return new Vo(o.firestore,o.converter,(g=a,new Iu((c=o._query).path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,g)))},e}(xh);function Mp(t,e,o,a){if(o[0]=(0,_e.getModularInstance)(o[0]),o[0]instanceof vc)return function(g,w,S,L,te){if(!L)throw new In(en.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+S+"().");for(var de=[],Ue=0,rt=ja(g);Ue<rt.length;Ue++){var Vt=rt[Ue];if(Vt.field.isKeyField())de.push(Ta(w,L.key));else{var Ft=L.data.field(Vt.field);if(ts(Ft))throw new In(en.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Vt.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ft){var Jt=Vt.field.canonicalString();throw new In(en.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+Jt+"' (used as the orderBy) does not exist.")}de.push(Ft)}}return new bl(de,te)}(t._query,t.firestore._databaseId,e,o[0]._document,a);var c=vu(t.firestore);return function(g,w,S,L,te,de){var Ue=g.explicitOrderBy;if(te.length>Ue.length)throw new In(en.INVALID_ARGUMENT,"Too many arguments provided to "+L+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var rt=[],Vt=0;Vt<te.length;Vt++){var Ft=te[Vt];if(Ue[Vt].field.isKeyField()){if("string"!=typeof Ft)throw new In(en.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+L+"(), but got a "+typeof Ft);if(!la(g)&&-1!==Ft.indexOf("/"))throw new In(en.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+L+"() must be a plain document ID, but '"+Ft+"' contains a slash.");var Jt=g.path.child(Ee.fromString(Ft));if(!mr.isDocumentKey(Jt))throw new In(en.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+L+"() must result in a valid document path, but '"+Jt+"' is not because it contains an odd number of segments.");var kn=new mr(Jt);rt.push(Ta(w,kn))}else{var Kn=N_(S,L,Ft);rt.push(Kn)}}return new bl(rt,de)}(t._query,t.firestore._databaseId,c,e,o,a)}function Sg(t,e,o){if("string"==typeof(o=(0,_e.getModularInstance)(o))){if(""===o)throw new In(en.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!la(e)&&-1!==o.indexOf("/"))throw new In(en.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+o+"' contains a '/' character.");var a=e.path.child(Ee.fromString(o));if(!mr.isDocumentKey(a))throw new In(en.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+a+"' is not because it has an odd number of segments ("+a.length+").");return Ta(t,new mr(a))}if(o instanceof Ao)return Ta(t,o._key);throw new In(en.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+zc(o)+".")}function Nm(t,e){if(!Array.isArray(t)||0===t.length)throw new In(en.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new In(en.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function If(t,e,o){if(!o.isEqual(e))throw new In(en.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+o.toString()+"' instead.")}var Rp=function(){function t(){}return t.prototype.convertValue=function(e,o){switch(void 0===o&&(o="none"),Ku(e)){case 0:return null;case 1:return e.booleanValue;case 2:return zr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,o);case 5:return e.stringValue;case 6:return this.convertBytes(ni(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,o);case 10:return this.convertObject(e.mapValue,o);default:throw fr()}},t.prototype.convertObject=function(e,o){var a=this,c={};return O(e.fields,function(g,w){c[g]=a.convertValue(w,o)}),c},t.prototype.convertGeoPoint=function(e){return new Dd(zr(e.latitude),zr(e.longitude))},t.prototype.convertArray=function(e,o){var a=this;return(e.values||[]).map(function(c){return a.convertValue(c,o)})},t.prototype.convertServerTimestamp=function(e,o){switch(o){case"previous":var a=ns(e);return null==a?null:this.convertValue(a,o);case"estimate":return this.convertTimestamp(ms(e));default:return null}},t.prototype.convertTimestamp=function(e){var o=Vr(e);return new Po(o.seconds,o.nanos)},t.prototype.convertDocumentKey=function(e,o){var a=Ee.fromString(e);yr(dh(a));var c=new Wc(a.get(1),a.get(3)),g=new mr(a.popFirst(5));return c.isEqual(o)||ho("Document "+g+" contains a document reference within a different database ("+c.projectId+"/"+c.database+") which is not supported. It will be treated as a reference in the current database ("+o.projectId+"/"+o.database+") instead."),g},t}();function Df(t,e,o){return t?o&&(o.merge||o.mergeFields)?t.toFirestore(e,o):t.toFirestore(e):e}var Ag=function(t){function e(o){var a=this;return(a=t.call(this)||this).firestore=o,a}return(0,C.__extends)(e,t),e.prototype.convertBytes=function(o){return new Kc(o)},e.prototype.convertReference=function(o){var a=this.convertDocumentKey(o,this.firestore._databaseId);return new Ao(this.firestore,null,a)},e}(Rp),oy=function(){function t(e,o){this._firestore=e,this._commitHandler=o,this._mutations=[],this._committed=!1,this._dataReader=vu(e)}return t.prototype.set=function(e,o,a){this._verifyNotCommitted();var c=Ts(e,this._firestore),g=Df(c.converter,o,a),w=wf(this._dataReader,"WriteBatch.set",c._key,g,null!==c.converter,a);return this._mutations.push(w.toMutation(c._key,is.none())),this},t.prototype.update=function(e,o,a){for(var c=[],g=3;g<arguments.length;g++)c[g-3]=arguments[g];this._verifyNotCommitted();var w,S=Ts(e,this._firestore);return w="string"==typeof(o=(0,_e.getModularInstance)(o))||o instanceof _u?Ph(this._dataReader,"WriteBatch.update",S._key,o,a,c):eo(this._dataReader,"WriteBatch.update",S._key,o),this._mutations.push(w.toMutation(S._key,is.exists(!0))),this},t.prototype.delete=function(e){this._verifyNotCommitted();var o=Ts(e,this._firestore);return this._mutations=this._mutations.concat(new js(o._key,is.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new In(en.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function Ts(t,e){if((t=(0,_e.getModularInstance)(t)).firestore!==e)throw new In(en.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var yc=function(t){function e(o){var a=this;return(a=t.call(this)||this).firestore=o,a}return(0,C.__extends)(e,t),e.prototype.convertBytes=function(o){return new Kc(o)},e.prototype.convertReference=function(o){var a=this.convertDocumentKey(o,this.firestore._databaseId);return new Ao(this.firestore,null,a)},e}(Rp);function Mg(t,e,o){for(var a=[],c=3;c<arguments.length;c++)a[c-3]=arguments[c];t=Vi(t,Ao);var g=Vi(t.firestore,Fo),w=vu(g);return kh(g,[("string"==typeof(e=(0,_e.getModularInstance)(e))||e instanceof _u?Ph(w,"updateDoc",t._key,e,o,a):eo(w,"updateDoc",t._key,e)).toMutation(t._key,is.exists(!0))])}function Fm(t){for(var e,o,a,c=[],g=1;g<arguments.length;g++)c[g-1]=arguments[g];t=(0,_e.getModularInstance)(t);var w={includeMetadataChanges:!1},S=0;"object"!=typeof c[S]||Bu(c[S])||(w=c[S],S++);var L,te,de,Ue={includeMetadataChanges:w.includeMetadataChanges};if(Bu(c[S])){var rt=c[S];c[S]=null===(e=rt.next)||void 0===e?void 0:e.bind(rt),c[S+1]=null===(o=rt.error)||void 0===o?void 0:o.bind(rt),c[S+2]=null===(a=rt.complete)||void 0===a?void 0:a.bind(rt)}if(t instanceof Ao)te=Vi(t.firestore,Fo),de=Zl(t._key.path),L={next:function(Jt){c[S]&&c[S](lr(te,t,Jt))},error:c[S+1],complete:c[S+2]};else{var Vt=Vi(t,Vo);te=Vi(Vt.firestore,Fo),de=Vt._query;var Ft=new yc(te);L={next:function(Jt){c[S]&&c[S](new dl(te,Ft,Vt,Jt))},error:c[S+1],complete:c[S+2]},Tf(t._query)}return function(Jt,kn,Kn,Er){var Tr=this,ii=new pp(Er),Xr=new gf(kn,ii,Kn);return Jt.asyncQueue.enqueueAndForget(function(){return(0,C.__awaiter)(Tr,void 0,void 0,function(){var wo;return(0,C.__generator)(this,function(ba){switch(ba.label){case 0:return wo=fm,[4,Gs(Jt)];case 1:return[2,wo.apply(void 0,[ba.sent(),Xr])]}})})}),function(){ii.Wo(),Jt.asyncQueue.enqueueAndForget(function(){return(0,C.__awaiter)(Tr,void 0,void 0,function(){var wo;return(0,C.__generator)(this,function(ba){switch(ba.label){case 0:return wo=pm,[4,Gs(Jt)];case 1:return[2,wo.apply(void 0,[ba.sent(),Xr])]}})})})}}(Ls(te),de,Ue,L)}function kh(t,e){return function(o,a){var c=this,g=new so;return o.asyncQueue.enqueueAndForget(function(){return(0,C.__awaiter)(c,void 0,void 0,function(){var w;return(0,C.__generator)(this,function(S){switch(S.label){case 0:return w=A_,[4,pg(o)];case 1:return[2,w.apply(void 0,[S.sent(),a,g])]}})})}),g.promise}(Ls(t),e)}function lr(t,e,o){var a=o.docs.get(e._key),c=new yc(t);return new xa(t,c,e._key,a,new Ki(o.hasPendingWrites,o.fromCache),e.converter)}var Op=function(t){function e(o,a){var c=this;return(c=t.call(this,o,a)||this)._firestore=o,c}return(0,C.__extends)(e,t),e.prototype.get=function(o){var a=this,c=Ts(o,this._firestore),g=new yc(this._firestore);return t.prototype.get.call(this,o).then(function(w){return new xa(a._firestore,g,c._key,w._document,new Ki(!1,!1),c.converter)})},e}(function(){function t(e,o){this._firestore=e,this._transaction=o,this._dataReader=vu(e)}return t.prototype.get=function(e){var o=this,a=Ts(e,this._firestore),c=new Ag(this._firestore);return this._transaction.lookup([a._key]).then(function(g){if(!g||1!==g.length)return fr();var w=g[0];if(w.isFoundDocument())return new vc(o._firestore,c,w.key,w,a.converter);if(w.isNoDocument())return new vc(o._firestore,c,a._key,null,a.converter);throw fr()})},t.prototype.set=function(e,o,a){var c=Ts(e,this._firestore),g=Df(c.converter,o,a),w=wf(this._dataReader,"Transaction.set",c._key,g,null!==c.converter,a);return this._transaction.set(c._key,w),this},t.prototype.update=function(e,o,a){for(var c=[],g=3;g<arguments.length;g++)c[g-3]=arguments[g];var w,S=Ts(e,this._firestore);return w="string"==typeof(o=(0,_e.getModularInstance)(o))||o instanceof _u?Ph(this._dataReader,"Transaction.update",S._key,o,a,c):eo(this._dataReader,"Transaction.update",S._key,o),this._transaction.update(S._key,w),this},t.prototype.delete=function(e){var o=Ts(e,this._firestore);return this._transaction.delete(o._key),this},t}());function ds(){if("undefined"==typeof Uint8Array)throw new In(en.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Sd(){if("undefined"==typeof atob)throw new In(en.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var ju=function(){function t(e){this._delegate=e}return t.fromBase64String=function(e){return Sd(),new t(Kc.fromBase64String(e))},t.fromUint8Array=function(e){return ds(),new t(Kc.fromUint8Array(e))},t.prototype.toBase64=function(){return Sd(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return ds(),this._delegate.toUint8Array()},t.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),Rg=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(e,o){return function(a,c){Dm(a=Vi(a,Fo));var g=Ls(a),w=a._freezeSettings(),S=new hc;return Eg(g,S,new hp(S,w.cacheSizeBytes,null==c?void 0:c.forceOwnership))}(e._delegate,{forceOwnership:o})},t.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(o){Dm(o=Vi(o,Fo));var a=Ls(o),c=o._freezeSettings(),g=new hc;return Eg(a,g,new dp(g,c.cacheSizeBytes))}(e._delegate)},t.prototype.clearIndexedDbPersistence=function(e){return function(o){var a=this;if(o._initialized&&!o._terminated)throw new In(en.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var c=new so;return o._queue.enqueueAndForgetEvenWhileRestricted(function(){return(0,C.__awaiter)(a,void 0,void 0,function(){var g;return(0,C.__generator)(this,function(w){switch(w.label){case 0:return w.trys.push([0,2,,3]),[4,function(S){return(0,C.__awaiter)(this,void 0,void 0,function(){return(0,C.__generator)(this,function(te){switch(te.label){case 0:return lu.yt()?[4,lu.delete(S+"main")]:[2,Promise.resolve()];case 1:return te.sent(),[2]}})})}(ld(o._databaseId,o._persistenceKey))];case 1:return w.sent(),c.resolve(),[3,3];case 2:return g=w.sent(),c.reject(g),[3,3];case 3:return[2]}})})}),c.promise}(e._delegate)},t}(),Og=function(){function t(e,o,a){var c=this;this._delegate=o,this.Xc=a,this.INTERNAL={delete:function(){return c.terminate()}},e instanceof Wc||(this.Zc=e)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(e){var o=this._delegate._getSettings();e.merge||o.host===e.host||Ba("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},o),e)).merge,this._delegate._setSettings(e)},t.prototype.useEmulator=function(e,o,a){void 0===a&&(a={}),function(c,g,w,S){void 0===S&&(S={});var L=(c=Vi(c,fc))._getSettings();if("firestore.googleapis.com"!==L.host&&L.host!==g&&Ba("Host has been set in both settings() and useEmulator(), emulator host will be used"),c._setSettings(Object.assign(Object.assign({},L),{host:g+":"+w,ssl:!1})),S.mockUserToken){var te=(0,_e.createMockUserToken)(S.mockUserToken),de=S.mockUserToken.sub||S.mockUserToken.user_id;if(!de)throw new In(en.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c._credentials=new Im(new Cd(te,new ma(de)))}}(this._delegate,e,o,a)},t.prototype.enableNetwork=function(){return function(e){var o=this;return e.asyncQueue.enqueue(function(){return(0,C.__awaiter)(o,void 0,void 0,function(){var a,c;return(0,C.__generator)(this,function(g){switch(g.label){case 0:return[4,Cm(e)];case 1:return a=g.sent(),[4,yp(e)];case 2:return c=g.sent(),[2,(a.setNetworkEnabled(!0),w=c,S=Bn(w),S.Or.delete(0),pd(S))]}var w,S})})})}(Ls(Vi(this._delegate,Fo)))},t.prototype.disableNetwork=function(){return function(e){var o=this;return e.asyncQueue.enqueue(function(){return(0,C.__awaiter)(o,void 0,void 0,function(){var a,c;return(0,C.__generator)(this,function(g){switch(g.label){case 0:return[4,Cm(e)];case 1:return a=g.sent(),[4,yp(e)];case 2:return c=g.sent(),[2,(a.setNetworkEnabled(!1),function(w){return(0,C.__awaiter)(this,void 0,void 0,function(){var S;return(0,C.__generator)(this,function(L){switch(L.label){case 0:return(S=Bn(w)).Or.add(0),[4,gd(S)];case 1:return L.sent(),S.Br.set("Offline"),[2]}})})}(c))]}})})})}(Ls(Vi(this._delegate,Fo)))},t.prototype.enablePersistence=function(e){var o=!1,a=!1;return e&&Ep("synchronizeTabs",o=!!e.synchronizeTabs,"experimentalForceOwningTab",a=!!e.experimentalForceOwningTab),o?this.Xc.enableMultiTabIndexedDbPersistence(this):this.Xc.enableIndexedDbPersistence(this,a)},t.prototype.clearPersistence=function(){return this.Xc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.Zc&&(this.Zc._removeServiceInstance("firestore"),this.Zc._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(e){var o=this,a=new so;return e.asyncQueue.enqueueAndForget(function(){return(0,C.__awaiter)(o,void 0,void 0,function(){var c;return(0,C.__generator)(this,function(g){switch(g.label){case 0:return c=Ah,[4,pg(e)];case 1:return[2,c.apply(void 0,[g.sent(),a])]}})})}),a.promise}(Ls(Vi(this._delegate,Fo)))},t.prototype.onSnapshotsInSync=function(e){return a=e,function(c,g){var w=this,S=new pp(g);return c.asyncQueue.enqueueAndForget(function(){return(0,C.__awaiter)(w,void 0,void 0,function(){var L;return(0,C.__generator)(this,function(te){switch(te.label){case 0:return L=function(de,Ue){Bn(de).Gr.add(Ue),Ue.next()},[4,Gs(c)];case 1:return[2,L.apply(void 0,[te.sent(),S])]}})})}),function(){S.Wo(),c.asyncQueue.enqueueAndForget(function(){return(0,C.__awaiter)(w,void 0,void 0,function(){var L;return(0,C.__generator)(this,function(te){switch(te.label){case 0:return L=function(de,Ue){Bn(de).Gr.delete(Ue)},[4,Gs(c)];case 1:return[2,L.apply(void 0,[te.sent(),S])]}})})})}}(Ls(Vi(this._delegate,Fo)),Bu(a)?a:{next:a});var a},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Zc)throw new In(en.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Zc},enumerable:!1,configurable:!0}),t.prototype.collection=function(e){try{return new l(this,Ul(this._delegate,e))}catch(o){throw Ws(o,"collection()","Firestore.collection()")}},t.prototype.doc=function(e){try{return new qc(this,jl(this._delegate,e))}catch(o){throw Ws(o,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(e){try{return new Wl(this,function(o,a){if(o=Vi(o,fc),cl("collectionGroup","collection id",a),a.indexOf("/")>=0)throw new In(en.INVALID_ARGUMENT,"Invalid collection ID '"+a+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Vo(o,null,(c=a,new Iu(Ee.emptyPath(),c)));var c}(this._delegate,e))}catch(o){throw Ws(o,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(e){var a,o=this;return function(g,w){var S=this,L=new so;return g.asyncQueue.enqueueAndForget(function(){return(0,C.__awaiter)(S,void 0,void 0,function(){var te;return(0,C.__generator)(this,function(de){switch(de.label){case 0:return[4,(Ue=g,yf(Ue).then(function(rt){return rt.datastore}))];case 1:return te=de.sent(),new O_(g.asyncQueue,te,w,L).run(),[2]}var Ue})})}),L.promise}(Ls(a=this._delegate),function(g){return function(a){return e(new Pg(o,a))}(new Op(a,g))})},t.prototype.batch=function(){var e=this;return Ls(this._delegate),new Nh(new oy(this._delegate,function(o){return kh(e._delegate,o)}))},t.prototype.loadBundle=function(e){throw new In(en.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(e){throw new In(en.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),Ad=function(t){function e(o){var a=this;return(a=t.call(this)||this).firestore=o,a}return(0,C.__extends)(e,t),e.prototype.convertBytes=function(o){return new ju(new Kc(o))},e.prototype.convertReference=function(o){var a=this.convertDocumentKey(o,this.firestore._databaseId);return qc.tu(a,this.firestore,null)},e}(Rp),Pg=function(){function t(e,o){this._firestore=e,this._delegate=o,this._userDataWriter=new Ad(e)}return t.prototype.get=function(e){var o=this,a=v(e);return this._delegate.get(a).then(function(c){return new Fh(o._firestore,new xa(o._firestore._delegate,o._userDataWriter,c._key,c._document,c.metadata,a.converter))})},t.prototype.set=function(e,o,a){var c=v(e);return a?(dc("Transaction.set",a),this._delegate.set(c,o,a)):this._delegate.set(c,o),this},t.prototype.update=function(e,o,a){for(var c,g=[],w=3;w<arguments.length;w++)g[w-3]=arguments[w];var S=v(e);return 2===arguments.length?this._delegate.update(S,o):(c=this._delegate).update.apply(c,(0,C.__spreadArray)([S,o,a],g)),this},t.prototype.delete=function(e){var o=v(e);return this._delegate.delete(o),this},t}(),Nh=function(){function t(e){this._delegate=e}return t.prototype.set=function(e,o,a){var c=v(e);return a?(dc("WriteBatch.set",a),this._delegate.set(c,o,a)):this._delegate.set(c,o),this},t.prototype.update=function(e,o,a){for(var c,g=[],w=3;w<arguments.length;w++)g[w-3]=arguments[w];var S=v(e);return 2===arguments.length?this._delegate.update(S,o):(c=this._delegate).update.apply(c,(0,C.__spreadArray)([S,o,a],g)),this},t.prototype.delete=function(e){var o=v(e);return this._delegate.delete(o),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),Md=function(){function t(e,o,a){this._firestore=e,this._userDataWriter=o,this._delegate=a}return t.prototype.fromFirestore=function(e,o){var a=new hl(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new xi(this._firestore,a),null!=o?o:{})},t.prototype.toFirestore=function(e,o){return o?this._delegate.toFirestore(e,o):this._delegate.toFirestore(e)},t.eu=function(e,o){var a=t.nu,c=a.get(e);c||(c=new WeakMap,a.set(e,c));var g=c.get(o);return g||(g=new t(e,new Ad(e),o),c.set(o,g)),g},t}();Md.nu=new WeakMap;var qc=function(){function t(e,o){this.firestore=e,this._delegate=o,this._userDataWriter=new Ad(e)}return t.su=function(e,o,a){if(e.length%2!=0)throw new In(en.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(o,new Ao(o._delegate,a,new mr(e)))},t.tu=function(e,o,a){return new t(o,new Ao(o._delegate,a,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new l(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(e){try{return new l(this.firestore,Ul(this._delegate,e))}catch(o){throw Ws(o,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(e){return(e=(0,_e.getModularInstance)(e))instanceof Ao&&Id(this._delegate,e)},t.prototype.set=function(e,o){o=dc("DocumentReference.set",o);try{return function(a,c,g){a=Vi(a,Ao);var w=Vi(a.firestore,Fo),S=Df(a.converter,c,g);return kh(w,[wf(vu(w),"setDoc",a._key,S,null!==a.converter,g).toMutation(a._key,is.none())])}(this._delegate,e,o)}catch(a){throw Ws(a,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(e,o){for(var a=[],c=2;c<arguments.length;c++)a[c-2]=arguments[c];try{return 1===arguments.length?Mg(this._delegate,e):Mg.apply(void 0,(0,C.__spreadArray)([this._delegate,e,o],a))}catch(g){throw Ws(g,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return kh(Vi((e=this._delegate).firestore,Fo),[new js(e._key,is.none())]);var e},t.prototype.onSnapshot=function(){for(var e=this,o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];var c=Lo(o),g=po(o,function(w){return new Fh(e.firestore,new xa(e.firestore._delegate,e._userDataWriter,w._key,w._document,w.metadata,e._delegate.converter))});return Fm(this._delegate,c,g)},t.prototype.get=function(e){var o=this;return("cache"===(null==e?void 0:e.source)?function(a){a=Vi(a,Ao);var c=Vi(a.firestore,Fo),g=Ls(c),w=new yc(c);return function(S,L){var te=this,de=new so;return S.asyncQueue.enqueueAndForget(function(){return(0,C.__awaiter)(te,void 0,void 0,function(){var Ue;return(0,C.__generator)(this,function(rt){switch(rt.label){case 0:return Ue=function(Vt,Ft,Jt){return(0,C.__awaiter)(this,void 0,void 0,function(){var kn,Kn;return(0,C.__generator)(this,function(Er){switch(Er.label){case 0:return Er.trys.push([0,2,,3]),[4,(Tr=Vt,ii=Ft,Xr=Bn(Tr),Xr.persistence.runTransaction("read document","readonly",function(wo){return Xr.Mn.mn(wo,ii)}))];case 1:return(Kn=Er.sent()).isFoundDocument()?Jt.resolve(Kn):Kn.isNoDocument()?Jt.resolve(null):Jt.reject(new In(en.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return kn=Er.sent(),Kn=Th(kn,"Failed to get document '"+Ft+" from cache"),Jt.reject(Kn),[3,3];case 3:return[2]}var Tr,ii,Xr})})},[4,Pa(S)];case 1:return[2,Ue.apply(void 0,[rt.sent(),L,de])]}})})}),de.promise}(g,a._key).then(function(S){return new xa(c,w,a._key,S,new Ki(null!==S&&S.hasLocalMutations,!0),a.converter)})}(this._delegate):"server"===(null==e?void 0:e.source)?function(a){a=Vi(a,Ao);var c=Vi(a.firestore,Fo);return gg(Ls(c),a._key,{source:"server"}).then(function(g){return lr(c,a,g)})}(this._delegate):function(a){a=Vi(a,Ao);var c=Vi(a.firestore,Fo);return gg(Ls(c),a._key).then(function(g){return lr(c,a,g)})}(this._delegate)).then(function(a){return new Fh(o.firestore,new xa(o.firestore._delegate,o._userDataWriter,a._key,a._document,a.metadata,o._delegate.converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?Md.eu(this.firestore,e):null))},t}();function Ws(t,e,o){return t.message=t.message.replace(e,o),t}function Lo(t){for(var e=0,o=t;e<o.length;e++){var a=o[e];if("object"==typeof a&&!Bu(a))return a}return{}}function po(t,e){var o,a,c;return{next:function(g){c.next&&c.next(e(g))},error:null===(o=(c=Bu(t[0])?t[0]:Bu(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===o?void 0:o.bind(c),complete:null===(a=c.complete)||void 0===a?void 0:a.bind(c)}}var Fh=function(){function t(e,o){this._firestore=e,this._delegate=o}return Object.defineProperty(t.prototype,"ref",{get:function(){return new qc(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(e){return this._delegate.data(e)},t.prototype.get=function(e,o){return this._delegate.get(e,o)},t.prototype.isEqual=function(e){return Sp(this._delegate,e._delegate)},t}(),xi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,C.__extends)(e,t),e.prototype.data=function(o){return this._delegate.data(o)},e}(Fh),Wl=function(){function t(e,o){this.firestore=e,this._delegate=o,this._userDataWriter=new Ad(e)}return t.prototype.where=function(e,o,a){try{return new t(this.firestore,Gl(this._delegate,(w=a,S=o,L=Ip("where",c=e),new Tg(L,S,w))))}catch(c){throw Ws(c,/(orderBy|where)\(\)/,"Query.$1()")}var c,w,S,L},t.prototype.orderBy=function(e,o){try{return new t(this.firestore,Gl(this._delegate,function(a,c){void 0===c&&(c="asc");var g=c,w=Ip("orderBy",a);return new Ap(w,g)}(e,o)))}catch(a){throw Ws(a,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,Gl(this._delegate,(vg("limit",o=e),new Ig("limit",o,"F"))))}catch(o){throw Ws(o,"limit()","Query.limit()")}var o},t.prototype.limitToLast=function(e){try{return new t(this.firestore,Gl(this._delegate,(vg("limitToLast",o=e),new Ig("limitToLast",o,"L"))))}catch(o){throw Ws(o,"limitToLast()","Query.limitToLast()")}var o},t.prototype.startAt=function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];try{return new t(this.firestore,Gl(this._delegate,function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];return new Dg("startAt",a,!0)}.apply(void 0,e)))}catch(a){throw Ws(a,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];try{return new t(this.firestore,Gl(this._delegate,function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];return new Dg("startAfter",a,!1)}.apply(void 0,e)))}catch(a){throw Ws(a,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];try{return new t(this.firestore,Gl(this._delegate,function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];return new km("endBefore",a,!0)}.apply(void 0,e)))}catch(a){throw Ws(a,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];try{return new t(this.firestore,Gl(this._delegate,function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];return new km("endAt",a,!1)}.apply(void 0,e)))}catch(a){throw Ws(a,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(e){return yg(this._delegate,e._delegate)},t.prototype.get=function(e){var o=this;return("cache"===(null==e?void 0:e.source)?function(a){a=Vi(a,Vo);var c=Vi(a.firestore,Fo),g=Ls(c),w=new yc(c);return function(S,L){var te=this,de=new so;return S.asyncQueue.enqueueAndForget(function(){return(0,C.__awaiter)(te,void 0,void 0,function(){var Ue;return(0,C.__generator)(this,function(rt){switch(rt.label){case 0:return Ue=function(Vt,Ft,Jt){return(0,C.__awaiter)(this,void 0,void 0,function(){var kn,Kn,Er,Tr,ii;return(0,C.__generator)(this,function(Xr){switch(Xr.label){case 0:return Xr.trys.push([0,2,,3]),[4,$t(Vt,Ft,!0)];case 1:return ii=Xr.sent(),kn=new Ed(Ft,ii.Bn),Kn=kn._o(ii.documents),Er=kn.applyChanges(Kn,!1),Jt.resolve(Er.snapshot),[3,3];case 2:return Tr=Xr.sent(),ii=Th(Tr,"Failed to execute query '"+Ft+" against cache"),Jt.reject(ii),[3,3];case 3:return[2]}})})},[4,Pa(S)];case 1:return[2,Ue.apply(void 0,[rt.sent(),L,de])]}})})}),de.promise}(g,a._query).then(function(S){return new dl(c,w,a,S)})}(this._delegate):"server"===(null==e?void 0:e.source)?function(a){a=Vi(a,Vo);var c=Vi(a.firestore,Fo),g=Ls(c),w=new yc(c);return bf(g,a._query,{source:"server"}).then(function(S){return new dl(c,w,a,S)})}(this._delegate):function(a){a=Vi(a,Vo);var c=Vi(a.firestore,Fo),g=Ls(c),w=new yc(c);return Tf(a._query),bf(g,a._query).then(function(S){return new dl(c,w,a,S)})}(this._delegate)).then(function(a){return new i(o.firestore,new dl(o.firestore._delegate,o._userDataWriter,o._delegate,a._snapshot))})},t.prototype.onSnapshot=function(){for(var e=this,o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];var c=Lo(o),g=po(o,function(w){return new i(e.firestore,new dl(e.firestore._delegate,e._userDataWriter,e._delegate,w._snapshot))});return Fm(this._delegate,c,g)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?Md.eu(this.firestore,e):null))},t}(),L_=function(){function t(e,o){this._firestore=e,this._delegate=o}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new xi(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),i=function(){function t(e,o){this._firestore=e,this._delegate=o}return Object.defineProperty(t.prototype,"query",{get:function(){return new Wl(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map(function(o){return new xi(e._firestore,o)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(e){var o=this;return this._delegate.docChanges(e).map(function(a){return new L_(o._firestore,a)})},t.prototype.forEach=function(e,o){var a=this;this._delegate.forEach(function(c){e.call(o,new xi(a._firestore,c))})},t.prototype.isEqual=function(e){return Sp(this._delegate,e._delegate)},t}(),l=function(t){function e(o,a){var c=this;return(c=t.call(this,o,a)||this).firestore=o,c._delegate=a,c}return(0,C.__extends)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var o=this._delegate.parent;return o?new qc(this.firestore,o):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(o){try{return new qc(this.firestore,void 0===o?jl(this._delegate):jl(this._delegate,o))}catch(a){throw Ws(a,"doc()","CollectionReference.doc()")}},e.prototype.add=function(o){var c,g,w,S,L,a=this;return(c=this._delegate,g=o,w=Vi(c.firestore,Fo),S=jl(c),L=Df(c.converter,g),kh(w,[wf(vu(c.firestore),"addDoc",S._key,L,null!==c.converter,{}).toMutation(S._key,is.exists(!1))]).then(function(){return S})).then(function(c){return new qc(a.firestore,c)})},e.prototype.isEqual=function(o){return Id(this._delegate,o._delegate)},e.prototype.withConverter=function(o){return new e(this.firestore,this._delegate.withConverter(o?Md.eu(this.firestore,o):null))},e}(Wl);function v(t){return Vi(t,Ao)}var A=function(){function t(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];this._delegate=new(_u.bind.apply(_u,(0,C.__spreadArray)([void 0],e)))}return t.documentId=function(){return new t(Et.keyField().canonicalString())},t.prototype.isEqual=function(e){return(e=(0,_e.getModularInstance)(e))instanceof _u&&this._delegate._internalPath.isEqual(e._internalPath)},t}(),V=function(){function t(e){this._delegate=e}return t.serverTimestamp=function(){var e=new Rm("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new $c("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];var a=function(){for(var c=[],g=0;g<arguments.length;g++)c[g]=arguments[g];return new k_("arrayUnion",c)}.apply(void 0,e);return a._methodName="FieldValue.arrayUnion",new t(a)},t.arrayRemove=function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];var a=function(){for(var c=[],g=0;g<arguments.length;g++)c[g]=arguments[g];return new Om("arrayRemove",c)}.apply(void 0,e);return a._methodName="FieldValue.arrayRemove",new t(a)},t.increment=function(e){var o=new Pm("increment",e);return o._methodName="FieldValue.increment",new t(o)},t.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},t}();function he(t){return o=t,a=Ls(e=Vi(e=this._delegate,Fo)),c=new bg,function(g,w,S,L){var Ue,rt,Vt,te=this,de=(Ue=S,rt=Ch(w),Vt=function(Vt,Ft){if(Vt instanceof Uint8Array)return fp(Vt,void 0);if(Vt instanceof ArrayBuffer)return fp(new Uint8Array(Vt),void 0);if(Vt instanceof ReadableStream)return Vt.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof Ue?(new TextEncoder).encode(Ue):Ue),new gp(Vt,rt));g.asyncQueue.enqueueAndForget(function(){return(0,C.__awaiter)(te,void 0,void 0,function(){var Ue;return(0,C.__generator)(this,function(rt){switch(rt.label){case 0:return Ue=wm,[4,pg(g)];case 1:return Ue.apply(void 0,[rt.sent(),de,L]),[2]}})})})}(a,e._databaseId,o,c),c;var e,o,a,c}function Ie(t){var e,o,a=this;return(e=this._delegate,o=t,function(c,g){var w=this;return c.asyncQueue.enqueue(function(){return(0,C.__awaiter)(w,void 0,void 0,function(){var S;return(0,C.__generator)(this,function(L){switch(L.label){case 0:return S=function(te,de){var Ue=Bn(te);return Ue.persistence.runTransaction("Get named query","readonly",function(rt){return Ue.Ke.getNamedQuery(rt,de)})},[4,Pa(c)];case 1:return[2,S.apply(void 0,[L.sent(),g])]}})})})}(Ls(e=Vi(e,Fo)),o).then(function(c){return c?new Vo(e,null,c.query):null})).then(function(c){return c?new Wl(a,c):null})}var ot=P(6034),dn={Firestore:Og,GeoPoint:Dd,Timestamp:Po,Blob:ju,Transaction:Pg,WriteBatch:Nh,DocumentReference:qc,DocumentSnapshot:Fh,Query:Wl,QueryDocumentSnapshot:xi,QuerySnapshot:i,CollectionReference:l,FieldPath:A,FieldValue:V,setLogLevel:function(t){Uo.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};!function(t){t.INTERNAL.registerComponent(new ot.Component("firestore",function(a){return e=a.getProvider("app").getImmediate(),o=a.getProvider("auth-internal"),new Og(e,new Fo(e,o),new Rg);var e,o},"PUBLIC").setServiceProps(Object.assign({},dn))),t.registerVersion("@firebase/firestore","2.3.8")}(y.default),function(t){t.prototype.loadBundle=he,t.prototype.namedQuery=Ie}(Og);var ki={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},fi=function(t){function e(o,a,c){var g=t.call(this,a)||this;return Object.setPrototypeOf(g,e.prototype),g.code=o,g.details=c,g}return(0,C.__extends)(e,t),e}(Error),Qc=function(){function t(e,o){var a=this;this.auth=null,this.messaging=null,this.auth=e.getImmediate({optional:!0}),this.messaging=o.getImmediate({optional:!0}),this.auth||e.get().then(function(c){return a.auth=c},function(){}),this.messaging||o.get().then(function(c){return a.messaging=c},function(){})}return t.prototype.getAuthToken=function(){return(0,C.__awaiter)(this,void 0,void 0,function(){var e;return(0,C.__generator)(this,function(o){switch(o.label){case 0:if(!this.auth)return[2,void 0];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(e=o.sent())?[2,e.accessToken]:[2,void 0];case 3:return o.sent(),[2,void 0];case 4:return[2]}})})},t.prototype.getInstanceIdToken=function(){return(0,C.__awaiter)(this,void 0,void 0,function(){return(0,C.__generator)(this,function(e){switch(e.label){case 0:if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.messaging.getToken()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,void 0];case 4:return[2]}})})},t.prototype.getContext=function(){return(0,C.__awaiter)(this,void 0,void 0,function(){var e,o;return(0,C.__generator)(this,function(a){switch(a.label){case 0:return[4,this.getAuthToken()];case 1:return e=a.sent(),[4,this.getInstanceIdToken()];case 2:return o=a.sent(),[2,{authToken:e,instanceIdToken:o}]}})})},t}();function B_(t,e){var o={};for(var a in t)t.hasOwnProperty(a)&&(o[a]=e(t[a]));return o}var sy=function(){function t(){}return t.prototype.encode=function(e){var o=this;if(null==e)return null;if(e instanceof Number&&(e=e.valueOf()),"number"==typeof e&&isFinite(e)||!0===e||!1===e||"[object String]"===Object.prototype.toString.call(e))return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map(function(a){return o.encode(a)});if("function"==typeof e||"object"==typeof e)return B_(e,function(a){return o.encode(a)});throw new Error("Data cannot be encoded in JSON: "+e)},t.prototype.decode=function(e){var o=this;if(null==e)return e;if(e["@type"])switch(e["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var a=Number(e.value);if(isNaN(a))throw new Error("Data cannot be decoded from JSON: "+e);return a;default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map(function(c){return o.decode(c)}):"function"==typeof e||"object"==typeof e?B_(e,function(c){return o.decode(c)}):e},t}(),V_=function(){function t(e,o,a,c,g,w){var S=this;void 0===g&&(g="us-central1"),this.app_=e,this.appCheckProvider=c,this.fetchImpl=w,this.serializer=new sy,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(S.deleteService())}},this.contextProvider=new Qc(o,a),this.cancelAllRequests=new Promise(function(te){S.deleteService=function(){return te()}});try{var L=new URL(g);this.customDomain=L.origin,this.region="us-central1"}catch(te){this.customDomain=null,this.region=g}}return Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),t.prototype._url=function(e){var o=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+o+"/"+this.region+"/"+e:null!==this.customDomain?this.customDomain+"/"+e:"https://"+this.region+"-"+o+".cloudfunctions.net/"+e},t.prototype.useEmulator=function(e,o){this.emulatorOrigin="http://"+e+":"+o},t.prototype.useFunctionsEmulator=function(e){this.emulatorOrigin=e},t.prototype.httpsCallable=function(e,o){var a=this;return function(c){return a.call(e,c,o||{})}},t.prototype.postJSON=function(e,o,a){return(0,C.__awaiter)(this,void 0,void 0,function(){var c,g,w;return(0,C.__generator)(this,function(S){switch(S.label){case 0:return a["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:null!==(c=S.sent())&&(a["X-Firebase-AppCheck"]=c),S.label=2;case 2:return S.trys.push([2,4,,5]),[4,this.fetchImpl(e,{method:"POST",body:JSON.stringify(o),headers:a})];case 3:return g=S.sent(),[3,5];case 4:return S.sent(),[2,{status:0,json:null}];case 5:w=null,S.label=6;case 6:return S.trys.push([6,8,,9]),[4,g.json()];case 7:return w=S.sent(),[3,9];case 8:return S.sent(),[3,9];case 9:return[2,{status:g.status,json:w}]}})})},t.prototype.getAppCheckToken=function(){return(0,C.__awaiter)(this,void 0,void 0,function(){var e;return(0,C.__generator)(this,function(a){switch(a.label){case 0:return(e=this.appCheckProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:return[2,a.sent().token];case 2:return[2,null]}})})},t.prototype.call=function(e,o,a){return(0,C.__awaiter)(this,void 0,void 0,function(){var c,g,w,S,te,de,Ue,rt,Vt,Ft;return(0,C.__generator)(this,function(kn){switch(kn.label){case 0:return c=this._url(e),o=this.serializer.encode(o),g={data:o},w={},[4,this.contextProvider.getContext()];case 1:return(S=kn.sent()).authToken&&(w.Authorization="Bearer "+S.authToken),S.instanceIdToken&&(w["Firebase-Instance-ID-Token"]=S.instanceIdToken),te=function(t){var e,o=new Promise(function(a,c){e=setTimeout(function(){c(new fi("deadline-exceeded","deadline-exceeded"))},t)});return{timer:e,promise:o}}(a.timeout||7e4),de=te.timer,Ue=te.promise,[4,Promise.race([U_(de,this.postJSON(c,g,w)),Ue,U_(de,this.cancelAllRequests)])];case 2:if(!(rt=kn.sent()))throw new fi("cancelled","Firebase Functions instance was deleted.");if(Vt=function(t,e,o){var a=function(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(t),c=a,g=void 0;try{var w=e&&e.error;if(w){var S=w.status;if("string"==typeof S){if(!ki[S])return new fi("internal","internal");a=ki[S],c=S}var L=w.message;"string"==typeof L&&(c=L),void 0!==(g=w.details)&&(g=o.decode(g))}}catch(te){}return"ok"===a?null:new fi(a,c,g)}(rt.status,rt.json,this.serializer))throw Vt;if(!rt.json)throw new fi("internal","Response is not valid JSON object.");if(void 0===(Ft=rt.json.data)&&(Ft=rt.json.result),void 0===Ft)throw new fi("internal","Response is missing data field.");return[2,{data:this.serializer.decode(Ft)}]}})})},t}();function U_(t,e){return(0,C.__awaiter)(this,void 0,void 0,function(){var o;return(0,C.__generator)(this,function(a){switch(a.label){case 0:return[4,e];case 1:return o=a.sent(),clearTimeout(t),[2,o]}})})}(function(t,e){var o={Functions:V_};t.INTERNAL.registerComponent(new ot.Component("functions",function(c,g){var w=g.instanceIdentifier,S=c.getProvider("app").getImmediate(),L=c.getProvider("auth-internal"),te=c.getProvider("app-check-internal"),de=c.getProvider("messaging");return new V_(S,L,de,te,w,e)},"PUBLIC").setServiceProps(o).setMultipleInstances(!0))})(y.default,fetch.bind(self)),y.default.registerVersion("@firebase/functions","0.6.13");var Lh,kp=P(6676),H_="w:0.4.30",fb=((Lh={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Lh["not-registered"]="Firebase Installation is not registered.",Lh["installation-not-found"]="Firebase Installation not found.",Lh["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',Lh["app-offline"]="Could not process request. Application offline.",Lh["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",Lh),Bh=new _e.ErrorFactory("installations","Installations",fb);function pb(t){return t instanceof _e.FirebaseError&&t.code.includes("request-failed")}function G_(t){return"https://firebaseinstallations.googleapis.com/v1/projects/"+t.projectId+"/installations"}function W_(t){return{token:t.token,requestStatus:2,expiresIn:jw(t.expiresIn),creationTime:Date.now()}}function my(t,e){return(0,C.__awaiter)(this,void 0,void 0,function(){var o,a;return(0,C.__generator)(this,function(c){switch(c.label){case 0:return[4,e.json()];case 1:return o=c.sent(),[2,Bh.create("request-failed",{requestName:t,serverCode:(a=o.error).code,serverMessage:a.message,serverStatus:a.status})]}})})}function gb(t){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey})}function mb(t,e){var o=e.refreshToken,a=gb(t);return a.append("Authorization",function(t){return"FIS_v2 "+t}(o)),a}function z_(t){return(0,C.__awaiter)(this,void 0,void 0,function(){var e;return(0,C.__generator)(this,function(o){switch(o.label){case 0:return[4,t()];case 1:return(e=o.sent()).status>=500&&e.status<600?[2,t()]:[2,e]}})})}function jw(t){return Number(t.replace("s","000"))}function vb(t,e){var o=e.fid;return(0,C.__awaiter)(this,void 0,void 0,function(){var a,c,w,S,L;return(0,C.__generator)(this,function(de){switch(de.label){case 0:return a=G_(t),c=gb(t),w={method:"POST",headers:c,body:JSON.stringify({fid:o,authVersion:"FIS_v2",appId:t.appId,sdkVersion:H_})},[4,z_(function(){return fetch(a,w)})];case 1:return(S=de.sent()).ok?[4,S.json()]:[3,3];case 2:return[2,{fid:(L=de.sent()).fid||o,registrationStatus:2,refreshToken:L.refreshToken,authToken:W_(L.authToken)}];case 3:return[4,my("Create Installation",S)];case 4:throw de.sent()}})})}function Lm(t){return new Promise(function(e){setTimeout(e,t)})}var yb=/^[cdef][\w-]{21}$/;function Hw(){try{var t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;var o=function(t){return function(t){return btoa(String.fromCharCode.apply(String,(0,C.__spreadArray)([],(0,C.__read)(t)))).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return yb.test(o)?o:""}catch(a){return""}}function Np(t){return t.appName+"!"+t.appId}var Sf=new Map;function bb(t,e){var o=Np(t);vy(o,e),function(t,e){var o=$_();o&&o.postMessage({key:t,fid:e}),xg()}(o,e)}function vy(t,e){var o,a,c=Sf.get(t);if(c)try{for(var g=(0,C.__values)(c),w=g.next();!w.done;w=g.next())(0,w.value)(e)}catch(L){o={error:L}}finally{try{w&&!w.done&&(a=g.return)&&a.call(g)}finally{if(o)throw o.error}}}var Af=null;function $_(){return!Af&&"BroadcastChannel"in self&&((Af=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(t){vy(t.data.key,t.data.fid)}),Af}function xg(){0===Sf.size&&Af&&(Af.close(),Af=null)}var Mf="firebase-installations-store",Y_=null;function q_(){return Y_||(Y_=(0,kp.openDb)("firebase-installations-database",1,function(t){switch(t.oldVersion){case 0:t.createObjectStore(Mf)}})),Y_}function Bm(t,e){return(0,C.__awaiter)(this,void 0,void 0,function(){var o,a,c,g,w;return(0,C.__generator)(this,function(S){switch(S.label){case 0:return o=Np(t),[4,q_()];case 1:return a=S.sent(),c=a.transaction(Mf,"readwrite"),[4,(g=c.objectStore(Mf)).get(o)];case 2:return w=S.sent(),[4,g.put(e,o)];case 3:return S.sent(),[4,c.complete];case 4:return S.sent(),(!w||w.fid!==e.fid)&&bb(t,e.fid),[2,e]}})})}function Q_(t){return(0,C.__awaiter)(this,void 0,void 0,function(){var e,o,a;return(0,C.__generator)(this,function(c){switch(c.label){case 0:return e=Np(t),[4,q_()];case 1:return o=c.sent(),[4,(a=o.transaction(Mf,"readwrite")).objectStore(Mf).delete(e)];case 2:return c.sent(),[4,a.complete];case 3:return c.sent(),[2]}})})}function Lp(t,e){return(0,C.__awaiter)(this,void 0,void 0,function(){var o,a,c,g,w,S;return(0,C.__generator)(this,function(L){switch(L.label){case 0:return o=Np(t),[4,q_()];case 1:return a=L.sent(),c=a.transaction(Mf,"readwrite"),[4,(g=c.objectStore(Mf)).get(o)];case 2:return w=L.sent(),void 0!==(S=e(w))?[3,4]:[4,g.delete(o)];case 3:return L.sent(),[3,6];case 4:return[4,g.put(S,o)];case 5:L.sent(),L.label=6;case 6:return[4,c.complete];case 7:return L.sent(),S&&(!w||w.fid!==S.fid)&&bb(t,S.fid),[2,S]}})})}function Z_(t){return(0,C.__awaiter)(this,void 0,void 0,function(){var e,o,a;return(0,C.__generator)(this,function(c){switch(c.label){case 0:return[4,Lp(t,function(g){var w=function(t){return Cy(t||{fid:Hw(),registrationStatus:0})}(g),S=function(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Bh.create("app-offline"))};var a={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},c=function(t,e){return(0,C.__awaiter)(this,void 0,void 0,function(){var o,a;return(0,C.__generator)(this,function(c){switch(c.label){case 0:return c.trys.push([0,2,,7]),[4,vb(t,e)];case 1:return o=c.sent(),[2,Bm(t,o)];case 2:return pb(a=c.sent())&&409===a.customData.serverCode?[4,Q_(t)]:[3,4];case 3:return c.sent(),[3,6];case 4:return[4,Bm(t,{fid:e.fid,registrationStatus:0})];case 5:c.sent(),c.label=6;case 6:throw a;case 7:return[2]}})})}(t,a);return{installationEntry:a,registrationPromise:c}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Ww(t)}:{installationEntry:e}}(t,w);return e=S.registrationPromise,S.installationEntry})];case 1:return""!==(o=c.sent()).fid?[3,3]:(a={},[4,e]);case 2:return[2,(a.installationEntry=c.sent(),a)];case 3:return[2,{installationEntry:o,registrationPromise:e}]}})})}function Ww(t){return(0,C.__awaiter)(this,void 0,void 0,function(){var e,o,a,c;return(0,C.__generator)(this,function(g){switch(g.label){case 0:return[4,Vm(t)];case 1:e=g.sent(),g.label=2;case 2:return 1!==e.registrationStatus?[3,5]:[4,Lm(100)];case 3:return g.sent(),[4,Vm(t)];case 4:return e=g.sent(),[3,2];case 5:return 0!==e.registrationStatus?[3,7]:[4,Z_(t)];case 6:return o=g.sent(),a=o.installationEntry,(c=o.registrationPromise)?[2,c]:[2,a];case 7:return[2,e]}})})}function Vm(t){return Lp(t,function(e){if(!e)throw Bh.create("installation-not-found");return Cy(e)})}function Cy(t){return function(t){return 1===t.registrationStatus&&t.registrationTime+1e4<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function kg(t,e){var o=t.appConfig,a=t.platformLoggerProvider;return(0,C.__awaiter)(this,void 0,void 0,function(){var c,g,w,L,te;return(0,C.__generator)(this,function(rt){switch(rt.label){case 0:return c=function(t,e){var o=e.fid;return G_(t)+"/"+o+"/authTokens:generate"}(o,e),g=mb(o,e),(w=a.getImmediate({optional:!0}))&&g.append("x-firebase-client",w.getPlatformInfoString()),L={method:"POST",headers:g,body:JSON.stringify({installation:{sdkVersion:H_}})},[4,z_(function(){return fetch(c,L)})];case 1:return(te=rt.sent()).ok?[4,te.json()]:[3,3];case 2:return[2,W_(rt.sent())];case 3:return[4,my("Generate Auth Token",te)];case 4:throw rt.sent()}})})}function Ng(t,e){return void 0===e&&(e=!1),(0,C.__awaiter)(this,void 0,void 0,function(){var o,a,g;return(0,C.__generator)(this,function(w){switch(w.label){case 0:return[4,Lp(t.appConfig,function(S){if(!Um(S))throw Bh.create("not-registered");var L=S.authToken;if(!e&&function(t){return 2===t.requestStatus&&!function(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(t)}(L))return S;if(1===L.requestStatus)return o=function(t,e){return(0,C.__awaiter)(this,void 0,void 0,function(){var o,a;return(0,C.__generator)(this,function(c){switch(c.label){case 0:return[4,Ty(t.appConfig)];case 1:o=c.sent(),c.label=2;case 2:return 1!==o.authToken.requestStatus?[3,5]:[4,Lm(100)];case 3:return c.sent(),[4,Ty(t.appConfig)];case 4:return o=c.sent(),[3,2];case 5:return 0===(a=o.authToken).requestStatus?[2,Ng(t,e)]:[2,a]}})})}(t,e),S;if(!navigator.onLine)throw Bh.create("app-offline");var te=function(t){var e={requestStatus:1,requestTime:Date.now()};return(0,C.__assign)((0,C.__assign)({},t),{authToken:e})}(S);return o=function(t,e){return(0,C.__awaiter)(this,void 0,void 0,function(){var o,c,a;return(0,C.__generator)(this,function(g){switch(g.label){case 0:return g.trys.push([0,3,,8]),[4,kg(t,e)];case 1:return o=g.sent(),a=(0,C.__assign)((0,C.__assign)({},e),{authToken:o}),[4,Bm(t.appConfig,a)];case 2:return g.sent(),[2,o];case 3:return!pb(c=g.sent())||401!==c.customData.serverCode&&404!==c.customData.serverCode?[3,5]:[4,Q_(t.appConfig)];case 4:return g.sent(),[3,7];case 5:return a=(0,C.__assign)((0,C.__assign)({},e),{authToken:{requestStatus:0}}),[4,Bm(t.appConfig,a)];case 6:g.sent(),g.label=7;case 7:throw c;case 8:return[2]}})})}(t,te),te})];case 1:return a=w.sent(),o?[4,o]:[3,3];case 2:return g=w.sent(),[3,4];case 3:g=a.authToken,w.label=4;case 4:return[2,g]}})})}function Ty(t){return Lp(t,function(e){if(!Um(e))throw Bh.create("not-registered");return function(t){return 1===t.requestStatus&&t.requestTime+1e4<Date.now()}(e.authToken)?(0,C.__assign)((0,C.__assign)({},e),{authToken:{requestStatus:0}}):e})}function Um(t){return void 0!==t&&2===t.registrationStatus}function Dy(t){return(0,C.__awaiter)(this,void 0,void 0,function(){var e;return(0,C.__generator)(this,function(o){switch(o.label){case 0:return[4,Z_(t)];case 1:return(e=o.sent().registrationPromise)?[4,e]:[3,3];case 2:o.sent(),o.label=3;case 3:return[2]}})})}function rv(t,e){return(0,C.__awaiter)(this,void 0,void 0,function(){var o,a,c,g;return(0,C.__generator)(this,function(w){switch(w.label){case 0:return o=function(t,e){var o=e.fid;return G_(t)+"/"+o}(t,e),a=mb(t,e),c={method:"DELETE",headers:a},[4,z_(function(){return fetch(o,c)})];case 1:return(g=w.sent()).ok?[3,3]:[4,my("Delete Installation",g)];case 2:throw w.sent();case 3:return[2]}})})}function av(t){return Bh.create("missing-app-config-values",{valueName:t})}!function(t){t.INTERNAL.registerComponent(new ot.Component("installations",function(o){var a=o.getProvider("app").getImmediate(),w={appConfig:function(t){var e,o;if(!t||!t.options)throw av("App Configuration");if(!t.name)throw av("App Name");try{for(var c=(0,C.__values)(["projectId","apiKey","appId"]),g=c.next();!g.done;g=c.next()){var w=g.value;if(!t.options[w])throw av(w)}}catch(S){e={error:S}}finally{try{g&&!g.done&&(o=c.return)&&o.call(c)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(a),platformLoggerProvider:o.getProvider("platform-logger")};return{app:a,getId:function(){return function(t){return(0,C.__awaiter)(this,void 0,void 0,function(){var e,o,a;return(0,C.__generator)(this,function(c){switch(c.label){case 0:return[4,Z_(t.appConfig)];case 1:return e=c.sent(),o=e.installationEntry,(a=e.registrationPromise)?a.catch(console.error):Ng(t).catch(console.error),[2,o.fid]}})})}(w)},getToken:function(L){return function(t,e){return void 0===e&&(e=!1),(0,C.__awaiter)(this,void 0,void 0,function(){return(0,C.__generator)(this,function(a){switch(a.label){case 0:return[4,Dy(t.appConfig)];case 1:return a.sent(),[4,Ng(t,e)];case 2:return[2,a.sent().token]}})})}(w,L)},delete:function(){return function(t){return(0,C.__awaiter)(this,void 0,void 0,function(){var e,o;return(0,C.__generator)(this,function(a){switch(a.label){case 0:return[4,Lp(e=t.appConfig,function(c){if(!c||0!==c.registrationStatus)return c})];case 1:if(!(o=a.sent()))return[3,6];if(1!==o.registrationStatus)return[3,2];throw Bh.create("delete-pending-registration");case 2:if(2!==o.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw Bh.create("app-offline");case 3:return[4,rv(e,o)];case 4:return a.sent(),[4,Q_(e)];case 5:a.sent(),a.label=6;case 6:return[2]}})})}(w)},onIdChange:function(L){return function(t,e){var o=t.appConfig;return function(t,e){$_();var o=Np(t),a=Sf.get(o);a||(a=new Set,Sf.set(o,a)),a.add(e)}(o,e),function(){!function(t,e){var o=Np(t),a=Sf.get(o);!a||(a.delete(e),0===a.size&&Sf.delete(o),xg())}(o,e)}}(w,L)}}},"PUBLIC")),t.registerVersion("@firebase/installations","0.4.30")}(y.default);var zs,uv=((zs={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',zs["only-available-in-window"]="This method is available in a Window context.",zs["only-available-in-sw"]="This method is available in a service worker context.",zs["permission-default"]="The notification permission was not granted and dismissed instead.",zs["permission-blocked"]="The notification permission was not granted and blocked instead.",zs["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",zs["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",zs["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",zs["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",zs["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",zs["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",zs["token-update-no-token"]="FCM returned no token when updating the user to push.",zs["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",zs["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",zs["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",zs["invalid-vapid-key"]="The public VAPID key must be a string.",zs["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",zs),Eo=new _e.ErrorFactory("messaging","Messaging",uv),Fg="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",jm="FCM_MSG",lv="google.c.a.c_id",Vh=(()=>(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"}(Vh||(Vh={})),Vh))();function Rd(t){var e=new Uint8Array(t);return btoa(String.fromCharCode.apply(String,(0,C.__spreadArray)([],(0,C.__read)(e)))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Sb(t){for(var o=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),a=atob(o),c=new Uint8Array(a.length),g=0;g<a.length;++g)c[g]=a.charCodeAt(g);return c}var cv="fcm_token_details_db",By="fcm_token_object_Store";function ra(t){return(0,C.__awaiter)(this,void 0,void 0,function(){var a,g=this;return(0,C.__generator)(this,function(w){switch(w.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(!w.sent().map(function(S){return S.name}).includes(cv))return[2,null];w.label=2;case 2:return a=null,[4,(0,kp.openDb)(cv,5,function(S){return(0,C.__awaiter)(g,void 0,void 0,function(){var L,te,de,Ue;return(0,C.__generator)(this,function(rt){switch(rt.label){case 0:return S.oldVersion<2?[2]:S.objectStoreNames.contains(By)?[4,(L=S.transaction.objectStore(By)).index("fcmSenderId").get(t)]:[2];case 1:return te=rt.sent(),[4,L.clear()];case 2:if(rt.sent(),!te)return[2];if(2===S.oldVersion){if(!(de=te).auth||!de.p256dh||!de.endpoint)return[2];a={token:de.fcmToken,createTime:null!==(Ue=de.createTime)&&void 0!==Ue?Ue:Date.now(),subscriptionOptions:{auth:de.auth,p256dh:de.p256dh,endpoint:de.endpoint,swScope:de.swScope,vapidKey:"string"==typeof de.vapidKey?de.vapidKey:Rd(de.vapidKey)}}}else(3===S.oldVersion||4===S.oldVersion)&&(a={token:(de=te).fcmToken,createTime:de.createTime,subscriptionOptions:{auth:Rd(de.auth),p256dh:Rd(de.p256dh),endpoint:de.endpoint,swScope:de.swScope,vapidKey:Rd(de.vapidKey)}});return[2]}})})})];case 3:return w.sent().close(),[4,(0,kp.deleteDb)(cv)];case 4:return w.sent(),[4,(0,kp.deleteDb)("fcm_vapid_details_db")];case 5:return w.sent(),[4,(0,kp.deleteDb)("undefined")];case 6:return w.sent(),[2,Vy(a)?a:null]}})})}function Vy(t){if(!t||!t.subscriptionOptions)return!1;var e=t.subscriptionOptions;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}var Od="firebase-messaging-store",hv=null;function Hm(){return hv||(hv=(0,kp.openDb)("firebase-messaging-database",1,function(t){switch(t.oldVersion){case 0:t.createObjectStore(Od)}})),hv}function Lg(t){return(0,C.__awaiter)(this,void 0,void 0,function(){var e,a,c;return(0,C.__generator)(this,function(g){switch(g.label){case 0:return e=dv(t),[4,Hm()];case 1:return[4,g.sent().transaction(Od).objectStore(Od).get(e)];case 2:return(a=g.sent())?[2,a]:[3,3];case 3:return[4,ra(t.appConfig.senderId)];case 4:return(c=g.sent())?[4,Pd(t,c)]:[3,6];case 5:return g.sent(),[2,c];case 6:return[2]}})})}function Pd(t,e){return(0,C.__awaiter)(this,void 0,void 0,function(){var o,a,c;return(0,C.__generator)(this,function(g){switch(g.label){case 0:return o=dv(t),[4,Hm()];case 1:return a=g.sent(),[4,(c=a.transaction(Od,"readwrite")).objectStore(Od).put(e,o)];case 2:return g.sent(),[4,c.complete];case 3:return g.sent(),[2,e]}})})}function Rb(t){return(0,C.__awaiter)(this,void 0,void 0,function(){var e,o,a;return(0,C.__generator)(this,function(c){switch(c.label){case 0:return e=dv(t),[4,Hm()];case 1:return o=c.sent(),[4,(a=o.transaction(Od,"readwrite")).objectStore(Od).delete(e)];case 2:return c.sent(),[4,a.complete];case 3:return c.sent(),[2]}})})}function dv(t){return t.appConfig.appId}function Uy(t,e){return(0,C.__awaiter)(this,void 0,void 0,function(){var o,a,c,g,S;return(0,C.__generator)(this,function(te){switch(te.label){case 0:return[4,Bg(t)];case 1:o=te.sent(),a=Gm(e),c={method:"POST",headers:o,body:JSON.stringify(a)},te.label=2;case 2:return te.trys.push([2,5,,6]),[4,fetch(jy(t.appConfig),c)];case 3:return[4,te.sent().json()];case 4:return g=te.sent(),[3,6];case 5:throw S=te.sent(),Eo.create("token-subscribe-failed",{errorInfo:S});case 6:if(g.error)throw Eo.create("token-subscribe-failed",{errorInfo:g.error.message});if(!g.token)throw Eo.create("token-subscribe-no-token");return[2,g.token]}})})}function Ob(t,e){return(0,C.__awaiter)(this,void 0,void 0,function(){var o,a,c,g,S;return(0,C.__generator)(this,function(te){switch(te.label){case 0:return[4,Bg(t)];case 1:o=te.sent(),a=Gm(e.subscriptionOptions),c={method:"PATCH",headers:o,body:JSON.stringify(a)},te.label=2;case 2:return te.trys.push([2,5,,6]),[4,fetch(jy(t.appConfig)+"/"+e.token,c)];case 3:return[4,te.sent().json()];case 4:return g=te.sent(),[3,6];case 5:throw S=te.sent(),Eo.create("token-update-failed",{errorInfo:S});case 6:if(g.error)throw Eo.create("token-update-failed",{errorInfo:g.error.message});if(!g.token)throw Eo.create("token-update-no-token");return[2,g.token]}})})}function fv(t,e){return(0,C.__awaiter)(this,void 0,void 0,function(){var o,a,g,S;return(0,C.__generator)(this,function(L){switch(L.label){case 0:return[4,Bg(t)];case 1:o=L.sent(),a={method:"DELETE",headers:o},L.label=2;case 2:return L.trys.push([2,5,,6]),[4,fetch(jy(t.appConfig)+"/"+e,a)];case 3:return[4,L.sent().json()];case 4:if((g=L.sent()).error)throw Eo.create("token-unsubscribe-failed",{errorInfo:g.error.message});return[3,6];case 5:throw S=L.sent(),Eo.create("token-unsubscribe-failed",{errorInfo:S});case 6:return[2]}})})}function jy(t){return"https://fcmregistrations.googleapis.com/v1/projects/"+t.projectId+"/registrations"}function Bg(t){var e=t.appConfig,o=t.installations;return(0,C.__awaiter)(this,void 0,void 0,function(){var a;return(0,C.__generator)(this,function(c){switch(c.label){case 0:return[4,o.getToken()];case 1:return a=c.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":"FIS "+a})]}})})}function Gm(t){var c=t.vapidKey,g={web:{endpoint:t.endpoint,auth:t.auth,p256dh:t.p256dh}};return c!==Fg&&(g.web.applicationPubKey=c),g}function pv(t,e,o){return(0,C.__awaiter)(this,void 0,void 0,function(){var a,c,g,w;return(0,C.__generator)(this,function(S){switch(S.label){case 0:if("granted"!==Notification.permission)throw Eo.create("permission-blocked");return[4,bc(e,o)];case 1:return a=S.sent(),[4,Lg(t)];case 2:return c=S.sent(),g={vapidKey:o,swScope:e.scope,endpoint:a.endpoint,auth:Rd(a.getKey("auth")),p256dh:Rd(a.getKey("p256dh"))},c?[3,3]:[2,zl(t,g)];case 3:if(function(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(c.subscriptionOptions,g))return[3,8];S.label=4;case 4:return S.trys.push([4,6,,7]),[4,fv(t,c.token)];case 5:return S.sent(),[3,7];case 6:return w=S.sent(),console.warn(w),[3,7];case 7:return[2,zl(t,g)];case 8:return Date.now()>=c.createTime+6048e5?[2,Jc({token:c.token,createTime:Date.now(),subscriptionOptions:g},t,e)]:[2,c.token];case 9:return[2]}})})}function Vg(t,e){return(0,C.__awaiter)(this,void 0,void 0,function(){var o,a;return(0,C.__generator)(this,function(c){switch(c.label){case 0:return[4,Lg(t)];case 1:return(o=c.sent())?[4,fv(t,o.token)]:[3,4];case 2:return c.sent(),[4,Rb(t)];case 3:c.sent(),c.label=4;case 4:return[4,e.pushManager.getSubscription()];case 5:return(a=c.sent())?[2,a.unsubscribe()]:[2,!0]}})})}function Jc(t,e,o){return(0,C.__awaiter)(this,void 0,void 0,function(){var a,c,g;return(0,C.__generator)(this,function(w){switch(w.label){case 0:return w.trys.push([0,3,,5]),[4,Ob(e,t)];case 1:return a=w.sent(),c=(0,C.__assign)((0,C.__assign)({},t),{token:a,createTime:Date.now()}),[4,Pd(e,c)];case 2:return w.sent(),[2,a];case 3:return g=w.sent(),[4,Vg(e,o)];case 4:throw w.sent(),g;case 5:return[2]}})})}function zl(t,e){return(0,C.__awaiter)(this,void 0,void 0,function(){var o,a;return(0,C.__generator)(this,function(c){switch(c.label){case 0:return[4,Uy(t,e)];case 1:return o=c.sent(),a={token:o,createTime:Date.now(),subscriptionOptions:e},[4,Pd(t,a)];case 2:return c.sent(),[2,a.token]}})})}function bc(t,e){return(0,C.__awaiter)(this,void 0,void 0,function(){var o;return(0,C.__generator)(this,function(a){switch(a.label){case 0:return[4,t.pushManager.getSubscription()];case 1:return(o=a.sent())?[2,o]:[2,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Sb(e)})]}})})}function Wy(t){return"object"==typeof t&&!!t&&lv in t}function Wm(t){return new Promise(function(e){setTimeout(e,t)})}var Ug=function(){function t(e){var o=this;this.firebaseDependencies=e,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",function(a){a.waitUntil(o.onPush(a))}),self.addEventListener("pushsubscriptionchange",function(a){a.waitUntil(o.onSubChange(a))}),self.addEventListener("notificationclick",function(a){a.waitUntil(o.onNotificationClick(a))})}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.setBackgroundMessageHandler=function(e){if(this.isOnBackgroundMessageUsed=!1,!e||"function"!=typeof e)throw Eo.create("invalid-bg-handler");this.bgMessageHandler=e},t.prototype.onBackgroundMessage=function(e){var o=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=e,function(){o.bgMessageHandler=null}},t.prototype.getToken=function(){var e,o;return(0,C.__awaiter)(this,void 0,void 0,function(){var a;return(0,C.__generator)(this,function(c){switch(c.label){case 0:return this.vapidKey?[3,2]:[4,Lg(this.firebaseDependencies)];case 1:a=c.sent(),this.vapidKey=null!==(o=null===(e=null==a?void 0:a.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==o?o:Fg,c.label=2;case 2:return[2,pv(this.firebaseDependencies,self.registration,this.vapidKey)]}})})},t.prototype.deleteToken=function(){return Vg(this.firebaseDependencies,self.registration)},t.prototype.requestPermission=function(){throw Eo.create("only-available-in-window")},t.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw Eo.create("use-vapid-key-after-get-token");if("string"!=typeof e||0===e.length)throw Eo.create("invalid-vapid-key");this.vapidKey=e},t.prototype.useServiceWorker=function(){throw Eo.create("only-available-in-window")},t.prototype.onMessage=function(){throw Eo.create("only-available-in-window")},t.prototype.onTokenRefresh=function(){throw Eo.create("only-available-in-window")},t.prototype.onPush=function(e){return(0,C.__awaiter)(this,void 0,void 0,function(){var o,a,c,g;return(0,C.__generator)(this,function(w){switch(w.label){case 0:return(o=function(t){var e=t.data;if(!e)return null;try{return e.json()}catch(o){return null}}(e))?[4,jg()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return function(t){return t.some(function(e){return"visible"===e.visibilityState&&!e.url.startsWith("chrome-extension://")})}(a=w.sent())?[2,$y(a,o)]:(c=!1,o.notification?[4,Lb(Nb(o))]:[3,3]);case 2:w.sent(),c=!0,w.label=3;case 3:return!0===c&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(g=function(t){var e={from:t.from,collapseKey:t.collapse_key};return function(t,e){if(e.notification){t.notification={};var o=e.notification.title;o&&(t.notification.title=o);var a=e.notification.body;a&&(t.notification.body=a);var c=e.notification.image;c&&(t.notification.image=c)}}(e,t),function(t,e){!e.data||(t.data=e.data)}(e,t),function(t,e){if(e.fcmOptions){t.fcmOptions={};var o=e.fcmOptions.link;o&&(t.fcmOptions.link=o);var a=e.fcmOptions.analytics_label;a&&(t.fcmOptions.analyticsLabel=a)}}(e,t),e}(o),"function"==typeof this.bgMessageHandler?this.bgMessageHandler(g):this.bgMessageHandler.next(g)),[4,Wm(1e3)]);case 4:return w.sent(),[2]}})})},t.prototype.onSubChange=function(e){var o,a;return(0,C.__awaiter)(this,void 0,void 0,function(){var g;return(0,C.__generator)(this,function(w){switch(w.label){case 0:return e.newSubscription?[3,2]:[4,Vg(this.firebaseDependencies,self.registration)];case 1:return w.sent(),[2];case 2:return[4,Lg(this.firebaseDependencies)];case 3:return g=w.sent(),[4,Vg(this.firebaseDependencies,self.registration)];case 4:return w.sent(),[4,pv(this.firebaseDependencies,self.registration,null!==(a=null===(o=null==g?void 0:g.subscriptionOptions)||void 0===o?void 0:o.vapidKey)&&void 0!==a?a:Fg)];case 5:return w.sent(),[2]}})})},t.prototype.onNotificationClick=function(e){var o,a;return(0,C.__awaiter)(this,void 0,void 0,function(){var c,g,w,S,L;return(0,C.__generator)(this,function(te){switch(te.label){case 0:return(c=null===(a=null===(o=e.notification)||void 0===o?void 0:o.data)||void 0===a?void 0:a[jm])?e.action?[2]:(e.stopImmediatePropagation(),e.notification.close(),(g=function(t){var e,o,a;return(null!==(o=null===(e=t.fcmOptions)||void 0===e?void 0:e.link)&&void 0!==o?o:null===(a=t.notification)||void 0===a?void 0:a.click_action)||(Wy(t.data)?self.location.origin:null)}(c))?(w=new URL(g,self.location.href),S=new URL(self.location.origin),w.host!==S.host?[2]:[4,Fb(w)]):[2]):[2];case 1:return(L=te.sent())?[3,4]:[4,self.clients.openWindow(g)];case 2:return L=te.sent(),[4,Wm(3e3)];case 3:return te.sent(),[3,6];case 4:return[4,L.focus()];case 5:L=te.sent(),te.label=6;case 6:return L?(c.messageType=Vh.NOTIFICATION_CLICKED,c.isFirebaseMessaging=!0,[2,L.postMessage(c)]):[2]}})})},t}();function Nb(t){var e,o=(0,C.__assign)({},t.notification);return o.data=((e={})[jm]=t,e),o}function Fb(t){return(0,C.__awaiter)(this,void 0,void 0,function(){var e,o,a,c,g,w,S;return(0,C.__generator)(this,function(L){switch(L.label){case 0:return[4,jg()];case 1:e=L.sent();try{for(o=(0,C.__values)(e),a=o.next();!a.done;a=o.next())if(c=a.value,g=new URL(c.url,self.location.href),t.host===g.host)return[2,c]}catch(te){w={error:te}}finally{try{a&&!a.done&&(S=o.return)&&S.call(o)}finally{if(w)throw w.error}}return[2,null]}})})}function $y(t,e){var o,a;e.isFirebaseMessaging=!0,e.messageType=Vh.PUSH_RECEIVED;try{for(var c=(0,C.__values)(t),g=c.next();!g.done;g=c.next())g.value.postMessage(e)}catch(S){o={error:S}}finally{try{g&&!g.done&&(a=c.return)&&a.call(c)}finally{if(o)throw o.error}}}function jg(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function Lb(t){var e,o=t.actions,a=Notification.maxActions;return o&&a&&o.length>a&&console.warn("This browser only supports "+a+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(e=t.title)&&void 0!==e?e:"",t)}var qy=function(){function t(e){var o=this;this.firebaseDependencies=e,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",function(a){return o.messageEventListener(a)})}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.messageEventListener=function(e){return(0,C.__awaiter)(this,void 0,void 0,function(){var o,a;return(0,C.__generator)(this,function(c){switch(c.label){case 0:return(o=e.data).isFirebaseMessaging?(this.onMessageCallback&&o.messageType===Vh.PUSH_RECEIVED&&("function"==typeof this.onMessageCallback?this.onMessageCallback(function(t){return delete t.messageType,delete t.isFirebaseMessaging,t}(Object.assign({},o))):this.onMessageCallback.next(Object.assign({},o))),Wy(a=o.data)&&"1"===a["google.c.a.e"]?[4,this.logEvent(o.messageType,a)]:[3,2]):[2];case 1:c.sent(),c.label=2;case 2:return[2]}})})},t.prototype.getVapidKey=function(){return this.vapidKey},t.prototype.getSwReg=function(){return this.swRegistration},t.prototype.getToken=function(e){return(0,C.__awaiter)(this,void 0,void 0,function(){return(0,C.__generator)(this,function(o){switch(o.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:o.sent(),o.label=2;case 2:if("granted"!==Notification.permission)throw Eo.create("permission-blocked");return[4,this.updateVapidKey(null==e?void 0:e.vapidKey)];case 3:return o.sent(),[4,this.updateSwReg(null==e?void 0:e.serviceWorkerRegistration)];case 4:return o.sent(),[2,pv(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}})})},t.prototype.updateVapidKey=function(e){return(0,C.__awaiter)(this,void 0,void 0,function(){return(0,C.__generator)(this,function(o){return e?this.vapidKey=e:this.vapidKey||(this.vapidKey=Fg),[2]})})},t.prototype.updateSwReg=function(e){return(0,C.__awaiter)(this,void 0,void 0,function(){return(0,C.__generator)(this,function(o){switch(o.label){case 0:return e||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:o.sent(),o.label=2;case 2:if(!e&&this.swRegistration)return[2];if(!(e instanceof ServiceWorkerRegistration))throw Eo.create("invalid-sw-registration");return this.swRegistration=e,[2]}})})},t.prototype.registerDefaultSw=function(){return(0,C.__awaiter)(this,void 0,void 0,function(){var e,o;return(0,C.__generator)(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),e=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return e.swRegistration=a.sent(),this.swRegistration.update().catch(function(){}),[3,3];case 2:throw o=a.sent(),Eo.create("failed-service-worker-registration",{browserErrorMessage:o.message});case 3:return[2]}})})},t.prototype.deleteToken=function(){return(0,C.__awaiter)(this,void 0,void 0,function(){return(0,C.__generator)(this,function(e){switch(e.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:return[2,Vg(this.firebaseDependencies,this.swRegistration)]}})})},t.prototype.requestPermission=function(){return(0,C.__awaiter)(this,void 0,void 0,function(){var e;return(0,C.__generator)(this,function(o){switch(o.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(e=o.sent()))return[2];throw Eo.create("denied"===e?"permission-blocked":"permission-default")}})})},t.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw Eo.create("use-vapid-key-after-get-token");if("string"!=typeof e||0===e.length)throw Eo.create("invalid-vapid-key");this.vapidKey=e},t.prototype.useServiceWorker=function(e){if(!(e instanceof ServiceWorkerRegistration))throw Eo.create("invalid-sw-registration");if(this.swRegistration)throw Eo.create("use-sw-after-get-token");this.swRegistration=e},t.prototype.onMessage=function(e){var o=this;return this.onMessageCallback=e,function(){o.onMessageCallback=null}},t.prototype.setBackgroundMessageHandler=function(){throw Eo.create("only-available-in-sw")},t.prototype.onBackgroundMessage=function(){throw Eo.create("only-available-in-sw")},t.prototype.onTokenRefresh=function(){return function(){}},t.prototype.logEvent=function(e,o){return(0,C.__awaiter)(this,void 0,void 0,function(){var a;return(0,C.__generator)(this,function(g){switch(g.label){case 0:return a=function(t){switch(t){case Vh.NOTIFICATION_CLICKED:return"notification_open";case Vh.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return g.sent().logEvent(a,{message_id:o[lv],message_name:o["google.c.a.c_l"],message_time:o["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}})})},t}();function Km(t){return Eo.create("missing-app-config-values",{valueName:t})}var Xy={isSupported:mv};function mv(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}y.default.INTERNAL.registerComponent(new ot.Component("messaging",function(t){var e=t.getProvider("app").getImmediate(),o=function(t){var e,o;if(!t||!t.options)throw Km("App Configuration Object");if(!t.name)throw Km("App Name");var c=t.options;try{for(var g=(0,C.__values)(["projectId","apiKey","appId","messagingSenderId"]),w=g.next();!w.done;w=g.next()){var S=w.value;if(!c[S])throw Km(S)}}catch(L){e={error:L}}finally{try{w&&!w.done&&(o=g.return)&&o.call(g)}finally{if(e)throw e.error}}return{appName:t.name,projectId:c.projectId,apiKey:c.apiKey,appId:c.appId,senderId:c.messagingSenderId}}(e),g={app:e,appConfig:o,installations:t.getProvider("installations").getImmediate(),analyticsProvider:t.getProvider("analytics-internal")};if(!mv())throw Eo.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new Ug(g):new qy(g)},"PUBLIC").setServiceProps(Xy)),P(7361);var ka,_v="FB-PERF-TRACE-MEASURE",l0="@firebase/performance/config",c0="@firebase/performance/configexpire",h0="Performance",Hb=((ka={})["trace started"]="Trace {$traceName} was started before.",ka["trace stopped"]="Trace {$traceName} is not running.",ka["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",ka["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",ka["no window"]="Window is not available.",ka["no app id"]="App id is not available.",ka["no project id"]="Project id is not available.",ka["no api key"]="Api key is not available.",ka["invalid cc log"]="Attempted to queue invalid cc event",ka["FB not default"]="Performance can only start when Firebase app instance is the default one.",ka["RC response not ok"]="RC response is not ok",ka["invalid attribute name"]="Attribute name {$attributeName} is invalid.",ka["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",ka["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",ka["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",ka),Ja=new _e.ErrorFactory("performance",h0,Hb),Xc=new ee.Logger(h0);Xc.logLevel=ee.LogLevel.INFO;var $m,vv,Na=function(){function t(e){if(this.window=e,!e)throw Ja.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}return t.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},t.prototype.mark=function(e){!this.performance||!this.performance.mark||this.performance.mark(e)},t.prototype.measure=function(e,o,a){!this.performance||!this.performance.measure||this.performance.measure(e,o,a)},t.prototype.getEntriesByType=function(e){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(e):[]},t.prototype.getEntriesByName=function(e){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(e):[]},t.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},t.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!(0,_e.isIndexedDBAvailable)()||(Xc.info("IndexedDB is not supported by current browswer"),!1):(Xc.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},t.prototype.setupObserver=function(e,o){this.PerformanceObserver&&new this.PerformanceObserver(function(c){for(var g=0,w=c.getEntries();g<w.length;g++)o(w[g])}).observe({entryTypes:[e]})},t.getInstance=function(){return void 0===$m&&($m=new t(vv)),$m},t}();function yv(t,e){var o=t.length-e.length;if(o<0||o>1)throw Ja.create("invalid String merger input");for(var a=[],c=0;c<t.length;c++)a.push(t.charAt(c)),e.length>c&&a.push(e.charAt(c));return a.join("")}var Ym,bv,Ks=function(){function t(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=yv("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=yv("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return t.prototype.getAppId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!e)throw Ja.create("no app id");return e},t.prototype.getProjectId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!e)throw Ja.create("no project id");return e},t.prototype.getApiKey=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!e)throw Ja.create("no api key");return e},t.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},t.getInstance=function(){return void 0===Ym&&(Ym=new t),Ym},t}();function Hg(){return bv}var Of=(()=>(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.VISIBLE=1]="VISIBLE",t[t.HIDDEN=2]="HIDDEN"}(Of||(Of={})),Of))(),Gb=["firebase_","google_","ga_"],Bp=new RegExp("^[a-zA-Z]\\w*$");function qw(){var t=Na.getInstance().navigator;return"serviceWorker"in t?t.serviceWorker.controller?2:3:1}function Cv(){switch(Na.getInstance().document.visibilityState){case"visible":return Of.VISIBLE;case"hidden":return Of.HIDDEN;default:return Of.UNKNOWN}}function f0(){var e=Na.getInstance().navigator.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}var Zm="Could not fetch config, will use default configs";function Yb(t){if(!t)return t;var e=Ks.getInstance(),o=t.entries||{};return e.loggingEnabled=void 0===o.fpr_enabled||"true"===String(o.fpr_enabled),o.fpr_log_source&&(e.logSource=Number(o.fpr_log_source)),o.fpr_log_endpoint_url&&(e.logEndPointUrl=o.fpr_log_endpoint_url),o.fpr_log_transport_key&&(e.transportKey=o.fpr_log_transport_key),void 0!==o.fpr_vc_network_request_sampling_rate&&(e.networkRequestsSamplingRate=Number(o.fpr_vc_network_request_sampling_rate)),void 0!==o.fpr_vc_trace_sampling_rate&&(e.tracesSamplingRate=Number(o.fpr_vc_trace_sampling_rate)),e.logTraceAfterSampling=Jm(e.tracesSamplingRate),e.logNetworkAfterSampling=Jm(e.networkRequestsSamplingRate),t}function Jm(t){return Math.random()<=t}var Xm,Tv=1;function Iv(){return Tv=2,Xm=Xm||function(){var t=Na.getInstance().document;return new Promise(function(e){if(t&&"complete"!==t.readyState){var o=function(){"complete"===t.readyState&&(t.removeEventListener("readystatechange",o),e())};t.addEventListener("readystatechange",o)}else e()})}().then(function(){return function(){var t=Ks.getInstance().installationsService.getId();return t.then(function(e){bv=e}),t}()}).then(function(t){return function(t){var e=function(){var t=Na.getInstance().localStorage;if(t){var e=t.getItem(c0);if(e&&function(t){return Number(t)>Date.now()}(e)){var o=t.getItem(l0);if(o)try{return JSON.parse(o)}catch(c){return}}}}();return e?(Yb(e),Promise.resolve()):function(t){return function(){var t=Ks.getInstance().installationsService.getToken();return t.then(function(e){}),t}().then(function(e){var a="https://firebaseremoteconfig.googleapis.com/v1/projects/"+Ks.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+Ks.getInstance().getApiKey(),c=new Request(a,{method:"POST",headers:{Authorization:"FIREBASE_INSTALLATIONS_AUTH "+e},body:JSON.stringify({app_instance_id:t,app_instance_id_token:e,app_id:Ks.getInstance().getAppId(),app_version:"0.4.16",sdk_version:"0.0.1"})});return fetch(c).then(function(g){if(g.ok)return g.json();throw Ja.create("RC response not ok")})}).catch(function(){Xc.info(Zm)})}(t).then(Yb).then(function(o){return function(t){var e=Na.getInstance().localStorage;!t||!e||(e.setItem(l0,JSON.stringify(t)),e.setItem(c0,String(Date.now()+60*Ks.getInstance().configTimeToLive*60*1e3)))}(o)},function(){})}(t)}).then(function(){return _0()},function(){return _0()})}function _0(){Tv=3}var Av,e_=3,Ec=[],Sv=!1;function Wg(t){setTimeout(function(){if(0!==e_){if(!Ec.length)return Wg(1e4);!function(){var t=Ec.splice(0,1e3),e=t.map(function(a){return{source_extension_json_proto3:a.message,event_time_ms:String(a.eventTime)}});(function(t,e){return function(t){var e=Ks.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(t)})}(t).then(function(o){return o.ok||Xc.info("Call to Firebase backend failed."),o.json()}).then(function(o){var a=Number(o.nextRequestWaitMillis),c=1e4;isNaN(a)||(c=Math.max(a,c));var g=o.logResponseDetails;Array.isArray(g)&&g.length>0&&"RETRY_REQUEST_LATER"===g[0].responseAction&&(Ec=(0,C.__spreadArray)((0,C.__spreadArray)([],e),Ec),Xc.info("Retry transport request later.")),e_=3,Wg(c)})})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:Ks.getInstance().logSource,log_event:e},t).catch(function(){Ec=(0,C.__spreadArray)((0,C.__spreadArray)([],t),Ec),e_--,Xc.info("Tries left: "+e_+"."),Wg(1e4)})}()}},t)}function Jb(t){if(!t.eventTime||!t.message)throw Ja.create("invalid cc log");Ec=(0,C.__spreadArray)((0,C.__spreadArray)([],Ec),[t])}function Mv(t,e){Av||(Av=function(t){return function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];Jb({message:t.apply(void 0,e),eventTime:Date.now()})}}(b0)),Av(t,e)}function $g(t){var e=Ks.getInstance();!e.instrumentationEnabled&&t.isAuto||!e.dataCollectionEnabled&&!t.isAuto||!Na.getInstance().requiredApisAvailable()||t.isAuto&&Cv()!==Of.VISIBLE||(3===Tv?t_(t):Iv().then(function(){return t_(t)},function(){return t_(t)}))}function t_(t){if(Hg()){var e=Ks.getInstance();!e.loggingEnabled||!e.logTraceAfterSampling||setTimeout(function(){return Mv(t,1)},0)}}function b0(t,e){return 0===e?function(t){var e={url:t.url,http_method:t.httpMethod||0,http_response_code:200,response_payload_bytes:t.responsePayloadBytes,client_start_time_us:t.startTimeUs,time_to_response_initiated_us:t.timeToResponseInitiatedUs,time_to_response_completed_us:t.timeToResponseCompletedUs},o={application_info:rE(),network_request_metric:e};return JSON.stringify(o)}(t):function(t){var e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};0!==Object.keys(t.counters).length&&(e.counters=t.counters);var o=t.getAttributes();0!==Object.keys(o).length&&(e.custom_attributes=o);var a={application_info:rE(),trace_metric:e};return JSON.stringify(a)}(t)}function rE(){return{google_app_id:Ks.getInstance().getAppId(),app_instance_id:Hg(),web_app_info:{sdk_version:"0.4.16",page_url:Na.getInstance().getUrl(),service_worker_status:qw(),visibility_state:Cv(),effective_connection_type:f0()},application_process_state:0}}var Xw=["_fp","_fcp","_fid"],Yg=function(){function t(e,o,a){void 0===o&&(o=!1),this.name=e,this.isAuto=o,this.state=1,this.customAttributes={},this.counters={},this.api=Na.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=a||_v+"-"+this.randomId+"-"+this.name,a&&this.calculateTraceMetrics())}return t.prototype.start=function(){if(1!==this.state)throw Ja.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},t.prototype.stop=function(){if(2!==this.state)throw Ja.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),$g(this)},t.prototype.record=function(e,o,a){if(e<=0)throw Ja.create("nonpositive trace startTime",{traceName:this.name});if(o<=0)throw Ja.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*o),this.startTimeUs=Math.floor(1e3*e),a&&a.attributes&&(this.customAttributes=(0,C.__assign)({},a.attributes)),a&&a.metrics)for(var c=0,g=Object.keys(a.metrics);c<g.length;c++){var w=g[c];isNaN(Number(a.metrics[w]))||(this.counters[w]=Number(Math.floor(a.metrics[w])))}$g(this)},t.prototype.incrementMetric=function(e,o){void 0===o&&(o=1),this.putMetric(e,void 0===this.counters[e]?o:this.counters[e]+o)},t.prototype.putMetric=function(e,o){if(!function(t,e){return!(0===t.length||t.length>100)&&(e&&e.startsWith("_wt_")&&Xw.indexOf(t)>-1||!t.startsWith("_"))}(e,this.name))throw Ja.create("invalid custom metric name",{customMetricName:e});this.counters[e]=function(t){var e=Math.floor(t);return e<t&&Xc.info("Metric value should be an Integer, setting the value as : "+e+"."),e}(o)},t.prototype.getMetric=function(e){return this.counters[e]||0},t.prototype.putAttribute=function(e,o){var a=function(t){return!(0===t.length||t.length>40||Gb.some(function(o){return t.startsWith(o)})||!t.match(Bp))}(e),c=function(t){return 0!==t.length&&t.length<=100}(o);if(a&&c)this.customAttributes[e]=o;else{if(!a)throw Ja.create("invalid attribute name",{attributeName:e});if(!c)throw Ja.create("invalid attribute value",{attributeValue:o})}},t.prototype.getAttribute=function(e){return this.customAttributes[e]},t.prototype.removeAttribute=function(e){void 0!==this.customAttributes[e]&&delete this.customAttributes[e]},t.prototype.getAttributes=function(){return(0,C.__assign)({},this.customAttributes)},t.prototype.setStartTime=function(e){this.startTimeUs=e},t.prototype.setDuration=function(e){this.durationUs=e},t.prototype.calculateTraceMetrics=function(){var e=this.api.getEntriesByName(this.traceMeasure),o=e&&e[0];o&&(this.durationUs=Math.floor(1e3*o.duration),this.startTimeUs=Math.floor(1e3*(o.startTime+this.api.getTimeOrigin())))},t.createOobTrace=function(e,o,a){var c=Na.getInstance().getUrl();if(c){var g=new t("_wt_"+c,!0),w=Math.floor(1e3*Na.getInstance().getTimeOrigin());if(g.setStartTime(w),e&&e[0]&&(g.setDuration(Math.floor(1e3*e[0].duration)),g.putMetric("domInteractive",Math.floor(1e3*e[0].domInteractive)),g.putMetric("domContentLoadedEventEnd",Math.floor(1e3*e[0].domContentLoadedEventEnd)),g.putMetric("loadEventEnd",Math.floor(1e3*e[0].loadEventEnd))),o){var te=o.find(function(Ue){return"first-paint"===Ue.name});te&&te.startTime&&g.putMetric("_fp",Math.floor(1e3*te.startTime));var de=o.find(function(Ue){return"first-contentful-paint"===Ue.name});de&&de.startTime&&g.putMetric("_fcp",Math.floor(1e3*de.startTime)),a&&g.putMetric("_fid",Math.floor(1e3*a))}$g(g)}},t.createUserTimingTrace=function(e){$g(new t(e,!1,e))},t}();function w0(t){var e=t;if(e&&void 0!==e.responseStart){var o=Na.getInstance().getTimeOrigin(),a=Math.floor(1e3*(e.startTime+o)),c=e.responseStart?Math.floor(1e3*(e.responseStart-e.startTime)):void 0,g=Math.floor(1e3*(e.responseEnd-e.startTime));!function(t){var e=Ks.getInstance();if(e.instrumentationEnabled){var o=t.url,a=e.logEndPointUrl.split("?")[0],c=e.flTransportEndpointUrl.split("?")[0];o===a||o===c||!e.loggingEnabled||!e.logNetworkAfterSampling||setTimeout(function(){return Mv(t,0)},0)}}({url:e.name&&e.name.split("?")[0],responsePayloadBytes:e.transferSize,startTimeUs:a,timeToResponseInitiatedUs:c,timeToResponseCompletedUs:g})}}function Vp(){!Hg()||(setTimeout(function(){return function(){var t=Na.getInstance(),e=t.getEntriesByType("navigation"),o=t.getEntriesByType("paint");if(t.onFirstInputDelay){var a=setTimeout(function(){Yg.createOobTrace(e,o),a=void 0},5e3);t.onFirstInputDelay(function(c){a&&(clearTimeout(a),Yg.createOobTrace(e,o,c))})}else Yg.createOobTrace(e,o)}()},0),setTimeout(function(){return function(){for(var t=Na.getInstance(),o=0,a=t.getEntriesByType("resource");o<a.length;o++)w0(a[o]);t.setupObserver("resource",w0)}()},0),setTimeout(function(){return function(){for(var t=Na.getInstance(),o=0,a=t.getEntriesByType("measure");o<a.length;o++)T0(a[o]);t.setupObserver("measure",T0)}()},0))}function T0(t){var e=t.name;e.substring(0,_v.length)!==_v&&Yg.createUserTimingTrace(e)}var aE=function(){function t(e){this.app=e,Na.getInstance().requiredApisAvailable()&&(0,_e.validateIndexedDBOpenable)().then(function(o){o&&(Sv||(Wg(5500),Sv=!0),Iv().then(Vp,Vp))}).catch(function(o){Xc.info("Environment doesn't support IndexedDB: "+o)})}return t.prototype.trace=function(e){return new Yg(e)},Object.defineProperty(t.prototype,"instrumentationEnabled",{get:function(){return Ks.getInstance().instrumentationEnabled},set:function(e){Ks.getInstance().instrumentationEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataCollectionEnabled",{get:function(){return Ks.getInstance().dataCollectionEnabled},set:function(e){Ks.getInstance().dataCollectionEnabled=e},enumerable:!1,configurable:!0}),t}();!function(t){t.INTERNAL.registerComponent(new ot.Component("performance",function(o){return function(o,a){if("[DEFAULT]"!==o.name)throw Ja.create("FB not default");if("undefined"==typeof window)throw Ja.create("no window");return function(t){vv=t}(window),Ks.getInstance().firebaseAppInstance=o,Ks.getInstance().installationsService=a,new aE(o)}(o.getProvider("app").getImmediate(),o.getProvider("installations").getImmediate())},"PUBLIC")),t.registerVersion("@firebase/performance","0.4.16")}(y.default);var S0="https://www.googletagmanager.com/gtag/js",va=(()=>(function(t){t.EVENT="event",t.SET="set",t.CONFIG="config"}(va||(va={})),va))(),r_=(()=>(function(t){t.ADD_SHIPPING_INFO="add_shipping_info",t.ADD_PAYMENT_INFO="add_payment_info",t.ADD_TO_CART="add_to_cart",t.ADD_TO_WISHLIST="add_to_wishlist",t.BEGIN_CHECKOUT="begin_checkout",t.CHECKOUT_PROGRESS="checkout_progress",t.EXCEPTION="exception",t.GENERATE_LEAD="generate_lead",t.LOGIN="login",t.PAGE_VIEW="page_view",t.PURCHASE="purchase",t.REFUND="refund",t.REMOVE_FROM_CART="remove_from_cart",t.SCREEN_VIEW="screen_view",t.SEARCH="search",t.SELECT_CONTENT="select_content",t.SELECT_ITEM="select_item",t.SELECT_PROMOTION="select_promotion",t.SET_CHECKOUT_OPTION="set_checkout_option",t.SHARE="share",t.SIGN_UP="sign_up",t.TIMING_COMPLETE="timing_complete",t.VIEW_CART="view_cart",t.VIEW_ITEM="view_item",t.VIEW_ITEM_LIST="view_item_list",t.VIEW_PROMOTION="view_promotion",t.VIEW_SEARCH_RESULTS="view_search_results"}(r_||(r_={})),r_))(),ya=new ee.Logger("@firebase/analytics");function gE(t,e,o,a,c,g){return(0,C.__awaiter)(this,void 0,void 0,function(){var w,S,L,te;return(0,C.__generator)(this,function(de){switch(de.label){case 0:w=a[c],de.label=1;case 1:return de.trys.push([1,7,,8]),w?[4,e[w]]:[3,3];case 2:return de.sent(),[3,6];case 3:return[4,Promise.all(o)];case 4:return S=de.sent(),(L=S.find(function(Ue){return Ue.measurementId===c}))?[4,e[L.appId]]:[3,6];case 5:de.sent(),de.label=6;case 6:return[3,8];case 7:return te=de.sent(),ya.error(te),[3,8];case 8:return t(va.CONFIG,c,g),[2]}})})}function Ov(t,e,o,a,c){return(0,C.__awaiter)(this,void 0,void 0,function(){var g,w,S,L,te,de,Vt;return(0,C.__generator)(this,function(Ft){switch(Ft.label){case 0:return Ft.trys.push([0,4,,5]),g=[],c&&c.send_to?(w=c.send_to,Array.isArray(w)||(w=[w]),[4,Promise.all(o)]):[3,2];case 1:for(S=Ft.sent(),L=function(Jt){var kn=S.find(function(Er){return Er.measurementId===Jt}),Kn=kn&&e[kn.appId];if(!Kn)return g=[],"break";g.push(Kn)},te=0,de=w;te<de.length&&"break"!==L(de[te]);te++);Ft.label=2;case 2:return 0===g.length&&(g=Object.values(e)),[4,Promise.all(g)];case 3:return Ft.sent(),t(va.EVENT,a,c||{}),[3,5];case 4:return Vt=Ft.sent(),ya.error(Vt),[3,5];case 5:return[2]}})})}var wc,vE=((wc={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",wc["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",wc["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",wc["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",wc["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",wc["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",wc["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",wc["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',wc["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',wc),Kl=new _e.ErrorFactory("analytics","Analytics",vE),O0=new(function(){function t(e,o){void 0===e&&(e={}),void 0===o&&(o=1e3),this.throttleMetadata=e,this.intervalMillis=o}return t.prototype.getThrottleMetadata=function(e){return this.throttleMetadata[e]},t.prototype.setThrottleMetadata=function(e,o){this.throttleMetadata[e]=o},t.prototype.deleteThrottleMetadata=function(e){delete this.throttleMetadata[e]},t}());function P0(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function x0(t){var e;return(0,C.__awaiter)(this,void 0,void 0,function(){var o,c,g,w,S,L;return(0,C.__generator)(this,function(te){switch(te.label){case 0:return o=t.appId,c={method:"GET",headers:P0(t.apiKey)},g="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",o),[4,fetch(g,c)];case 1:if(200===(w=te.sent()).status||304===w.status)return[3,6];S="",te.label=2;case 2:return te.trys.push([2,4,,5]),[4,w.json()];case 3:return L=te.sent(),(null===(e=L.error)||void 0===e?void 0:e.message)&&(S=L.error.message),[3,5];case 4:return te.sent(),[3,5];case 5:throw Kl.create("config-fetch-failed",{httpStatus:w.status,responseMessage:S});case 6:return[2,w.json()]}})})}function k0(t,e,o,a){var c=e.throttleEndTimeMillis,g=e.backoffCount;return void 0===a&&(a=O0),(0,C.__awaiter)(this,void 0,void 0,function(){var w,S,L,te,de,Ue,rt;return(0,C.__generator)(this,function(Vt){switch(Vt.label){case 0:w=t.appId,S=t.measurementId,Vt.label=1;case 1:return Vt.trys.push([1,3,,4]),[4,N0(o,c)];case 2:return Vt.sent(),[3,4];case 3:if(L=Vt.sent(),S)return ya.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+S+' provided in the "measurementId" field in the local Firebase config. ['+L.message+"]"),[2,{appId:w,measurementId:S}];throw L;case 4:return Vt.trys.push([4,6,,7]),[4,x0(t)];case 5:return te=Vt.sent(),a.deleteThrottleMetadata(w),[2,te];case 6:if(!function(t){if(!(t instanceof _e.FirebaseError&&t.customData))return!1;var e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(de=Vt.sent())){if(a.deleteThrottleMetadata(w),S)return ya.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+S+' provided in the "measurementId" field in the local Firebase config. ['+de.message+"]"),[2,{appId:w,measurementId:S}];throw de}return Ue=503===Number(de.customData.httpStatus)?(0,_e.calculateBackoffMillis)(g,a.intervalMillis,30):(0,_e.calculateBackoffMillis)(g,a.intervalMillis),rt={throttleEndTimeMillis:Date.now()+Ue,backoffCount:g+1},a.setThrottleMetadata(w,rt),ya.debug("Calling attemptFetch again in "+Ue+" millis"),[2,k0(t,rt,o,a)];case 7:return[2]}})})}function N0(t,e){return new Promise(function(o,a){var c=Math.max(e-Date.now(),0),g=setTimeout(o,c);t.addEventListener(function(){clearTimeout(g),a(Kl.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}var TE=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(e){this.listeners.push(e)},t.prototype.abort=function(){this.listeners.forEach(function(e){return e()})},t}();var o_,Zg,fl={},qg=[],i_={},Qg="dataLayer",xv="gtag",Jg=!1;function F0(t){if(Jg)throw Kl.create("already-initialized");t.dataLayerName&&(Qg=t.dataLayerName),t.gtagName&&(xv=t.gtagName)}function tC(t,e){!function(){var t=[];if((0,_e.isBrowserExtension)()&&t.push("This is a browser extension environment."),(0,_e.areCookiesEnabled)()||t.push("Cookies are not available."),t.length>0){var e=t.map(function(a,c){return"("+(c+1)+") "+a}).join(" "),o=Kl.create("invalid-analytics-context",{errorInfo:e});ya.warn(o.message)}}();var o=t.options.appId;if(!o)throw Kl.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Kl.create("no-api-key");ya.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+t.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=fl[o])throw Kl.create("already-exists",{id:o});if(!Jg){!function(t){var e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(Qg);var a=function(t,e,o,a,c){var g=function(){for(var w=[],S=0;S<arguments.length;S++)w[S]=arguments[S];window[a].push(arguments)};return window[c]&&"function"==typeof window[c]&&(g=window[c]),window[c]=function(t,e,o,a){return function(g,w,S){return(0,C.__awaiter)(this,void 0,void 0,function(){var L;return(0,C.__generator)(this,function(te){switch(te.label){case 0:return te.trys.push([0,6,,7]),g!==va.EVENT?[3,2]:[4,Ov(t,e,o,w,S)];case 1:return te.sent(),[3,5];case 2:return g!==va.CONFIG?[3,4]:[4,gE(t,e,o,a,w,S)];case 3:return te.sent(),[3,5];case 4:t(va.SET,w),te.label=5;case 5:return[3,7];case 6:return L=te.sent(),ya.error(L),[3,7];case 7:return[2]}})})}}(g,t,e,o),{gtagCore:g,wrappedGtag:window[c]}}(fl,qg,i_,Qg,xv);Zg=a.wrappedGtag,o_=a.gtagCore,Jg=!0}return fl[o]=function(t,e,o,a,c,g){return(0,C.__awaiter)(this,void 0,void 0,function(){var w,S,L,te,de,Ue,rt;return(0,C.__generator)(this,function(Vt){switch(Vt.label){case 0:return(w=function(t,e,o){return void 0===e&&(e=O0),(0,C.__awaiter)(this,void 0,void 0,function(){var a,c,g,w,S,L,te=this;return(0,C.__generator)(this,function(de){if(g=(a=t.options).apiKey,w=a.measurementId,!(c=a.appId))throw Kl.create("no-app-id");if(!g){if(w)return[2,{measurementId:w,appId:c}];throw Kl.create("no-api-key")}return S=e.getThrottleMetadata(c)||{backoffCount:0,throttleEndTimeMillis:Date.now()},L=new TE,setTimeout(function(){return(0,C.__awaiter)(te,void 0,void 0,function(){return(0,C.__generator)(this,function(Ue){return L.abort(),[2]})})},6e4),[2,k0({appId:c,apiKey:g,measurementId:w},S,L,e)]})})}(t)).then(function(Ft){o[Ft.measurementId]=Ft.appId,t.options.measurementId&&Ft.measurementId!==t.options.measurementId&&ya.warn("The measurement ID in the local Firebase config ("+t.options.measurementId+") does not match the measurement ID fetched from the server ("+Ft.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(Ft){return ya.error(Ft)}),e.push(w),S=function(){return(0,C.__awaiter)(this,void 0,void 0,function(){var t;return(0,C.__generator)(this,function(e){switch(e.label){case 0:return(0,_e.isIndexedDBAvailable)()?[3,1]:(ya.warn(Kl.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return e.trys.push([1,3,,4]),[4,(0,_e.validateIndexedDBOpenable)()];case 2:return e.sent(),[3,4];case 3:return t=e.sent(),ya.warn(Kl.create("indexeddb-unavailable",{errorInfo:t}).message),[2,!1];case 4:return[2,!0]}})})}().then(function(Ft){if(Ft)return a.getId()}),[4,Promise.all([w,S])];case 1:return L=Vt.sent(),te=L[0],de=L[1],function(){for(var t=window.document.getElementsByTagName("script"),e=0,o=Object.values(t);e<o.length;e++){var a=o[e];if(a.src&&a.src.includes(S0))return a}return null}()||function(t,e){var o=document.createElement("script");o.src=S0+"?l="+t+"&id="+e,o.async=!0,document.head.appendChild(o)}(g,te.measurementId),c("js",new Date),(rt={}).origin="firebase",rt.update=!0,Ue=rt,null!=de&&(Ue.firebase_id=de),c(va.CONFIG,te.measurementId,Ue),[2,te.measurementId]}})})}(t,qg,i_,e,o_,Qg),{app:t,logEvent:function(S,L,te){(function(t,e,o,a,c){return(0,C.__awaiter)(this,void 0,void 0,function(){var g,w;return(0,C.__generator)(this,function(S){switch(S.label){case 0:return c&&c.global?(t(va.EVENT,o,a),[2]):[3,1];case 1:return[4,e];case 2:g=S.sent(),w=(0,C.__assign)((0,C.__assign)({},a),{send_to:g}),t(va.EVENT,o,w),S.label=3;case 3:return[2]}})})})(Zg,fl[o],S,L,te).catch(function(de){return ya.error(de)})},setCurrentScreen:function(S,L){(function(t,e,o,a){return(0,C.__awaiter)(this,void 0,void 0,function(){var c;return(0,C.__generator)(this,function(g){switch(g.label){case 0:return a&&a.global?(t(va.SET,{screen_name:o}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:c=g.sent(),t(va.CONFIG,c,{update:!0,screen_name:o}),g.label=3;case 3:return[2]}})})})(Zg,fl[o],S,L).catch(function(te){return ya.error(te)})},setUserId:function(S,L){(function(t,e,o,a){return(0,C.__awaiter)(this,void 0,void 0,function(){var c;return(0,C.__generator)(this,function(g){switch(g.label){case 0:return a&&a.global?(t(va.SET,{user_id:o}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:c=g.sent(),t(va.CONFIG,c,{update:!0,user_id:o}),g.label=3;case 3:return[2]}})})})(Zg,fl[o],S,L).catch(function(te){return ya.error(te)})},setUserProperties:function(S,L){(function(t,e,o,a){return(0,C.__awaiter)(this,void 0,void 0,function(){var c,g,w,S,L;return(0,C.__generator)(this,function(te){switch(te.label){case 0:if(!a||!a.global)return[3,1];for(c={},g=0,w=Object.keys(o);g<w.length;g++)c["user_properties."+(S=w[g])]=o[S];return t(va.SET,c),[2,Promise.resolve()];case 1:return[4,e];case 2:L=te.sent(),t(va.CONFIG,L,{update:!0,user_properties:o}),te.label=3;case 3:return[2]}})})})(Zg,fl[o],S,L).catch(function(te){return ya.error(te)})},setAnalyticsCollectionEnabled:function(S){(function(t,e){return(0,C.__awaiter)(this,void 0,void 0,function(){var o;return(0,C.__generator)(this,function(a){switch(a.label){case 0:return[4,t];case 1:return o=a.sent(),window["ga-disable-"+o]=!e,[2]}})})})(fl[o],S).catch(function(L){return ya.error(L)})},INTERNAL:{delete:function(){return delete fl[o],Promise.resolve()}}}}var AE="analytics";function s_(){return(0,C.__awaiter)(this,void 0,void 0,function(){return(0,C.__generator)(this,function(e){switch(e.label){case 0:if((0,_e.isBrowserExtension)())return[2,!1];if(!(0,_e.areCookiesEnabled)())return[2,!1];if(!(0,_e.isIndexedDBAvailable)())return[2,!1];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,(0,_e.validateIndexedDBOpenable)()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,!1];case 4:return[2]}})})}!function(t){t.INTERNAL.registerComponent(new ot.Component(AE,function(o){return tC(o.getProvider("app").getImmediate(),o.getProvider("installations").getImmediate())},"PUBLIC").setServiceProps({settings:F0,EventName:r_,isSupported:s_})),t.INTERNAL.registerComponent(new ot.Component("analytics-internal",function(o){try{return{logEvent:o.getProvider(AE).getImmediate().logEvent}}catch(c){throw Kl.create("interop-component-reg-failed",{reason:c})}},"PRIVATE")),t.registerVersion("@firebase/analytics","0.6.14")}(y.default);var $s,ME=function(){function t(e,o,a,c){this.client=e,this.storage=o,this.storageCache=a,this.logger=c}return t.prototype.isCachedDataFresh=function(e,o){if(!o)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var a=Date.now()-o,c=a<=e;return this.logger.debug("Config fetch cache check. Cache age millis: "+a+". Cache max age millis (minimumFetchIntervalMillis setting): "+e+". Is cache hit: "+c+"."),c},t.prototype.fetch=function(e){return(0,C.__awaiter)(this,void 0,void 0,function(){var o,a,c,g,w;return(0,C.__generator)(this,function(S){switch(S.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return o=S.sent(),a=o[0],(c=o[1])&&this.isCachedDataFresh(e.cacheMaxAgeMillis,a)?[2,c]:(e.eTag=c&&c.eTag,[4,this.client.fetch(e)]);case 2:return g=S.sent(),w=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===g.status&&w.push(this.storage.setLastSuccessfulFetchResponse(g)),[4,Promise.all(w)];case 3:return S.sent(),[2,g]}})})},t}(),RE=(($s={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",$s["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",$s["registration-api-key"]="Undefined API key. Check Firebase app initialization.",$s["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",$s["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",$s["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",$s["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",$s["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",$s["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",$s["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',$s["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',$s["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",$s["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",$s),Cc=new _e.ErrorFactory("remoteconfig","Remote Config",RE);function eh(t){return void 0===t&&(t=navigator),t.languages&&t.languages[0]||t.language}var B0=function(){function t(e,o,a,c,g,w){this.firebaseInstallations=e,this.sdkVersion=o,this.namespace=a,this.projectId=c,this.apiKey=g,this.appId=w}return t.prototype.fetch=function(e){return(0,C.__awaiter)(this,void 0,void 0,function(){var o,g,w,S,L,te,de,Ue,rt,Vt,Ft,Jt,kn,Kn,Er,Tr,ii;return(0,C.__generator)(this,function(Xr){switch(Xr.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:o=Xr.sent(),g=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",w=g+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,S={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},L={sdk_version:this.sdkVersion,app_instance_id:o[0],app_instance_id_token:o[1],app_id:this.appId,language_code:eh()},te={method:"POST",headers:S,body:JSON.stringify(L)},de=fetch(w,te),Ue=new Promise(function(wo,ba){e.signal.addEventListener(function(){var Hp=new Error("The operation was aborted.");Hp.name="AbortError",ba(Hp)})}),Xr.label=2;case 2:return Xr.trys.push([2,5,,6]),[4,Promise.race([de,Ue])];case 3:return Xr.sent(),[4,de];case 4:return rt=Xr.sent(),[3,6];case 5:throw Vt=Xr.sent(),Ft="fetch-client-network","AbortError"===Vt.name&&(Ft="fetch-timeout"),Cc.create(Ft,{originalErrorMessage:Vt.message});case 6:if(Jt=rt.status,kn=rt.headers.get("ETag")||void 0,200!==rt.status)return[3,11];Tr=void 0,Xr.label=7;case 7:return Xr.trys.push([7,9,,10]),[4,rt.json()];case 8:return Tr=Xr.sent(),[3,10];case 9:throw ii=Xr.sent(),Cc.create("fetch-client-parse",{originalErrorMessage:ii.message});case 10:Kn=Tr.entries,Er=Tr.state,Xr.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===Er?Jt=500:"NO_CHANGE"===Er?Jt=304:("NO_TEMPLATE"===Er||"EMPTY_CONFIG"===Er)&&(Kn={}),304!==Jt&&200!==Jt)throw Cc.create("fetch-status",{httpStatus:Jt});return[2,{status:Jt,eTag:kn,config:Kn}]}})})},t}(),nC=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(e){this.listeners.push(e)},t.prototype.abort=function(){this.listeners.forEach(function(e){return e()})},t}(),rC=["1","true","t","yes","y","on"],Nv=function(){function t(e,o){void 0===o&&(o=""),this._source=e,this._value=o}return t.prototype.asString=function(){return this._value},t.prototype.asBoolean=function(){return"static"!==this._source&&rC.indexOf(this._value.toLowerCase())>=0},t.prototype.asNumber=function(){if("static"===this._source)return 0;var e=Number(this._value);return isNaN(e)&&(e=0),e},t.prototype.getSource=function(){return this._source},t}(),Fv=function(){function t(e,o,a,c,g){this.app=e,this._client=o,this._storageCache=a,this._storage=c,this._logger=g,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return t.prototype.setLogLevel=function(e){switch(e){case"debug":this._logger.logLevel=ee.LogLevel.DEBUG;break;case"silent":this._logger.logLevel=ee.LogLevel.SILENT;break;default:this._logger.logLevel=ee.LogLevel.ERROR}},Object.defineProperty(t.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),t.prototype.activate=function(){return(0,C.__awaiter)(this,void 0,void 0,function(){var e,o,a;return(0,C.__generator)(this,function(c){switch(c.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return e=c.sent(),a=e[1],(o=e[0])&&o.config&&o.eTag&&o.eTag!==a?[4,Promise.all([this._storageCache.setActiveConfig(o.config),this._storage.setActiveConfigEtag(o.eTag)])]:[2,!1];case 2:return c.sent(),[2,!0]}})})},t.prototype.ensureInitialized=function(){var e=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then(function(){e._isInitializationComplete=!0})),this._initializePromise},t.prototype.fetch=function(){return(0,C.__awaiter)(this,void 0,void 0,function(){var e,o,a,c=this;return(0,C.__generator)(this,function(g){switch(g.label){case 0:e=new nC,setTimeout(function(){return(0,C.__awaiter)(c,void 0,void 0,function(){return(0,C.__generator)(this,function(w){return e.abort(),[2]})})},this.settings.fetchTimeoutMillis),g.label=1;case 1:return g.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:e})];case 2:return g.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return g.sent(),[3,6];case 4:return o=g.sent(),a=function(t,e){return t instanceof _e.FirebaseError&&-1!==t.code.indexOf("fetch-throttle")}(o)?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(a)];case 5:throw g.sent(),o;case 6:return[2]}})})},t.prototype.fetchAndActivate=function(){return(0,C.__awaiter)(this,void 0,void 0,function(){return(0,C.__generator)(this,function(e){switch(e.label){case 0:return[4,this.fetch()];case 1:return e.sent(),[2,this.activate()]}})})},t.prototype.getAll=function(){var e=this;return function(t,e){return void 0===t&&(t={}),void 0===e&&(e={}),Object.keys((0,C.__assign)((0,C.__assign)({},t),e))}(this._storageCache.getActiveConfig(),this.defaultConfig).reduce(function(o,a){return o[a]=e.getValue(a),o},{})},t.prototype.getBoolean=function(e){return this.getValue(e).asBoolean()},t.prototype.getNumber=function(e){return this.getValue(e).asNumber()},t.prototype.getString=function(e){return this.getValue(e).asString()},t.prototype.getValue=function(e){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+e+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var o=this._storageCache.getActiveConfig();return o&&void 0!==o[e]?new Nv("remote",o[e]):this.defaultConfig&&void 0!==this.defaultConfig[e]?new Nv("default",String(this.defaultConfig[e])):(this._logger.debug('Returning static value for key "'+e+'". Define a default or remote value if this is unintentional.'),new Nv("static"))},t}();function jp(t,e){var o=t.target.error||void 0;return Cc.create(e,{originalErrorMessage:o&&o.message})}var xd="app_namespace_store",LE=function(){function t(e,o,a,c){void 0===c&&(c=new Promise(function(t,e){var o=indexedDB.open("firebase_remote_config",1);o.onerror=function(a){e(jp(a,"storage-open"))},o.onsuccess=function(a){t(a.target.result)},o.onupgradeneeded=function(a){var c=a.target.result;switch(a.oldVersion){case 0:c.createObjectStore(xd,{keyPath:"compositeKey"})}}})),this.appId=e,this.appName=o,this.namespace=a,this.openDbPromise=c}return t.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},t.prototype.setLastFetchStatus=function(e){return this.set("last_fetch_status",e)},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},t.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.set("last_successful_fetch_timestamp_millis",e)},t.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},t.prototype.setLastSuccessfulFetchResponse=function(e){return this.set("last_successful_fetch_response",e)},t.prototype.getActiveConfig=function(){return this.get("active_config")},t.prototype.setActiveConfig=function(e){return this.set("active_config",e)},t.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},t.prototype.setActiveConfigEtag=function(e){return this.set("active_config_etag",e)},t.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},t.prototype.setThrottleMetadata=function(e){return this.set("throttle_metadata",e)},t.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},t.prototype.get=function(e){return(0,C.__awaiter)(this,void 0,void 0,function(){var o,a=this;return(0,C.__generator)(this,function(c){switch(c.label){case 0:return[4,this.openDbPromise];case 1:return o=c.sent(),[2,new Promise(function(g,w){var L=o.transaction([xd],"readonly").objectStore(xd),te=a.createCompositeKey(e);try{var de=L.get(te);de.onerror=function(Ue){w(jp(Ue,"storage-get"))},de.onsuccess=function(Ue){var rt=Ue.target.result;g(rt?rt.value:void 0)}}catch(Ue){w(Cc.create("storage-get",{originalErrorMessage:Ue&&Ue.message}))}})]}})})},t.prototype.set=function(e,o){return(0,C.__awaiter)(this,void 0,void 0,function(){var a,c=this;return(0,C.__generator)(this,function(g){switch(g.label){case 0:return[4,this.openDbPromise];case 1:return a=g.sent(),[2,new Promise(function(w,S){var te=a.transaction([xd],"readwrite").objectStore(xd),de=c.createCompositeKey(e);try{var Ue=te.put({compositeKey:de,value:o});Ue.onerror=function(rt){S(jp(rt,"storage-set"))},Ue.onsuccess=function(){w()}}catch(rt){S(Cc.create("storage-set",{originalErrorMessage:rt&&rt.message}))}})]}})})},t.prototype.delete=function(e){return(0,C.__awaiter)(this,void 0,void 0,function(){var o,a=this;return(0,C.__generator)(this,function(c){switch(c.label){case 0:return[4,this.openDbPromise];case 1:return o=c.sent(),[2,new Promise(function(g,w){var L=o.transaction([xd],"readwrite").objectStore(xd),te=a.createCompositeKey(e);try{var de=L.delete(te);de.onerror=function(Ue){w(jp(Ue,"storage-delete"))},de.onsuccess=function(){g()}}catch(Ue){w(Cc.create("storage-delete",{originalErrorMessage:Ue&&Ue.message}))}})]}})})},t.prototype.createCompositeKey=function(e){return[this.appId,this.appName,this.namespace,e].join()},t}(),BE=function(){function t(e){this.storage=e}return t.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},t.prototype.getActiveConfig=function(){return this.activeConfig},t.prototype.loadFromStorage=function(){return(0,C.__awaiter)(this,void 0,void 0,function(){var e,o,a,c,g,w;return(0,C.__generator)(this,function(S){switch(S.label){case 0:return e=this.storage.getLastFetchStatus(),o=this.storage.getLastSuccessfulFetchTimestampMillis(),a=this.storage.getActiveConfig(),[4,e];case 1:return(c=S.sent())&&(this.lastFetchStatus=c),[4,o];case 2:return(g=S.sent())&&(this.lastSuccessfulFetchTimestampMillis=g),[4,a];case 3:return(w=S.sent())&&(this.activeConfig=w),[2]}})})},t.prototype.setLastFetchStatus=function(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)},t.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)},t.prototype.setActiveConfig=function(e){return this.activeConfig=e,this.storage.setActiveConfig(e)},t}();function j0(t,e){return new Promise(function(o,a){var c=Math.max(e-Date.now(),0),g=setTimeout(o,c);t.addEventListener(function(){clearTimeout(g),a(Cc.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}var G0=function(){function t(e,o){this.client=e,this.storage=o}return t.prototype.fetch=function(e){return(0,C.__awaiter)(this,void 0,void 0,function(){var o;return(0,C.__generator)(this,function(a){switch(a.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return o=a.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(e,o)]}})})},t.prototype.attemptFetch=function(e,o){var a=o.throttleEndTimeMillis,c=o.backoffCount;return(0,C.__awaiter)(this,void 0,void 0,function(){var g,w,S;return(0,C.__generator)(this,function(L){switch(L.label){case 0:return[4,j0(e.signal,a)];case 1:L.sent(),L.label=2;case 2:return L.trys.push([2,5,,7]),[4,this.client.fetch(e)];case 3:return g=L.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return L.sent(),[2,g];case 5:if(!function(t){if(!(t instanceof _e.FirebaseError&&t.customData))return!1;var e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(w=L.sent()))throw w;return S={throttleEndTimeMillis:Date.now()+(0,_e.calculateBackoffMillis)(c),backoffCount:c+1},[4,this.storage.setThrottleMetadata(S)];case 6:return L.sent(),[2,this.attemptFetch(e,S)];case 7:return[2]}})})},t}(),W0="@firebase/remote-config";!function(t){t.INTERNAL.registerComponent(new ot.Component("remoteConfig",function(o,a){var c=a.instanceIdentifier,g=o.getProvider("app").getImmediate(),w=o.getProvider("installations").getImmediate();if("undefined"==typeof window)throw Cc.create("registration-window");var S=g.options,L=S.projectId,te=S.apiKey,de=S.appId;if(!L)throw Cc.create("registration-project-id");if(!te)throw Cc.create("registration-api-key");if(!de)throw Cc.create("registration-app-id");var Ue=new LE(de,g.name,c=c||"firebase"),rt=new BE(Ue),Vt=new ee.Logger(W0);Vt.logLevel=ee.LogLevel.ERROR;var Ft=new B0(w,t.SDK_VERSION,c,L,te,de),Jt=new G0(Ft,Ue),kn=new ME(Jt,Ue,rt,Vt),Kn=new Fv(g,kn,rt,Ue,Vt);return Kn.ensureInitialized(),Kn},"PUBLIC").setMultipleInstances(!0)),t.registerVersion(W0,"0.1.41")}(y.default),P(7367),y.default.registerVersion("firebase","8.7.1","app"),y.default.SDK_VERSION="8.7.1",console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),y.default.registerVersion("firebase","8.7.1")},6676:function(ln,ut){!function(P){"use strict";function y(Se){return Array.prototype.slice.call(Se)}function _(Se){return new Promise(function(ze,Ut){Se.onsuccess=function(){ze(Se.result)},Se.onerror=function(){Ut(Se.error)}})}function D(Se,ze,Ut){var Qt,gt=new Promise(function(Ge,at){_(Qt=Se[ze].apply(Se,Ut)).then(Ge,at)});return gt.request=Qt,gt}function C(Se,ze,Ut){var Qt=D(Se,ze,Ut);return Qt.then(function(gt){if(gt)return new G(gt,Qt.request)})}function _e(Se,ze,Ut){Ut.forEach(function(Qt){Object.defineProperty(Se.prototype,Qt,{get:function(){return this[ze][Qt]},set:function(gt){this[ze][Qt]=gt}})})}function ee(Se,ze,Ut,Qt){Qt.forEach(function(gt){gt in Ut.prototype&&(Se.prototype[gt]=function(){return D(this[ze],gt,arguments)})})}function me(Se,ze,Ut,Qt){Qt.forEach(function(gt){gt in Ut.prototype&&(Se.prototype[gt]=function(){return this[ze][gt].apply(this[ze],arguments)})})}function ie(Se,ze,Ut,Qt){Qt.forEach(function(gt){gt in Ut.prototype&&(Se.prototype[gt]=function(){return C(this[ze],gt,arguments)})})}function ae(Se){this._index=Se}function G(Se,ze){this._cursor=Se,this._request=ze}function se(Se){this._store=Se}function oe(Se){this._tx=Se,this.complete=new Promise(function(ze,Ut){Se.oncomplete=function(){ze()},Se.onerror=function(){Ut(Se.error)},Se.onabort=function(){Ut(Se.error)}})}function fe(Se,ze,Ut){this._db=Se,this.oldVersion=ze,this.transaction=new oe(Ut)}function Ce(Se){this._db=Se}_e(ae,"_index",["name","keyPath","multiEntry","unique"]),ee(ae,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),ie(ae,"_index",IDBIndex,["openCursor","openKeyCursor"]),_e(G,"_cursor",["direction","key","primaryKey","value"]),ee(G,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(Se){Se in IDBCursor.prototype&&(G.prototype[Se]=function(){var ze=this,Ut=arguments;return Promise.resolve().then(function(){return ze._cursor[Se].apply(ze._cursor,Ut),_(ze._request).then(function(Qt){if(Qt)return new G(Qt,ze._request)})})})}),se.prototype.createIndex=function(){return new ae(this._store.createIndex.apply(this._store,arguments))},se.prototype.index=function(){return new ae(this._store.index.apply(this._store,arguments))},_e(se,"_store",["name","keyPath","indexNames","autoIncrement"]),ee(se,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),ie(se,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),me(se,"_store",IDBObjectStore,["deleteIndex"]),oe.prototype.objectStore=function(){return new se(this._tx.objectStore.apply(this._tx,arguments))},_e(oe,"_tx",["objectStoreNames","mode"]),me(oe,"_tx",IDBTransaction,["abort"]),fe.prototype.createObjectStore=function(){return new se(this._db.createObjectStore.apply(this._db,arguments))},_e(fe,"_db",["name","version","objectStoreNames"]),me(fe,"_db",IDBDatabase,["deleteObjectStore","close"]),Ce.prototype.transaction=function(){return new oe(this._db.transaction.apply(this._db,arguments))},_e(Ce,"_db",["name","version","objectStoreNames"]),me(Ce,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(Se){[se,ae].forEach(function(ze){Se in ze.prototype&&(ze.prototype[Se.replace("open","iterate")]=function(){var Ut=y(arguments),Qt=Ut[Ut.length-1],gt=this._store||this._index,Ge=gt[Se].apply(gt,Ut.slice(0,-1));Ge.onsuccess=function(){Qt(Ge.result)}})})}),[ae,se].forEach(function(Se){Se.prototype.getAll||(Se.prototype.getAll=function(ze,Ut){var Qt=this,gt=[];return new Promise(function(Ge){Qt.iterateCursor(ze,function(at){at?(gt.push(at.value),void 0===Ut||gt.length!=Ut?at.continue():Ge(gt)):Ge(gt)})})})}),P.openDb=function(Se,ze,Ut){var Qt=D(indexedDB,"open",[Se,ze]),gt=Qt.request;return gt&&(gt.onupgradeneeded=function(Ge){Ut&&Ut(new fe(gt.result,Ge.oldVersion,gt.transaction))}),Qt.then(function(Ge){return new Ce(Ge)})},P.deleteDb=function(Se){return D(indexedDB,"deleteDatabase",[Se])},Object.defineProperty(P,"__esModule",{value:!0})}(ut)},6215:(ln,ut,P)=>{"use strict";P.d(ut,{X:()=>D});var y=P(9765),_=P(7971);class D extends y.xQ{constructor(_e){super(),this._value=_e}get value(){return this.getValue()}_subscribe(_e){const ee=super._subscribe(_e);return ee&&!ee.closed&&_e.next(this._value),ee}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new _.N;return this._value}next(_e){super.next(this._value=_e)}}},3098:(ln,ut,P)=>{"use strict";P.d(ut,{P:()=>_e});var y=P(9193),_=P(5917),D=P(205);class _e{constructor(me,ie,ae){this.kind=me,this.value=ie,this.error=ae,this.hasValue="N"===me}observe(me){switch(this.kind){case"N":return me.next&&me.next(this.value);case"E":return me.error&&me.error(this.error);case"C":return me.complete&&me.complete()}}do(me,ie,ae){switch(this.kind){case"N":return me&&me(this.value);case"E":return ie&&ie(this.error);case"C":return ae&&ae()}}accept(me,ie,ae){return me&&"function"==typeof me.next?this.observe(me):this.do(me,ie,ae)}toObservable(){switch(this.kind){case"N":return(0,_.of)(this.value);case"E":return(0,D._)(this.error);case"C":return(0,y.c)()}throw new Error("unexpected notification kind value")}static createNext(me){return void 0!==me?new _e("N",me):_e.undefinedValueNotification}static createError(me){return new _e("E",void 0,me)}static createComplete(){return _e.completeNotification}}_e.completeNotification=new _e("C"),_e.undefinedValueNotification=new _e("N",void 0)},8891:(ln,ut,P)=>{"use strict";P.d(ut,{y:()=>ae});var y=P(7393),D=P(9181),C=P(6490),ee=P(6554),me=P(4022),ie=P(2494);let ae=(()=>{class se{constructor(fe){this._isScalar=!1,fe&&(this._subscribe=fe)}lift(fe){const Ce=new se;return Ce.source=this,Ce.operator=fe,Ce}subscribe(fe,Ce,Re){const{operator:Ne}=this,Se=function(se,oe,fe){if(se){if(se instanceof y.L)return se;if(se[D.b])return se[D.b]()}return se||oe||fe?new y.L(se,oe,fe):new y.L(C.c)}(fe,Ce,Re);if(Se.add(Ne?Ne.call(Se,this.source):this.source||ie.v.useDeprecatedSynchronousErrorHandling&&!Se.syncErrorThrowable?this._subscribe(Se):this._trySubscribe(Se)),ie.v.useDeprecatedSynchronousErrorHandling&&Se.syncErrorThrowable&&(Se.syncErrorThrowable=!1,Se.syncErrorThrown))throw Se.syncErrorValue;return Se}_trySubscribe(fe){try{return this._subscribe(fe)}catch(Ce){ie.v.useDeprecatedSynchronousErrorHandling&&(fe.syncErrorThrown=!0,fe.syncErrorValue=Ce),function(se){for(;se;){const{closed:oe,destination:fe,isStopped:Ce}=se;if(oe||Ce)return!1;se=fe&&fe instanceof y.L?fe:null}return!0}(fe)?fe.error(Ce):console.warn(Ce)}}forEach(fe,Ce){return new(Ce=G(Ce))((Re,Ne)=>{let Se;Se=this.subscribe(ze=>{try{fe(ze)}catch(Ut){Ne(Ut),Se&&Se.unsubscribe()}},Ne,Re)})}_subscribe(fe){const{source:Ce}=this;return Ce&&Ce.subscribe(fe)}[ee.L](){return this}pipe(...fe){return 0===fe.length?this:(0,me.U)(fe)(this)}toPromise(fe){return new(fe=G(fe))((Ce,Re)=>{let Ne;this.subscribe(Se=>Ne=Se,Se=>Re(Se),()=>Ce(Ne))})}}return se.create=oe=>new se(oe),se})();function G(se){if(se||(se=ie.v.Promise||Promise),!se)throw new Error("no Promise impl found");return se}},6490:(ln,ut,P)=>{"use strict";P.d(ut,{c:()=>D});var y=P(2494),_=P(4449);const D={closed:!0,next(C){},error(C){if(y.v.useDeprecatedSynchronousErrorHandling)throw C;(0,_.z)(C)},complete(){}}},9765:(ln,ut,P)=>{"use strict";P.d(ut,{Yc:()=>me,xQ:()=>ie});var y=P(8891),_=P(7393),D=P(5319),C=P(7971),_e=P(8858),ee=P(9181);class me extends _.L{constructor(se){super(se),this.destination=se}}let ie=(()=>{class G extends y.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[ee.b](){return new me(this)}lift(oe){const fe=new ae(this,this);return fe.operator=oe,fe}next(oe){if(this.closed)throw new C.N;if(!this.isStopped){const{observers:fe}=this,Ce=fe.length,Re=fe.slice();for(let Ne=0;Ne<Ce;Ne++)Re[Ne].next(oe)}}error(oe){if(this.closed)throw new C.N;this.hasError=!0,this.thrownError=oe,this.isStopped=!0;const{observers:fe}=this,Ce=fe.length,Re=fe.slice();for(let Ne=0;Ne<Ce;Ne++)Re[Ne].error(oe);this.observers.length=0}complete(){if(this.closed)throw new C.N;this.isStopped=!0;const{observers:oe}=this,fe=oe.length,Ce=oe.slice();for(let Re=0;Re<fe;Re++)Ce[Re].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(oe){if(this.closed)throw new C.N;return super._trySubscribe(oe)}_subscribe(oe){if(this.closed)throw new C.N;return this.hasError?(oe.error(this.thrownError),D.w.EMPTY):this.isStopped?(oe.complete(),D.w.EMPTY):(this.observers.push(oe),new _e.W(this,oe))}asObservable(){const oe=new y.y;return oe.source=this,oe}}return G.create=(se,oe)=>new ae(se,oe),G})();class ae extends ie{constructor(se,oe){super(),this.destination=se,this.source=oe}next(se){const{destination:oe}=this;oe&&oe.next&&oe.next(se)}error(se){const{destination:oe}=this;oe&&oe.error&&this.destination.error(se)}complete(){const{destination:se}=this;se&&se.complete&&this.destination.complete()}_subscribe(se){const{source:oe}=this;return oe?this.source.subscribe(se):D.w.EMPTY}}},8858:(ln,ut,P)=>{"use strict";P.d(ut,{W:()=>_});var y=P(5319);class _ extends y.w{constructor(C,_e){super(),this.subject=C,this.subscriber=_e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const C=this.subject,_e=C.observers;if(this.subject=null,!_e||0===_e.length||C.isStopped||C.closed)return;const ee=_e.indexOf(this.subscriber);-1!==ee&&_e.splice(ee,1)}}},7393:(ln,ut,P)=>{"use strict";P.d(ut,{L:()=>me});var y=P(9105),_=P(6490),D=P(5319),C=P(9181),_e=P(2494),ee=P(4449);class me extends D.w{constructor(G,se,oe){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=_.c;break;case 1:if(!G){this.destination=_.c;break}if("object"==typeof G){G instanceof me?(this.syncErrorThrowable=G.syncErrorThrowable,this.destination=G,G.add(this)):(this.syncErrorThrowable=!0,this.destination=new ie(this,G));break}default:this.syncErrorThrowable=!0,this.destination=new ie(this,G,se,oe)}}[C.b](){return this}static create(G,se,oe){const fe=new me(G,se,oe);return fe.syncErrorThrowable=!1,fe}next(G){this.isStopped||this._next(G)}error(G){this.isStopped||(this.isStopped=!0,this._error(G))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(G){this.destination.next(G)}_error(G){this.destination.error(G),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:G}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=G,this}}class ie extends me{constructor(G,se,oe,fe){super(),this._parentSubscriber=G;let Ce,Re=this;(0,y.m)(se)?Ce=se:se&&(Ce=se.next,oe=se.error,fe=se.complete,se!==_.c&&(Re=Object.create(se),(0,y.m)(Re.unsubscribe)&&this.add(Re.unsubscribe.bind(Re)),Re.unsubscribe=this.unsubscribe.bind(this))),this._context=Re,this._next=Ce,this._error=oe,this._complete=fe}next(G){if(!this.isStopped&&this._next){const{_parentSubscriber:se}=this;_e.v.useDeprecatedSynchronousErrorHandling&&se.syncErrorThrowable?this.__tryOrSetError(se,this._next,G)&&this.unsubscribe():this.__tryOrUnsub(this._next,G)}}error(G){if(!this.isStopped){const{_parentSubscriber:se}=this,{useDeprecatedSynchronousErrorHandling:oe}=_e.v;if(this._error)oe&&se.syncErrorThrowable?(this.__tryOrSetError(se,this._error,G),this.unsubscribe()):(this.__tryOrUnsub(this._error,G),this.unsubscribe());else if(se.syncErrorThrowable)oe?(se.syncErrorValue=G,se.syncErrorThrown=!0):(0,ee.z)(G),this.unsubscribe();else{if(this.unsubscribe(),oe)throw G;(0,ee.z)(G)}}}complete(){if(!this.isStopped){const{_parentSubscriber:G}=this;if(this._complete){const se=()=>this._complete.call(this._context);_e.v.useDeprecatedSynchronousErrorHandling&&G.syncErrorThrowable?(this.__tryOrSetError(G,se),this.unsubscribe()):(this.__tryOrUnsub(se),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(G,se){try{G.call(this._context,se)}catch(oe){if(this.unsubscribe(),_e.v.useDeprecatedSynchronousErrorHandling)throw oe;(0,ee.z)(oe)}}__tryOrSetError(G,se,oe){if(!_e.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{se.call(this._context,oe)}catch(fe){return _e.v.useDeprecatedSynchronousErrorHandling?(G.syncErrorValue=fe,G.syncErrorThrown=!0,!0):((0,ee.z)(fe),!0)}return!1}_unsubscribe(){const{_parentSubscriber:G}=this;this._context=null,this._parentSubscriber=null,G.unsubscribe()}}},5319:(ln,ut,P)=>{"use strict";P.d(ut,{w:()=>ee});var y=P(9796),_=P(1555),D=P(9105);const _e=(()=>{function ie(ae){return Error.call(this),this.message=ae?`${ae.length} errors occurred during unsubscription:\n${ae.map((G,se)=>`${se+1}) ${G.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ae,this}return ie.prototype=Object.create(Error.prototype),ie})();class ee{constructor(ae){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,ae&&(this._ctorUnsubscribe=!0,this._unsubscribe=ae)}unsubscribe(){let ae;if(this.closed)return;let{_parentOrParents:G,_ctorUnsubscribe:se,_unsubscribe:oe,_subscriptions:fe}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,G instanceof ee)G.remove(this);else if(null!==G)for(let Ce=0;Ce<G.length;++Ce)G[Ce].remove(this);if((0,D.m)(oe)){se&&(this._unsubscribe=void 0);try{oe.call(this)}catch(Ce){ae=Ce instanceof _e?me(Ce.errors):[Ce]}}if((0,y.k)(fe)){let Ce=-1,Re=fe.length;for(;++Ce<Re;){const Ne=fe[Ce];if((0,_.K)(Ne))try{Ne.unsubscribe()}catch(Se){ae=ae||[],Se instanceof _e?ae=ae.concat(me(Se.errors)):ae.push(Se)}}}if(ae)throw new _e(ae)}add(ae){let G=ae;if(!ae)return ee.EMPTY;switch(typeof ae){case"function":G=new ee(ae);case"object":if(G===this||G.closed||"function"!=typeof G.unsubscribe)return G;if(this.closed)return G.unsubscribe(),G;if(!(G instanceof ee)){const fe=G;G=new ee,G._subscriptions=[fe]}break;default:throw new Error("unrecognized teardown "+ae+" added to Subscription.")}let{_parentOrParents:se}=G;if(null===se)G._parentOrParents=this;else if(se instanceof ee){if(se===this)return G;G._parentOrParents=[se,this]}else{if(-1!==se.indexOf(this))return G;se.push(this)}const oe=this._subscriptions;return null===oe?this._subscriptions=[G]:oe.push(G),G}remove(ae){const G=this._subscriptions;if(G){const se=G.indexOf(ae);-1!==se&&G.splice(se,1)}}}var ie;function me(ie){return ie.reduce((ae,G)=>ae.concat(G instanceof _e?G.errors:G),[])}ee.EMPTY=((ie=new ee).closed=!0,ie)},2494:(ln,ut,P)=>{"use strict";P.d(ut,{v:()=>_});let y=!1;const _={Promise:void 0,set useDeprecatedSynchronousErrorHandling(D){if(D){const C=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+C.stack)}else y&&console.log("RxJS: Back to a better error behavior. Thank you. <3");y=D},get useDeprecatedSynchronousErrorHandling(){return y}}},5345:(ln,ut,P)=>{"use strict";P.d(ut,{IY:()=>C,Ds:()=>ee,ft:()=>ie});var y=P(7393),_=P(8891),D=P(7444);class C extends y.L{constructor(G){super(),this.parent=G}_next(G){this.parent.notifyNext(G)}_error(G){this.parent.notifyError(G),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class ee extends y.L{notifyNext(G){this.destination.next(G)}notifyError(G){this.destination.error(G)}notifyComplete(){this.destination.complete()}}function ie(ae,G){if(G.closed)return;if(ae instanceof _.y)return ae.subscribe(G);let se;try{se=(0,D.s)(ae)(G)}catch(oe){G.error(oe)}return se}},2441:(ln,ut,P)=>{"use strict";P.d(ut,{c:()=>_e,N:()=>ee});var y=P(9765),_=P(8891),D=P(5319),C=P(1307);class _e extends _.y{constructor(se,oe){super(),this.source=se,this.subjectFactory=oe,this._refCount=0,this._isComplete=!1}_subscribe(se){return this.getSubject().subscribe(se)}getSubject(){const se=this._subject;return(!se||se.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let se=this._connection;return se||(this._isComplete=!1,se=this._connection=new D.w,se.add(this.source.subscribe(new me(this.getSubject(),this))),se.closed&&(this._connection=null,se=D.w.EMPTY)),se}refCount(){return(0,C.x)()(this)}}const ee=(()=>{const G=_e.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:G._subscribe},_isComplete:{value:G._isComplete,writable:!0},getSubject:{value:G.getSubject},connect:{value:G.connect},refCount:{value:G.refCount}}})();class me extends y.Yc{constructor(se,oe){super(se),this.connectable=oe}_error(se){this._unsubscribe(),super._error(se)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const se=this.connectable;if(se){this.connectable=null;const oe=se._connection;se._refCount=0,se._subject=null,se._connection=null,oe&&oe.unsubscribe()}}}},739:(ln,ut,P)=>{"use strict";P.d(ut,{aj:()=>se});var y=P(4869),_=P(9796),D=P(7393);class C extends D.L{notifyNext(Re,Ne,Se,ze,Ut){this.destination.next(Ne)}notifyError(Re,Ne){this.destination.error(Re)}notifyComplete(Re){this.destination.complete()}}class _e extends D.L{constructor(Re,Ne,Se){super(),this.parent=Re,this.outerValue=Ne,this.outerIndex=Se,this.index=0}_next(Re){this.parent.notifyNext(this.outerValue,Re,this.outerIndex,this.index++,this)}_error(Re){this.parent.notifyError(Re,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var ee=P(7444),me=P(8891);function ie(Ce,Re,Ne,Se,ze=new _e(Ce,Ne,Se)){if(!ze.closed)return Re instanceof me.y?Re.subscribe(ze):(0,ee.s)(Re)(ze)}var ae=P(6693);const G={};function se(...Ce){let Re,Ne;return(0,y.K)(Ce[Ce.length-1])&&(Ne=Ce.pop()),"function"==typeof Ce[Ce.length-1]&&(Re=Ce.pop()),1===Ce.length&&(0,_.k)(Ce[0])&&(Ce=Ce[0]),(0,ae.n)(Ce,Ne).lift(new oe(Re))}class oe{constructor(Re){this.resultSelector=Re}call(Re,Ne){return Ne.subscribe(new fe(Re,this.resultSelector))}}class fe extends C{constructor(Re,Ne){super(Re),this.resultSelector=Ne,this.active=0,this.values=[],this.observables=[]}_next(Re){this.values.push(G),this.observables.push(Re)}_complete(){const Re=this.observables,Ne=Re.length;if(0===Ne)this.destination.complete();else{this.active=Ne,this.toRespond=Ne;for(let Se=0;Se<Ne;Se++)this.add(ie(this,Re[Se],void 0,Se))}}notifyComplete(Re){0==(this.active-=1)&&this.destination.complete()}notifyNext(Re,Ne,Se){const ze=this.values,Qt=this.toRespond?ze[Se]===G?--this.toRespond:this.toRespond:0;ze[Se]=Ne,0===Qt&&(this.resultSelector?this._tryResultSelector(ze):this.destination.next(ze.slice()))}_tryResultSelector(Re){let Ne;try{Ne=this.resultSelector.apply(this,Re)}catch(Se){return void this.destination.error(Se)}this.destination.next(Ne)}}},8071:(ln,ut,P)=>{"use strict";P.d(ut,{z:()=>C});var y=P(5917),_=P(3282);function C(..._e){return(0,_.J)(1)((0,y.of)(..._e))}},1439:(ln,ut,P)=>{"use strict";P.d(ut,{P:()=>C});var y=P(8891),_=P(4402),D=P(9193);function C(_e){return new y.y(ee=>{let me;try{me=_e()}catch(ae){return void ee.error(ae)}return(me?(0,_.D)(me):(0,D.c)()).subscribe(ee)})}},9193:(ln,ut,P)=>{"use strict";P.d(ut,{E:()=>_,c:()=>D});var y=P(8891);const _=new y.y(_e=>_e.complete());function D(_e){return _e?function(_e){return new y.y(ee=>_e.schedule(()=>ee.complete()))}(_e):_}},5758:(ln,ut,P)=>{"use strict";P.d(ut,{D:()=>ee});var y=P(8891),_=P(9796),D=P(8002),C=P(1555),_e=P(4402);function ee(...ie){if(1===ie.length){const ae=ie[0];if((0,_.k)(ae))return me(ae,null);if((0,C.K)(ae)&&Object.getPrototypeOf(ae)===Object.prototype){const G=Object.keys(ae);return me(G.map(se=>ae[se]),G)}}if("function"==typeof ie[ie.length-1]){const ae=ie.pop();return me(ie=1===ie.length&&(0,_.k)(ie[0])?ie[0]:ie,null).pipe((0,D.U)(G=>ae(...G)))}return me(ie,null)}function me(ie,ae){return new y.y(G=>{const se=ie.length;if(0===se)return void G.complete();const oe=new Array(se);let fe=0,Ce=0;for(let Re=0;Re<se;Re++){const Ne=(0,_e.D)(ie[Re]);let Se=!1;G.add(Ne.subscribe({next:ze=>{Se||(Se=!0,Ce++),oe[Re]=ze},error:ze=>G.error(ze),complete:()=>{fe++,(fe===se||!Se)&&(Ce===se&&G.next(ae?ae.reduce((ze,Ut,Qt)=>(ze[Ut]=oe[Qt],ze),{}):oe),G.complete())}}))}})}},4402:(ln,ut,P)=>{"use strict";P.d(ut,{D:()=>Re});var y=P(8891),_=P(7444),D=P(5319),C=P(6554),me=P(4087),ie=P(377),se=P(4072),oe=P(9489);function Re(Ne,Se){return Se?function(Ne,Se){if(null!=Ne){if(function(Ne){return Ne&&"function"==typeof Ne[C.L]}(Ne))return function(Ne,Se){return new y.y(ze=>{const Ut=new D.w;return Ut.add(Se.schedule(()=>{const Qt=Ne[C.L]();Ut.add(Qt.subscribe({next(gt){Ut.add(Se.schedule(()=>ze.next(gt)))},error(gt){Ut.add(Se.schedule(()=>ze.error(gt)))},complete(){Ut.add(Se.schedule(()=>ze.complete()))}}))})),Ut})}(Ne,Se);if((0,se.t)(Ne))return function(Ne,Se){return new y.y(ze=>{const Ut=new D.w;return Ut.add(Se.schedule(()=>Ne.then(Qt=>{Ut.add(Se.schedule(()=>{ze.next(Qt),Ut.add(Se.schedule(()=>ze.complete()))}))},Qt=>{Ut.add(Se.schedule(()=>ze.error(Qt)))}))),Ut})}(Ne,Se);if((0,oe.z)(Ne))return(0,me.r)(Ne,Se);if(function(Ne){return Ne&&"function"==typeof Ne[ie.hZ]}(Ne)||"string"==typeof Ne)return function(Ne,Se){if(!Ne)throw new Error("Iterable cannot be null");return new y.y(ze=>{const Ut=new D.w;let Qt;return Ut.add(()=>{Qt&&"function"==typeof Qt.return&&Qt.return()}),Ut.add(Se.schedule(()=>{Qt=Ne[ie.hZ](),Ut.add(Se.schedule(function(){if(ze.closed)return;let gt,Ge;try{const at=Qt.next();gt=at.value,Ge=at.done}catch(at){return void ze.error(at)}Ge?ze.complete():(ze.next(gt),this.schedule())}))})),Ut})}(Ne,Se)}throw new TypeError((null!==Ne&&typeof Ne||Ne)+" is not observable")}(Ne,Se):Ne instanceof y.y?Ne:new y.y((0,_.s)(Ne))}},6693:(ln,ut,P)=>{"use strict";P.d(ut,{n:()=>C});var y=P(8891),_=P(5015),D=P(4087);function C(_e,ee){return ee?(0,D.r)(_e,ee):new y.y((0,_.V)(_e))}},2759:(ln,ut,P)=>{"use strict";P.d(ut,{R:()=>ee});var y=P(8891),_=P(9796),D=P(9105),C=P(8002);function ee(se,oe,fe,Ce){return(0,D.m)(fe)&&(Ce=fe,fe=void 0),Ce?ee(se,oe,fe).pipe((0,C.U)(Re=>(0,_.k)(Re)?Ce(...Re):Ce(Re))):new y.y(Re=>{me(se,oe,function(Se){Re.next(arguments.length>1?Array.prototype.slice.call(arguments):Se)},Re,fe)})}function me(se,oe,fe,Ce,Re){let Ne;if(function(se){return se&&"function"==typeof se.addEventListener&&"function"==typeof se.removeEventListener}(se)){const Se=se;se.addEventListener(oe,fe,Re),Ne=()=>Se.removeEventListener(oe,fe,Re)}else if(function(se){return se&&"function"==typeof se.on&&"function"==typeof se.off}(se)){const Se=se;se.on(oe,fe),Ne=()=>Se.off(oe,fe)}else if(function(se){return se&&"function"==typeof se.addListener&&"function"==typeof se.removeListener}(se)){const Se=se;se.addListener(oe,fe),Ne=()=>Se.removeListener(oe,fe)}else{if(!se||!se.length)throw new TypeError("Invalid event target");for(let Se=0,ze=se.length;Se<ze;Se++)me(se[Se],oe,fe,Ce,Re)}Ce.add(Ne)}},6682:(ln,ut,P)=>{"use strict";P.d(ut,{T:()=>_e});var y=P(8891),_=P(4869),D=P(3282),C=P(6693);function _e(...ee){let me=Number.POSITIVE_INFINITY,ie=null,ae=ee[ee.length-1];return(0,_.K)(ae)?(ie=ee.pop(),ee.length>1&&"number"==typeof ee[ee.length-1]&&(me=ee.pop())):"number"==typeof ae&&(me=ee.pop()),null===ie&&1===ee.length&&ee[0]instanceof y.y?ee[0]:(0,D.J)(me)((0,C.n)(ee,ie))}},5917:(ln,ut,P)=>{"use strict";P.d(ut,{of:()=>C});var y=P(4869),_=P(6693),D=P(4087);function C(..._e){let ee=_e[_e.length-1];return(0,y.K)(ee)?(_e.pop(),(0,D.r)(_e,ee)):(0,_.n)(_e)}},205:(ln,ut,P)=>{"use strict";P.d(ut,{_:()=>_});var y=P(8891);function _(C,_e){return new y.y(_e?ee=>_e.schedule(D,0,{error:C,subscriber:ee}):ee=>ee.error(C))}function D({error:C,subscriber:_e}){_e.error(C)}},628:(ln,ut,P)=>{"use strict";P.d(ut,{e:()=>se});var y=P(3637),_=P(5345);class C{constructor(fe){this.durationSelector=fe}call(fe,Ce){return Ce.subscribe(new _e(fe,this.durationSelector))}}class _e extends _.Ds{constructor(fe,Ce){super(fe),this.durationSelector=Ce,this.hasValue=!1}_next(fe){if(this.value=fe,this.hasValue=!0,!this.throttled){let Ce;try{const{durationSelector:Ne}=this;Ce=Ne(fe)}catch(Ne){return this.destination.error(Ne)}const Re=(0,_.ft)(Ce,new _.IY(this));!Re||Re.closed?this.clearThrottle():this.add(this.throttled=Re)}}clearThrottle(){const{value:fe,hasValue:Ce,throttled:Re}=this;Re&&(this.remove(Re),this.throttled=void 0,Re.unsubscribe()),Ce&&(this.value=void 0,this.hasValue=!1,this.destination.next(fe))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var ee=P(8891),me=P(6561),ie=P(4869);function G(oe){const{index:fe,period:Ce,subscriber:Re}=oe;if(Re.next(fe),!Re.closed){if(-1===Ce)return Re.complete();oe.index=fe+1,this.schedule(oe,Ce)}}function se(oe,fe=y.P){return function(oe){return function(Ce){return Ce.lift(new C(oe))}}(()=>function(oe=0,fe,Ce){let Re=-1;return(0,me.k)(fe)?Re=Number(fe)<1?1:Number(fe):(0,ie.K)(fe)&&(Ce=fe),(0,ie.K)(Ce)||(Ce=y.P),new ee.y(Ne=>{const Se=(0,me.k)(oe)?oe:+oe-Ce.now();return Ce.schedule(G,Se,{index:0,period:Re,subscriber:Ne})})}(oe,fe))}},5304:(ln,ut,P)=>{"use strict";P.d(ut,{K:()=>_});var y=P(5345);function _(_e){return function(me){const ie=new D(_e),ae=me.lift(ie);return ie.caught=ae}}class D{constructor(ee){this.selector=ee}call(ee,me){return me.subscribe(new C(ee,this.selector,this.caught))}}class C extends y.Ds{constructor(ee,me,ie){super(ee),this.selector=me,this.caught=ie}error(ee){if(!this.isStopped){let me;try{me=this.selector(ee,this.caught)}catch(G){return void super.error(G)}this._unsubscribeAndRecycle();const ie=new y.IY(this);this.add(ie);const ae=(0,y.ft)(me,ie);ae!==ie&&this.add(ae)}}}},4612:(ln,ut,P)=>{"use strict";P.d(ut,{b:()=>_});var y=P(9773);function _(D,C){return(0,y.zg)(D,C,1)}},4395:(ln,ut,P)=>{"use strict";P.d(ut,{b:()=>D});var y=P(7393),_=P(3637);function D(me,ie=_.P){return ae=>ae.lift(new C(me,ie))}class C{constructor(ie,ae){this.dueTime=ie,this.scheduler=ae}call(ie,ae){return ae.subscribe(new _e(ie,this.dueTime,this.scheduler))}}class _e extends y.L{constructor(ie,ae,G){super(ie),this.dueTime=ae,this.scheduler=G,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(ie){this.clearDebounce(),this.lastValue=ie,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(ee,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:ie}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(ie)}}clearDebounce(){const ie=this.debouncedSubscription;null!==ie&&(this.remove(ie),ie.unsubscribe(),this.debouncedSubscription=null)}}function ee(me){me.debouncedNext()}},5242:(ln,ut,P)=>{"use strict";P.d(ut,{d:()=>_});var y=P(7393);function _(_e=null){return ee=>ee.lift(new D(_e))}class D{constructor(ee){this.defaultValue=ee}call(ee,me){return me.subscribe(new C(ee,this.defaultValue))}}class C extends y.L{constructor(ee,me){super(ee),this.defaultValue=me,this.isEmpty=!0}_next(ee){this.isEmpty=!1,this.destination.next(ee)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},7519:(ln,ut,P)=>{"use strict";P.d(ut,{x:()=>_});var y=P(7393);function _(_e,ee){return me=>me.lift(new D(_e,ee))}class D{constructor(ee,me){this.compare=ee,this.keySelector=me}call(ee,me){return me.subscribe(new C(ee,this.compare,this.keySelector))}}class C extends y.L{constructor(ee,me,ie){super(ee),this.keySelector=ie,this.hasKey=!1,"function"==typeof me&&(this.compare=me)}compare(ee,me){return ee===me}_next(ee){let me;try{const{keySelector:ae}=this;me=ae?ae(ee):ee}catch(ae){return this.destination.error(ae)}let ie=!1;if(this.hasKey)try{const{compare:ae}=this;ie=ae(this.key,me)}catch(ae){return this.destination.error(ae)}else this.hasKey=!0;ie||(this.key=me,this.destination.next(ee))}}},5435:(ln,ut,P)=>{"use strict";P.d(ut,{h:()=>_});var y=P(7393);function _(_e,ee){return function(ie){return ie.lift(new D(_e,ee))}}class D{constructor(ee,me){this.predicate=ee,this.thisArg=me}call(ee,me){return me.subscribe(new C(ee,this.predicate,this.thisArg))}}class C extends y.L{constructor(ee,me,ie){super(ee),this.predicate=me,this.thisArg=ie,this.count=0}_next(ee){let me;try{me=this.predicate.call(this.thisArg,ee,this.count++)}catch(ie){return void this.destination.error(ie)}me&&this.destination.next(ee)}}},8939:(ln,ut,P)=>{"use strict";P.d(ut,{x:()=>D});var y=P(7393),_=P(5319);function D(ee){return me=>me.lift(new C(ee))}class C{constructor(me){this.callback=me}call(me,ie){return ie.subscribe(new _e(me,this.callback))}}class _e extends y.L{constructor(me,ie){super(me),this.add(new _.w(ie))}}},8049:(ln,ut,P)=>{"use strict";P.d(ut,{P:()=>me});var y=P(3410),_=P(5435),D=P(5257),C=P(5242),_e=P(4635),ee=P(4487);function me(ie,ae){const G=arguments.length>=2;return se=>se.pipe(ie?(0,_.h)((oe,fe)=>ie(oe,fe,se)):ee.y,(0,D.q)(1),G?(0,C.d)(ae):(0,_e.T)(()=>new y.K))}},8002:(ln,ut,P)=>{"use strict";P.d(ut,{U:()=>_});var y=P(7393);function _(_e,ee){return function(ie){if("function"!=typeof _e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return ie.lift(new D(_e,ee))}}class D{constructor(ee,me){this.project=ee,this.thisArg=me}call(ee,me){return me.subscribe(new C(ee,this.project,this.thisArg))}}class C extends y.L{constructor(ee,me,ie){super(ee),this.project=me,this.count=0,this.thisArg=ie||this}_next(ee){let me;try{me=this.project.call(this.thisArg,ee,this.count++)}catch(ie){return void this.destination.error(ie)}this.destination.next(me)}}},3282:(ln,ut,P)=>{"use strict";P.d(ut,{J:()=>D});var y=P(9773),_=P(4487);function D(C=Number.POSITIVE_INFINITY){return(0,y.zg)(_.y,C)}},9773:(ln,ut,P)=>{"use strict";P.d(ut,{zg:()=>C});var y=P(8002),_=P(4402),D=P(5345);function C(ie,ae,G=Number.POSITIVE_INFINITY){return"function"==typeof ae?se=>se.pipe(C((oe,fe)=>(0,_.D)(ie(oe,fe)).pipe((0,y.U)((Ce,Re)=>ae(oe,Ce,fe,Re))),G)):("number"==typeof ae&&(G=ae),se=>se.lift(new _e(ie,G)))}class _e{constructor(ae,G=Number.POSITIVE_INFINITY){this.project=ae,this.concurrent=G}call(ae,G){return G.subscribe(new ee(ae,this.project,this.concurrent))}}class ee extends D.Ds{constructor(ae,G,se=Number.POSITIVE_INFINITY){super(ae),this.project=G,this.concurrent=se,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(ae){this.active<this.concurrent?this._tryNext(ae):this.buffer.push(ae)}_tryNext(ae){let G;const se=this.index++;try{G=this.project(ae,se)}catch(oe){return void this.destination.error(oe)}this.active++,this._innerSub(G)}_innerSub(ae){const G=new D.IY(this),se=this.destination;se.add(G);const oe=(0,D.ft)(ae,G);oe!==G&&se.add(oe)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(ae){this.destination.next(ae)}notifyComplete(){const ae=this.buffer;this.active--,ae.length>0?this._next(ae.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},9746:(ln,ut,P)=>{"use strict";P.d(ut,{QV:()=>D,ht:()=>_e});var y=P(7393),_=P(3098);function D(me,ie=0){return function(G){return G.lift(new C(me,ie))}}class C{constructor(ie,ae=0){this.scheduler=ie,this.delay=ae}call(ie,ae){return ae.subscribe(new _e(ie,this.scheduler,this.delay))}}class _e extends y.L{constructor(ie,ae,G=0){super(ie),this.scheduler=ae,this.delay=G}static dispatch(ie){const{notification:ae,destination:G}=ie;ae.observe(G),this.unsubscribe()}scheduleMessage(ie){this.destination.add(this.scheduler.schedule(_e.dispatch,this.delay,new ee(ie,this.destination)))}_next(ie){this.scheduleMessage(_.P.createNext(ie))}_error(ie){this.scheduleMessage(_.P.createError(ie)),this.unsubscribe()}_complete(){this.scheduleMessage(_.P.createComplete()),this.unsubscribe()}}class ee{constructor(ie,ae){this.notification=ie,this.destination=ae}}},1307:(ln,ut,P)=>{"use strict";P.d(ut,{x:()=>_});var y=P(7393);function _(){return function(ee){return ee.lift(new D(ee))}}class D{constructor(ee){this.connectable=ee}call(ee,me){const{connectable:ie}=this;ie._refCount++;const ae=new C(ee,ie),G=me.subscribe(ae);return ae.closed||(ae.connection=ie.connect()),G}}class C extends y.L{constructor(ee,me){super(ee),this.connectable=me}_unsubscribe(){const{connectable:ee}=this;if(!ee)return void(this.connection=null);this.connectable=null;const me=ee._refCount;if(me<=0)return void(this.connection=null);if(ee._refCount=me-1,me>1)return void(this.connection=null);const{connection:ie}=this,ae=ee._connection;this.connection=null,ae&&(!ie||ae===ie)&&ae.unsubscribe()}}},8819:(ln,ut,P)=>{"use strict";P.d(ut,{B:()=>me});var y=P(2441);var C=P(1307),_e=P(9765);function ee(){return new _e.xQ}function me(){return ie=>(0,C.x)()(function(ie,ae){return function(se){let oe;oe="function"==typeof ie?ie:function(){return ie};const fe=Object.create(se,y.N);return fe.source=se,fe.subjectFactory=oe,fe}}(ee)(ie))}},2066:(ln,ut,P)=>{"use strict";P.d(ut,{d:()=>ae});var y=P(9765),_=P(7771),D=P(5319),C=P(9746),_e=P(7971),ee=P(8858);class me extends y.xQ{constructor(oe=Number.POSITIVE_INFINITY,fe=Number.POSITIVE_INFINITY,Ce){super(),this.scheduler=Ce,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=oe<1?1:oe,this._windowTime=fe<1?1:fe,fe===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(oe){if(!this.isStopped){const fe=this._events;fe.push(oe),fe.length>this._bufferSize&&fe.shift()}super.next(oe)}nextTimeWindow(oe){this.isStopped||(this._events.push(new ie(this._getNow(),oe)),this._trimBufferThenGetEvents()),super.next(oe)}_subscribe(oe){const fe=this._infiniteTimeWindow,Ce=fe?this._events:this._trimBufferThenGetEvents(),Re=this.scheduler,Ne=Ce.length;let Se;if(this.closed)throw new _e.N;if(this.isStopped||this.hasError?Se=D.w.EMPTY:(this.observers.push(oe),Se=new ee.W(this,oe)),Re&&oe.add(oe=new C.ht(oe,Re)),fe)for(let ze=0;ze<Ne&&!oe.closed;ze++)oe.next(Ce[ze]);else for(let ze=0;ze<Ne&&!oe.closed;ze++)oe.next(Ce[ze].value);return this.hasError?oe.error(this.thrownError):this.isStopped&&oe.complete(),Se}_getNow(){return(this.scheduler||_.c).now()}_trimBufferThenGetEvents(){const oe=this._getNow(),fe=this._bufferSize,Ce=this._windowTime,Re=this._events,Ne=Re.length;let Se=0;for(;Se<Ne&&!(oe-Re[Se].time<Ce);)Se++;return Ne>fe&&(Se=Math.max(Se,Ne-fe)),Se>0&&Re.splice(0,Se),Re}}class ie{constructor(oe,fe){this.time=oe,this.value=fe}}function ae(se,oe,fe){let Ce;return Ce=se&&"object"==typeof se?se:{bufferSize:se,windowTime:oe,refCount:!1,scheduler:fe},Re=>Re.lift(function({bufferSize:se=Number.POSITIVE_INFINITY,windowTime:oe=Number.POSITIVE_INFINITY,refCount:fe,scheduler:Ce}){let Re,Se,Ne=0,ze=!1,Ut=!1;return function(gt){let Ge;Ne++,!Re||ze?(ze=!1,Re=new me(se,oe,Ce),Ge=Re.subscribe(this),Se=gt.subscribe({next(at){Re.next(at)},error(at){ze=!0,Re.error(at)},complete(){Ut=!0,Se=void 0,Re.complete()}}),Ut&&(Se=void 0)):Ge=Re.subscribe(this),this.add(()=>{Ne--,Ge.unsubscribe(),Ge=void 0,Se&&!Ut&&fe&&0===Ne&&(Se.unsubscribe(),Se=void 0,Re=void 0)})}}(Ce))}},3653:(ln,ut,P)=>{"use strict";P.d(ut,{T:()=>_});var y=P(7393);function _(_e){return ee=>ee.lift(new D(_e))}class D{constructor(ee){this.total=ee}call(ee,me){return me.subscribe(new C(ee,this.total))}}class C extends y.L{constructor(ee,me){super(ee),this.total=me,this.count=0}_next(ee){++this.count>this.total&&this.destination.next(ee)}}},9761:(ln,ut,P)=>{"use strict";P.d(ut,{O:()=>D});var y=P(8071),_=P(4869);function D(...C){const _e=C[C.length-1];return(0,_.K)(_e)?(C.pop(),ee=>(0,y.z)(C,ee,_e)):ee=>(0,y.z)(C,ee)}},9673:(ln,ut,P)=>{"use strict";P.d(ut,{R:()=>_e});var y=P(8891),_=P(4581),D=P(6561);class C extends y.y{constructor(ie,ae=0,G=_.e){super(),this.source=ie,this.delayTime=ae,this.scheduler=G,(!(0,D.k)(ae)||ae<0)&&(this.delayTime=0),(!G||"function"!=typeof G.schedule)&&(this.scheduler=_.e)}static create(ie,ae=0,G=_.e){return new C(ie,ae,G)}static dispatch(ie){const{source:ae,subscriber:G}=ie;return this.add(ae.subscribe(G))}_subscribe(ie){return this.scheduler.schedule(C.dispatch,this.delayTime,{source:this.source,subscriber:ie})}}function _e(me,ie=0){return function(G){return G.lift(new ee(me,ie))}}class ee{constructor(ie,ae){this.scheduler=ie,this.delay=ae}call(ie,ae){return new C(ae,this.delay,this.scheduler).subscribe(ie)}}},3190:(ln,ut,P)=>{"use strict";P.d(ut,{w:()=>C});var y=P(8002),_=P(4402),D=P(5345);function C(me,ie){return"function"==typeof ie?ae=>ae.pipe(C((G,se)=>(0,_.D)(me(G,se)).pipe((0,y.U)((oe,fe)=>ie(G,oe,se,fe))))):ae=>ae.lift(new _e(me))}class _e{constructor(ie){this.project=ie}call(ie,ae){return ae.subscribe(new ee(ie,this.project))}}class ee extends D.Ds{constructor(ie,ae){super(ie),this.project=ae,this.index=0}_next(ie){let ae;const G=this.index++;try{ae=this.project(ie,G)}catch(se){return void this.destination.error(se)}this._innerSub(ae)}_innerSub(ie){const ae=this.innerSubscription;ae&&ae.unsubscribe();const G=new D.IY(this),se=this.destination;se.add(G),this.innerSubscription=(0,D.ft)(ie,G),this.innerSubscription!==G&&se.add(this.innerSubscription)}_complete(){const{innerSubscription:ie}=this;(!ie||ie.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(ie){this.destination.next(ie)}}},5257:(ln,ut,P)=>{"use strict";P.d(ut,{q:()=>C});var y=P(7393),_=P(7108),D=P(9193);function C(me){return ie=>0===me?(0,D.c)():ie.lift(new _e(me))}class _e{constructor(ie){if(this.total=ie,this.total<0)throw new _.W}call(ie,ae){return ae.subscribe(new ee(ie,this.total))}}class ee extends y.L{constructor(ie,ae){super(ie),this.total=ae,this.count=0}_next(ie){const ae=this.total,G=++this.count;G<=ae&&(this.destination.next(ie),G===ae&&(this.destination.complete(),this.unsubscribe()))}}},6782:(ln,ut,P)=>{"use strict";P.d(ut,{R:()=>_});var y=P(5345);function _(_e){return ee=>ee.lift(new D(_e))}class D{constructor(ee){this.notifier=ee}call(ee,me){const ie=new C(ee),ae=(0,y.ft)(this.notifier,new y.IY(ie));return ae&&!ie.seenValue?(ie.add(ae),me.subscribe(ie)):ie}}class C extends y.Ds{constructor(ee){super(ee),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}},3342:(ln,ut,P)=>{"use strict";P.d(ut,{b:()=>C});var y=P(7393);function _(){}var D=P(9105);function C(me,ie,ae){return function(se){return se.lift(new _e(me,ie,ae))}}class _e{constructor(ie,ae,G){this.nextOrObserver=ie,this.error=ae,this.complete=G}call(ie,ae){return ae.subscribe(new ee(ie,this.nextOrObserver,this.error,this.complete))}}class ee extends y.L{constructor(ie,ae,G,se){super(ie),this._tapNext=_,this._tapError=_,this._tapComplete=_,this._tapError=G||_,this._tapComplete=se||_,(0,D.m)(ae)?(this._context=this,this._tapNext=ae):ae&&(this._context=ae,this._tapNext=ae.next||_,this._tapError=ae.error||_,this._tapComplete=ae.complete||_)}_next(ie){try{this._tapNext.call(this._context,ie)}catch(ae){return void this.destination.error(ae)}this.destination.next(ie)}_error(ie){try{this._tapError.call(this._context,ie)}catch(ae){return void this.destination.error(ae)}this.destination.error(ie)}_complete(){try{this._tapComplete.call(this._context)}catch(ie){return void this.destination.error(ie)}return this.destination.complete()}}},4635:(ln,ut,P)=>{"use strict";P.d(ut,{T:()=>D});var y=P(3410),_=P(7393);function D(me=ee){return ie=>ie.lift(new C(me))}class C{constructor(ie){this.errorFactory=ie}call(ie,ae){return ae.subscribe(new _e(ie,this.errorFactory))}}class _e extends _.L{constructor(ie,ae){super(ie),this.errorFactory=ae,this.hasValue=!1}_next(ie){this.hasValue=!0,this.destination.next(ie)}_complete(){if(this.hasValue)return this.destination.complete();{let ie;try{ie=this.errorFactory()}catch(ae){ie=ae}this.destination.error(ie)}}}function ee(){return new y.K}},4087:(ln,ut,P)=>{"use strict";P.d(ut,{r:()=>D});var y=P(8891),_=P(5319);function D(C,_e){return new y.y(ee=>{const me=new _.w;let ie=0;return me.add(_e.schedule(function(){ie!==C.length?(ee.next(C[ie++]),ee.closed||me.add(this.schedule())):ee.complete()})),me})}},6465:(ln,ut,P)=>{"use strict";P.d(ut,{o:()=>D});var y=P(5319);class _ extends y.w{constructor(_e,ee){super()}schedule(_e,ee=0){return this}}class D extends _{constructor(_e,ee){super(_e,ee),this.scheduler=_e,this.work=ee,this.pending=!1}schedule(_e,ee=0){if(this.closed)return this;this.state=_e;const me=this.id,ie=this.scheduler;return null!=me&&(this.id=this.recycleAsyncId(ie,me,ee)),this.pending=!0,this.delay=ee,this.id=this.id||this.requestAsyncId(ie,this.id,ee),this}requestAsyncId(_e,ee,me=0){return setInterval(_e.flush.bind(_e,this),me)}recycleAsyncId(_e,ee,me=0){if(null!==me&&this.delay===me&&!1===this.pending)return ee;clearInterval(ee)}execute(_e,ee){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const me=this._execute(_e,ee);if(me)return me;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(_e,ee){let ie,me=!1;try{this.work(_e)}catch(ae){me=!0,ie=!!ae&&ae||new Error(ae)}if(me)return this.unsubscribe(),ie}_unsubscribe(){const _e=this.id,ee=this.scheduler,me=ee.actions,ie=me.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==ie&&me.splice(ie,1),null!=_e&&(this.id=this.recycleAsyncId(ee,_e,null)),this.delay=null}}},6102:(ln,ut,P)=>{"use strict";P.d(ut,{v:()=>_});let y=(()=>{class D{constructor(_e,ee=D.now){this.SchedulerAction=_e,this.now=ee}schedule(_e,ee=0,me){return new this.SchedulerAction(this,_e).schedule(me,ee)}}return D.now=()=>Date.now(),D})();class _ extends y{constructor(C,_e=y.now){super(C,()=>_.delegate&&_.delegate!==this?_.delegate.now():_e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(C,_e=0,ee){return _.delegate&&_.delegate!==this?_.delegate.schedule(C,_e,ee):super.schedule(C,_e,ee)}flush(C){const{actions:_e}=this;if(this.active)return void _e.push(C);let ee;this.active=!0;do{if(ee=C.execute(C.state,C.delay))break}while(C=_e.shift());if(this.active=!1,ee){for(;C=_e.shift();)C.unsubscribe();throw ee}}}},4581:(ln,ut,P)=>{"use strict";P.d(ut,{e:()=>oe,E:()=>se});let y=1;const _=Promise.resolve(),D={};function C(fe){return fe in D&&(delete D[fe],!0)}const _e={setImmediate(fe){const Ce=y++;return D[Ce]=!0,_.then(()=>C(Ce)&&fe()),Ce},clearImmediate(fe){C(fe)}};var me=P(6465),ae=P(6102);const se=new class extends ae.v{flush(Ce){this.active=!0,this.scheduled=void 0;const{actions:Re}=this;let Ne,Se=-1,ze=Re.length;Ce=Ce||Re.shift();do{if(Ne=Ce.execute(Ce.state,Ce.delay))break}while(++Se<ze&&(Ce=Re.shift()));if(this.active=!1,Ne){for(;++Se<ze&&(Ce=Re.shift());)Ce.unsubscribe();throw Ne}}}(class extends me.o{constructor(Ce,Re){super(Ce,Re),this.scheduler=Ce,this.work=Re}requestAsyncId(Ce,Re,Ne=0){return null!==Ne&&Ne>0?super.requestAsyncId(Ce,Re,Ne):(Ce.actions.push(this),Ce.scheduled||(Ce.scheduled=_e.setImmediate(Ce.flush.bind(Ce,null))))}recycleAsyncId(Ce,Re,Ne=0){if(null!==Ne&&Ne>0||null===Ne&&this.delay>0)return super.recycleAsyncId(Ce,Re,Ne);0===Ce.actions.length&&(_e.clearImmediate(Re),Ce.scheduled=void 0)}}),oe=se},3637:(ln,ut,P)=>{"use strict";P.d(ut,{z:()=>D,P:()=>C});var y=P(6465);const D=new(P(6102).v)(y.o),C=D},7771:(ln,ut,P)=>{"use strict";P.d(ut,{c:()=>ee,N:()=>_e});var y=P(6465),D=P(6102);const _e=new class extends D.v{}(class extends y.o{constructor(ie,ae){super(ie,ae),this.scheduler=ie,this.work=ae}schedule(ie,ae=0){return ae>0?super.schedule(ie,ae):(this.delay=ae,this.state=ie,this.scheduler.flush(this),this)}execute(ie,ae){return ae>0||this.closed?super.execute(ie,ae):this._execute(ie,ae)}requestAsyncId(ie,ae,G=0){return null!==G&&G>0||null===G&&this.delay>0?super.requestAsyncId(ie,ae,G):ie.flush(this)}}),ee=_e},377:(ln,ut,P)=>{"use strict";P.d(ut,{hZ:()=>_});const _="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(ln,ut,P)=>{"use strict";P.d(ut,{L:()=>y});const y="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(ln,ut,P)=>{"use strict";P.d(ut,{b:()=>y});const y="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7108:(ln,ut,P)=>{"use strict";P.d(ut,{W:()=>_});const _=(()=>{function D(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return D.prototype=Object.create(Error.prototype),D})()},3410:(ln,ut,P)=>{"use strict";P.d(ut,{K:()=>_});const _=(()=>{function D(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return D.prototype=Object.create(Error.prototype),D})()},7971:(ln,ut,P)=>{"use strict";P.d(ut,{N:()=>_});const _=(()=>{function D(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return D.prototype=Object.create(Error.prototype),D})()},4449:(ln,ut,P)=>{"use strict";function y(_){setTimeout(()=>{throw _},0)}P.d(ut,{z:()=>y})},4487:(ln,ut,P)=>{"use strict";function y(_){return _}P.d(ut,{y:()=>y})},9796:(ln,ut,P)=>{"use strict";P.d(ut,{k:()=>y});const y=Array.isArray||(_=>_&&"number"==typeof _.length)},9489:(ln,ut,P)=>{"use strict";P.d(ut,{z:()=>y});const y=_=>_&&"number"==typeof _.length&&"function"!=typeof _},9105:(ln,ut,P)=>{"use strict";function y(_){return"function"==typeof _}P.d(ut,{m:()=>y})},6561:(ln,ut,P)=>{"use strict";P.d(ut,{k:()=>_});var y=P(9796);function _(D){return!(0,y.k)(D)&&D-parseFloat(D)+1>=0}},1555:(ln,ut,P)=>{"use strict";function y(_){return null!==_&&"object"==typeof _}P.d(ut,{K:()=>y})},4072:(ln,ut,P)=>{"use strict";function y(_){return!!_&&"function"!=typeof _.subscribe&&"function"==typeof _.then}P.d(ut,{t:()=>y})},4869:(ln,ut,P)=>{"use strict";function y(_){return _&&"function"==typeof _.schedule}P.d(ut,{K:()=>y})},4022:(ln,ut,P)=>{"use strict";P.d(ut,{z:()=>_,U:()=>D});var y=P(4487);function _(...C){return D(C)}function D(C){return 0===C.length?y.y:1===C.length?C[0]:function(ee){return C.reduce((me,ie)=>ie(me),ee)}}},7444:(ln,ut,P)=>{"use strict";P.d(ut,{s:()=>se});var y=P(5015),_=P(4449),C=P(377),ee=P(6554),ie=P(9489),ae=P(4072),G=P(1555);const se=oe=>{if(oe&&"function"==typeof oe[ee.L])return(oe=>fe=>{const Ce=oe[ee.L]();if("function"!=typeof Ce.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return Ce.subscribe(fe)})(oe);if((0,ie.z)(oe))return(0,y.V)(oe);if((0,ae.t)(oe))return(oe=>fe=>(oe.then(Ce=>{fe.closed||(fe.next(Ce),fe.complete())},Ce=>fe.error(Ce)).then(null,_.z),fe))(oe);if(oe&&"function"==typeof oe[C.hZ])return(oe=>fe=>{const Ce=oe[C.hZ]();for(;;){let Re;try{Re=Ce.next()}catch(Ne){return fe.error(Ne),fe}if(Re.done){fe.complete();break}if(fe.next(Re.value),fe.closed)break}return"function"==typeof Ce.return&&fe.add(()=>{Ce.return&&Ce.return()}),fe})(oe);{const Ce=`You provided ${(0,G.K)(oe)?"an invalid object":`'${oe}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(Ce)}}},5015:(ln,ut,P)=>{"use strict";P.d(ut,{V:()=>y});const y=_=>D=>{for(let C=0,_e=_.length;C<_e&&!D.closed;C++)D.next(_[C]);D.complete()}},384:(ln,ut,P)=>{"use strict";P.d(ut,{e:()=>fe});var y=P(4762),_=P(5917),D=P(205),C=P(9193),_e=P(7690),ee=P(9773),me=P(5304),ie=P(7716),ae=P(8386),G=P(9829),se=P(3423),oe=P(8492);let fe=(()=>{class Ce{constructor(Ne,Se,ze,Ut){this.userService=Ne,this.auth=Se,this.router=ze,this.snackBar=Ut}getFirebaseCurrentUser(){const Ne=_e.Z.auth().currentUser;return Ne?(0,_.of)(Ne):(this.logout(),(0,D._)("No user is signed in"),C.E)}signinGoogle(){return(0,y.__awaiter)(this,void 0,void 0,function*(){const Ne=new _e.Z.auth.GoogleAuthProvider;this.signInWithProvider(Ne)})}signinGitHub(){return(0,y.__awaiter)(this,void 0,void 0,function*(){const Ne=new _e.Z.auth.GithubAuthProvider;this.signInWithProvider(Ne)})}logInWithEmailPassword(Ne,Se){return(0,y.__awaiter)(this,void 0,void 0,function*(){return _e.Z.auth().signInWithEmailAndPassword(Ne,Se).then(()=>{this.setUserId(Ne),this.snackBar.showSuccess("Connexion r\xe9ussie"),this.router.navigate(["home"])}).catch(ze=>{this.snackBar.showError(ze.message,ze.code)})})}createAccountWithEmailPassword(Ne,Se,ze){return(0,y.__awaiter)(this,void 0,void 0,function*(){return _e.Z.auth().createUserWithEmailAndPassword(Se,ze).then(Ut=>{this.setUserId(Se),Ut.additionalUserInfo.isNewUser&&this.userService.create(Se,Ne).subscribe()})})}logout(){return this.auth.signOut().then(()=>{this.snackBar.showSuccess("Vous \xeates d\xe9connect\xe9.")}),localStorage.setItem("userId",""),this.router.navigate(["/"])}getIdToken(){return this.getFirebaseCurrentUser().pipe((0,ee.zg)(Ne=>Ne.getIdToken()),(0,me.K)(Ne=>(0,_.of)(Ne)))}setUserId(Ne){this.userService.getUserId(Ne).subscribe(Se=>{this.userService.userId=Se})}signInWithProvider(Ne){return(0,y.__awaiter)(this,void 0,void 0,function*(){return this.auth.signInWithPopup(Ne).then(Se=>{const{email:ze,name:Ut}=Se.additionalUserInfo.profile;this.snackBar.showSuccess("Connexion r\xe9ussie"),this.router.navigate(["home"]),this.setUserId(ze),Se.additionalUserInfo.isNewUser&&this.userService.create(ze,Ut).subscribe()}).catch(Se=>{this.snackBar.showError(Se.message,Se.code)})})}}return Ce.\u0275fac=function(Ne){return new(Ne||Ce)(ie.LFG(ae.K),ie.LFG(G.zQ),ie.LFG(se.F0),ie.LFG(oe.c))},Ce.\u0275prov=ie.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"root"}),Ce})()},1773:(ln,ut,P)=>{"use strict";P.d(ut,{P:()=>me});var y=P(2340),_=P(7716),D=P(2323),C=P(1841),_e=P(9962),ee=P(8386);let me=(()=>{class ie{constructor(G,se,oe,fe){this.storageService=G,this.http=se,this.uuid=oe,this.userService=fe,this.url=y.N.api.challenges}getOne(G){return this.http.get(`${this.url}/${G}`)}getAll(){return this.http.get(this.url)}create(G){const se=this.uuid.getId(),oe=this.storageService.uploadImg(G.imgData),fe=this.userService.userId;this.userService.getOne(fe);const Ce={id:se,title:G.title,description:G.description,code:G.code,imgId:oe,creatorId:"Antoine"};return this.userService.addChallenge(fe,{id:se,title:G.title}).subscribe(),this.http.post(this.url,Ce,{responseType:"text"})}update(G,se){return this.http.patch(`${this.url}/${G}`,se)}delete(G){return this.userService.deleteChallenge(this.userService.userId,{id:G}).subscribe(),this.http.delete(`${this.url}/${G}`)}}return ie.\u0275fac=function(G){return new(G||ie)(_.LFG(D.V),_.LFG(C.eN),_.LFG(_e.B),_.LFG(ee.K))},ie.\u0275prov=_.Yz7({token:ie,factory:ie.\u0275fac,providedIn:"root"}),ie})()},8492:(ln,ut,P)=>{"use strict";P.d(ut,{c:()=>D});var y=P(7716),_=P(6458);let D=(()=>{class C{constructor(ee){this.snackBar=ee}showError(ee,me){const ie=(ae,G=4e3)=>this.snackBar.open(ae,"Fermer",{duration:G});switch(me){case"auth/email-already-in-use":ie("E-mail d\xe9j\xe0 utilis\xe9.");break;case"auth/invalid-email":ie("E-mail invalide.");break;case"auth/too-many-requests":ie("Trop de tentatives, l'acc\xe9s \xe0 ce compte a temporairement \xe9t\xe9 suspendu.");break;case"auth/weak-password":ie("Mot de passe trop faible, il doit comporter 1 minuscule, 1 majuscule et 1 chiffre.");break;case"auth/account-exists-with-different-credential":ie("Un compte avec cet e-mail existe d\xe9j\xe0 mais avec un autre fournisseur (GitHub, Google, ...), merci d'essayer un autre moyen.",1e4);break;default:ie(ee)}}showSuccess(ee,me=4e3){this.snackBar.open(ee,"Fermer",{duration:me,panelClass:["color-snackbar"]})}}return C.\u0275fac=function(ee){return new(ee||C)(y.LFG(_.ux))},C.\u0275prov=y.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})()},2323:(ln,ut,P)=>{"use strict";P.d(ut,{V:()=>_e});var y=P(7690),_=P(4402),D=P(7716),C=P(9962);let _e=(()=>{class ee{constructor(ie){this.uuid=ie}downloadViaUrl(ie){return(0,_.D)(y.Z.storage().ref().child(ie).getDownloadURL())}uploadImg(ie){const ae=this.uuid.getId();return y.Z.storage().ref().child(ae).putString(ie,"data_url").then(()=>console.log("Uploaded a data_url string!")),ae}}return ee.\u0275fac=function(ie){return new(ie||ee)(D.LFG(C.B))},ee.\u0275prov=D.Yz7({token:ee,factory:ee.\u0275fac,providedIn:"root"}),ee})()},8386:(ln,ut,P)=>{"use strict";P.d(ut,{K:()=>ee});var y=P(8002),_=P(2340),D=P(7716),C=P(1841),_e=P(9962);let ee=(()=>{class me{constructor(ae,G){this.http=ae,this.uuid=G,this.url=_.N.api.users}get userId(){return localStorage.getItem("userId")}set userId(ae){localStorage.setItem("userId",ae)}getAll(){return this.http.get(this.url)}getOne(ae){return this.http.get(`${this.url}/${ae}`)}getUserId(ae){return this.http.get(`${this.url}/${ae}/id`).pipe((0,y.U)(G=>G.id))}create(ae,G){const se=this.uuid.getId(),oe={id:se,email:ae,username:G,challenges:[]};return this.userId=se,this.http.post(this.url,oe,{responseType:"text"})}update(ae,G){return this.http.patch(`${this.url}/${ae}`,G)}addChallenge(ae,G){return this.http.patch(`${this.url}/${ae}/challenge`,G)}deleteChallenge(ae,G){return this.http.patch(`${this.url}/${ae}/challenge`,G)}delete(ae){return this.http.delete(`${this.url}/${ae}`)}}return me.\u0275fac=function(ae){return new(ae||me)(D.LFG(C.eN),D.LFG(_e.B))},me.\u0275prov=D.Yz7({token:me,factory:me.\u0275fac,providedIn:"root"}),me})()},9962:(ln,ut,P)=>{"use strict";P.d(ut,{B:()=>Ce});var y,_=new Uint8Array(16);function D(){if(!y&&!(y="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return y(_)}const C=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,ee=function(Re){return"string"==typeof Re&&C.test(Re)};for(var me=[],ie=0;ie<256;++ie)me.push((ie+256).toString(16).substr(1));const oe=function(Re,Ne,Se){var ze=(Re=Re||{}).random||(Re.rng||D)();if(ze[6]=15&ze[6]|64,ze[8]=63&ze[8]|128,Ne){Se=Se||0;for(var Ut=0;Ut<16;++Ut)Ne[Se+Ut]=ze[Ut];return Ne}return function(Re){var Ne=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,Se=(me[Re[Ne+0]]+me[Re[Ne+1]]+me[Re[Ne+2]]+me[Re[Ne+3]]+"-"+me[Re[Ne+4]]+me[Re[Ne+5]]+"-"+me[Re[Ne+6]]+me[Re[Ne+7]]+"-"+me[Re[Ne+8]]+me[Re[Ne+9]]+"-"+me[Re[Ne+10]]+me[Re[Ne+11]]+me[Re[Ne+12]]+me[Re[Ne+13]]+me[Re[Ne+14]]+me[Re[Ne+15]]).toLowerCase();if(!ee(Se))throw TypeError("Stringified UUID is invalid");return Se}(ze)};var fe=P(7716);let Ce=(()=>{class Re{constructor(){this.myId=oe()}getId(){return oe()}}return Re.\u0275fac=function(Se){return new(Se||Re)},Re.\u0275prov=fe.Yz7({token:Re,factory:Re.\u0275fac,providedIn:"root"}),Re})()},5392:(ln,ut,P)=>{"use strict";P.r(ut),P.d(ut,{ProfileModule:()=>Ut});var y=P(8583),_=P(3679),D=P(1095),C=P(1769),_e=P(3423),ee=P(7716),me=P(4345);let ie=(()=>{class Qt{constructor(){this.profileForm=new _.cw({nom:new _.NI("",[_.kI.required,_.kI.minLength(3),_.kI.maxLength(20),_.kI.pattern(/^[a-z0-9]+$/)])})}ngOnInit(){}onSubmit(){}}return Qt.\u0275fac=function(Ge){return new(Ge||Qt)},Qt.\u0275cmp=ee.Xpm({type:Qt,selectors:[["app-profile"]],decls:7,vars:1,consts:[[1,"profile"],[1,"profile__title"],[1,"profile__form",3,"formGroup","ngSubmit"],[1,"profile__btn","main-btn"]],template:function(Ge,at){1&Ge&&(ee.TgZ(0,"app-layout"),ee.TgZ(1,"div",0),ee.TgZ(2,"h1",1),ee._uU(3,"Profile"),ee.qZA(),ee.TgZ(4,"form",2),ee.NdJ("ngSubmit",function(){return at.onSubmit()}),ee.TgZ(5,"button",3),ee._uU(6,"Sauvegarder"),ee.qZA(),ee.qZA(),ee.qZA(),ee.qZA()),2&Ge&&(ee.xp6(4),ee.Q6J("formGroup",at.profileForm))},directives:[me.$,_._Y,_.JL,_.sg],styles:[".profile[_ngcontent-%COMP%]{margin:2rem auto;padding:2rem;border-radius:3px;width:clamp(400px,80%,1400px);display:flex;flex-direction:column;align-items:center}.profile__title[_ngcontent-%COMP%]{text-align:center;font-size:2rem;margin-top:1rem}.profile__item[_ngcontent-%COMP%]{margin:1rem}.profile__btn[_ngcontent-%COMP%]{margin-top:2rem}"]}),Qt})();var ae=P(3342),G=P(1773),se=P(8386),oe=P(9334);function fe(Qt,gt){if(1&Qt){const Ge=ee.EpF();ee.TgZ(0,"app-challenge-card",6),ee.NdJ("challengeDeleted",function(){return ee.CHM(Ge),ee.oxw().onChallengeDeleted()}),ee.qZA()}2&Qt&&ee.Q6J("challenge",gt.$implicit)}const Ce=function(){return["/game/create"]},Ne=[{path:"",component:ie},{path:"challenges",component:(()=>{class Qt{constructor(Ge,at){this.challengesService=Ge,this.userService=at}ngOnInit(){this.userId=this.userService.userId,this.userService.getOne(this.userId).pipe((0,ae.b)(Ge=>console.log(Ge))).subscribe(Ge=>{this.userChallenges=Ge})}onChallengeDeleted(){this.ngOnInit()}}return Qt.\u0275fac=function(Ge){return new(Ge||Qt)(ee.Y36(G.P),ee.Y36(se.K))},Qt.\u0275cmp=ee.Xpm({type:Qt,selectors:[["app-user-challenges"]],decls:14,vars:3,consts:[[1,"home"],[1,"home__section","container"],[1,"box"],["mat-raised-button","","color","primary",3,"routerLink"],[1,"challenges"],[3,"challenge","challengeDeleted",4,"ngFor","ngForOf"],[3,"challenge","challengeDeleted"]],template:function(Ge,at){1&Ge&&(ee.TgZ(0,"app-layout"),ee.TgZ(1,"div",0),ee.TgZ(2,"div",1),ee.TgZ(3,"h2"),ee._uU(4,"Cr\xe9er un challenge"),ee.qZA(),ee.TgZ(5,"div",2),ee.TgZ(6,"button",3),ee._uU(7,"C'est partis"),ee.qZA(),ee.qZA(),ee.qZA(),ee._UZ(8,"mat-divider"),ee.TgZ(9,"div",1),ee.TgZ(10,"h2"),ee._uU(11,"Mes challenges publi\xe9s"),ee.qZA(),ee.TgZ(12,"div",4),ee.YNc(13,fe,1,1,"app-challenge-card",5),ee.qZA(),ee.qZA(),ee.qZA(),ee.qZA()),2&Ge&&(ee.xp6(6),ee.Q6J("routerLink",ee.DdM(2,Ce)),ee.xp6(7),ee.Q6J("ngForOf",at.userChallenges))},directives:[me.$,D.lW,_e.rH,C.d,y.sg,oe.r],styles:[".challenges[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));grid-gap:2rem;gap:2rem}.challenges__show[_ngcontent-%COMP%]{width:50%}.home[_ngcontent-%COMP%]{margin-top:2rem}.home__section[_ngcontent-%COMP%]{margin-top:2rem;padding-bottom:9rem}"]}),Qt})()}];let Se=(()=>{class Qt{}return Qt.\u0275fac=function(Ge){return new(Ge||Qt)},Qt.\u0275mod=ee.oAB({type:Qt}),Qt.\u0275inj=ee.cJS({imports:[[_e.Bz.forChild(Ne)],_e.Bz]}),Qt})();var ze=P(4466);let Ut=(()=>{class Qt{}return Qt.\u0275fac=function(Ge){return new(Ge||Qt)},Qt.\u0275mod=ee.oAB({type:Qt}),Qt.\u0275inj=ee.cJS({imports:[[ze.m,_.u5,y.ez,Se,_.UX,C.t,D.ot]]}),Qt})()},9334:(ln,ut,P)=>{"use strict";P.d(ut,{r:()=>Ce});var y=P(7716),_=P(2323),D=P(8386),C=P(1773),_e=P(384),ee=P(3738),me=P(8583),ie=P(1095),ae=P(3423),G=P(4885);function se(Re,Ne){if(1&Re&&y._UZ(0,"img",12),2&Re){const Se=y.oxw();y.Q6J("src",Se.imgUrl,y.LSH)}}function oe(Re,Ne){1&Re&&(y.TgZ(0,"div",4),y._UZ(1,"mat-spinner",13),y.qZA())}const fe=function(Re){return["/game/play",Re]};let Ce=(()=>{class Re{constructor(Se,ze,Ut,Qt){this.storage=Se,this.userService=ze,this.challengeService=Ut,this.authService=Qt,this.challengeDeleted=new y.vpe}ngOnInit(){this.userId=this.userService.userId,this.storage.downloadViaUrl(this.challenge.imgId).subscribe(Se=>this.imgUrl=Se)}onDelete(){this.challengeService.delete(this.challenge.id).subscribe(()=>{this.challengeDeleted.emit("Challenge supprim\xe9")})}}return Re.\u0275fac=function(Se){return new(Se||Re)(y.Y36(_.V),y.Y36(D.K),y.Y36(C.P),y.Y36(_e.e))},Re.\u0275cmp=y.Xpm({type:Re,selectors:[["app-challenge-card"]],inputs:{challenge:"challenge"},outputs:{challengeDeleted:"challengeDeleted"},decls:19,vars:9,consts:[[1,"challenge"],["mat-card-image","","class","challenge__img","alt","image challenge",3,"src",4,"ngIf"],["class","challenge__credentials",4,"ngIf"],[1,"challenge__content"],[1,"challenge__credentials"],[1,"challenge__title","font-white"],[1,"challenge__bio","font-white"],[1,"challenge__footer"],[1,"challenge__auth","font-white"],[1,"challenge__actions"],["mat-flat-button","","color","warn",3,"click"],["mat-raised-button","","color","primary",1,"challenge__btn",3,"routerLink"],["mat-card-image","","alt","image challenge",1,"challenge__img",3,"src"],[1,"challenge__spinner"]],template:function(Se,ze){1&Se&&(y.TgZ(0,"mat-card",0),y.YNc(1,se,1,1,"img",1),y.YNc(2,oe,2,0,"div",2),y.TgZ(3,"div",3),y.TgZ(4,"div",4),y.TgZ(5,"h2",5),y._uU(6),y.qZA(),y.TgZ(7,"p"),y._uU(8),y.qZA(),y.TgZ(9,"p",6),y._uU(10),y.qZA(),y.qZA(),y.TgZ(11,"div",7),y.TgZ(12,"p",8),y._uU(13),y.qZA(),y.TgZ(14,"mat-card-actions",9),y.TgZ(15,"button",10),y.NdJ("click",function(){return ze.onDelete()}),y._uU(16,"Supprimer"),y.qZA(),y.TgZ(17,"button",11),y._uU(18,"R\xe9soudre"),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA()),2&Se&&(y.xp6(1),y.Q6J("ngIf",ze.imgUrl),y.xp6(1),y.Q6J("ngIf",!ze.imgUrl),y.xp6(4),y.hij(" ",ze.challenge.title," "),y.xp6(2),y.Oqu(ze.creatorEmail),y.xp6(2),y.hij(" ",ze.challenge.description," "),y.xp6(3),y.hij(" ",ze.challenge.creatorId," "),y.xp6(4),y.Q6J("routerLink",y.VKq(7,fe,ze.challenge.id)))},directives:[ee.a8,me.O5,ee.hq,ie.lW,ae.rH,ee.G2,G.$g],styles:[".challenge[_ngcontent-%COMP%]{overflow:hidden}.challenge__placholder[_ngcontent-%COMP%]{height:5000px;color:red}.challenge__spinner[_ngcontent-%COMP%]{margin:3rem auto}.challenge__content[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;height:100%;flex:1}.challenge__title[_ngcontent-%COMP%]{margin-bottom:1rem}.challenge__footer[_ngcontent-%COMP%]{margin-top:2rem;display:flex;justify-content:space-between;align-items:flex-end}.challenge__btn[_ngcontent-%COMP%]{margin-left:5px}.challenge__actions[_ngcontent-%COMP%]{margin-bottom:0;align-self:flex-end;justify-self:flex-end}"]}),Re})()},4345:(ln,ut,P)=>{"use strict";P.d(ut,{$:()=>at});var y=P(7716),_=P(2329),D=P(8583),C=P(384),_e=P(3423),ee=P(2522),me=P(5384),ie=P(1769),ae=P(6627),G=P(1095);function se(nt,et){if(1&nt){const Ze=y.EpF();y.TgZ(0,"button",9),y.NdJ("click",function(){return y.CHM(Ze),y.oxw().openFullscreen()}),y.TgZ(1,"mat-icon"),y._uU(2,"fullscreen"),y.qZA(),y.qZA()}}function oe(nt,et){if(1&nt){const Ze=y.EpF();y.TgZ(0,"button",9),y.NdJ("click",function(){return y.CHM(Ze),y.oxw().closeFullscreen()}),y.TgZ(1,"mat-icon"),y._uU(2,"fullscreen_exit"),y.qZA(),y.qZA()}}function fe(nt,et){if(1&nt){const Ze=y.EpF();y.TgZ(0,"button",9),y.NdJ("click",function(){return y.CHM(Ze),y.oxw().changeToDark()}),y.TgZ(1,"mat-icon"),y._uU(2,"light_mode"),y.qZA(),y.qZA()}}function Ce(nt,et){if(1&nt){const Ze=y.EpF();y.TgZ(0,"button",9),y.NdJ("click",function(){return y.CHM(Ze),y.oxw().changeToLight()}),y.TgZ(1,"mat-icon"),y._uU(2,"bedtime"),y.qZA(),y.qZA()}}function Re(nt,et){if(1&nt&&(y.TgZ(0,"button",10),y.TgZ(1,"mat-icon"),y._uU(2,"more_vert"),y.qZA(),y.qZA()),2&nt){y.oxw();const Ze=y.MAs(11);y.Q6J("matMenuTriggerFor",Ze)}}const Ne=function(){return["/home"]},Se=function(){return["/profile"]},ze=function(){return["/profile/challenges"]};let Ut=(()=>{class nt{constructor(Ze,ve,De){this.document=Ze,this.auth=ve,this.router=De,this.theme="dark",this.screen="little"}ngOnInit(){this.user=_.Z.auth().currentUser,this.elem=document.documentElement}onLogOut(){this.auth.logout().then(()=>{this.router.navigate(["start"])})}changeToDark(){this.theme="dark",document.querySelector("body").classList.remove("light-theme")}changeToLight(){this.theme="light",document.querySelector("body").classList.add("light-theme")}openFullscreen(){this.screen="full",this.elem.requestFullscreen?this.elem.requestFullscreen():this.elem.mozRequestFullScreen?this.elem.mozRequestFullScreen():this.elem.webkitRequestFullscreen?this.elem.webkitRequestFullscreen():this.elem.msRequestFullscreen&&this.elem.msRequestFullscreen()}closeFullscreen(){this.screen="little",this.document.exitFullscreen?this.document.exitFullscreen():this.document.mozCancelFullScreen?this.document.mozCancelFullScreen():this.document.webkitExitFullscreen?this.document.webkitExitFullscreen():this.document.msExitFullscreen&&this.document.msExitFullscreen()}}return nt.\u0275fac=function(Ze){return new(Ze||nt)(y.Y36(D.K0),y.Y36(C.e),y.Y36(_e.F0))},nt.\u0275cmp=y.Xpm({type:nt,selectors:[["app-nav"]],decls:25,vars:13,consts:[["color","primary",1,"nav"],[1,"nav__logo",3,"routerLink"],[1,"items"],["mat-button","",3,"click",4,"ngIf"],["mat-button","",3,"matMenuTriggerFor",4,"ngIf"],["xPosition","before"],["beforeMenu","matMenu"],["mat-menu-item","",3,"routerLink"],["mat-menu-item","",3,"click"],["mat-button","",3,"click"],["mat-button","",3,"matMenuTriggerFor"]],template:function(Ze,ve){1&Ze&&(y.TgZ(0,"mat-toolbar",0),y.TgZ(1,"div"),y.TgZ(2,"a",1),y._uU(3,"FEB"),y.qZA(),y.qZA(),y.TgZ(4,"div",2),y.YNc(5,se,3,0,"button",3),y.YNc(6,oe,3,0,"button",3),y.YNc(7,fe,3,0,"button",3),y.YNc(8,Ce,3,0,"button",3),y.YNc(9,Re,3,1,"button",4),y.TgZ(10,"mat-menu",5,6),y.TgZ(12,"button",7),y._uU(13,"Accueil"),y.qZA(),y.TgZ(14,"button",7),y._uU(15,"Profile"),y.qZA(),y._UZ(16,"mat-divider"),y.TgZ(17,"button",7),y._uU(18,"Mes challenges"),y.qZA(),y._UZ(19,"mat-divider"),y.TgZ(20,"button",8),y.NdJ("click",function(){return ve.onLogOut()}),y.TgZ(21,"mat-icon"),y._uU(22,"power_settings_new"),y.qZA(),y.TgZ(23,"span"),y._uU(24,"Se d\xe9connecter"),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA()),2&Ze&&(y.xp6(2),y.Q6J("routerLink",y.DdM(9,Ne)),y.xp6(3),y.Q6J("ngIf","little"===ve.screen),y.xp6(1),y.Q6J("ngIf","full"===ve.screen),y.xp6(1),y.Q6J("ngIf","light"===ve.theme),y.xp6(1),y.Q6J("ngIf","dark"===ve.theme),y.xp6(1),y.Q6J("ngIf",ve.user),y.xp6(3),y.Q6J("routerLink",y.DdM(10,Ne)),y.xp6(2),y.Q6J("routerLink",y.DdM(11,Se)),y.xp6(3),y.Q6J("routerLink",y.DdM(12,ze)))},directives:[ee.Ye,_e.yS,D.O5,me.VK,me.OP,_e.rH,ie.d,ae.Hw,G.lW,me.p6],styles:[".nav[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1rem}.nav__items[_ngcontent-%COMP%]{margin-right:2rem;display:flex}.nav__item[_ngcontent-%COMP%]{margin-right:2rem}.nav__logo[_ngcontent-%COMP%]{font-size:2.5rem;color:var(--main-400)}"]}),nt})();const Qt=function(){return["/home"]};let gt=(()=>{class nt{constructor(){}ngOnInit(){}}return nt.\u0275fac=function(Ze){return new(Ze||nt)},nt.\u0275cmp=y.Xpm({type:nt,selectors:[["app-footer"]],decls:11,vars:2,consts:[[1,"footer"],[1,"footer__content"],[1,"footer__logo"],[1,"footer__items"],[1,"footer__item"],[3,"routerLink"],["target","blank","href","https://github.com/Antoine-Flo/front-end-battle"]],template:function(Ze,ve){1&Ze&&(y.TgZ(0,"mat-toolbar",0),y.TgZ(1,"footer",1),y.TgZ(2,"div",2),y._uU(3," \xa92021 Front-End Battle"),y.qZA(),y.TgZ(4,"ul",3),y.TgZ(5,"li",4),y.TgZ(6,"a",5),y._uU(7,"Accueil"),y.qZA(),y.qZA(),y.TgZ(8,"li",4),y.TgZ(9,"a",6),y._uU(10,"GitHub"),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA()),2&Ze&&(y.xp6(6),y.Q6J("routerLink",y.DdM(1,Qt)))},directives:[ee.Ye,_e.yS],styles:[".footer[_ngcontent-%COMP%]{width:100%;position:absolute;bottom:0}.footer__content[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:space-between}.footer__items[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly}.footer__item[_ngcontent-%COMP%]{margin:0 20px}"]}),nt})();const Ge=["*"];let at=(()=>{class nt{constructor(){}ngOnInit(){}}return nt.\u0275fac=function(Ze){return new(Ze||nt)},nt.\u0275cmp=y.Xpm({type:nt,selectors:[["app-layout"]],ngContentSelectors:Ge,decls:4,vars:0,consts:[[1,"layout"]],template:function(Ze,ve){1&Ze&&(y.F$t(),y.TgZ(0,"div",0),y._UZ(1,"app-nav"),y.Hsn(2),y._UZ(3,"app-footer"),y.qZA())},directives:[Ut,gt],styles:[".layout[_ngcontent-%COMP%]{min-height:100vh;position:relative}"]}),nt})()},312:(ln,ut,P)=>{"use strict";P.d(ut,{z:()=>_e});var y=P(7716),_=P(6627);const D=[[["","modalTitle",""]],"*",[["","modalFooter",""]]],C=["[modalTitle]","*","[modalFooter]"];let _e=(()=>{class ee{constructor(ie){this.el=ie,this.dismiss=new y.vpe}ngOnInit(){document.body.appendChild(this.el.nativeElement)}ngOnDestroy(){this.el.nativeElement.remove()}onDismissClick(){this.dismiss.emit()}}return ee.\u0275fac=function(ie){return new(ie||ee)(y.Y36(y.SBq))},ee.\u0275cmp=y.Xpm({type:ee,selectors:[["app-modal"]],outputs:{dismiss:"dismiss"},ngContentSelectors:C,decls:10,vars:0,consts:[[1,"modal-background",3,"click"],[1,"modal","mat-app-background",3,"click"],[1,"modal__close","font-white",3,"click"],[1,"modal__header"],[1,"modal__content"],[1,"modal__footer"]],template:function(ie,ae){1&ie&&(y.F$t(D),y.TgZ(0,"div",0),y.NdJ("click",function(){return ae.onDismissClick()}),y.TgZ(1,"div",1),y.NdJ("click",function(se){return se.stopPropagation()}),y.TgZ(2,"mat-icon",2),y.NdJ("click",function(){return ae.onDismissClick()}),y._uU(3,"close"),y.qZA(),y.TgZ(4,"div",3),y.Hsn(5),y.qZA(),y.TgZ(6,"div",4),y.Hsn(7,1),y.qZA(),y.TgZ(8,"div",5),y.Hsn(9,2),y.qZA(),y.qZA(),y.qZA())},directives:[_.Hw],styles:[".modal-background[_ngcontent-%COMP%]{background-color:var(--transparent);-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px);position:absolute;top:0;bottom:0;left:0;right:0}.modal[_ngcontent-%COMP%]{position:absolute;padding:2rem;border-radius:5px;background-color:#424242;left:50%;top:50%;transform:translate(-50%,-50%);z-index:9999}.modal__close[_ngcontent-%COMP%]{cursor:pointer;position:absolute;top:10px;right:10px}.modal__content[_ngcontent-%COMP%]{margin:0 aut0}"]}),ee})()},4466:(ln,ut,P)=>{"use strict";P.d(ut,{m:()=>fe});var y=P(8583),_=P(3679),D=P(3423),C=P(1841),_e=P(5384),ee=P(1095),me=P(6627),ie=P(2522),ae=P(3738),G=P(1769),se=P(4885),oe=P(7716);let fe=(()=>{class Ce{}return Ce.\u0275fac=function(Ne){return new(Ne||Ce)},Ce.\u0275mod=oe.oAB({type:Ce}),Ce.\u0275inj=oe.cJS({imports:[[y.ez,D.Bz,C.JF,_.UX,_e.Tx,ee.ot,me.Ps,ie.g0,ae.QW,G.t,se.Cq],_.UX]}),Ce})()},2340:(ln,ut,P)=>{"use strict";P.d(ut,{N:()=>y});const y={production:!0,firebase:{apiKey:"AIzaSyA8shl3xSB0eoAn6UW8yLusXYLlrTvP1AA",authDomain:"front-end-battle.firebaseapp.com",projectId:"front-end-battle",storageBucket:"front-end-battle.appspot.com",messagingSenderId:"702641835673",appId:"1:702641835673:web:2bd3fed247feb568813208",measurementId:"G-CVW1DLM3XN"},api:{challenges:"https://feb-api.com/challenges",users:"https://feb-api.com/users"}}},3351:(ln,ut,P)=>{"use strict";var y=P(9075),_=P(7716),D=P(3679),C=P(6237),_e=P(1841),ee=P(57),me=P(9829),ie=P(8891),ae=P(5917),G=P(4402),se=P(4395),oe=P(8002),fe=P(9746),Ce=P(3190),Ne=(P(7361),P(8583));function ze($e){const St=function($e){return new ie.y(St=>{const Le=or=>St.next(or);Le($e.snapshot);const Sn=$e.on("state_changed",Le);return $e.then(or=>{Le(or),St.complete()},or=>{Le($e.snapshot),(or=>{St.error(or)})(or)}),function(){Sn()}}).pipe((0,se.b)(0))}($e);return{task:$e,then:$e.then.bind($e),catch:$e.catch.bind($e),pause:$e.pause.bind($e),cancel:$e.cancel.bind($e),resume:$e.resume.bind($e),snapshotChanges:()=>St,percentageChanges:()=>St.pipe((0,oe.U)(Le=>Le.bytesTransferred/Le.totalBytes*100))}}function Ut($e,St,Le){return{getDownloadURL:()=>(0,ae.of)(void 0).pipe((0,fe.QV)(St.outsideAngular),(0,Ce.w)(()=>$e.getDownloadURL()),Le),getMetadata:()=>(0,ae.of)(void 0).pipe((0,fe.QV)(St.outsideAngular),(0,Ce.w)(()=>$e.getMetadata()),Le),delete:()=>(0,G.D)($e.delete()),child:Mt=>Ut($e.child(Mt),St,Le),updateMetadata:Mt=>(0,G.D)($e.updateMetadata(Mt)),put:(Mt,On)=>ze($e.put(Mt,On)),putString:(Mt,On,Sn)=>ze($e.putString(Mt,On,Sn)),listAll:()=>(0,G.D)($e.listAll())}}const Qt=new _.OlP("angularfire2.storageBucket"),gt=new _.OlP("angularfire2.storage.maxUploadRetryTime"),Ge=new _.OlP("angularfire2.storage.maxOperationRetryTime");let at=(()=>{class $e{constructor(Le,Mt,On,Sn,or,wr,li){this.schedulers=new ee.HU(or),this.keepUnstableUntilFirst=(0,ee.ss)(this.schedulers);const si=(0,ee.on)(Le,or,Mt);this.storage=(0,ee.sI)(`${si.name}.storage.${On}`,"AngularFireStorage",si,()=>{const gr=or.runOutsideAngular(()=>si.storage(On||void 0));return wr&&gr.setMaxUploadRetryTime(wr),li&&gr.setMaxOperationRetryTime(li),gr},[wr,li])}ref(Le){return Ut(this.storage.ref(Le),this.schedulers,this.keepUnstableUntilFirst)}refFromURL(Le){return Ut(this.storage.refFromURL(Le),this.schedulers,this.keepUnstableUntilFirst)}upload(Le,Mt,On){return Ut(this.storage.ref(Le),this.schedulers,this.keepUnstableUntilFirst).put(Mt,On)}}return $e.\u0275fac=function(Le){return new(Le||$e)(_.LFG(ee.Dh),_.LFG(ee.xv,8),_.LFG(Qt,8),_.LFG(_.Lbi),_.LFG(_.R0b),_.LFG(gt,8),_.LFG(Ge,8))},$e.\u0275prov=_.Yz7({factory:function(){return new $e(_.LFG(ee.Dh),_.LFG(ee.xv,8),_.LFG(Qt,8),_.LFG(_.Lbi),_.LFG(_.R0b),_.LFG(gt,8),_.LFG(Ge,8))},token:$e,providedIn:"any"}),$e})(),et=(()=>{class $e{}return $e.\u0275fac=function(Le){return new(Le||$e)},$e.\u0275mod=_.oAB({type:$e}),$e.\u0275inj=_.cJS({}),$e})(),Ze=(()=>{class $e{}return $e.\u0275fac=function(Le){return new(Le||$e)},$e.\u0275mod=_.oAB({type:$e}),$e.\u0275inj=_.cJS({providers:[at],imports:[et]}),$e})();var ve=P(2340),De=P(3423),ce=P(4345),pt=P(1095),Rt=P(312),Tt=P(8492),gn=P(384),pn=P(1769),Mn=P(8295),wn=P(9983);function cn($e,St){if(1&$e){const Le=_.EpF();_.TgZ(0,"form",6),_.NdJ("ngSubmit",function(){return _.CHM(Le),_.oxw().onLogin()}),_.TgZ(1,"h2",7),_._uU(2,"Par mail"),_.qZA(),_.TgZ(3,"mat-form-field",8),_.TgZ(4,"mat-label"),_._uU(5,"E-Mail"),_.qZA(),_._UZ(6,"input",9),_.qZA(),_.TgZ(7,"mat-form-field",8),_.TgZ(8,"mat-label"),_._uU(9,"Mot de passe"),_.qZA(),_._UZ(10,"input",10),_.TgZ(11,"mat-hint"),_._uU(12,"1 majsucule, 1 minuscule, 1 chiffre"),_.qZA(),_.qZA(),_.TgZ(13,"button",11),_._uU(14,"Ok"),_.qZA(),_.qZA()}if(2&$e){const Le=_.oxw();_.Q6J("formGroup",Le.logInForm),_.xp6(13),_.Q6J("disabled",!Le.logInForm.valid)}}function jt($e,St){if(1&$e){const Le=_.EpF();_.TgZ(0,"form",6),_.NdJ("ngSubmit",function(){return _.CHM(Le),_.oxw().onNewAccount()}),_.TgZ(1,"h2",7),_._uU(2,"Par mail"),_.qZA(),_.TgZ(3,"mat-form-field",8),_.TgZ(4,"mat-label"),_._uU(5,"Nom d'utilisateur"),_.qZA(),_._UZ(6,"input",12),_.qZA(),_.TgZ(7,"mat-form-field",8),_.TgZ(8,"mat-label"),_._uU(9,"E-Mail"),_.qZA(),_._UZ(10,"input",9),_.qZA(),_.TgZ(11,"mat-form-field",8),_.TgZ(12,"mat-label"),_._uU(13,"Mot de passe"),_.qZA(),_._UZ(14,"input",10),_.TgZ(15,"mat-hint"),_._uU(16,"1 majsucule, 1 minuscule, 1 chiffre"),_.qZA(),_.qZA(),_.TgZ(17,"button",11),_._uU(18,"Ok"),_.qZA(),_.qZA()}if(2&$e){const Le=_.oxw();_.Q6J("formGroup",Le.newAccountForm),_.xp6(17),_.Q6J("disabled",!Le.newAccountForm.valid)}}let Xt=(()=>{class $e{constructor(Le,Mt,On,Sn){this.snackBar=Le,this.formBuilder=Mt,this.authService=On,this.router=Sn,this.logInForm=this.formBuilder.group({email:["",[D.kI.required,D.kI.email]],password:["",[D.kI.required,D.kI.minLength(6),this.checkPassword]]}),this.newAccountForm=this.formBuilder.group({userName:["",[D.kI.required]],email:["",[D.kI.required,D.kI.email]],password:["",[D.kI.required,D.kI.minLength(6),this.checkPassword]]})}checkPassword(Le){let Mt=Le.value;return!/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,})/.test(Mt)&&Mt?{requirements:!0}:null}ngOnInit(){}connectWithGoogle(){this.authService.signinGoogle()}connectWithGitHub(){this.authService.signinGitHub()}onLogin(){const{email:Le,password:Mt}=this.logInForm.value;this.authService.logInWithEmailPassword(Le,Mt)}onNewAccount(){const{userName:Le,email:Mt,password:On}=this.newAccountForm.value;this.authService.createAccountWithEmailPassword(Le,Mt,On).then(()=>{this.snackBar.showSuccess("Inscription r\xe9ussie, mail de verification envoy\xe9"),this.router.navigate(["home"])}).catch(Sn=>{this.snackBar.showError(Sn.message,Sn.code)})}}return $e.\u0275fac=function(Le){return new(Le||$e)(_.Y36(Tt.c),_.Y36(D.qu),_.Y36(gn.e),_.Y36(De.F0))},$e.\u0275cmp=_.Xpm({type:$e,selectors:[["app-sign"]],inputs:{type:"type",title:"title"},decls:8,vars:3,consts:[[1,"sign"],[1,"sign__title","font-white"],["src","\\assets\\signin-btn-google.jpg","alt","se connecter google",1,"sign__btn",3,"click"],["src","\\assets\\signin-btn-github.jpg","alt","se connecter github",1,"sign__btn",3,"click"],[1,"sign__divider"],["class","sign__mail",3,"formGroup","ngSubmit",4,"ngIf"],[1,"sign__mail",3,"formGroup","ngSubmit"],[1,"font-black"],["appearance","outline"],["matInput","","type","email","formControlName","email"],["matInput","","minlength","8","type","password","formControlName","password"],["mat-raised-button","","color","primary","type","submit",1,"sign__ok",3,"disabled"],["matInput","","type","email","formControlName","userName"]],template:function(Le,Mt){1&Le&&(_.TgZ(0,"div",0),_.TgZ(1,"h1",1),_._uU(2),_.qZA(),_.TgZ(3,"img",2),_.NdJ("click",function(){return Mt.connectWithGoogle()}),_.qZA(),_.TgZ(4,"img",3),_.NdJ("click",function(){return Mt.connectWithGitHub()}),_.qZA(),_._UZ(5,"mat-divider",4),_.YNc(6,cn,15,2,"form",5),_.YNc(7,jt,19,2,"form",5),_.qZA()),2&Le&&(_.xp6(2),_.Oqu(Mt.title),_.xp6(4),_.Q6J("ngIf","signIn"===Mt.type),_.xp6(1),_.Q6J("ngIf","signUp"===Mt.type))},directives:[pn.d,Ne.O5,D._Y,D.JL,D.sg,Mn.KE,Mn.hX,wn.Nt,D.Fj,D.JJ,D.u,D.wO,Mn.bx,pt.lW],styles:[".sign[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.sign__title[_ngcontent-%COMP%]{font-size:1.7rem;margin:1rem}.sign__btn[_ngcontent-%COMP%]{cursor:pointer;margin:.5rem;width:15rem}.sign__mail[_ngcontent-%COMP%]{padding:1rem;border-radius:5px;display:flex;flex-direction:column;align-items:center}.sign__divider[_ngcontent-%COMP%]{width:100%;margin-top:1rem}.sign__ok[_ngcontent-%COMP%]{margin-top:1.2rem}"]}),$e})();function _t($e,St){if(1&$e){const Le=_.EpF();_.TgZ(0,"app-modal",10),_.NdJ("dismiss",function(){return _.CHM(Le),_.oxw().modalSignIn=!1}),_._UZ(1,"app-sign",11),_.qZA()}}function At($e,St){if(1&$e){const Le=_.EpF();_.TgZ(0,"app-modal",10),_.NdJ("dismiss",function(){return _.CHM(Le),_.oxw().modalSignUp=!1}),_._UZ(1,"app-sign",12),_.qZA()}}let Gt=(()=>{class $e{constructor(){this.modalSignIn=!1,this.modalSignUp=!1}ngOnInit(){}onSignIn(){}onSignUp(){}}return $e.\u0275fac=function(Le){return new(Le||$e)},$e.\u0275cmp=_.Xpm({type:$e,selectors:[["app-start"]],decls:16,vars:2,consts:[[1,"start"],[1,"start__content"],["src","/assets/Bigfoot-bro.png","alt","illustration",1,"start__img"],[1,"start__message"],[1,"start__title"],[1,"start__bio"],[1,"start__logs"],["mat-raised-button","","color","accent",1,"start__btn",3,"click"],["mat-flat-button","","color","primary",1,"start__btn",3,"click"],[3,"dismiss",4,"ngIf"],[3,"dismiss"],["type","signIn","title","Se connecter"],["type","signUp","title","S'inscrire"]],template:function(Le,Mt){1&Le&&(_.TgZ(0,"app-layout"),_.TgZ(1,"div",0),_.TgZ(2,"div",1),_._UZ(3,"img",2),_.TgZ(4,"div",3),_.TgZ(5,"h1",4),_._uU(6,"Bienvenue sur Front-End-Battle"),_.qZA(),_.TgZ(7,"p",5),_._uU(8,"Tester vos connaissances en int\xe9gration web et apprenez des meilleures."),_.qZA(),_.TgZ(9,"div",6),_.TgZ(10,"button",7),_.NdJ("click",function(){return Mt.modalSignIn=!0,Mt.onSignIn()}),_._uU(11," Se connecter "),_.qZA(),_.TgZ(12,"button",8),_.NdJ("click",function(){return Mt.modalSignUp=!0,Mt.onSignUp()}),_._uU(13," S'inscrire "),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.YNc(14,_t,2,0,"app-modal",9),_.YNc(15,At,2,0,"app-modal",9),_.qZA(),_.qZA()),2&Le&&(_.xp6(14),_.Q6J("ngIf",Mt.modalSignIn),_.xp6(1),_.Q6J("ngIf",Mt.modalSignUp))},directives:[ce.$,pt.lW,Ne.O5,Rt.z,Xt],styles:[".start__content[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:space-around}.start__message[_ngcontent-%COMP%]{width:50vw;display:flex;flex-direction:column;padding:2rem}.start__img[_ngcontent-%COMP%]{width:600px}.start__title[_ngcontent-%COMP%]{margin:2rem 0;font-size:3rem;line-height:60px}.start__logs[_ngcontent-%COMP%]{margin-top:2rem}.start__btn[_ngcontent-%COMP%]{margin-right:2rem}"]}),$e})();var Nt=P(4022),qt=P(5257);const sn=(0,oe.U)($e=>!!$e);let Zt=(()=>{class $e{constructor(Le,Mt){this.router=Le,this.auth=Mt,this.canActivate=(On,Sn)=>{const or=On.data.authGuardPipe||(()=>sn);return this.auth.user.pipe((0,qt.q)(1),or(On,Sn),(0,oe.U)(wr=>"boolean"==typeof wr?wr:Array.isArray(wr)?this.router.createUrlTree(wr):this.router.parseUrl(wr)))}}}return $e.\u0275fac=function(Le){return new(Le||$e)(_.LFG(De.F0),_.LFG(me.zQ))},$e.\u0275prov=_.Yz7({factory:function(){return new $e(_.LFG(De.F0),_.LFG(me.zQ))},token:$e,providedIn:"any"}),$e})();const bn=$e=>({canActivate:[Zt],data:{authGuardPipe:$e}}),N=function(){return["/home"]};let B=(()=>{class $e{constructor(){}ngOnInit(){}}return $e.\u0275fac=function(Le){return new(Le||$e)},$e.\u0275cmp=_.Xpm({type:$e,selectors:[["app-page-not-found"]],decls:5,vars:2,consts:[[1,"not-found"],[1,"not-found__txt"],["mat-raised-button","","color","primary",3,"routerLink"]],template:function(Le,Mt){1&Le&&(_.TgZ(0,"div",0),_.TgZ(1,"h1",1),_._uU(2,"D\xe9sol\xe9, cette page n'existe pas \u{1f914}"),_.qZA(),_.TgZ(3,"button",2),_._uU(4,"Revenir \xe0 l'accueil"),_.qZA(),_.qZA()),2&Le&&(_.xp6(3),_.Q6J("routerLink",_.DdM(1,N)))},directives:[pt.lW,De.rH],styles:[".not-found[_ngcontent-%COMP%]{text-align:center}.not-found__txt[_ngcontent-%COMP%]{margin-bottom:3rem;text-align:center;margin-top:20vh;font-family:sans-serif;font-size:2.4rem}"]}),$e})();const ne=()=>{return $e=["start"],(0,Nt.z)(sn,(0,oe.U)(St=>St||$e));var $e},Ye=[{path:"",redirectTo:"start",pathMatch:"full"},Object.assign({path:"start",component:Gt},bn(()=>{return $e=["home"],(0,Nt.z)(sn,(0,oe.U)(St=>St&&$e||!0));var $e})),Object.assign({path:"profile",loadChildren:()=>Promise.resolve().then(P.bind(P,5392)).then($e=>$e.ProfileModule)},bn(ne)),Object.assign({path:"home",loadChildren:()=>P.e(99).then(P.bind(P,5099)).then($e=>$e.HomeModule)},bn(ne)),Object.assign({path:"game",loadChildren:()=>P.e(661).then(P.bind(P,1661)).then($e=>$e.GameModule)},bn(ne)),{path:"**",component:B}];let mt=(()=>{class $e{}return $e.\u0275fac=function(Le){return new(Le||$e)},$e.\u0275mod=_.oAB({type:$e}),$e.\u0275inj=_.cJS({imports:[[De.Bz.forRoot(Ye,{preloadingStrategy:De.wm})],De.Bz]}),$e})(),mn=(()=>{class $e{constructor(){this.title="frontEndBattle"}}return $e.\u0275fac=function(Le){return new(Le||$e)},$e.\u0275cmp=_.Xpm({type:$e,selectors:[["app-root"]],decls:2,vars:0,template:function(Le,Mt){1&Le&&(_.ynx(0),_._UZ(1,"router-outlet"),_.BQk())},directives:[De.lC],styles:[""]}),$e})();var Nn=P(6627),yn=P(625),Qe=P(7636),We=P(2458),dt=P(946),It=P(9765),Te=P(1439),wt=P(5435),Ot=P(9761),zt=P(521),je=P(7238),Xe=P(6461),Pe=P(9238);function bt($e,St){}class Ke{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const qe={dialogContainer:(0,je.X$)("dialogContainer",[(0,je.SB)("void, exit",(0,je.oB)({opacity:0,transform:"scale(0.7)"})),(0,je.SB)("enter",(0,je.oB)({transform:"none"})),(0,je.eR)("* => enter",(0,je.jt)("150ms cubic-bezier(0, 0, 0.2, 1)",(0,je.oB)({transform:"none",opacity:1}))),(0,je.eR)("* => void, * => exit",(0,je.jt)("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",(0,je.oB)({opacity:0})))])};let Ct=(()=>{class $e extends Qe.en{constructor(Le,Mt,On,Sn,or,wr){super(),this._elementRef=Le,this._focusTrapFactory=Mt,this._changeDetectorRef=On,this._config=or,this._focusMonitor=wr,this._animationStateChanged=new _.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=li=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(li)),this._ariaLabelledBy=or.ariaLabelledBy||null,this._document=Sn}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}attachComponentPortal(Le){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(Le)}attachTemplatePortal(Le){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(Le)}_recaptureFocus(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const Le=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&Le&&"function"==typeof Le.focus){const Mt=(0,zt.ht)(),On=this._elementRef.nativeElement;(!Mt||Mt===this._document.body||Mt===On||On.contains(Mt))&&(this._focusMonitor?(this._focusMonitor.focusVia(Le,this._closeInteractionType),this._closeInteractionType=null):Le.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,zt.ht)())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const Le=this._elementRef.nativeElement,Mt=(0,zt.ht)();return Le===Mt||Le.contains(Mt)}}return $e.\u0275fac=function(Le){return new(Le||$e)(_.Y36(_.SBq),_.Y36(Pe.qV),_.Y36(_.sBO),_.Y36(Ne.K0,8),_.Y36(Ke),_.Y36(Pe.tE))},$e.\u0275dir=_.lG2({type:$e,viewQuery:function(Le,Mt){if(1&Le&&_.Gf(Qe.Pl,7),2&Le){let On;_.iGM(On=_.CRH())&&(Mt._portalOutlet=On.first)}},features:[_.qOj]}),$e})(),Wt=(()=>{class $e extends Ct{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:Le,totalTime:Mt}){"enter"===Le?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:Mt})):"exit"===Le&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:Mt}))}_onAnimationStart({toState:Le,totalTime:Mt}){"enter"===Le?this._animationStateChanged.next({state:"opening",totalTime:Mt}):("exit"===Le||"void"===Le)&&this._animationStateChanged.next({state:"closing",totalTime:Mt})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return $e.\u0275fac=function(){let St;return function(Mt){return(St||(St=_.n5z($e)))(Mt||$e)}}(),$e.\u0275cmp=_.Xpm({type:$e,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(Le,Mt){1&Le&&_.WFA("@dialogContainer.start",function(Sn){return Mt._onAnimationStart(Sn)})("@dialogContainer.done",function(Sn){return Mt._onAnimationDone(Sn)}),2&Le&&(_.Ikx("id",Mt._id),_.uIk("role",Mt._config.role)("aria-labelledby",Mt._config.ariaLabel?null:Mt._ariaLabelledBy)("aria-label",Mt._config.ariaLabel)("aria-describedby",Mt._config.ariaDescribedBy||null),_.d8E("@dialogContainer",Mt._state))},features:[_.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(Le,Mt){1&Le&&_.YNc(0,bt,0,0,"ng-template",0)},directives:[Qe.Pl],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[qe.dialogContainer]}}),$e})(),Cn=0;class $n{constructor(St,Le,Mt="mat-dialog-"+Cn++){this._overlayRef=St,this._containerInstance=Le,this.id=Mt,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new It.xQ,this._afterClosed=new It.xQ,this._beforeClosed=new It.xQ,this._state=0,Le._id=Mt,Le._animationStateChanged.pipe((0,wt.h)(On=>"opened"===On.state),(0,qt.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),Le._animationStateChanged.pipe((0,wt.h)(On=>"closed"===On.state),(0,qt.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),St.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),St.keydownEvents().pipe((0,wt.h)(On=>On.keyCode===Xe.hY&&!this.disableClose&&!(0,Xe.Vb)(On))).subscribe(On=>{On.preventDefault(),_r(this,"keyboard")}),St.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():_r(this,"mouse")})}close(St){this._result=St,this._containerInstance._animationStateChanged.pipe((0,wt.h)(Le=>"closing"===Le.state),(0,qt.q)(1)).subscribe(Le=>{this._beforeClosed.next(St),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),Le.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(St){let Le=this._getPositionStrategy();return St&&(St.left||St.right)?St.left?Le.left(St.left):Le.right(St.right):Le.centerHorizontally(),St&&(St.top||St.bottom)?St.top?Le.top(St.top):Le.bottom(St.bottom):Le.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(St="",Le=""){return this._overlayRef.updateSize({width:St,height:Le}),this._overlayRef.updatePosition(),this}addPanelClass(St){return this._overlayRef.addPanelClass(St),this}removePanelClass(St){return this._overlayRef.removePanelClass(St),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function _r($e,St,Le){return void 0!==$e._containerInstance&&($e._containerInstance._closeInteractionType=St),$e.close(Le)}const Lr=new _.OlP("MatDialogData"),hr=new _.OlP("mat-dialog-default-options"),Hr=new _.OlP("mat-dialog-scroll-strategy"),ei={provide:Hr,deps:[yn.aV],useFactory:function($e){return()=>$e.scrollStrategies.block()}};let ji=(()=>{class $e{constructor(Le,Mt,On,Sn,or,wr,li,si,gr){this._overlay=Le,this._injector=Mt,this._defaultOptions=On,this._parentDialog=Sn,this._overlayContainer=or,this._dialogRefConstructor=li,this._dialogContainerType=si,this._dialogDataToken=gr,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new It.xQ,this._afterOpenedAtThisLevel=new It.xQ,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,Te.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,Ot.O)(void 0))),this._scrollStrategy=wr}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const Le=this._parentDialog;return Le?Le._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(Le,Mt){(Mt=function($e,St){return Object.assign(Object.assign({},St),$e)}(Mt,this._defaultOptions||new Ke)).id&&this.getDialogById(Mt.id);const On=this._createOverlay(Mt),Sn=this._attachDialogContainer(On,Mt),or=this._attachDialogContent(Le,Sn,On,Mt);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(or),or.afterClosed().subscribe(()=>this._removeOpenDialog(or)),this.afterOpened.next(or),Sn._initializeWithAttachedContent(),or}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(Le){return this.openDialogs.find(Mt=>Mt.id===Le)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(Le){const Mt=this._getOverlayConfig(Le);return this._overlay.create(Mt)}_getOverlayConfig(Le){const Mt=new yn.X_({positionStrategy:this._overlay.position().global(),scrollStrategy:Le.scrollStrategy||this._scrollStrategy(),panelClass:Le.panelClass,hasBackdrop:Le.hasBackdrop,direction:Le.direction,minWidth:Le.minWidth,minHeight:Le.minHeight,maxWidth:Le.maxWidth,maxHeight:Le.maxHeight,disposeOnNavigation:Le.closeOnNavigation});return Le.backdropClass&&(Mt.backdropClass=Le.backdropClass),Mt}_attachDialogContainer(Le,Mt){const Sn=_.zs3.create({parent:Mt&&Mt.viewContainerRef&&Mt.viewContainerRef.injector||this._injector,providers:[{provide:Ke,useValue:Mt}]}),or=new Qe.C5(this._dialogContainerType,Mt.viewContainerRef,Sn,Mt.componentFactoryResolver);return Le.attach(or).instance}_attachDialogContent(Le,Mt,On,Sn){const or=new this._dialogRefConstructor(On,Mt,Sn.id);if(Le instanceof _.Rgc)Mt.attachTemplatePortal(new Qe.UE(Le,null,{$implicit:Sn.data,dialogRef:or}));else{const wr=this._createInjector(Sn,or,Mt),li=Mt.attachComponentPortal(new Qe.C5(Le,Sn.viewContainerRef,wr));or.componentInstance=li.instance}return or.updateSize(Sn.width,Sn.height).updatePosition(Sn.position),or}_createInjector(Le,Mt,On){const Sn=Le&&Le.viewContainerRef&&Le.viewContainerRef.injector,or=[{provide:this._dialogContainerType,useValue:On},{provide:this._dialogDataToken,useValue:Le.data},{provide:this._dialogRefConstructor,useValue:Mt}];return Le.direction&&(!Sn||!Sn.get(dt.Is,null,_.XFs.Optional))&&or.push({provide:dt.Is,useValue:{value:Le.direction,change:(0,ae.of)()}}),_.zs3.create({parent:Sn||this._injector,providers:or})}_removeOpenDialog(Le){const Mt=this.openDialogs.indexOf(Le);Mt>-1&&(this.openDialogs.splice(Mt,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((On,Sn)=>{On?Sn.setAttribute("aria-hidden",On):Sn.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const Le=this._overlayContainer.getContainerElement();if(Le.parentElement){const Mt=Le.parentElement.children;for(let On=Mt.length-1;On>-1;On--){let Sn=Mt[On];Sn!==Le&&"SCRIPT"!==Sn.nodeName&&"STYLE"!==Sn.nodeName&&!Sn.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(Sn,Sn.getAttribute("aria-hidden")),Sn.setAttribute("aria-hidden","true"))}}}_closeDialogs(Le){let Mt=Le.length;for(;Mt--;)Le[Mt].close()}}return $e.\u0275fac=function(Le){return new(Le||$e)(_.Y36(yn.aV),_.Y36(_.zs3),_.Y36(void 0),_.Y36(void 0),_.Y36(yn.Xj),_.Y36(void 0),_.Y36(_.DyG),_.Y36(_.DyG),_.Y36(_.OlP))},$e.\u0275dir=_.lG2({type:$e}),$e})(),Ci=(()=>{class $e extends ji{constructor(Le,Mt,On,Sn,or,wr,li){super(Le,Mt,Sn,wr,li,or,$n,Wt,Lr)}}return $e.\u0275fac=function(Le){return new(Le||$e)(_.LFG(yn.aV),_.LFG(_.zs3),_.LFG(Ne.Ye,8),_.LFG(hr,8),_.LFG(Hr),_.LFG($e,12),_.LFG(yn.Xj))},$e.\u0275prov=_.Yz7({token:$e,factory:$e.\u0275fac}),$e})(),gi=(()=>{class $e{}return $e.\u0275fac=function(Le){return new(Le||$e)},$e.\u0275mod=_.oAB({type:$e}),$e.\u0275inj=_.cJS({providers:[Ci,ei],imports:[[yn.U8,Qe.eL,We.BQ],We.BQ]}),$e})();var Hi=P(6458),go=P(4466);let vr=(()=>{class $e{}return $e.\u0275fac=function(Le){return new(Le||$e)},$e.\u0275mod=_.oAB({type:$e}),$e.\u0275inj=_.cJS({imports:[[Ne.ez,D.UX,me.ww,De.Bz,go.m,Mn.lN,wn.c,Nn.Ps,pt.ot,gi,Hi.ZX,pn.t]]}),$e})(),kt=(()=>{class $e{}return $e.\u0275fac=function(Le){return new(Le||$e)},$e.\u0275mod=_.oAB({type:$e}),$e.\u0275inj=_.cJS({imports:[[Ne.ez,go.m,_e.JF,Hi.ZX]]}),$e})();var vt=P(5392),Je=P(8049),Lt=P(9773);let nn=(()=>{class $e{constructor(Le){this.authService=Le}intercept(Le,Mt){return this.authService.getIdToken().pipe((0,Je.P)(),(0,Lt.zg)(On=>{const Sn=Le.clone({headers:Le.headers.append("Authorization",On)});return Mt.handle(Sn)}))}}return $e.\u0275fac=function(Le){return new(Le||$e)(_.LFG(gn.e))},$e.\u0275prov=_.Yz7({token:$e,factory:$e.\u0275fac}),$e})(),nr=(()=>{class $e{}return $e.\u0275fac=function(Le){return new(Le||$e)},$e.\u0275mod=_.oAB({type:$e,bootstrap:[mn]}),$e.\u0275inj=_.cJS({providers:[{provide:Qt,useValue:"challenge-img"},{provide:_e.TP,useClass:nn,multi:!0}],imports:[[ee.hO.initializeApp(ve.N.firebase),Ze,me.ww,mt,D.UX,y.b2,kt,vr,vt.ProfileModule,C.PW]]}),$e})();ve.N.production&&(0,_.G48)(),y.q6().bootstrapModule(nr).catch($e=>console.error($e))},4762:(ln,ut,P)=>{"use strict";P.r(ut),P.d(ut,{__extends:()=>_,__assign:()=>D,__rest:()=>C,__decorate:()=>_e,__param:()=>ee,__metadata:()=>me,__awaiter:()=>ie,__generator:()=>ae,__createBinding:()=>G,__exportStar:()=>se,__values:()=>oe,__read:()=>fe,__spread:()=>Ce,__spreadArrays:()=>Re,__spreadArray:()=>Ne,__await:()=>Se,__asyncGenerator:()=>ze,__asyncDelegator:()=>Ut,__asyncValues:()=>Qt,__makeTemplateObject:()=>gt,__importStar:()=>at,__importDefault:()=>nt,__classPrivateFieldGet:()=>et,__classPrivateFieldSet:()=>Ze});var y=function(ve,De){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ce,pt){ce.__proto__=pt}||function(ce,pt){for(var Rt in pt)Object.prototype.hasOwnProperty.call(pt,Rt)&&(ce[Rt]=pt[Rt])})(ve,De)};function _(ve,De){if("function"!=typeof De&&null!==De)throw new TypeError("Class extends value "+String(De)+" is not a constructor or null");function ce(){this.constructor=ve}y(ve,De),ve.prototype=null===De?Object.create(De):(ce.prototype=De.prototype,new ce)}var D=function(){return(D=Object.assign||function(De){for(var ce,pt=1,Rt=arguments.length;pt<Rt;pt++)for(var Tt in ce=arguments[pt])Object.prototype.hasOwnProperty.call(ce,Tt)&&(De[Tt]=ce[Tt]);return De}).apply(this,arguments)};function C(ve,De){var ce={};for(var pt in ve)Object.prototype.hasOwnProperty.call(ve,pt)&&De.indexOf(pt)<0&&(ce[pt]=ve[pt]);if(null!=ve&&"function"==typeof Object.getOwnPropertySymbols){var Rt=0;for(pt=Object.getOwnPropertySymbols(ve);Rt<pt.length;Rt++)De.indexOf(pt[Rt])<0&&Object.prototype.propertyIsEnumerable.call(ve,pt[Rt])&&(ce[pt[Rt]]=ve[pt[Rt]])}return ce}function _e(ve,De,ce,pt){var gn,Rt=arguments.length,Tt=Rt<3?De:null===pt?pt=Object.getOwnPropertyDescriptor(De,ce):pt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Tt=Reflect.decorate(ve,De,ce,pt);else for(var pn=ve.length-1;pn>=0;pn--)(gn=ve[pn])&&(Tt=(Rt<3?gn(Tt):Rt>3?gn(De,ce,Tt):gn(De,ce))||Tt);return Rt>3&&Tt&&Object.defineProperty(De,ce,Tt),Tt}function ee(ve,De){return function(ce,pt){De(ce,pt,ve)}}function me(ve,De){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(ve,De)}function ie(ve,De,ce,pt){return new(ce||(ce=Promise))(function(Tt,gn){function pn(cn){try{wn(pt.next(cn))}catch(jt){gn(jt)}}function Mn(cn){try{wn(pt.throw(cn))}catch(jt){gn(jt)}}function wn(cn){cn.done?Tt(cn.value):function(Tt){return Tt instanceof ce?Tt:new ce(function(gn){gn(Tt)})}(cn.value).then(pn,Mn)}wn((pt=pt.apply(ve,De||[])).next())})}function ae(ve,De){var pt,Rt,Tt,gn,ce={label:0,sent:function(){if(1&Tt[0])throw Tt[1];return Tt[1]},trys:[],ops:[]};return gn={next:pn(0),throw:pn(1),return:pn(2)},"function"==typeof Symbol&&(gn[Symbol.iterator]=function(){return this}),gn;function pn(wn){return function(cn){return function(wn){if(pt)throw new TypeError("Generator is already executing.");for(;ce;)try{if(pt=1,Rt&&(Tt=2&wn[0]?Rt.return:wn[0]?Rt.throw||((Tt=Rt.return)&&Tt.call(Rt),0):Rt.next)&&!(Tt=Tt.call(Rt,wn[1])).done)return Tt;switch(Rt=0,Tt&&(wn=[2&wn[0],Tt.value]),wn[0]){case 0:case 1:Tt=wn;break;case 4:return ce.label++,{value:wn[1],done:!1};case 5:ce.label++,Rt=wn[1],wn=[0];continue;case 7:wn=ce.ops.pop(),ce.trys.pop();continue;default:if(!(Tt=(Tt=ce.trys).length>0&&Tt[Tt.length-1])&&(6===wn[0]||2===wn[0])){ce=0;continue}if(3===wn[0]&&(!Tt||wn[1]>Tt[0]&&wn[1]<Tt[3])){ce.label=wn[1];break}if(6===wn[0]&&ce.label<Tt[1]){ce.label=Tt[1],Tt=wn;break}if(Tt&&ce.label<Tt[2]){ce.label=Tt[2],ce.ops.push(wn);break}Tt[2]&&ce.ops.pop(),ce.trys.pop();continue}wn=De.call(ve,ce)}catch(cn){wn=[6,cn],Rt=0}finally{pt=Tt=0}if(5&wn[0])throw wn[1];return{value:wn[0]?wn[1]:void 0,done:!0}}([wn,cn])}}}var G=Object.create?function(ve,De,ce,pt){void 0===pt&&(pt=ce),Object.defineProperty(ve,pt,{enumerable:!0,get:function(){return De[ce]}})}:function(ve,De,ce,pt){void 0===pt&&(pt=ce),ve[pt]=De[ce]};function se(ve,De){for(var ce in ve)"default"!==ce&&!Object.prototype.hasOwnProperty.call(De,ce)&&G(De,ve,ce)}function oe(ve){var De="function"==typeof Symbol&&Symbol.iterator,ce=De&&ve[De],pt=0;if(ce)return ce.call(ve);if(ve&&"number"==typeof ve.length)return{next:function(){return ve&&pt>=ve.length&&(ve=void 0),{value:ve&&ve[pt++],done:!ve}}};throw new TypeError(De?"Object is not iterable.":"Symbol.iterator is not defined.")}function fe(ve,De){var ce="function"==typeof Symbol&&ve[Symbol.iterator];if(!ce)return ve;var Rt,gn,pt=ce.call(ve),Tt=[];try{for(;(void 0===De||De-- >0)&&!(Rt=pt.next()).done;)Tt.push(Rt.value)}catch(pn){gn={error:pn}}finally{try{Rt&&!Rt.done&&(ce=pt.return)&&ce.call(pt)}finally{if(gn)throw gn.error}}return Tt}function Ce(){for(var ve=[],De=0;De<arguments.length;De++)ve=ve.concat(fe(arguments[De]));return ve}function Re(){for(var ve=0,De=0,ce=arguments.length;De<ce;De++)ve+=arguments[De].length;var pt=Array(ve),Rt=0;for(De=0;De<ce;De++)for(var Tt=arguments[De],gn=0,pn=Tt.length;gn<pn;gn++,Rt++)pt[Rt]=Tt[gn];return pt}function Ne(ve,De){for(var ce=0,pt=De.length,Rt=ve.length;ce<pt;ce++,Rt++)ve[Rt]=De[ce];return ve}function Se(ve){return this instanceof Se?(this.v=ve,this):new Se(ve)}function ze(ve,De,ce){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Rt,pt=ce.apply(ve,De||[]),Tt=[];return Rt={},gn("next"),gn("throw"),gn("return"),Rt[Symbol.asyncIterator]=function(){return this},Rt;function gn(Xt){pt[Xt]&&(Rt[Xt]=function(_t){return new Promise(function(At,Gt){Tt.push([Xt,_t,At,Gt])>1||pn(Xt,_t)})})}function pn(Xt,_t){try{!function(Xt){Xt.value instanceof Se?Promise.resolve(Xt.value.v).then(wn,cn):jt(Tt[0][2],Xt)}(pt[Xt](_t))}catch(At){jt(Tt[0][3],At)}}function wn(Xt){pn("next",Xt)}function cn(Xt){pn("throw",Xt)}function jt(Xt,_t){Xt(_t),Tt.shift(),Tt.length&&pn(Tt[0][0],Tt[0][1])}}function Ut(ve){var De,ce;return De={},pt("next"),pt("throw",function(Rt){throw Rt}),pt("return"),De[Symbol.iterator]=function(){return this},De;function pt(Rt,Tt){De[Rt]=ve[Rt]?function(gn){return(ce=!ce)?{value:Se(ve[Rt](gn)),done:"return"===Rt}:Tt?Tt(gn):gn}:Tt}}function Qt(ve){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ce,De=ve[Symbol.asyncIterator];return De?De.call(ve):(ve=oe(ve),ce={},pt("next"),pt("throw"),pt("return"),ce[Symbol.asyncIterator]=function(){return this},ce);function pt(Tt){ce[Tt]=ve[Tt]&&function(gn){return new Promise(function(pn,Mn){!function(Tt,gn,pn,Mn){Promise.resolve(Mn).then(function(wn){Tt({value:wn,done:pn})},gn)}(pn,Mn,(gn=ve[Tt](gn)).done,gn.value)})}}}function gt(ve,De){return Object.defineProperty?Object.defineProperty(ve,"raw",{value:De}):ve.raw=De,ve}var Ge=Object.create?function(ve,De){Object.defineProperty(ve,"default",{enumerable:!0,value:De})}:function(ve,De){ve.default=De};function at(ve){if(ve&&ve.__esModule)return ve;var De={};if(null!=ve)for(var ce in ve)"default"!==ce&&Object.prototype.hasOwnProperty.call(ve,ce)&&G(De,ve,ce);return Ge(De,ve),De}function nt(ve){return ve&&ve.__esModule?ve:{default:ve}}function et(ve,De,ce,pt){if("a"===ce&&!pt)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof De?ve!==De||!pt:!De.has(ve))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===ce?pt:"a"===ce?pt.call(ve):pt?pt.value:De.get(ve)}function Ze(ve,De,ce,pt,Rt){if("m"===pt)throw new TypeError("Private method is not writable");if("a"===pt&&!Rt)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof De?ve!==De||!Rt:!De.has(ve))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===pt?Rt.call(ve,ce):Rt?Rt.value=ce:De.set(ve,ce),ce}}},ln=>{ln(ln.s=3351)}]);