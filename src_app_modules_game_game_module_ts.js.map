{"version":3,"file":"src_app_modules_game_game_module_ts.js","mappings":"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","sources":["./src/app/modules/game/create/create.component.ts","./src/app/modules/game/create/create.component.html","./src/app/modules/game/game-routing.module.ts","./src/app/modules/game/game.module.ts","./src/app/modules/game/play/play.component.ts","./src/app/modules/game/play/play.component.html"],"sourcesContent":["import { Component, ElementRef, OnInit, ViewChild } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { ChallengeService } from 'src/app/core/services/challenge.service';\n\n@Component({\n  selector: 'app-create',\n  templateUrl: './create.component.html',\n  styleUrls: ['./create.component.scss']\n})\nexport class CreateComponent implements OnInit {\n\n  @ViewChild('iframeResult', { static: true }) iframeResult!: ElementRef;\n  modalSaveNew = true;\n  result: any;\n  code: string;\n  \n  formChallenge = new FormGroup({\n    title: new FormControl('', Validators.required),\n    description: new FormControl('', Validators.required)\n\n  })\n\n\n  defaultCode = `\n\n<!-- Bienvenue dans la section crÃ©ation -->\n<!-- Il sera enregistrÃ© en tant que brouillon sur votre profil -->\n<!-- Avant de pouvoir le partager Ã  la communautÃ© -->\n\n<h1 class=\"title\">Laissez libre cours Ã  votre imagination ðŸŽ¨<h1>\n\n<style>\n  \n  body {\n      background-color: #00adb5;\n  }\n    \n  .title {\n      font-size: 2.5rem;\n      color: #ddeeee;\n      margin-top: 8rem;\n      text-align: center;\n  }\n  \n</style>\n  `\n  \n  constructor(private challenge: ChallengeService) { }\n\n  ngOnInit() {\n    this.result = this.iframeResult.nativeElement.contentWindow.document;\n  }\n\n  onCodeChange(code: string) {\n    this.code = code;\n    this.result.open('text/htmlreplace');\n    this.result.write(`${code}`);\n    this.result.close();\n  }\n\n  onSubmit() {\n    const challengeInfos = {\n      title: this.formChallenge.get('title').value, \n      description: this.formChallenge.get('description').value, \n      code: this.code,\n    }\n    \n    \n    this.challenge.create(challengeInfos).subscribe();\n  }\n\n}\n","<app-layout>\n\n  <div class=\"create\">\n\n    <app-code-editor [defaultCode]=\"defaultCode\" mode=\"html\" (codeChange)=\"onCodeChange($event)\"></app-code-editor>\n\n    <iframe class=\"create__iframe\" #iframeResult frameborder=\"0\"></iframe>\n\n  </div>\n\n  <button class=\"main-btn create__btn\" (click)=\"modalSaveNew = true\">Enregistrer</button>\n  <button class=\"scd-btn create__btn\" [routerLink]=\"['/home']\" >Annuler</button>\n\n  <app-modal *ngIf=\"modalSaveNew\" (dismiss)=\"modalSaveNew = false\">\n\n    <form class=\"create__form\" [formGroup]=\"formChallenge\" (ngSubmit)=\"onSubmit\">\n\n      <mat-form-field color=\"accent\" appearance=\"fill\">\n        <mat-label >Titre</mat-label>\n        <input matInput formControlName=\"title\">\n      </mat-form-field>\n\n      <mat-form-field color=\"accent\" appearance=\"fill\">\n        <mat-label for=\"title\">Descritpion</mat-label>\n        <textarea matInput formControlName=\"description\"></textarea>\n      </mat-form-field>\n\n\n      <button (click)=\"onSubmit(); $event.preventDefault()\" type=\"submit\" class=\"scd-btn\">Save</button>\n    </form>\n  </app-modal>\n\n\n\n</app-layout>\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { CreateComponent } from './create/create.component';\nimport { PlayComponent } from './play/play.component';\n\n\nconst routes: Routes = [\n  { path: 'play/:id', component: PlayComponent },\n  { path: 'create', component: CreateComponent },\n];\n\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class GameRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatInputModule } from '@angular/material/input';\n\nimport { GameRoutingModule } from './game-routing.module';\nimport { SharedModule } from 'src/app/shared/shared.module';\nimport { PlayComponent } from './play/play.component';\nimport { CreateComponent } from './create/create.component';\n\n@NgModule({\n  declarations: [PlayComponent, CreateComponent],\n  imports: [SharedModule, CommonModule, MatFormFieldModule,MatInputModule, GameRoutingModule],\n  exports: [PlayComponent],\n})\nexport class GameModule {}\n","import { Component, ElementRef, OnInit, ViewChild } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { tap } from 'rxjs/operators';\nimport { Challenge } from 'src/app/core/models/challenge.model';\nimport { ChallengeService } from 'src/app/core/services/challenge.service';\n\n@Component({\n  selector: 'app-play',\n  templateUrl: './play.component.html',\n  styleUrls: ['./play.component.scss'],\n})\nexport class PlayComponent implements OnInit {\n  @ViewChild('iframeResult', { static: true }) iframeResult!: ElementRef;\n  @ViewChild('iframeObjective', { static: true }) iframeObjective!: ElementRef;\n\n  challenge: Challenge;\n  objectiveCode: string;\n  challengeId = this.route.snapshot.params.id;\n  result: typeof document;\n  objective: typeof document;\n\n\n\n  defaultCode = `\n<!--Essayez de reproduire le modÃ¨le-->\n<!--Ecrivez votre code dans cet Ã©diteur-->\n<!--Passez la souris sur la fenÃªtre Ã  droite pour voir l'objectif-->\n\n<h1 class=\"title\">Bonne Chance ðŸ˜€<h1>\n\n<style>\n  \n    body {\n        background-color: #00adb5;\n    }\n      \n    .title {\n        font-size: 4rem;\n        font-family: sans-serif;\n        color: #ddeeee;\n        margin-top: 5rem;\n        text-align: center;\n    }\n  \n</style>\n`;\n\n  constructor(\n    private chalService: ChallengeService,\n    private route: ActivatedRoute\n  ) {}\n\n  ngOnInit() {\n    this.result = this.iframeResult.nativeElement.contentWindow.document;\n    this.objective = this.iframeObjective.nativeElement.contentWindow.document;\n    \n\n    this.chalService\n      .getOne(this.challengeId)\n      .pipe(\n        tap(x => this.challenge = x),\n        tap(x => this.updateIframe(this.objective, window.atob(x.code)))\n      )\n      .subscribe();\n  }\n\n  onCodeChange(code: string) {\n    this.updateIframe(this.result, code);\n  }\n\n  private updateIframe(frameRef: any, code: string) {\n    frameRef.open('text/htmlreplace');\n    frameRef.write(code);\n    frameRef.close();\n  }\n}\n","<app-layout>\n\n  <div class=\"game\">\n\n    <app-code-editor [defaultCode]=\"defaultCode\" mode=\"html\" (codeChange)=\"onCodeChange($event)\"></app-code-editor>\n\n    <div class=\"challenge\">\n\n      <div class=\"displays\">\n        <!-- <iframe class=\"iframe displays__objective\" src=\"assets/challenges/tuto/tuto.html\" #iframeObjective frameborder=\"0\"></iframe>  -->\n        <iframe class=\"iframe displays__objective\" #iframeObjective frameborder=\"0\"></iframe>\n        <iframe class=\"iframe displays__result\" #iframeResult frameborder=\"0\"></iframe>\n      </div>\n    </div>\n  </div>\n  <button class=\"main-btn game__btn\">Enregistrer</button>\n  <button [routerLink]=\"['/home']\" class=\"scd-btn game__btn\">Annuler</button>\n  <p class=\"font-white\">{{ challenge.id }}</p>\n</app-layout>\n"],"names":[],"sourceRoot":"webpack:///"}