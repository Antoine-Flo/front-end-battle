{"version":3,"sources":["./src/app/modules/game/game.module.ts","./src/app/modules/game/play/play.component.ts","./src/app/modules/game/play/play.component.html","./src/app/modules/game/create/create.component.html","./src/app/modules/game/create/create.component.ts","./src/app/modules/game/game-routing.module.ts"],"names":[],"mappings":"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","file":"modules-game-game-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { GameRoutingModule } from './game-routing.module';\nimport { SharedModule } from 'src/app/shared/shared.module';\nimport { PlayComponent } from './play/play.component';\nimport { CreateComponent } from './create/create.component';\n\n\n@NgModule({\n  declarations: [PlayComponent, CreateComponent],\n  imports: [\n    SharedModule,\n    CommonModule,\n    GameRoutingModule\n  ],\n  exports: [\n    PlayComponent\n  ]\n})\nexport class GameModule { }\n","import { Component, ElementRef, OnInit, ViewChild } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { pluck, tap } from 'rxjs/operators';\nimport { Challenge } from 'src/app/core/models/challenge.model';\nimport { ChallengeService } from 'src/app/core/services/challenge.service';\n\n@Component({\n  selector: 'app-play',\n  templateUrl: './play.component.html',\n  styleUrls: ['./play.component.scss'],\n})\nexport class PlayComponent implements OnInit {\n  @ViewChild('iframeResult', { static: true }) iframeResult!: ElementRef;\n  @ViewChild('iframeObjective', { static: true }) iframeObjective!: ElementRef;\n\n  challenge: Challenge;\n  objectiveCode: string;\n  challengeId = this.route.snapshot.params.id;\n  result: typeof document;\n  objective: typeof document;\n\n\n\n  defaultCode = `\n<!--Essayez de reproduire le modÃ¨le-->\n<!--Ecrivez votre code dans cet Ã©diteur-->\n<!--Passez la souris sur la fenÃªtre Ã  droite pour voir l'objectif-->\n\n<h1 class=\"title\">Bonne Chance ðŸ˜€<h1>\n\n<style>\n  \n    body {\n        background-color: #00adb5;\n    }\n      \n    .title {\n        font-size: 4rem;\n        font-family: sans-serif;\n        color: #ddeeee;\n        margin-top: 5rem;\n        text-align: center;\n    }\n  \n</style>\n`;\n\n  constructor(\n    private chalService: ChallengeService,\n    private route: ActivatedRoute\n  ) {}\n\n  ngOnInit() {\n    this.result = this.iframeResult.nativeElement.contentWindow.document;\n    this.objective = this.iframeObjective.nativeElement.contentWindow.document;\n    \n\n    this.chalService\n      .getChallenge(this.challengeId)\n      .pipe(\n        tap(x => this.challenge = x),\n        tap(x => this.updateIframe(this.objective, window.atob(x.code)))\n      )\n      .subscribe();\n  }\n\n  onCodeChange(code: string) {\n    this.updateIframe(this.result, code);\n  }\n\n  private updateIframe(frameRef: any, code: string) {\n    frameRef.open('text/htmlreplace');\n    frameRef.write(code);\n    frameRef.close();\n  }\n}\n","<app-layout>\n\n  <div class=\"game\">\n\n    <app-code-editor [defaultCode]=\"defaultCode\" mode=\"html\" (codeChange)=\"onCodeChange($event)\"></app-code-editor>\n\n    <div class=\"challenge\">\n\n      <div class=\"challenge__options\">\n        <p class=\"challenge__options-label\">âš™</p>\n        <a class=\"challenge__options-item\">Opacity</a>\n        <a class=\"challenge__options-item\">Display</a>\n      </div>\n\n      <div class=\"displays\">\n        <!-- <iframe class=\"iframe displays__objective\" src=\"assets/challenges/tuto/tuto.html\" #iframeObjective frameborder=\"0\"></iframe>  -->\n        <iframe class=\"iframe displays__objective\" #iframeObjective frameborder=\"0\"></iframe>\n        <iframe class=\"iframe displays__result\" #iframeResult frameborder=\"0\"></iframe>\n      </div>\n    </div>\n  </div>\n  <button class=\"main-btn game__btn\">Enregistrer</button>\n  <button [routerLink]=\"['/home']\" class=\"scd-btn game__btn\">Annuler</button>\n  <p class=\"font-white\">{{ challenge.id }}</p>\n</app-layout>\n","<app-layout>\n\n  <div class=\"create\">\n\n    <app-code-editor [defaultCode]=\"defaultCode\" mode=\"html\" (codeChange)=\"onCodeChange($event)\"></app-code-editor>\n\n    <iframe class=\"create__iframe\" #iframeResult frameborder=\"0\"></iframe>\n\n  </div>\n\n  <button class=\"main-btn create__btn\" (click)=\"modalSaveNew = true\">Enregistrer</button>\n  <button class=\"scd-btn create__btn\" [routerLink]=\"['/home']\" >Annuler</button>\n\n  <app-modal *ngIf=\"modalSaveNew\" (dismiss)=\"modalSaveNew = false\">\n    <form>\n      <label for=\"title\">Title</label>\n      <input type=\"text\" name=\"title\">\n\n      <label for=\"Description\">Description</label>\n      <input type=\"text\" name=\"Description\">\n\n      <button class=\"main-btn\">Save</button>\n    </form>\n  </app-modal>\n</app-layout>\n","import { Component, ElementRef, OnInit, ViewChild } from '@angular/core';\n\n@Component({\n  selector: 'app-create',\n  templateUrl: './create.component.html',\n  styleUrls: ['./create.component.scss']\n})\nexport class CreateComponent implements OnInit {\n\n  @ViewChild('iframeResult', { static: true }) iframeResult!: ElementRef;\n  modalSaveNew = false;\n  result: any;\n  defaultCode = `\n<h1 class=\"title\">Laissez libre cours Ã  votre imagination ðŸŽ¨<h1>\n\n<style>\n  \n  body {\n      background-color: #00adb5;\n  }\n    \n  .title {\n      font-size: 2.5rem;\n      color: #ddeeee;\n      margin-top: 8rem;\n      text-align: center;\n  }\n  \n</style>\n  `\n  \n  constructor() { }\n\n  ngOnInit() {\n    this.result = this.iframeResult.nativeElement.contentWindow.document;\n  }\n\n  onCodeChange(code: string) {\n    this.result.open('text/htmlreplace');\n    this.result.write(`${code}`);\n    this.result.close();\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { CreateComponent } from './create/create.component';\nimport { PlayComponent } from './play/play.component';\n\n\nconst routes: Routes = [\n  { path: 'play/:id', component: PlayComponent},\n  { path: 'create', component: CreateComponent},\n];\n\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class GameRoutingModule { }\n"],"sourceRoot":"webpack:///"}